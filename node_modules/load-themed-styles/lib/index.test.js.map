{"version":3,"sources":["index.test.ts"],"names":[],"mappings":"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","file":"index.test.js","sourcesContent":["import { expect } from 'chai';\nimport { detokenize, loadTheme, splitStyles } from './index';\n\ndescribe('detokenize', () => {\n  it('handles colors', () => {\n    expect(detokenize('\"[theme:name, default: #FFF]\"')).to.equal('#FFF');\n    expect(detokenize('\"[theme: name, default: #FFF]\"')).to.equal('#FFF');\n    expect(detokenize('\"[theme: name , default: #FFF  ]\"')).to.equal('#FFF');\n  });\n\n  it('handles rgba', () => {\n    expect(detokenize('\"[theme:name, default: rgba(255,255,255,.5)]\"')).to.equal('rgba(255,255,255,.5)');\n  });\n\n  it('handles fonts', () => {\n    expect(detokenize('\"[theme:name, default: \"Segoe UI\"]\"')).to.equal('\"Segoe UI\"');\n  });\n\n  it('respects theme', () => {\n    loadTheme({\n      color: 'red'\n    });\n\n    try {\n      expect(detokenize('\"[theme:color, default: #FFF]\"')).to.equal('red');\n      expect(detokenize('\"[theme: color , default: #FFF]\"')).to.equal('red');\n    } finally {\n      loadTheme(null);\n    }\n  });\n\n  it('ignores malformed themes', () => {\n    expect(detokenize('\"[theme:name, default: \"Segoe UI\"]')).to.equal('\"[theme:name, default: \"Segoe UI\"]');\n    expect(detokenize('\"[theme:]\"')).to.equal('\"[theme:]\"');\n  });\n\n  it('translates missing themes', () => {\n    expect(detokenize('\"[theme:name]\"')).to.equal('inherit');\n  });\n\n  it('splits non-themable CSS', () => {\n      let cssString = '.sampleClass\\n{\\n color: #FF0000;\\n}\\n';\n      let arr = splitStyles(cssString);\n      expect(arr.length).to.equal(1);\n      expect(arr[0].rawString).to.equal(cssString);\n  });\n\n  it('splits themable CSS', () => {\n      let arr = splitStyles('.firstClass { color: \"[theme: firstColor ]\";}\\n' +\n          ' .secondClass { color: \"[theme:secondColor, default: #AAA]\";}\\n .coach { color: #333; }');\n      expect(arr.length).to.equal(5);\n      for (let i = 0; i < arr.length; i++) {\n          if (i % 2 === 0) { // even index should be a string component\n              expect(typeof arr[i].rawString).to.equal('string');\n          } else { // odd index should be a theme instruction object\n              expect(typeof arr[i].theme).to.equal('string');\n          }\n      }\n  });\n});\n"],"sourceRoot":"/source/"}