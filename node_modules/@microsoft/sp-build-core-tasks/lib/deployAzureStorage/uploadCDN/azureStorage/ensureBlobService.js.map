{"version":3,"sources":["deployAzureStorage/uploadCDN/azureStorage/ensureBlobService.ts"],"names":[],"mappings":";AAAA;;;;;GAKG;AACH,4CAA4C;AAC5C,QAAO,aAAa,CAAC,CAAA;AACrB,IAAO,KAAK,WAAW,eAAe,CAAC,CAAC;AAExC,2BAA0C,OAAe,EAAE,UAAkB;IAC3E,MAAM,CAAC,IAAI,OAAO,CAChB,UAAC,QAA0C,EAAE,MAA8B;QACzE,IAAI,CAAC;YACH,IAAM,WAAW,GAAsB,KAAK,CAAC,iBAAiB,CAAC,OAAO,EAAE,UAAU,CAAC;iBAC5E,UAAU,CAAC,IAAI,KAAK,CAAC,4BAA4B,EAAE,CAAC,CAAC;YAC5D,QAAQ,CAAC,WAAW,CAAC,CAAC;QAExB,CAAE;QAAA,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACf,MAAM,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;QAC3B,CAAC;IACH,CAAC,CACF,CAAC;AACJ,CAAC;AAbD;mCAaC,CAAA","file":"deployAzureStorage/uploadCDN/azureStorage/ensureBlobService.js","sourcesContent":["/**\r\n * @file ensureBlobService.d.ts\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * Connects to the Azure Blob Storage service and returns a connection object\r\n */\r\n/// <reference path='./azureStorage.d.ts' />\r\nimport 'es6-promise';\r\nimport azure = require('azure-storage');\r\n\r\nexport default function ensureBlobService(account: string, accountKey: string): Promise<IAzureBlobService> {\r\n  return new Promise<IAzureBlobService>(\r\n    (complete: (svc: IAzureBlobService) => void, reject: (error: Error) => void) => {\r\n      try {\r\n        const blobService: IAzureBlobService = azure.createBlobService(account, accountKey)\r\n              .withFilter(new azure.ExponentialRetryPolicyFilter());\r\n        complete(blobService);\r\n\r\n      } catch (error) {\r\n        reject(new Error(error));\r\n      }\r\n    }\r\n  );\r\n}\r\n"],"sourceRoot":"/source/"}