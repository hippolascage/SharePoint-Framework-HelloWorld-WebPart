{"version":3,"sources":["webpack:///../webpack/bootstrap c42c500dfee8b5e8a206","webpack:///..//src/index.ts","webpack:///..//src/guid/Guid.ts","webpack:///..//src/json/JsonUtilities.ts","webpack:///..//src/telemetry/Api/EngagementLogger.ts","webpack:///../D:/agent/2/_work/193/s/common/~/@microsoft/loader-set-webpack-public-path/lib","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/string/StringHelper.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/dateTime/DateTime.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/dateTime/DateTime.resx.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/locale/Locale.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/EventBase.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/Manager.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/object/ObjectUtil.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/encoding/UriEncoding.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/CorrelationVector.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/guid/Guid.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/Engagement.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/SingleEventBase.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/Nav.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/PLTHttpRequest.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/features/Features.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/Qos.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/PairedEventBase.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/ResultTypeEnum.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/ErrorHelper.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/CaughtError.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/QosError.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/Verbose.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/store/CircularBuffer.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/async/Async.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/odb/Beacon.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/BeaconBase.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/EventBatchCache.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/Beacon.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/xhr/XHR.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/odb/BeaconCache.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/models/store/BaseDataStore.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/models/store/DataStoreCachingType.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/odb/LogProcessor.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/PLT.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/UnhandledError.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/RequireJSError.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/RUMOneDataUpload.event.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/odb/DebugPriorityLevel.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/APICallPerformanceData.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/ControlPerformanceData.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/events/EventGroup.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/PageTransitionType.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/async/Promise.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneLogger.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneSLAPI.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneErrorsSLAPI.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/encoding/HtmlEncoding.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/dataSources/acronym/SiteHeaderLogoAcronym.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/dataSources/group/GroupDataSource.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/dataSources/group/MembersList.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/browser/PlatformDetection.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/uri/Uri.js","webpack:///..//src/AriaLogger.ts","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/beforeUnload/BeforeUnload.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/FabricTheming.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/HslColor.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/RgbaColor.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/Shades.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/WebTheme.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/ThemeProvider.js","webpack:///../D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/ThemeCache.js","webpack:///..//src/telemetry/Api/LogEntry.ts","webpack:///..//src/telemetry/Api/LogFeature.ts","webpack:///..//src/telemetry/Api/LogType.ts","webpack:///..//src/telemetry/Api/LogSource.ts","webpack:///..//src/common/Validate.ts","webpack:///..//src/serviceScope/ServiceKey.ts","webpack:///..//src/telemetry/Api/QosMonitor.ts","webpack:///..//src/telemetry/Api/TraceLogger.ts","webpack:///..//src/telemetry/Api/ApplicationLogSettings.ts","webpack:///..//src/telemetry/Api/BeaconHandlers.ts","webpack:///..//src/telemetry/Api/LogEvent.ts","webpack:///..//src/telemetry/Api/LogManager.ts","webpack:///..//src/telemetry/Api/CircularBuffer.ts","webpack:///..//src/telemetry/Api/LogLevel.ts","webpack:///..//src/telemetry/Api/PerformanceLogger.ts","webpack:///..//src/telemetry/Log.ts","webpack:///..//src/httpClient/BasicHttpClient.ts","webpack:///../external \"@microsoft/sp-lodash-subset\"","webpack:///..//src/httpClient/FetchProvider.ts","webpack:///..//src/httpClient/IDigestCache.ts","webpack:///..//src/httpClient/DigestCache.ts","webpack:///..//src/common/UrlUtilities.ts","webpack:///..//src/common/TimeProvider.ts","webpack:///..//src/httpClient/HttpClient.ts","webpack:///..//src/httpClient/ODataBatch.ts","webpack:///..//src/httpClient/ODataBatchedRequest.ts","webpack:///..//src/common/RandomProvider.ts","webpack:///..//src/httpClient/HttpClientCommon.ts","webpack:///..//src/flight/SPFlight.ts","webpack:///..//src/killSwitch/SPKillSwitch.ts","webpack:///..//src/serviceScope/ServiceScope.ts","webpack:///..//src/common/Compare.ts","webpack:///..//src/common/UrlQueryParameterCollection.ts","webpack:///..//src/common/DisplayMode.ts","webpack:///..//src/common/SPCdnUrlProvider.ts","webpack:///../D:/agent/2/_work/193/s/common/~/tiny-sha256/index.js","webpack:///..//src/permission/SPPermission.ts","webpack:///..//src/pageContext/PageContext.ts","webpack:///..//src/pageContext/SPWeb.ts","webpack:///..//src/pageContext/SPSite.ts","webpack:///..//src/pageContext/SPUser.ts","webpack:///..//src/pageContext/CultureInfo.ts","webpack:///..//src/oauthTokenProvider/OAuthTokenProvider.ts","webpack:///..//src/tokenUtility/OAuthUtility.ts","webpack:///..//src/tokenUtility/Constants.ts","webpack:///..//src/tokenUtility/OAuthUtilityError.ts","webpack:///..//src/oauthTokenProvider/OAuthUtilityContext.ts","webpack:///..//src/environment/Environment.ts"],"names":[],"mappings":"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B;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACvBA;AACA;AACA,sBAAqB,MAAM;AAC3B,6BAA4B,EAAE;AAC9B,sBAAqB,EAAE;AACvB,uBAAsB,KAAK;AAC3B;AACA;AACA,2BAA0B,EAAE;AAC5B;AACA,qBAAoB,EAAE,QAAQ,EAAE;AAChC;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,YAAW,OAAO;AAClB;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,cAAc;AACnE;AACA;AACA;AACA;AACA;AACA,kEAAiE,iCAAiC;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,4BAA4B;AACpE,oDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf;AACA,kLAAiL,EAAE;AACnL;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf;AACA,4KAA2K,EAAE;AAC7K;AACA;AACA,2BAA0B,EAAE;AAC5B,yHAAwH,EAAE;AAC1H,8EAA6E,EAAE;AAC/E;AACA;AACA,cAAa,EAAE;AACf;AACA,yKAAwK,EAAE;AAC1K;AACA;AACA,mEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD;AACnD,uEAAsE;AACtE,wEAAuE,qCAAqC,EAAE;AAC9G;AACA;AACA;AACA;AACA,2BAA0B,EAAE;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,4BAA4B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,EAAE;AACtC;AACA,iCAAgC,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA0E,kBAAkB;AAC5F,2EAA0E,sDAAsD,IAAI;AACpI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA0E,kBAAkB;AAC5F,2EAA0E,yEAAyE,IAAI;AACvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,kBAAkB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC5VA;AACA;AACA,oBAAmB,qPAAqP,EAAE,GAAG,EAAE,6kBAA6kB,EAAE,aAAa,EAAE,sEAAsE,EAAE,aAAa,EAAE,qnBAAqnB,EAAE,0EAA0E,EAAE,6BAA6B,EAAE,KAAK,EAAE,qDAAqD,EAAE,wEAAwE,EAAE,yCAAyC,EAAE,WAAW,EAAE,kEAAkE,EAAE,WAAW,EAAE,sCAAsC,EAAE,YAAY,EAAE,8IAA8I,EAAE,KAAK,EAAE,qCAAqC,EAAE,gBAAgB,EAAE,6CAA6C,EAAE,WAAW,EAAE,kOAAkO,EAAE,cAAc,EAAE,gCAAgC,EAAE,EAAE,EAAE;;;;;;;ACFnhF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,+CAA8C,cAAc;AAC5D;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,0DAA0D;AAC3D;AACA;AACA;AACA,EAAC,kEAAkE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA0E,kBAAkB;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,IAAI;AACnB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,gCAAgC;AACjC,+CAA8C,cAAc;AAC5D;;;;;;;ACvMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,UAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA4D;AAC5D;AACA,sDAAqD;AACrD;AACA;AACA;AACA,sDAAqD;AACrD;AACA;AACA,mDAAkD;AAClD;AACA;AACA;AACA,+DAA8D;AAC9D;AACA,6DAA4D;AAC5D;AACA,sDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,+DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA,oCAAmC,MAAM;AACzC;AACA;AACA;AACA,oCAAmC,aAAa;AAChD;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC3DA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACtEA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACxCA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACrEA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC;AACtC;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA,qBAAoB;AACpB;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AChEA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACtJA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACjKA;AACA;AACA;AACA;AACA;AACA,EAAC,wDAAwD;AACzD;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC5DA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACrFA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACjHA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAgE,gBAAgB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAkE,gBAAgB;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAiE,gBAAgB;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAuE,gBAAgB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtXA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC;AACxC,8BAA6B;AAC7B;AACA,wDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA,+CAA8C;AAC9C;AACA,oDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD;AAChD,mCAAkC;AAClC;AACA;AACA,EAAC,wBAAwB;AACzB,+CAA8C,cAAc;AAC5D;;;;;;;AC9YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA,8BAA6B,qCAAqC;AAClE;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,8BAA6B,sCAAsC;AACnE;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,4BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACzGA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD;AAChD,2CAA0C;AAC1C,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,4BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAA+D,0CAA0C;AACzG;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,kCAAkC;AACnC,+CAA8C,cAAc;AAC5D;;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,0DAA0D;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AClKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,oDAAoD;AACrD,+CAA8C,cAAc;AAC5D;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD,+BAA+B;AACnF;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,0DAAyD,gBAAgB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA,6CAA4C;AAC5C;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,iDAAgD;AAChD;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,iEAAgE;AAChE,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,EAAE;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,oCAAoC;AACrC,+CAA8C,cAAc;AAC5D;;;;;;;ACvaA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;AC/KA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACrHA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACrGA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,gDAAgD;AACjD;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,wDAAwD;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,uBAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,uBAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC/NA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,gDAAgD;AACjD;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,mBAAmB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,4BAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAsE,SAAS;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAsE,SAAS;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,6CAA6C;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,6BAA6B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,sCAAqC,kBAAkB;AACvD,sCAAqC,kBAAkB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D,WAAW,+BAA+B,EAAE,EAAE;AACxG;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,+BAA+B;AAC1D,kBAAiB;AACjB,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D,sBAAsB,cAAc,EAAE,oBAAoB,qBAAqB,cAAc,EAAE;AACzJ;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACt5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,oDAAoD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAA+D,qDAAqD;AACpH,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,kCAAkC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,wBAAwB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA4D,8DAA8D,GAAG;AAC7H,sDAAqD,8FAA8F,GAAG;AACtJ,6DAA4D,4EAA4E,GAAG;AAC3I;AACA,iDAAgD,qCAAqC;AACrF,+CAA8C,8CAA8C;AAC5F,gDAA+C,gDAAgD;AAC/F,gDAA+C,2CAA2C;AAC1F;AACA,gCAA+B,wBAAwB;AACvD;AACA;AACA;AACA;AACA,kBAAiB;AACjB,wFAAuF;AACvF;AACA,wCAAuC,6BAA6B;AACpE;AACA;AACA;AACA;AACA,sBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA,sBAAqB,yBAAyB;AAC9C;AACA,0BAAyB,2DAA2D,EAAE,6DAA6D;AACnJ;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA,8BAA6B;AAC7B;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,oEAAmE;AACnE;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,yBAAyB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,8BAA8B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,sCAAsC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,0BAA0B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,8BAA8B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAuE,wBAAwB,EAAE;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC;AACtC,wCAAuC;AACvC,iCAAgC;AAChC;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACnkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACZA;AACA;AACA;AACA;AACA,eAAc;AACd,eAAc;AACd,gBAAe;AACf,iBAAgB;AAChB,iBAAgB;AAChB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA8E,sBAAsB,EAAE;AACtG;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA,uGAAsG,sDAAsD;AAC5J;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,+BAA+B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAgE,EAAE;AAClE,+EAA8E,EAAE;AAChF,4EAA2E,EAAE,SAAS,EAAE;AACxF;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACnOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B,wBAAuB,yBAAyB;AAChD;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC5KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,gDAAgD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,kBAAkB;AAC7D,+CAA8C,kBAAkB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,0BAA0B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAqE,EAAE,EAAE,EAAE,EAAE,EAAE;AAC/E,sEAAqE,EAAE,EAAE,EAAE,EAAE,EAAE;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C,+BAA8B,8BAA8B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA8E;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;AACA;AACA,8EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,gCAAgC;AACvD;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA,wCAAuC,oBAAoB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC/fA,+BAA8B;AAC9B;;;;;;;IAOG;;AAEH,uCAAuD,EAA0C,CAAC;AAElG,qCAAwB,EAAwC,CAAC;AAEjE,0CAAwC,EAAkD,CAAC;AAC3F,0CAAuC,EAAoD,CAAC;AAC5F,yCAAuC,EAA4C,CAAC;AACpF,+CAA6C,EAAkD,CAAC;AAGhG,KAAM,aAAa,GAAW,YAAY,CAAC;AAiB3C;KAAA;KAuLA,CAAC;KAnLe,qBAAU,GAAxB,UACE,WAAmB,EACnB,OAAyB;SACzB,oCACA,UAAC,OAAkE;aACjE,IAAM,IAAI,GACR,mBAAO,CAAC,EAA2D,CAAC,CAAC;aACvE,IAAI,CAAC;iBACH,UAAU,CAAC,aAAa,GAAG,IAAI,CAAC;iBAChC,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;iBAC5D,UAAU,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;iBAC3D,UAAU,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;iBAC/B,UAAU,CAAC,mBAAmB,EAAE,CAAC;iBACjC,UAAU,CAAC,cA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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,gCAAgC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD,gBAAgB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA;;;;;;;;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,QAAQ;AACvB;AACA;AACA,mCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC/JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC;AACxC;AACA;AACA;AACA,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,wCAAwC;AACzC;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,UAAU;AACrB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,gBAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACjIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,0BAA0B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,oBAAoB,aAAa,EAAE,EAAE;AAC9C;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,iCAAiC;AAC1D,wCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD,sCAAsC;AAC7F;AACA;AACA;AACA;AACA,4DAA2D,wCAAwC;AACnG;AACA,wDAAuD,uCAAuC;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS,EAAE,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AClEA;;;;IAIG;;AAGH,wCAAuB,EAAc,CAAC;AACtC,qCAAoB,EAAW,CAAC;AAEhC;;IAEG;AACH;KAME;;;;;;QAMG;KACH,kBACE,UAAkB,EAClB,UAAoC,EACpC,OAAgC,EAChC,aAAyC;SAFzC,0BAAoC,GAApC,aAAqB,oBAAU,CAAC,IAAI;SACpC,uBAAgC,GAAhC,UAAmB,iBAAO,CAAC,KAAK;SAEhC,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;aACf,IAAI,CAAC,UAAU,GAA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","file":"sp-client-base.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonpaf59c2b3_2da7_41fd_8b72_3939817960af\"];\n \twindow[\"webpackJsonpaf59c2b3_2da7_41fd_8b72_3939817960af\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n \t\twhile(callbacks.length)\n \t\t\tcallbacks.shift().call(null, __webpack_require__);\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// \"0\" means \"already loaded\"\n \t// Array means \"loading\", array contains callbacks\n \tvar installedChunks = {\n \t\t0:0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn callback.call(null, __webpack_require__);\n\n \t\t// an array means \"currently loading\".\n \t\tif(installedChunks[chunkId] !== undefined) {\n \t\t\tinstalledChunks[chunkId].push(callback);\n \t\t} else {\n \t\t\t// start chunk loading\n \t\t\tinstalledChunks[chunkId] = [callback];\n \t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\tvar script = document.createElement('script');\n \t\t\tscript.type = 'text/javascript';\n \t\t\tscript.charset = 'utf-8';\n \t\t\tscript.async = true;\n\n \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({\"1\":\"sp-client-telemetry\"}[chunkId]||chunkId) + \"_\" + {\"1\":\"04dc22d25ee91f0ff039\"}[chunkId] + \".js\";\n \t\t\thead.appendChild(script);\n \t\t}\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c42c500dfee8b5e8a206\n **/","export { default as OAuthUtility } from './tokenUtility/OAuthUtility';\r\nexport { IQosMonitor, ILogger, IOAuthUtilityContext } from './tokenUtility/IOAuthUtilityContext';\r\nexport { IOAuthToken } from './tokenUtility/IOAuthToken';\r\nexport { default as OAuthUtilityError, OAuthUtilityErrorType } from './tokenUtility/OAuthUtilityError';\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/index.ts\n **/","/**\r\n * @copyright (c) Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport { IRandomProvider } from '../common/RandomProvider';\r\n\r\n/**\r\n * This class represents a globally unique identifier, as described by\r\n * IETF RFC 4122.  The input string is normalized and validated by the class\r\n * constructor, which provides important guarantees that simplify other code\r\n * that works with the GUID.  This class also provides basic functionality\r\n * for generating a pseudo-random GUID (\"version 4\" UUID from the RFC);\r\n * however, be aware that the uniqueness depends on the browser's\r\n * Math.random() function and may be not be suitable for some applications.\r\n *\r\n * @see {@link https://www.ietf.org/rfc/rfc4122.txt}\r\n */\r\nexport default class Guid {\r\n\r\n  /**\r\n   * @member _guid - Internal guid value\r\n   */\r\n  private _guid: string;\r\n\r\n  /**\r\n   * Indicates whether a guid is valid (according to RFC4122).\r\n   *\r\n   * @param guid - Test guid.\r\n   * @return Value indicating whether the guid is valid.\r\n   */\r\n  public static isValid(guid: string): boolean {\r\n    return Guid.tryParse(guid) !== undefined;\r\n  }\r\n\r\n  /**\r\n   * Returns a new Guid instance with a pseudo-randomly generated Guid.\r\n   *\r\n   * @return A new valid unique Guid object\r\n   */\r\n  public static newGuid(randomProvider?: IRandomProvider): Guid {\r\n    return new Guid(Guid._generateGuid(randomProvider));\r\n  }\r\n\r\n  /**\r\n   * Trys to construct a new Guid instance using guid string. The guid argument\r\n   * is normalized and validated. If the argument is not a valid \"version 4\" UUID from\r\n   * RFC 4122, tryParse will return undefined.\r\n   *\r\n   * @param guid - A guid string\r\n   * @return If the guid argument was valid, a new Guid instance. Otherwise, undefined.\r\n   */\r\n  public static tryParse(guid: string): Guid {\r\n    const guidRegEx: RegExp = /^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[ab89][a-f0-9]{3}-[a-f0-9]{12}$/i;\r\n\r\n    if (guid) {\r\n      guid = Guid._normalize(guid);\r\n      if (guidRegEx.test(guid)) {\r\n        return new Guid(guid);\r\n      }\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * SharePoint can have guids in the form:\r\n   *   - Guid(...)\r\n   *   - {...}\r\n   * _normalize transforms guids in this format to the standard\r\n   * guid format.\r\n   *\r\n   * Example: '/Guid(d5369f3b-bd7a-412a-9c0f-7f0650bb5489)/'\r\n   *          -> 'd5369f3b-bd7a-412a-9c0f-7f0650bb5489'\r\n   * Example: '{d5369f3b-bd7a-412a-9c0f-7f0650bb5489}'\r\n   *          -> 'd5369f3b-bd7a-412a-9c0f-7f0650bb5489'\r\n   *\r\n   * @param guid - Guid to be normalized, could already be normalized.\r\n   * @return Normalized guid.\r\n   */\r\n  private static _normalize(guid: string): string {\r\n\r\n    // Check for Guid(...) and strip\r\n    const result: string[] = /^Guid\\((.*)\\)/i.exec(guid);\r\n    if (result) {\r\n      guid = result[1];\r\n    }\r\n\r\n    // Check for and strip leading or trailing curly braces\r\n    if (guid.length === 38) {\r\n      guid = guid.substr(1, 36);\r\n    }\r\n\r\n    return guid.toLowerCase();\r\n  }\r\n\r\n  /**\r\n   * Creates a new guid.\r\n   *\r\n   * @return A valid guid (according to RFC4122)\r\n   */\r\n  private static _generateGuid(randomProvider: IRandomProvider): string {\r\n    return 'AAAAAAAA-AAAA-4AAA-BAAA-AAAAAAAAAAAA'.replace(\r\n      /[AB]/g,\r\n      // Callback for String.replace() when generating a guid.\r\n      (character: string): string => {\r\n        const randomNumber: number = randomProvider ? randomProvider.getRandom() : Math.random();\r\n\r\n        /* tslint:disable:no-bitwise */\r\n        const num: number = randomNumber * 16 | 0;\r\n\r\n        // Check for 'A' in template string because the first characters in the\r\n        // third and fourth blocks must be specific characters (according to \"version 4\" UUID from RFC 4122)\r\n        const masked: number = character === 'A' ? num : (num & 0x3 | 0x8);\r\n\r\n        return masked.toString(16);\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * WARNING: Use Guid.tryParse instead of the constructor. The constructor does not\r\n   * do any validation and will be deprecated when visiblity on constructors is supported\r\n   * by TypeScript.\r\n   *\r\n   * @todo #162166 Make private when TS supports visibility on constructors\r\n   * @private Use Guid.tryParse to instantiate a Guid\r\n   * @param guid - a guid string\r\n   */\r\n  constructor(guid: string) {\r\n      this._guid = guid;\r\n  }\r\n\r\n  /**\r\n   * Compare this instance to another Guid instance\r\n   *\r\n   * @return A value indicating whether this instance and the specified Guid object\r\n   *   represent the same value\r\n   */\r\n  public equals(guid: Guid): boolean {\r\n    return guid && this._guid.toString() === guid.toString();\r\n  }\r\n\r\n  /**\r\n   * Object.prototype.toString override\r\n   *\r\n   * @return The GUID value in lowercase hexadecimal without braces.\r\n   * Example: 'd5369f3b-bd7a-412a-9c0f-7f0650bb5489'\r\n   */\r\n  public toString(): string {\r\n    return this._guid;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/guid/Guid.ts\n **/","/**\r\n * @copyright (c) Microsoft Corporation. All rights reserved.\r\n *\r\n * Utililty code to help manipulate JSON objects/strings.\r\n */\r\n\r\n/**\r\n * This class is expected to provide functionality required to manage/transport/parse JSON objects.\r\n * The client side framework architecture heavily relies on JSON object format. Although the user agent\r\n * natively supports JSON objects but there are missing or incompleted pieces of functionality where\r\n * we need to augment the user agent apis.\r\n *\r\n * @see {@link http://www.json.org}\r\n */\r\n\r\nexport default class JsonUtilities {\r\n\r\n  /**\r\n   * The list of characters that need to be escaped and their substitute characters\r\n   */\r\n\r\n  /* tslint:disable:max-line-length */\r\n  private static _escapableChars: RegExp =\r\n    /[\\\\\\\"\\'\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\r\n  /* tslint:enable:max-line-length */\r\n\r\n  private static _substibuteChars: { [key: string]: string } = {\r\n    '\\b': '\\\\b',\r\n    '\\t': '\\\\t',\r\n    '\\n': '\\\\n',\r\n    '\\f': '\\\\f',\r\n    '\\r': '\\\\r',\r\n    '\"': '\\\\\"',\r\n    '\\'': '\\\\\\'',\r\n    '\\\\': '\\\\\\\\'\r\n  };\r\n\r\n  /**\r\n   * Encode a json string such that it can be safely transported over a network and be processed\r\n   * in the server side code. And also safely transported back to the client and consumed by\r\n   * JSON.parse().\r\n   *\r\n   * @param json - the json string to encode.\r\n   * @internalremarks - THIS IS NOT INTENDED FOR PUBLIC DOCUMENTATION. Need for this stems from the\r\n   * fact that JSON.stringify() does not encode all the required characters to make it safe to be\r\n   * transported over a network. Neither does it provide an option to. Further, one might think\r\n   * that JSON is a subset of Javascript, but it turns out that it is not. It allows for certain\r\n   * characters that are treated as syntax errors in Javascript. On top of that the .Net WCF\r\n   * javascript deserializer expects the JSON strings in certain format for it deserialize them\r\n   * correctly. All in all, we need to do some special encoding to transport JSON strings over the\r\n   * network. This implementation has been running very robustly in the pointpublishing-blogs and\r\n   * hence I a just porting it and not tweaking the implemenation. Please talk to\r\n   * manishga@microsoft.com in case you need to make changes to this encoding scheme.\r\n   *\r\n   * @see {@link http://www.json.org}\r\n   *      {@link https://github.com/judofyr/timeless/commit/9212af0a8d2124b92a7e4c6355007e4b4b0ae71d}\r\n   *      {@link https://en.wikipedia.org/wiki/JSON}\r\n   *\r\n   */\r\n  public static encode(json: string): string {\r\n    if (!json) {\r\n      return undefined;\r\n    }\r\n\r\n    JsonUtilities._escapableChars.lastIndex = 0;\r\n    return JsonUtilities._escapableChars.test(json) ? json.replace(this._escapableChars, (a: string): string => {\r\n      const c: string = JsonUtilities._substibuteChars[a];\r\n      return typeof c === 'string' ? c : '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\r\n    }) : json;\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/json/JsonUtilities.ts\n **/","/**\r\n * @copyright Microsoft Corporation.All rights reserved.\r\n * @file EngagementLogger.ts\r\n * EngagementLogger logger\r\n */\r\n\r\nimport { Engagement } from '@ms/odsp-utilities-bundle';\r\nimport ILogEntry from './ILogEntry';\r\n\r\n/**\r\n * Engagement logging\r\n * use *.Click for all the actions triggered by mouse, keyboard, or touch.\r\n * if you want to add more data or the action is not click but keydown.\r\n * Use extraData to log the type of action or use extraData to log details wrapped in LogEntry\r\n * @internal\r\n */\r\nexport default class EngagementLogger {\r\n  /**\r\n   * Engagement logging\r\n   * Use *.Click for all the actions triggered by mouse, keyboard, or touch.\r\n   * tagName follows <ApplicationName>.controlName.actionName pattern\r\n   * For example, tagName = \"AddButton.Click\",\r\n   * this logs \"<ApplicationName>.AddButton.Click\" with default action triggered by mouse, keyboard, or touch.\r\n   * <ApplicationName> is set in ApplicationLogSettings\r\n   * Use extraData to log the type of action.\r\n   * For example, actionName = \"Keydown\" and tagName = \"ModernPublish.AddButton.Click\"\r\n   * this logs \"<ApplicationName>.AddButton.Click\" with the extraData that it was selected using the Keydown\r\n   */\r\n  public static logEvent(tagName: string, actionName?: string): void {\r\n    if (!tagName || tagName.length === 0) {\r\n      throw new Error('LogEntry is invalid');\r\n    }\r\n\r\n    // tagName should follow AppName.ControlName.ActionName pattern\r\n    const tagNameRegex: RegExp = /(\\w+)\\.(\\w+).(\\w+)/ig;\r\n    if (tagNameRegex.test(tagName) === false) {\r\n      throw new Error('tagName does not follow AppName.ControlName.ActionName pattern');\r\n    }\r\n\r\n    if (!actionName || actionName.length === 0) {\r\n      Engagement.logData({ name: tagName });\r\n    } else {\r\n      Engagement.logData({\r\n        name: tagName,\r\n        extraData: {\r\n          action: actionName\r\n        }\r\n        });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Engagement logging with LogEntry\r\n   * Here is an example: {\"EngagementName\":\"SPPage.NavigationAction.SPPageQuickLaunchUpdate\",\r\n   * \"Properties\":\"{\\\"message\\\":\\\"[NavigationAction] | SPPageQuickLaunchUpdate | 2 | null\\\"}\",\r\n   * \"Duration\":0,\"LogType\":0,\r\n   * \"ClientTime\":1459357627444,\"Source\":\"ClientV2Engagement\"}\r\n   * NavigationAction is moduleName in LogEntry, SPPageQuickLaunchUpdate is log feature name\r\n   * In this example, SPPage is application name which is set in ApplicationLogSettings\r\n   * Do NOT add PII data!\r\n   */\r\n  public static logEventWithLogEntry(logEntry: ILogEntry): void {\r\n    if (!logEntry) {\r\n      throw new Error('LogEntry is invalid');\r\n    }\r\n\r\n    Engagement.logData({\r\n      name: logEntry.moduleName + '.' + logEntry.logFeature,\r\n        extraData: {\r\n          message: logEntry.toString()\r\n      }\r\n    });\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/EngagementLogger.ts\n **/","var scripts = document.getElementsByTagName('script');\r\nvar regex = new RegExp('ScriptLoadName-DoNotChange', 'i');\r\nvar found = false;\r\n\r\nif (scripts && scripts.length) {\r\n  for (var i = 0; i < scripts.length; i++) {\r\n    if (!scripts[i]) continue;\r\n    var path = scripts[i].getAttribute('src');\r\n    if (path && path.match(regex)) {\r\n      __webpack_public_path__ = path.substring(0, path.lastIndexOf('/') + 1);\r\n      found = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nif (!found) {\r\n  for (var global in window.__setWebpackPublicPathLoaderSrcRegistry__) {\r\n    if (global && global.match(regex)) {\r\n      __webpack_public_path__ = global.substring(0, global.lastIndexOf('/') + 1);\r\n      break;\r\n    }\r\n  }\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@microsoft/loader-set-webpack-public-path/lib\n ** module id = 5\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n// Regex that finds { and } so they can be removed on a lookup for string format\nvar FORMAT_ARGS_REGEX = /[\\{\\}]/g;\n// Regex that finds {#} so it can be replaced by the arguments in string format\nvar FORMAT_REGEX = /\\{\\d+\\}/g;\n/**\n * String Format is like C# string format.\n * Usage Example: \"hello {0}!\".format(\"mike\") will return \"hello mike!\"\n * Calling format on a string with less arguments than specified in the format is invalid\n * Example \"I love {0} every {1}\".format(\"CXP\") will result in a Debug Exception.\n */\nfunction format(s) {\n    'use strict';\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    var args = values;\n    // Callback match function\n    function replace_func(match) {\n        // looks up in the args\n        var replacement = args[match.replace(FORMAT_ARGS_REGEX, \"\")];\n        // catches undefined in nondebug and null in debug and nondebug\n        if (replacement === null) {\n            replacement = '';\n        }\n        return replacement;\n    }\n    return (s.replace(FORMAT_REGEX, replace_func));\n}\nexports.format = format;\n/**\n * Returns true if s ends with suffix.\n */\nfunction doesStringEndWith(s, suffix) {\n    'use strict';\n    return s.substr(s.length - suffix.length) === suffix;\n}\nexports.doesStringEndWith = doesStringEndWith;\n/**\n * Returns true if s starts with prefix.\n */\nfunction doesStringStartWith(s, prefix) {\n    'use strict';\n    return s.substr(0, prefix.length) === prefix;\n}\nexports.doesStringStartWith = doesStringStartWith;\n/**\n * Return a string of the given length, using 0s to pad in from the right.\n */\nfunction rightPad(data, length) {\n    'use strict';\n    var result = data.toString();\n    while (result.length < length) {\n        result = result + \"0\";\n    }\n    return result;\n}\nexports.rightPad = rightPad;\n/**\n * Look for any of the chars in searchValues in str.\n * Returns the index of the char found or -1 if nothing is found.\n */\nfunction findOneOf(str, searchValues) {\n    'use strict';\n    for (var idx = 0; idx < str.length; idx++) {\n        var ch = str[idx];\n        if (searchValues.indexOf(ch) !== -1) {\n            return idx;\n        }\n    }\n    return -1; //none of the searchValues exist in string\n}\nexports.findOneOf = findOneOf;\n/**\n * Determines if two strings are equal when both converted to lowercase.\n */\nfunction equalsCaseInsensitive(a, b) {\n    'use strict';\n    if (a && b) {\n        return a.toLowerCase() === b.toLowerCase();\n    }\n    return a === b;\n}\nexports.equalsCaseInsensitive = equalsCaseInsensitive;\n/**\n * Capitalizes the first letter of str.\n */\nfunction capitalize(str) {\n    'use strict';\n    if (str) {\n        return str[0].toUpperCase() + str.substr(1);\n    }\n    return str;\n}\nexports.capitalize = capitalize;\n/**\n * De-capitalizes the first letter of str.\n */\nfunction decapitalize(str) {\n    'use strict';\n    if (str) {\n        return str[0].toLowerCase() + str.substr(1);\n    }\n    return str;\n}\nexports.decapitalize = decapitalize;\n/**\n * Selects a string based on plurality.\n *\n * @param count - The value to base selection on\n * @param single - The string to select when it's a singular value\n * @param multiple - The string to select when it's a plural value\n *\n * @deprecated This method does NOT give accurate results for many languages!!\n *             Use getLocalizedCountValue instead.\n */\nfunction pluralSelect(count, single, plural) {\n    'use strict';\n    return count === 1 ? single : plural;\n}\nexports.pluralSelect = pluralSelect;\n/**\n * Given a specially formatted localized text, a set of intervals, and a count,\n * return the localized text which corresponds to the first interval the\n * count falls into.\n *\n * Please see https://microsoft.sharepoint.com/teams/OISGPortal/LocKits/_layouts/15/start.aspx#/Lockit%20Instructions/SharePoint%20Core%20Localization.aspx\n * for more details.\n *\n * @param {string} locText - || deliminated blocks of localized texts, representing\n *  the various singular and plural forms of the string  being localized\n * @param {string} intervals - || deliminated blocks of numeric intervals, defining the ranges\n *  of that interval. Has special support for , * and -.\n * @param {number} count - The count used to determine which interval to return.\n *\n * @return\n * The localized block which corresponds to the first interval the count falls into.\n *\n * @example\n * StringHelper.getLocalizedCountValue('items||item||items', '0||1||2-', 0)\n *   returns items\n * StringHelper.getLocalizedCountValue('items||item||items', '0||1||2-', 1)\n *   returns item\n * StringHelper.getLocalizedCountValue('items||item||items', '0||1||2-', 2)\n *   returns items\n */\nfunction getLocalizedCountValue(locText, intervals, count) {\n    'use strict';\n    count = Number(count); // defensively make sure count is a number\n    // !!!IMPORTANT!!! changes in this function need to be in sync with\n    // the methods with the same name located at:\n    // otools/inc/sts/stsom/utilities/SPLocUtility.cs\n    // sts/Client/Script/Init/LocUtility.cs\n    if (locText === undefined || intervals === undefined || count === undefined) {\n        return null;\n    }\n    var ret = '';\n    var locIndex = -1;\n    var intervalsArray = intervals.split('||');\n    for (var i = 0, length_1 = intervalsArray.length; i < length_1; i++) {\n        var interval = intervalsArray[i];\n        if (!interval) {\n            continue;\n        }\n        var subIntervalsArray = interval.split(',');\n        for (var _i = 0, subIntervalsArray_1 = subIntervalsArray; _i < subIntervalsArray_1.length; _i++) {\n            var subInterval = subIntervalsArray_1[_i];\n            if (!subInterval) {\n                continue;\n            }\n            // there are three possiblities, wildcard, interval, or number\n            if (isNaN(Number(subInterval))) {\n                if (subInterval.indexOf('-') !== -1) {\n                    // if it's an interval the format is Number-Number\n                    var range = subInterval.split('-');\n                    if (range.length !== 2) {\n                        continue;\n                    }\n                    var min = void 0, max = void 0;\n                    if (range[0] === '') {\n                        min = 0;\n                    }\n                    else {\n                        if (isNaN(Number(range[0]))) {\n                            continue;\n                        }\n                        else {\n                            min = parseInt(range[0], 10);\n                        }\n                    }\n                    if (count >= min) {\n                        if (range[1] === '') {\n                            locIndex = i;\n                            break;\n                        }\n                        else {\n                            if (isNaN(Number(range[1]))) {\n                                continue;\n                            }\n                            else {\n                                max = parseInt(range[1], 10);\n                            }\n                        }\n                        if (count <= max) {\n                            locIndex = i;\n                            break;\n                        }\n                    }\n                }\n                else if (subInterval.indexOf('*') !== -1) {\n                    // Wildcard\n                    var regexExpr = subInterval.trim().replace(/\\*/g, '[0-9]*');\n                    var regex = new RegExp(\"^\" + regexExpr + \"$\");\n                    if (regex.test(count.toString())) {\n                        locIndex = i;\n                        break;\n                    }\n                }\n            }\n            else {\n                var exactNumber = parseInt(subInterval, 10);\n                if (count === exactNumber) {\n                    locIndex = i;\n                    break;\n                }\n            }\n        }\n        if (locIndex !== -1) {\n            break;\n        }\n    }\n    if (locIndex !== -1) {\n        var locValues = locText.split('||');\n        if (locValues[locIndex]) {\n            ret = locValues[locIndex];\n        }\n    }\n    return ret;\n}\nexports.getLocalizedCountValue = getLocalizedCountValue;\n/**\n * Format the locText with the localized count value.\n */\nfunction formatWithLocalizedCountValue(locText, intervals, count) {\n    'use strict';\n    var template = getLocalizedCountValue(locText, intervals, count);\n    var result = format(template, count.toString());\n    return result;\n}\nexports.formatWithLocalizedCountValue = formatWithLocalizedCountValue;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/string/StringHelper.js\n ** module id = 6\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar DatetimeResx = require('./DateTime.resx');\nvar Locale_1 = require('../locale/Locale');\nvar StringHelper_1 = require('../string/StringHelper');\n// this is the difference between the .net ticks and the javascript Date ticks\nvar TICKS_CONVERSION_CONSTANT = 62135596800000;\n// number of milliseconds for the given timespan\n// copied from SPRelativeDateTime, including 32 days to a month\nvar ONE_SECOND = 1000;\nvar ONE_MINUTE = 60 * ONE_SECOND;\nvar TWO_MINUTES = 2 * ONE_MINUTE;\nvar ONE_HOUR = 60 * ONE_MINUTE;\nvar TWO_HOURS = 2 * ONE_HOUR;\nvar ONE_DAY = 24 * ONE_HOUR;\nvar TWO_DAYS = 2 * ONE_DAY;\nvar ONE_WEEK = 7 * ONE_DAY;\nvar ONE_MONTH = 32 * ONE_DAY;\nvar validLocale;\nvar supportsTimeZoneDateOptions;\n/**\n * Convert a date-time string to a JavaScript Date object, for IE8 compat.\n *  Modern browsers and IE9+ can just take the string directly to the Date constructor.\n *  Format is: 1999-12-31T12:34:56.0000000Z\n *  Trailing Z indicates UTC timezone, otherwise it uses the browser's time zone.\n */\nfunction iso8601DateTimeToJsDate(dateTime) {\n    'use strict';\n    // note that Date.parse() doesn't work for this format in IE8 either\n    var isUTC = false;\n    if (dateTime.toUpperCase().indexOf('Z') === dateTime.length - 1) {\n        isUTC = true;\n    }\n    var timeValues = dateTime.split(/[^0-9]/);\n    if (timeValues.length < 6) {\n        return; // error\n    }\n    // note that Date 0-indexes months\n    if (!isUTC) {\n        return new Date(Number(timeValues[0]), Number(timeValues[1]) - 1, Number(timeValues[2]), Number(timeValues[3]), Number(timeValues[4]), Number(timeValues[5]));\n    }\n    else {\n        return new Date(Date.UTC(Number(timeValues[0]), Number(timeValues[1]) - 1, Number(timeValues[2]), Number(timeValues[3]), Number(timeValues[4]), Number(timeValues[5])));\n    }\n}\nexports.iso8601DateTimeToJsDate = iso8601DateTimeToJsDate;\n/**\n * Get a string like \"X minutes ago\" that reflects the time elapsed since the input time.\n * Only works for past times, future times just return a browser-determined localized time string.\n */\nfunction getRelativeDateTimeStringPast(pastTime, startWithLowerCase) {\n    'use strict';\n    if (startWithLowerCase === void 0) { startWithLowerCase = false; }\n    var timespan = Date.now() - pastTime.getTime(); // time elapsed in ms\n    if (timespan < -5 * ONE_MINUTE) {\n        return pastTime.toLocaleDateString(Locale_1.default.language);\n    }\n    else if (timespan < ONE_MINUTE) {\n        // \"Less than a minute ago\"\n        return startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_LessThanAMinute_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_LessThanAMinute;\n    }\n    else if (timespan < TWO_MINUTES) {\n        // \"About a minute ago\"\n        return startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAMinute_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAMinute;\n    }\n    else if (timespan < ONE_HOUR) {\n        // \"{0} minutes ago\"\n        var minutes = Math.floor(timespan / ONE_MINUTE);\n        return StringHelper_1.getLocalizedCountValue(DatetimeResx.strings.RelativeDateTime_XMinutes, DatetimeResx.strings.RelativeDateTime_XMinutesIntervals, minutes).replace(\"{0}\", String(minutes));\n    }\n    else if (timespan < TWO_HOURS) {\n        // \"About an hour ago\"\n        return startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAnHour_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAnHour;\n    }\n    else if (timespan < ONE_DAY) {\n        // \"{0} hours ago\"\n        var hours = Math.floor(timespan / ONE_HOUR);\n        return StringHelper_1.getLocalizedCountValue(DatetimeResx.strings.RelativeDateTime_XHours, DatetimeResx.strings.RelativeDateTime_XHoursIntervals, hours).replace(\"{0}\", String(hours));\n    }\n    else if (timespan < TWO_DAYS) {\n        // \"Yesterday at {0}\"\n        return startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_YesterdayAndTime_StartWithLowerCase.replace(\"{0}\", pastTime.toLocaleTimeString(Locale_1.default.language)) :\n            DatetimeResx.strings.RelativeDateTime_YesterdayAndTime.replace(\"{0}\", pastTime.toLocaleTimeString(Locale_1.default.language));\n    }\n    else if (timespan < ONE_MONTH) {\n        // \"{0} days ago\" (in the past month-ish)\n        var days = Math.floor(timespan / ONE_DAY);\n        return StringHelper_1.getLocalizedCountValue(DatetimeResx.strings.RelativeDateTime_XDays, DatetimeResx.strings.RelativeDateTime_XDaysIntervals, days).replace(\"{0}\", String(days));\n    }\n    // Any other time, just return the regular full original time\n    return pastTime.toLocaleDateString(Locale_1.default.language); // browser-determined localized date (no time)\n}\nexports.getRelativeDateTimeStringPast = getRelativeDateTimeStringPast;\n/**\n * This is a modified implementation of DateTime.GetRelativeDateTimeStringPast(...).\n * The differences here are as follows:\n *      (1) The time string for yesterday does not include the seconds\n *      (2) Instead of showing 'X days ago' for dates older than a month, default to showing the full date\n *      (3) The full date will also include the time (also without seconds)\n */\nfunction getRelativeDateTimeStringPastWithHourMinute(pastTime) {\n    'use strict';\n    var timespan = Date.now() - pastTime.getTime(); // time elapsed in ms\n    var date = pastTime.toLocaleDateString(Locale_1.default.language); // browser-determined localized date\n    var time = pastTime.toLocaleTimeString(Locale_1.default.language, { hour: 'numeric', minute: '2-digit' }); //time without seconds\n    if (timespan < ONE_DAY) {\n        return getRelativeDateTimeStringPast(pastTime);\n    }\n    else if (timespan < TWO_DAYS) {\n        // \"Yesterday at {0}\" without seconds\n        return StringHelper_1.format(DatetimeResx.strings.RelativeDateTime_YesterdayAndTime, time);\n    }\n    // Any other time, just return the regular full original date with time, without seconds\n    return StringHelper_1.format(DatetimeResx.strings.DateTime_DateAndTime, date, time);\n}\nexports.getRelativeDateTimeStringPastWithHourMinute = getRelativeDateTimeStringPastWithHourMinute;\n/**\n * True if the date is on or between the first and last day of the current week. This uses the Date function getDay()\n * which returns the day of the week for the specified date according to local time, where 0 represents Sunday.\n */\nfunction isThisWeek(pastTime) {\n    'use strict';\n    var today = new Date();\n    var start = new Date(today.getTime() - today.getDay() * ONE_DAY);\n    var end = new Date(start.getTime() + ONE_WEEK - ONE_DAY);\n    var isThisWeek = (start.getTime() <= pastTime.getTime() && pastTime.getTime() <= end.getTime());\n    return isThisWeek;\n}\nexports.isThisWeek = isThisWeek;\n/**\n * True if the date is on or between the first and last day of the previous week. This uses the Date function getDay()\n * which returns the day of the week for the specified date according to local time, where 0 represents Sunday.\n */\nfunction isLastWeek(pastTime) {\n    'use strict';\n    var today = new Date();\n    var start = new Date(today.getTime() - today.getDay() * ONE_DAY - ONE_WEEK);\n    var end = new Date(start.getTime() + ONE_WEEK - ONE_DAY);\n    var isLastWeek = (start.getTime() <= pastTime.getTime() && pastTime.getTime() <= end.getTime());\n    return isLastWeek;\n}\nexports.isLastWeek = isLastWeek;\n// for use with lists' server-processed date value\n/**\n * @param relativeDateTimeJSString: list server-processed date value string\n * @startWithLowerCase: use this option when the return string is not at beginning of the sentence.\n */\nfunction getRelativeDateTimeStringForLists(relativeDateTimeJSString, startWithLowerCase) {\n    'use strict';\n    if (startWithLowerCase === void 0) { startWithLowerCase = false; }\n    var ret = null;\n    var retTemplate = null;\n    var codes = relativeDateTimeJSString.split('|');\n    // Passthrough case\n    if (codes[0] === \"0\") {\n        return relativeDateTimeJSString.substring(2);\n    }\n    var bFuture = codes[1] === \"1\";\n    var timeBucket = codes[2];\n    var timeValue = codes.length >= 4 ? codes[3] : null;\n    var timeValue2 = codes.length >= 5 ? codes[4] : null;\n    switch (timeBucket) {\n        // a few seconds\n        case \"1\":\n            ret = bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AFewSecondsFuture_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AFewSecondsFuture) :\n                (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AFewSeconds_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AFewSeconds);\n            break;\n        // about a minute\n        case \"2\":\n            ret = bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAMinuteFuture_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAMinuteFuture) :\n                (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAMinute_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAMinute);\n            break;\n        // x minutes\n        case \"3\":\n            retTemplate = StringHelper_1.getLocalizedCountValue(bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_XMinutesFuture_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_XMinutesFuture)\n                : DatetimeResx.strings.RelativeDateTime_XMinutes, bFuture ? DatetimeResx.strings.RelativeDateTime_XMinutesFutureIntervals : DatetimeResx.strings.RelativeDateTime_XMinutesIntervals, Number(timeValue));\n            break;\n        // about an hour\n        case \"4\":\n            ret = bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAnHourFuture_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAnHourFuture)\n                : (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAnHour_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAnHour);\n            break;\n        // yesterday / tomorrow\n        case \"5\":\n            if (timeValue == null) {\n                ret = bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_Tomorrow_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_Tomorrow)\n                    : (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_Yesterday_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_Yesterday);\n            }\n            else {\n                retTemplate = bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_TomorrowAndTime_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_TomorrowAndTime)\n                    : (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_YesterdayAndTime_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_YesterdayAndTime);\n            }\n            break;\n        // x hours\n        case \"6\":\n            retTemplate = StringHelper_1.getLocalizedCountValue(bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_XHoursFuture_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_XHoursFuture)\n                : DatetimeResx.strings.RelativeDateTime_XHours, bFuture ? DatetimeResx.strings.RelativeDateTime_XHoursFutureIntervals : DatetimeResx.strings.RelativeDateTime_XHoursIntervals, Number(timeValue));\n            break;\n        // day and time\n        case \"7\":\n            if (timeValue2 === null) {\n                ret = timeValue;\n            }\n            else {\n                retTemplate = DatetimeResx.strings.RelativeDateTime_DayAndTime;\n            }\n            break;\n        // <Days> days\n        case \"8\":\n            retTemplate = StringHelper_1.getLocalizedCountValue(bFuture ? DatetimeResx.strings.RelativeDateTime_XDaysFuture : DatetimeResx.strings.RelativeDateTime_XDays, bFuture ? DatetimeResx.strings.RelativeDateTime_XDaysFutureIntervals : DatetimeResx.strings.RelativeDateTime_XDaysIntervals, Number(timeValue));\n            break;\n        // today\n        case \"9\":\n            ret = startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_Today_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_Today;\n            break;\n    }\n    if (retTemplate !== null) {\n        ret = retTemplate.replace(\"{0}\", timeValue);\n        if (timeValue2 !== null) {\n            ret = ret.replace(\"{1}\", timeValue2);\n        }\n    }\n    return ret;\n}\nexports.getRelativeDateTimeStringForLists = getRelativeDateTimeStringForLists;\n/**\n * Converts a given date string into its UTC/ISO standard format\n */\nfunction convertDateToISOString(expiration) {\n    'use strict';\n    var expirationDate = new Date(expiration);\n    // For more info on the time zone offset and its signage, see:\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getTimezoneOffset\n    var isOffsetNegative = (expirationDate.getTimezoneOffset() < 0) ? true : false;\n    var year = expirationDate.getFullYear().toString();\n    var month = _padStringWithZeroes((expirationDate.getMonth() + 1).toString(), 2); //zero based month\n    var day = _padStringWithZeroes(expirationDate.getDate().toString(), 2);\n    var hours = _padStringWithZeroes(expirationDate.getHours().toString(), 2);\n    var minutes = _padStringWithZeroes(expirationDate.getMinutes().toString(), 2);\n    var seconds = _padStringWithZeroes(expirationDate.getSeconds().toString(), 2);\n    var offsetHours = _padStringWithZeroes((isOffsetNegative ? Math.ceil(expirationDate.getTimezoneOffset() / 60).toString().replace(\"-\", \"\") : Math.floor(expirationDate.getTimezoneOffset() / 60).toString()), 2);\n    var offsetMinutes = _padStringWithZeroes((expirationDate.getTimezoneOffset() % 60).toString().replace(\"-\", \"\"), 2);\n    var expirationString = year + month + day + 'T' + hours + minutes + seconds + (isOffsetNegative ? '+' : '-') + offsetHours + offsetMinutes;\n    return expirationString;\n}\nexports.convertDateToISOString = convertDateToISOString;\n/**\n * get the last day of the month based on the input date\n */\nfunction getLastDayOfMonth(date) {\n    'use strict';\n    var lastDay = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), 1, 0, 0, 0, 0));\n    // To get the last day of the month we will increment the month\n    lastDay.setUTCMonth(lastDay.getUTCMonth() + 1);\n    // Then subtract a day\n    lastDay.setUTCDate(lastDay.getUTCDate() - 1);\n    // Then set the time to be the last second of the day\n    lastDay.setUTCHours(23, 59, 59, 999);\n    return lastDay;\n}\nexports.getLastDayOfMonth = getLastDayOfMonth;\n/**\n * Given the .Net ticks of a date, convert it to a Date\n */\nfunction getDateFromDotNetTicks(dotNetTicks) {\n    'use strict';\n    if (!dotNetTicks) {\n        return null;\n    }\n    var ticksInMilliseconds = (dotNetTicks / 10000) - TICKS_CONVERSION_CONSTANT;\n    return new Date(ticksInMilliseconds);\n}\nexports.getDateFromDotNetTicks = getDateFromDotNetTicks;\n/**\n * Returns a short version of a date to display (e.g. 11:45 PM if today, or 11/2/2015 if not today)\n */\nfunction getShortDisplayDate(date, useUTCTimezone) {\n    'use strict';\n    if (!date) {\n        return '';\n    }\n    var dateOptions = useUTCTimezone && _supportsTimeZoneDateOptions() ? { timeZone: 'UTC' } : {};\n    var timeOptions = useUTCTimezone && _supportsTimeZoneDateOptions() ? { hour: '2-digit', minute: '2-digit', timeZone: 'UTC' } : { hour: '2-digit', minute: '2-digit' };\n    var locale = _getLocale();\n    var isToday = date.toLocaleDateString() === new Date().toLocaleDateString();\n    return isToday ? date.toLocaleTimeString(locale, timeOptions) : date.toLocaleDateString(locale, dateOptions);\n}\nexports.getShortDisplayDate = getShortDisplayDate;\n/**\n * Returns a full version of a date to display (e.g. 11/2/2015 11:45 PM)\n * useUTCTimezone defaults to false\n * useHour12 defaults to true. Determine if display date should use 12hr or 24hr format.\n */\nfunction getFullDisplayDate(date, useUTCTimezone, useHour12) {\n    'use strict';\n    if (typeof useHour12 === void 0) {\n        useHour12 = true;\n    }\n    var dateOptions = useUTCTimezone && _supportsTimeZoneDateOptions() ? { timeZone: 'UTC' } : {};\n    var timeOptions = useUTCTimezone && _supportsTimeZoneDateOptions() ? { hour: '2-digit', minute: '2-digit', timeZone: 'UTC', hour12: useHour12 } : { hour: '2-digit', minute: '2-digit', hour12: useHour12 };\n    var locale = _getLocale();\n    return StringHelper_1.format(DatetimeResx.strings.DateAndTime, date.toLocaleDateString(locale, dateOptions), date.toLocaleTimeString(locale, timeOptions));\n}\nexports.getFullDisplayDate = getFullDisplayDate;\nfunction _getLocale() {\n    'use strict';\n    if (!validLocale) {\n        try {\n            new Date().toLocaleDateString(Locale_1.default.language);\n            validLocale = Locale_1.default.language;\n        }\n        catch (e) {\n            try {\n                new Date().toLocaleDateString(navigator.language);\n                validLocale = navigator.language;\n            }\n            catch (e) {\n                validLocale = 'en';\n            }\n        }\n    }\n    return validLocale;\n}\nfunction _supportsTimeZoneDateOptions() {\n    'use strict';\n    if (supportsTimeZoneDateOptions === undefined) {\n        try {\n            var locale = _getLocale();\n            (new Date()).toLocaleDateString(locale, { timeZone: 'UTC' });\n            supportsTimeZoneDateOptions = true;\n        }\n        catch (E) {\n            // We know of some versions of IE 11 that fail when date options with a timezone is specified.\n            supportsTimeZoneDateOptions = false;\n        }\n    }\n    return supportsTimeZoneDateOptions;\n}\n/**\n * Pads a date string with the request number of '0' characters\n */\nfunction _padStringWithZeroes(toPad, numDigits) {\n    'use strict';\n    var paddedString = toPad;\n    while (paddedString.length < numDigits) {\n        paddedString = '0' + paddedString;\n    }\n    return paddedString;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/dateTime/DateTime.js\n ** module id = 7\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nexports.strings = { \"RelativeDateTime_AFewSeconds\": \"A few seconds ago\", \"RelativeDateTime_AFewSeconds_StartWithLowerCase\": \"a few seconds ago\", \"RelativeDateTime_Format_DateTimeFormattingString_Override\": \"\", \"RelativeDateTime_Format_DateTimeFormattingString\": \"{0}, {1}\", \"RelativeDateTime_AFewSecondsFuture\": \"In a few seconds\", \"RelativeDateTime_AFewSecondsFuture_StartWithLowerCase\": \"in a few seconds\", \"RelativeDateTime_AboutAMinuteFuture\": \"In about a minute\", \"RelativeDateTime_AboutAMinuteFuture_StartWithLowerCase\": \"in about a minute\", \"RelativeDateTime_LessThanAMinute\": \"Less than a minute ago\", \"RelativeDateTime_LessThanAMinute_StartWithLowerCase\": \"less than a minute ago\", \"RelativeDateTime_AboutAMinute\": \"About a minute ago\", \"RelativeDateTime_AboutAMinute_StartWithLowerCase\": \"about a minute ago\", \"RelativeDateTime_XMinutesFuture\": \"In {0} minute||In {0} minutes\", \"RelativeDateTime_XMinutesFuture_StartWithLowerCase\": \"in {0} minute||in {0} minutes\", \"RelativeDateTime_XMinutesFutureIntervals\": \"1||2-\", \"RelativeDateTime_XMinutesIntervals\": \"1||2-\", \"RelativeDateTime_AboutAnHourFuture\": \"In about an hour\", \"RelativeDateTime_AboutAnHourFuture_StartWithLowerCase\": \"in about an hour\", \"RelativeDateTime_AboutAnHour\": \"About an hour ago\", \"RelativeDateTime_AboutAnHour_StartWithLowerCase\": \"about an hour ago\", \"RelativeDateTime_Tomorrow\": \"Tomorrow\", \"RelativeDateTime_Tomorrow_StartWithLowerCase\": \"tomorrow\", \"RelativeDateTime_Yesterday\": \"Yesterday\", \"RelativeDateTime_Yesterday_StartWithLowerCase\": \"yesterday\", \"RelativeDateTime_YesterdayAndTime\": \"Yesterday at {0}\", \"RelativeDateTime_YesterdayAndTime_StartWithLowerCase\": \"yesterday at {0}\", \"DateTime_DateAndTime\": \"{0} at {1}\", \"RelativeDateTime_TomorrowAndTime\": \"Tomorrow at {0}\", \"RelativeDateTime_TomorrowAndTime_StartWithLowerCase\": \"tomorrow at {0}\", \"RelativeDateTime_XHoursFuture\": \"In {0} hour||In {0} hours\", \"RelativeDateTime_XHoursFuture_StartWithLowerCase\": \"in {0} hour||in {0} hours\", \"RelativeDateTime_XHours\": \"{0} hour ago||{0} hours ago\", \"RelativeDateTime_XHoursFutureIntervals\": \"1||2-\", \"RelativeDateTime_XHoursIntervals\": \"1||2-\", \"RelativeDateTime_DayAndTime\": \"{0} at {1}\", \"RelativeDateTime_XDaysFuture\": \"{0} day from now||{0} days from now\", \"RelativeDateTime_XDays\": \"{0} day ago||{0} days ago\", \"RelativeDateTime_XDaysFutureIntervals\": \"1||2-\", \"RelativeDateTime_XDaysIntervals\": \"1||2-\", \"RelativeDateTime_Today\": \"Today\", \"RelativeDateTime_Today_StartWithLowerCase\": \"today\", \"RelativeDateTime_XMinutes\": \"{0} minute ago||{0} minutes ago\", \"DateAndTime\": \"{0} {1}\" };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/dateTime/DateTime.resx.js\n ** module id = 8\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar Locale = (function () {\n    function Locale() {\n    }\n    Locale.invalidate = function () {\n        Locale.isRightToLeft = (document.documentElement.getAttribute('dir') === 'rtl');\n        Locale.safeLeft = Locale.isRightToLeft ? 'right' : 'left';\n        Locale.safeRight = Locale.isRightToLeft ? 'left' : 'right';\n        /** Robert Chen has the detailed explanation here : The most magic thing here is that OneDrive page and teamsite page has exactly the same line of code with regard to html tag Lang attribute.\n         * <SharePoint:SPHtmlTag lang=\"<%$Resources:wss,language_value%>\" dir=\"<%$Resources:wss,multipages_direction_dir_value%>\" ID=\"SPHtmlTag\" runat=\"server\">\n         * And in teamsite doclib, this lang gets executed to the current user locale. And that is actually already a magic------What happens here is the in order to get the doclib page in ContentDB, we had a standard MondoSproc call which gets the page and the SPWeb. In constructing the web, SP *  * code has smart logic to set Thread.CurrentThread.CurrentUICulture to match the MUI language! And with that magic, =\"<%$Resources:wss,language_value%> actually gets sets properly to the user language, not the pre-defined web language.\n         * For OneDrive.aspx which lives inside _layouts folder, the order of code execution changes. We must have executed this line of ASPX code first =\"<%$Resources:wss,language_value%> before SPWeb was opened and did the magic to set Thread.CurrentThread.CurrentUICulture.\n         * So the Thread.CurrentThread.CurrentUICulture affecting =\"<%$Resources:wss,language_value%> with SPWeb magic end up not working in Onedrive.aspx! And theres really nothing that we can do about it unless we rewrite the page!\n         * So the conclusion is that the lang attribute is by design (of implementation) different from the regular team site pages which live inside content db.\n         */\n        var language = window[\"_spPageContextInfo\"] && window[\"_spPageContextInfo\"].currentCultureName;\n        // fallback of xml:lang for IE9\n        Locale.language = language ||\n            document.documentElement.getAttribute('lang') ||\n            document.documentElement.getAttribute('xml:lang') ||\n            'en-us';\n    };\n    return Locale;\n}());\nLocale.invalidate();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Locale;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/locale/Locale.js\n ** module id = 9\n ** module chunks = 0\n **/","// OneDrive:CoverageThreshold(96)\n\"use strict\";\nvar Manager_1 = require('./Manager');\nvar CorrelationVector_1 = require('./CorrelationVector');\nvar _id = 0;\n(function (ClonedEventType) {\n    ClonedEventType[ClonedEventType[\"Single\"] = 0] = \"Single\";\n    ClonedEventType[ClonedEventType[\"Start\"] = 1] = \"Start\";\n    ClonedEventType[ClonedEventType[\"End\"] = 2] = \"End\";\n})(exports.ClonedEventType || (exports.ClonedEventType = {}));\nvar ClonedEventType = exports.ClonedEventType;\n(function (ValidationErrorType) {\n    ValidationErrorType[ValidationErrorType[\"NoParent\"] = 1] = \"NoParent\";\n})(exports.ValidationErrorType || (exports.ValidationErrorType = {}));\nvar ValidationErrorType = exports.ValidationErrorType;\nvar EventBase = (function () {\n    function EventBase(eventName, shortEventName, parent) {\n        this.eventName = eventName;\n        this.shortEventName = shortEventName;\n        this.validationErrors = 0;\n        this.id = _id++;\n        this.enabled = this.isEnabled();\n        this.critical = this.isCritical();\n        // Set the parent id if needed\n        if (parent) {\n            this.parentId = parent.id;\n        }\n        else if (this.requiresParent()) {\n            this.addValidationError(ValidationErrorType.NoParent);\n        }\n        // Set the start time\n        this.startTime = Manager_1.Manager.getTime();\n        if (parent) {\n            this.vector = new CorrelationVector_1.default(parent.vector);\n        }\n        else {\n            this.vector = new CorrelationVector_1.default(CorrelationVector_1.default.RootVector);\n        }\n    }\n    /**\n     * This will return true if the event is of this type\n     * @param event {IEvent} The event to compare\n     */\n    EventBase.isTypeOf = function (event) {\n        return event.eventName.indexOf(this.shortName + this.eventNameDelimeter) >= 0;\n    };\n    /** This is called on all string data to clean it */\n    EventBase.prototype.cleanString = function (str) {\n        return Manager_1.Manager.cleanString(str);\n    };\n    EventBase.prototype.isEnabled = function () {\n        // All events are enabled by default\n        return true;\n    };\n    EventBase.prototype.requiresParent = function () {\n        // All events require parents by default\n        return true;\n    };\n    EventBase.prototype.isCritical = function () {\n        // All events are not critical by default\n        return false;\n    };\n    EventBase.prototype._logEvent = function (eventType) {\n        Manager_1.Manager.logEvent(this, eventType);\n    };\n    EventBase.prototype.addValidationError = function (type) {\n        this.validationErrors = this.validationErrors | type;\n        Manager_1.Manager.logValidationError(this, type);\n    };\n    EventBase.eventNameDelimeter = ',';\n    EventBase.fullName = 'EventBase,';\n    EventBase.shortName = 'EventBase';\n    return EventBase;\n}());\nexports.EventBase = EventBase;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/EventBase.js\n ** module id = 10\n ** module chunks = 0\n **/","// OneDrive:CoverageThreshold(75)\n\"use strict\";\nvar ObjectUtil_1 = require(\"../object/ObjectUtil\");\nvar handlers = [];\nvar buffer = [];\nvar maxBufferSize = 100;\nfunction getStartDate() {\n    'use strict';\n    if (window.performance && window.performance.timing && window.performance.timing.navigationStart) {\n        return new Date(window.performance.timing.navigationStart);\n    }\n    else {\n        return new Date();\n    }\n}\nvar startDate = getStartDate();\nvar Manager = (function () {\n    function Manager() {\n    }\n    Manager.getTime = function () {\n        return (new Date()).getTime();\n    };\n    /** This is the overrideable clean string function */\n    Manager.cleanString = function (str) {\n        return str;\n    };\n    Manager.addLogHandler = function (handler) {\n        handlers.push(handler);\n        // Return the buffer so the handler can get missed events\n        return buffer;\n    };\n    Manager.removeLogHandler = function (handler) {\n        for (var x = 0; x < handlers.length; x++) {\n            if (handlers[x] === handler) {\n                // Remove the handler\n                handlers.splice(x, 1);\n                break;\n            }\n        }\n    };\n    Manager.logEvent = function (event, eventType) {\n        // Clone the object (do it natively because the browser can mark it as a type)\n        var clonedEvent = Object.freeze({\n            data: ObjectUtil_1.default.deepCopy(event.data),\n            id: event.id,\n            enabled: event.enabled,\n            critical: event.critical,\n            endTime: event.endTime,\n            eventName: event.eventName,\n            shortEventName: event.shortEventName,\n            parentId: event.parentId,\n            startTime: event.startTime,\n            eventType: eventType,\n            metadata: event.metadata,\n            vector: event.vector,\n            validationErrors: event.validationErrors\n        });\n        // Add to the buffer\n        buffer.push(clonedEvent);\n        if (buffer.length > maxBufferSize) {\n            buffer = buffer.slice(1);\n            // Make sure we have a handler before the buffer is overrun\n            if (handlers.length === 0) {\n                this.handleBaseLoggingError(new Error(\"Logging buffer overflow hit before any logging handler was registered\"));\n            }\n        }\n        // Let handlers know the log event has completed\n        for (var x = 0; x < handlers.length; x++) {\n            try {\n                handlers[x](clonedEvent);\n            }\n            catch (e) {\n                this.handleBaseLoggingError(e);\n            }\n        }\n    };\n    Manager.logValidationError = function (event, type) {\n        // Do nothing so that we can intialize around circular reference issue\n    };\n    Manager.getStack = function () {\n        var error;\n        try {\n            var w = window;\n            w[\"______ExpectedError______\"]();\n        }\n        catch (e) {\n            error = e;\n        }\n        return error.stack;\n    };\n    Manager.handleBaseLoggingError = function (error) {\n        // TODO: Log somewhere\n    };\n    Manager.startDate = startDate;\n    Manager.startTime = startDate.getTime();\n    return Manager;\n}());\nexports.Manager = Manager;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Manager;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/Manager.js\n ** module id = 11\n ** module chunks = 0\n **/","\"use strict\";\nvar UriEncoding_1 = require('../encoding/UriEncoding');\nvar ObjectUtil;\n(function (ObjectUtil) {\n    \"use strict\";\n    ObjectUtil.DEFAULT_DELIMITER = '&';\n    ObjectUtil.KEYVALUE_DELIMITER = '=';\n    // Returns a copy of the specified object by deeply cloning all of its properties.\n    function deepCopy(object) {\n        var refsCopied = [];\n        var copyRecurse = function (obj) {\n            var result = null;\n            if (obj) {\n                if (Array.isArray(obj)) {\n                    result = [];\n                }\n                else {\n                    // create clone of the object with same prototype chain\n                    result = Object.create(Object.getPrototypeOf(obj));\n                }\n                // iterate over all the properties in the object\n                Object.keys(obj).forEach(function (key) {\n                    // recursively copy the object's properties if the property is an object\n                    var value = obj[key];\n                    if (typeof value === \"object\") {\n                        if (refsCopied.indexOf(value) !== -1) {\n                            throw new Error(\"Cannot perform DeepCopy() because a circular reference was encountered, object: \" + String(obj) + \", property: \" + String(key));\n                        }\n                        refsCopied.push(value);\n                        result[key] = copyRecurse(value);\n                        refsCopied.pop();\n                    }\n                    else {\n                        result[key] = value;\n                    }\n                });\n            }\n            return result;\n        };\n        return copyRecurse(object);\n    }\n    ObjectUtil.deepCopy = deepCopy;\n    // Deeply compares the objects by recursively comparing all their properties, objects with circular references are not supported, prototype members and functions are ignored\n    function deepCompare(objA, objB, equivalent) {\n        // keep track of references that have been compared to find circular references while walking down either object\n        var refsComparedA = [];\n        var refsComparedB = [];\n        var compare = Boolean(equivalent) ? equivalent : function (a, b) { return (a === b); };\n        var equals = function (a, b) {\n            // try a simple equality test first\n            if (a === b) {\n                return true;\n            }\n            if ((a === null) || (b === null)) {\n                return false;\n            }\n            // if both are objects, then further comparison is required\n            if ((typeof (a) === \"object\") && (typeof (b) === \"object\")) {\n                // perform deep comparison over object's properties\n                var aKeys = Object.keys(a).sort();\n                var bKeys_1 = Object.keys(b).sort();\n                // does one object have a different number of properties?\n                if (aKeys.length !== bKeys_1.length) {\n                    return false;\n                }\n                var keysMatch = aKeys.every(function (key, index) {\n                    // key names should match\n                    if (key !== bKeys_1[index]) {\n                        return false;\n                    }\n                    else if (typeof (a[key]) === 'function' || typeof (b[key]) === 'function') {\n                        //skip comparison of function properties\n                        return true;\n                    }\n                    else if (!compare(a[key], b[key])) {\n                        // if this is an Object then recursive testing is needed on its properties\n                        if (typeof a[key] === \"object\") {\n                            // if this property was encountered before then we're going in circles, give up\n                            if (refsComparedA.indexOf(a[key]) !== -1) {\n                                throw new Error(\"Cannot perform DeepCompare() because a circular reference was encountered, object: \" + String(a) + \", property: \" + key);\n                            }\n                            refsComparedA.push(a[key]);\n                            if (refsComparedB.indexOf(b[key]) !== -1) {\n                                throw new Error(\"Cannot perform DeepCompare() because a circular reference was encountered, object: \" + String(b) + \", property: \" + key);\n                            }\n                            refsComparedB.push(b[key]);\n                            // recursive compare object's properties\n                            if (!equals(a[key], b[key])) {\n                                return false;\n                            }\n                            refsComparedA.pop();\n                            refsComparedB.pop();\n                            return true;\n                        }\n                        else {\n                            // properties don't match\n                            return false;\n                        }\n                    }\n                    else {\n                        return true;\n                    }\n                });\n                if (!keysMatch) {\n                    return false;\n                }\n            }\n            else {\n                // parameters aren't equal, and at least one is not an Object\n                return false;\n            }\n            // everything is equal\n            return true;\n        };\n        return equals(objA, objB);\n    }\n    ObjectUtil.deepCompare = deepCompare;\n    /**\n     * This is a function you can call to safely serialize anything to JSON.\n     * The built-in JSON.stringify() throws an exception for circular references and can't handle\n     * many built-ins such as HTMLElements and the global window object.\n     */\n    function safeSerialize(obj) {\n        var str;\n        try {\n            var seenObjects_1 = [];\n            str = JSON.stringify(obj, function (key, value) {\n                if (value === window) {\n                    return \"[window]\";\n                }\n                else if (value instanceof HTMLElement) {\n                    return \"[HTMLElement]\";\n                }\n                else if (typeof value === \"function\") {\n                    return \"[function]\";\n                }\n                else if (typeof value === \"object\") {\n                    if (value === null) {\n                        return value;\n                    }\n                    else if (seenObjects_1.indexOf(value) === -1) {\n                        seenObjects_1.push(value);\n                        return value;\n                    }\n                    else {\n                        return \"[circular]\";\n                    }\n                }\n                else {\n                    return value;\n                }\n            });\n        }\n        catch (err) {\n            // Note: we make this be a JSON string, so that consumers\n            // can always call JSON.parse.\n            str = JSON.stringify(\"[object]\");\n        }\n        return str;\n    }\n    ObjectUtil.safeSerialize = safeSerialize;\n    /**\n     * Serializes the object Name Values Pairs (Depth of 1).\n     * Used for Query Strings and Cookie Values\n     * @param {any} obj Object with name value pairs\n     * @param {string} delimeter  Delimiter seperates the pairs\n     * @param {boolean} skipEncoding True to skip encoding\n     */\n    function serialize(obj, delimiter, skipEncoding) {\n        delimiter = delimiter || ObjectUtil.DEFAULT_DELIMITER;\n        var values = Object.keys(obj).map(function (name) {\n            // Get the value and convert it to a string\n            var value = obj[name];\n            value = value ? value.toString() : \"\";\n            if (!skipEncoding) {\n                value = UriEncoding_1.default.encodeURIComponent(value);\n            }\n            // Add the encoded value to the array\n            return name + ObjectUtil.KEYVALUE_DELIMITER + value;\n        });\n        return values.join(delimiter);\n    }\n    ObjectUtil.serialize = serialize;\n    /**\n     * Copy the values of all enumerable own properties from one or more source objects to a target object.\n     */\n    function extend(target, source) {\n        if (source) {\n            for (var prop in source) {\n                if (source.hasOwnProperty(prop)) {\n                    target[prop] = source[prop];\n                }\n            }\n        }\n        return target;\n    }\n    ObjectUtil.extend = extend;\n})(ObjectUtil || (ObjectUtil = {}));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ObjectUtil;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/object/ObjectUtil.js\n ** module id = 12\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar UriEncoding = (function () {\n    function UriEncoding() {\n    }\n    /////////////////////////////\n    // This file is more clean of all unneeded pollutants. It only contains the minimum amount of code required for someone to use the URI class.\n    // You should think twice before adding anything else into this file because you will be causing unneeded bloat from someone else.\n    /////////////////////////////\n    /**\n     * This function performs an aggressive unicode URL-encoding.\n     * Convert non alphanum character into UTF-8 code string in format %XX%XX%XX.\n     *\n     * Escape unsafe characters\n     *   CTL | SP | <\"> | \"#\" | \"%\" | \"<\" | \">\" | \"'\" | \"&\"\n     * in the URL path (before \"?\", \"#\")\n     * No encoding on query string.\n     *\n     * @param {string} str - String to encode\n     * @param {boolean} bAsUrl - Encode in the same way as the code in unmanaged (Url::UrlEncode) code and\n     *                           SP OM (SPHttpUtility.UrlKeyValueEncode and SPHttpUtility.UrlPathEncode).\n     * @param {boolean} bForFilterQuery\n     * @param {boolean} bForCallback - Only escape the characters after 0x7F to workaround bug O12: 452191\n     */\n    UriEncoding.encodeURIComponent = function (str, bAsUrl, bForFilterQuery, bForCallback) {\n        var strOut = \"\";\n        var strByte;\n        var ix = 0;\n        var strEscaped = \" \\\"%<>\\'&\";\n        if (!str) {\n            return \"\";\n        }\n        var len = str.length;\n        for (ix = 0; ix < len; ix++) {\n            var charCode = str.charCodeAt(ix);\n            var curChar = str.charAt(ix);\n            if (bAsUrl && (curChar === '#' || curChar === '?')) {\n                strOut += str.substr(ix);\n                break;\n            }\n            if (bForFilterQuery && curChar === '&') {\n                strOut += curChar;\n                continue;\n            }\n            if (charCode <= 0x7f) {\n                if (bForCallback) {\n                    strOut += curChar;\n                }\n                else {\n                    if ((charCode >= 97 && charCode <= 122) ||\n                        (charCode >= 65 && charCode <= 90) ||\n                        (charCode >= 48 && charCode <= 57) ||\n                        (bAsUrl && (charCode >= 32 && charCode <= 95) && strEscaped.indexOf(curChar) < 0)) {\n                        strOut += curChar;\n                    }\n                    else if (charCode <= 0x0f) {\n                        strOut += \"%0\" + charCode.toString(16).toUpperCase();\n                    }\n                    else if (charCode <= 0x7f) {\n                        strOut += \"%\" + charCode.toString(16).toUpperCase();\n                    }\n                }\n            }\n            else if (charCode <= 0x07ff) {\n                strByte = 0xc0 | (charCode >> 6);\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | (charCode & 0x003f);\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n            }\n            else if ((charCode & 0xFC00) !== 0xD800) {\n                strByte = 0xe0 | (charCode >> 12);\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | ((charCode & 0x0fc0) >> 6); // middle 6 bits\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | (charCode & 0x003f); // lower 6 bits\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n            }\n            else if (ix < str.length - 1) {\n                charCode = (charCode & 0x03FF) << 10; // lower 10 bits of first char\n                ix++;\n                var nextCharCode = str.charCodeAt(ix);\n                charCode |= nextCharCode & 0x03FF; // lower 10 bits of second char\n                charCode += 0x10000;\n                strByte = 0xf0 | (charCode >> 18);\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | ((charCode & 0x3f000) >> 12); // upper 6 bits\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | ((charCode & 0x0fc0) >> 6); // middle 6 bits\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | (charCode & 0x003f); // lower 6 bits\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n            }\n        }\n        return strOut;\n    };\n    /**\n     * Callbacks do not work if a #bookmark is in the URL. If there is a bookmark then we need to remove it. We also need to\n     * deal with the scenario where there is not a bookmark but there is an unencoded # as a part of a name/value after the '?'.\n     * This is how things should work here:\n     * .../foo.aspx -> .../foo.aspx (unchanged)\n     * .../foo.aspx#bookmark -> .../foo.aspx (bookmark is removed)\n     * .../foo.aspx#bookmark?name=value -> .../foo.aspx?name=value (bookmark is removed)\n     * .../foo.aspx#bookmark?name1=value#extra1&name2=value2 -> .../foo.aspx?name1=value#extra1&name2=value2 (only the bookmark # is removed)\n     * .../foo.aspx?name1=value#extra1&name2=value2 -> .../foo.aspx?name1=value#extra1&name2=value2 (unchanged)\n     */\n    UriEncoding.escapeUrlForCallback = function (str) {\n        var iPound = str.indexOf(\"#\");\n        var iQues = str.indexOf(\"?\");\n        if ((iPound > 0) && ((iQues === -1) || (iPound < iQues))) {\n            var strNew = str.substr(0, iPound);\n            if (iQues > 0) {\n                strNew += str.substr(iQues); // Need to include the '?' along with the \"name=value\" pairs.\n            }\n            str = strNew;\n        }\n        return UriEncoding.encodeURIComponent(str, true, false, true);\n    };\n    /**\n     * SharePoint REST processor expect single quote ' to be escaped to '' in tokens (this applies to %27 too).\n     * See example for usage.\n     * @example\n     * \"getFolderByServerRelativeUrl('\"+encodeRestUriStringToken(\"don't know.txt\")+\"')\" should became \"getFolderByServerRelativeUrl('don''t know.txt')\"\"\n     */\n    UriEncoding.encodeRestUriStringToken = function (stringToken) {\n        if (stringToken) {\n            stringToken = stringToken.replace(/'/g, \"''\");\n            stringToken = stringToken.replace(/%27/g, \"%27%27\");\n            stringToken = UriEncoding.encodeURIComponent(stringToken);\n        }\n        return stringToken;\n    };\n    return UriEncoding;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = UriEncoding;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/encoding/UriEncoding.js\n ** module id = 13\n ** module chunks = 0\n **/","\"use strict\";\nvar Guid_1 = require('../guid/Guid');\nvar CorrelationVector = (function () {\n    function CorrelationVector(parent, current) {\n        if (parent) {\n            this.root = parent.root;\n            this.parent = parent.current;\n        }\n        else {\n            this.root = this.parent = Guid_1.default.Empty;\n        }\n        if (current) {\n            this.current = current;\n        }\n        else {\n            this.current = Guid_1.default.generate();\n        }\n    }\n    CorrelationVector.prototype.toString = function () {\n        return this.root + \"#\" + this.parent + \"#\" + this.current;\n    };\n    CorrelationVector.RootVector = window['rootVector'] || new CorrelationVector();\n    return CorrelationVector;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = CorrelationVector;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/CorrelationVector.js\n ** module id = 14\n ** module chunks = 0\n **/","\"use strict\";\nfunction generateUuidPart(length) {\n    \"use strict\";\n    var str = '';\n    while (str.length < length) {\n        var num = Math.random() * 16;\n        num = num | 0; // clear decimal\n        str += num.toString(16);\n    }\n    return str;\n}\nvar Guid = (function () {\n    function Guid() {\n    }\n    /**\n     * Return a v4 UUID as specified by RFC 4122 http://tools.ietf.org/html/rfc4122\n     */\n    Guid.generate = function () {\n        var parts = [];\n        parts.push(generateUuidPart(8));\n        parts.push(generateUuidPart(4));\n        // first digit must be 4 since we are using pseudorandom numbers\n        var timeHighAndVersion = '4' + generateUuidPart(3);\n        parts.push(timeHighAndVersion);\n        // first digit must have first two bits set to 10\n        var clockSeqHiAndReserved = generateUuidPart(4);\n        var intVal = parseInt(clockSeqHiAndReserved[0], 10);\n        intVal = intVal & 3; // clear out first two bits\n        intVal = intVal | 8; // set first bit to 1\n        clockSeqHiAndReserved = intVal.toString(16) + clockSeqHiAndReserved.substr(1);\n        parts.push(clockSeqHiAndReserved);\n        parts.push(generateUuidPart(12));\n        return parts.join('-');\n    };\n    /**\n     * Normalizes a GUID to lowercase. Returns '' if guid is not given.\n     * @param includeBrackets - if true, add or keep brackets; if false, strip brackets\n     */\n    Guid.normalizeLower = function (guid, includeBrackets) {\n        return guid ? Guid._normalizeBrackets(guid.toLowerCase(), includeBrackets) : '';\n    };\n    /**\n     * Normalizes a GUID to uppercase. Returns '' if guid is not given.\n     * @param includeBrackets - if true, add or keep brackets; if false, strip brackets\n     */\n    Guid.normalizeUpper = function (guid, includeBrackets) {\n        return guid ? Guid._normalizeBrackets(guid.toUpperCase(), includeBrackets) : '';\n    };\n    Guid._normalizeBrackets = function (guid, includeBrackets) {\n        var match = guid.match(/^\\{(.*)\\}$/);\n        if (match) {\n            return includeBrackets ? match[0] : match[1];\n        }\n        return includeBrackets ? '{' + guid + '}' : guid;\n    };\n    Guid.Empty = \"00000000-0000-0000-0000-000000000000\";\n    return Guid;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Guid;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/guid/Guid.js\n ** module id = 15\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar Engagement = (function (_super) {\n    __extends(Engagement, _super);\n    /**\n     * The Engagement event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function Engagement(parent) {\n        _super.call(this, 'Engagement,', 'Engagement', parent);\n    }\n    /**\n     * This is true if the Engagement event is enabled\n     */\n    Engagement.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single Engagement event\n     * @param data {IEngagementSingleSchema}\n     * -required name - This is the name of the engagement event\n     * -optional extraData - This is the random extra data for the engagement event\n     * @param parent {IEvent} The optional parent for this event\n     */\n    Engagement.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(Engagement, data, parent);\n    };\n    Engagement.prototype.setSingleData = function (data) {\n        this.data.name = this.cleanString(data.name);\n        if (typeof data.extraData !== \"undefined\") {\n            this.data.extraData = data.extraData;\n        }\n    };\n    /**\n     * The name of the Engagement event\n     */\n    Engagement.fullName = 'Engagement,';\n    /**\n     * The short name of the Engagement event\n     */\n    Engagement.shortName = 'Engagement';\n    /**\n     * This is true if the Engagement event is enabled\n     */\n    Engagement.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"Engagement\",\n            definedInFullName: \"Engagement,\",\n            isKey: true,\n            isMetric: false\n        },\n        extraData: {\n            type: \"Object\",\n            definedInName: \"Engagement\",\n            definedInFullName: \"Engagement,\",\n            isMetric: false\n        }\n    };\n    return Engagement;\n}(SingleEventBase_1.SingleEventBase));\nexports.Engagement = Engagement;\nEngagement.prototype.metadata = Engagement.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Engagement;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/Engagement.event.js\n ** module id = 16\n ** module chunks = 0\n **/","// OneDrive:CoverageThreshold(80)\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar EventBase_1 = require('./EventBase');\nvar callingFromInside = false;\nvar SingleEventBase = (function (_super) {\n    __extends(SingleEventBase, _super);\n    function SingleEventBase(eventName, shortEventName, parent) {\n        if (!callingFromInside) {\n            throw \"Use logData method for single events\";\n        }\n        _super.call(this, eventName, shortEventName, parent);\n        // Make sure data has a value\n        if (!this.data) {\n            this.data = {};\n        }\n    }\n    SingleEventBase._logData = function (eventConstructor, data, parent) {\n        callingFromInside = true;\n        try {\n            var event = new eventConstructor(parent);\n            event.setSingleData(data);\n            event._logEvent(EventBase_1.ClonedEventType.Single);\n        }\n        finally {\n            callingFromInside = false;\n        }\n        return event;\n    };\n    SingleEventBase.prototype.setSingleData = function (data) {\n        // The single event to copy data that will be overridden\n    };\n    SingleEventBase.fullName = 'SingleEventBase,';\n    SingleEventBase.shortName = 'SingleEventBase';\n    return SingleEventBase;\n}(EventBase_1.EventBase));\nexports.SingleEventBase = SingleEventBase;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/SingleEventBase.js\n ** module id = 17\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar Nav = (function (_super) {\n    __extends(Nav, _super);\n    /**\n     * The Nav event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function Nav(parent) {\n        _super.call(this, 'Nav,', 'Nav', parent);\n    }\n    /**\n     * This is true if the Nav event is enabled\n     */\n    Nav.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single Nav event\n     * @param data {INavSingleSchema}\n     * -required viewParams - The view params associated with the navigation\n     * -optional url - The url associated with the navigation. This is not sanitized (i.e. could contain authkeys)\n     * @param parent {IEvent} The optional parent for this event\n     */\n    Nav.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(Nav, data, parent);\n    };\n    Nav.prototype.setSingleData = function (data) {\n        this.data.viewParams = data.viewParams;\n        if (typeof data.url !== \"undefined\") {\n            this.data.url = this.cleanString(data.url);\n        }\n    };\n    /**\n     * The name of the Nav event\n     */\n    Nav.fullName = 'Nav,';\n    /**\n     * The short name of the Nav event\n     */\n    Nav.shortName = 'Nav';\n    /**\n     * This is true if the Nav event is enabled\n     */\n    Nav.metadata = {\n        viewParams: {\n            type: \"Object\",\n            definedInName: \"Nav\",\n            definedInFullName: \"Nav,\",\n            isMetric: false\n        },\n        url: {\n            type: \"String\",\n            definedInName: \"Nav\",\n            definedInFullName: \"Nav,\",\n            isMetric: false\n        }\n    };\n    return Nav;\n}(SingleEventBase_1.SingleEventBase));\nexports.Nav = Nav;\nNav.prototype.metadata = Nav.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Nav;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/Nav.event.js\n ** module id = 18\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar Features_1 = require('../../features/Features');\nvar PLTHttpRequest = (function (_super) {\n    __extends(PLTHttpRequest, _super);\n    /**\n     * The PLTHttpRequest event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function PLTHttpRequest(parent) {\n        _super.call(this, 'PLTHttpRequest,', 'PLTHttpRequest', parent);\n    }\n    /**\n     * This is true if the PLTHttpRequest event is enabled\n     */\n    PLTHttpRequest.enabled = function () {\n        return Features_1.default.isFeatureEnabled(PLTHttpRequest.samplingFeature);\n    };\n    /**\n     * This will create a single PLTHttpRequest event\n     * @param data {IPLTHttpRequestSingleSchema}\n     * -required startTime - The start time of the request\n     * -required url - The url for the request\n     * -required duration - Time it takes for the request to complete\n     * @param parent {IEvent} The optional parent for this event\n     */\n    PLTHttpRequest.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(PLTHttpRequest, data, parent);\n    };\n    /**\n     * This is true when PLTHttpRequest event is enabled\n     */\n    PLTHttpRequest.prototype.isEnabled = function () {\n        return Features_1.default.isFeatureEnabled(PLTHttpRequest.samplingFeature);\n    };\n    PLTHttpRequest.prototype.setSingleData = function (data) {\n        this.data.startTime = data.startTime;\n        this.data.url = this.cleanString(data.url);\n        this.data.duration = data.duration;\n    };\n    /**\n     * The name of the PLTHttpRequest event\n     */\n    PLTHttpRequest.fullName = 'PLTHttpRequest,';\n    /**\n     * The short name of the PLTHttpRequest event\n     */\n    PLTHttpRequest.shortName = 'PLTHttpRequest';\n    /**\n     * This is true if the PLTHttpRequest event is enabled\n     */\n    PLTHttpRequest.metadata = {\n        startTime: {\n            type: \"Number\",\n            definedInName: \"PLTHttpRequest\",\n            definedInFullName: \"PLTHttpRequest,\",\n            isMetric: true\n        },\n        url: {\n            type: \"String\",\n            definedInName: \"PLTHttpRequest\",\n            definedInFullName: \"PLTHttpRequest,\",\n            isMetric: false\n        },\n        duration: {\n            type: \"Number\",\n            definedInName: \"PLTHttpRequest\",\n            definedInFullName: \"PLTHttpRequest,\",\n            isMetric: true\n        }\n    };\n    /**\n     * The sampling feature for the PLTHttpRequest event\n     */\n    PLTHttpRequest.samplingFeature = { ODB: true, ODC: 'PLTHttpRequestSampling', Fallback: false };\n    return PLTHttpRequest;\n}(SingleEventBase_1.SingleEventBase));\nexports.PLTHttpRequest = PLTHttpRequest;\nPLTHttpRequest.prototype.metadata = PLTHttpRequest.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = PLTHttpRequest;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/PLTHttpRequest.event.js\n ** module id = 19\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n/**\n * This file contains the known list of features (a.k.a. flights or ramps).\n * The signature of one entry is:\n *  static FeatureName: IFlight = { ODB: 100, ODC: \"foo\", Fallback: true };\n * ODB            Is the numerical value of the flight from the ExpFeature enumeration.\n *                Use -1 if the flight does not have a correspondent in ODB.\n * ODC            Is the string identifier in ODC.\n *                Use null if the flight does not have a correspondent ramp in ODC.\n * Fallback       The state of the flight, true = on false = off.\n *                The fallback is used only when the ODB or ODC flight is not applicable.\n *                For example: The Flight is an ODB flight with no ODC counterpart and the app runs in ODC mode.\n *                The fallback also allows declaring app only switches that are not known to the backend.\n */\nvar Features = (function () {\n    function Features() {\n    }\n    //You should not add features here but in your own file\n    /**\n     * This function will return true when the feature is enabled and\n     * will check the proper config for ODB and ODC to determine this\n     */\n    Features.isFeatureEnabled = function (feature) {\n        var result = feature.Fallback;\n        var _spPageContextInfo = window['_spPageContextInfo'];\n        var _odcFlightInfo = window['Flight'];\n        var _odcConfig = window['FilesConfig'];\n        var Flighting = window['Flighting']; // Old SharePoint pages use this.\n        if (Boolean(_spPageContextInfo)) {\n            if (!Boolean(_spPageContextInfo.ExpFeatures) &&\n                Boolean(Flighting) && Boolean(Flighting.ExpFeatures)) {\n                _spPageContextInfo.ExpFeatures = Flighting.ExpFeatures;\n            }\n            if (typeof feature.ODB === 'boolean') {\n                result = feature.ODB;\n            }\n            else if (Boolean(_spPageContextInfo.ExpFeatures) && feature.ODB > 0) {\n                var elem = Math.floor(feature.ODB / 32);\n                var mask = 1 << (feature.ODB % 32);\n                result = (elem < _spPageContextInfo.ExpFeatures.length) &&\n                    (_spPageContextInfo.ExpFeatures[elem] & mask) !== 0;\n            }\n        }\n        if (feature.ODC !== null && !!_odcConfig) {\n            if (typeof feature.ODC === 'boolean') {\n                result = feature.ODC;\n            }\n            else if (_odcFlightInfo && _odcFlightInfo.Ramps && _odcFlightInfo.Ramps[feature.ODC]) {\n                result = true;\n            }\n            else if (_odcConfig && _odcConfig[feature.ODC]) {\n                result = true;\n            }\n        }\n        return result;\n    };\n    /* This feature is always on */\n    Features.On = { ODB: -1, ODC: null, Fallback: true };\n    /* This feature is always off */\n    Features.Off = { ODB: -1, ODC: null, Fallback: false };\n    return Features;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Features;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/features/Features.js\n ** module id = 20\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar PairedEventBase_1 = require('../PairedEventBase');\nvar ResultTypeEnum_1 = require('./ResultTypeEnum');\nvar ResultTypeEnum_2 = require('./ResultTypeEnum');\nexports.ResultTypeEnum = ResultTypeEnum_2.ResultTypeEnum;\nvar Qos = (function (_super) {\n    __extends(Qos, _super);\n    /**\n     * The Qos event constructor\n     * @param data {IQosStartSchema}\n     * -required name - This is the name of the qos event\n     * -optional resultCode - This is result code for the qos event\n     * -optional resultType - This is the result type enum\n     * -optional error - This is the error message to be logged with failed result\n     * -optional extraData - This is the random extra data for the qos event\n     * -optional extraMetrics - Extra data for the qos event that should be logged as aggregatable metrics\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function Qos(data, parent) {\n        _super.call(this, 'Qos,', 'Qos', data, parent);\n    }\n    /**\n     * This is true if the Qos event is enabled\n     */\n    Qos.enabled = function () {\n        return true;\n    };\n    Qos.instrumentPromise = function (startSchema, createPromise, getCompleteSchema, getErrorSchema, timeoutMs, timeoutSchema, parent) {\n        return PairedEventBase_1.PairedEventBase._instrumentPromise(Qos, startSchema, createPromise, getCompleteSchema, getErrorSchema, timeoutMs, timeoutSchema, parent);\n    };\n    Qos.prototype.setStartData = function (data) {\n        this.data.name = this.cleanString(data.name);\n        if (typeof data.resultCode !== \"undefined\") {\n            this.data.resultCode = this.cleanString(data.resultCode);\n        }\n        if (typeof data.resultType !== \"undefined\") {\n            this.data.resultType = data.resultType;\n        }\n        if (typeof data.error !== \"undefined\") {\n            this.data.error = this.cleanString(data.error);\n        }\n        if (typeof data.extraData !== \"undefined\") {\n            this.data.extraData = data.extraData;\n        }\n        if (typeof data.extraMetrics !== \"undefined\") {\n            this.data.extraMetrics = data.extraMetrics;\n        }\n    };\n    Qos.prototype.setEndData = function (data) {\n        if (typeof data.resultCode !== \"undefined\") {\n            this.data.resultCode = this.cleanString(data.resultCode);\n        }\n        this.data.resultType = data.resultType;\n        if (typeof data.error !== \"undefined\") {\n            this.data.error = this.cleanString(data.error);\n        }\n        if (typeof data.extraData !== \"undefined\") {\n            this.data.extraData = data.extraData;\n        }\n        if (typeof data.extraMetrics !== \"undefined\") {\n            this.data.extraMetrics = data.extraMetrics;\n        }\n    };\n    /**\n     * This will end the Qos event\n     * @param data {IQosEndSchema}\n     * -optional resultCode - This is result code for the qos event\n     * -required resultType - This is the result type enum\n     * -optional error - This is the error message to be logged with failed result\n     * -optional extraData - This is the random extra data for the qos event\n     * -optional extraMetrics - Extra data for the qos event that should be logged as aggregatable metrics\n     */\n    Qos.prototype.end = function (data) {\n        return this._end(data);\n    };\n    /**\n     * This writes verbose logs to memory to be uploaded if event ends with failure\n     */\n    Qos.prototype.verbose = function (message) {\n        return this._verbose(message);\n    };\n    /**\n     * Sets a time limit for the scenario. A timeout result will be logged if no end happens in desired timeframe\n     */\n    Qos.prototype.setTimeout = function (ms, data) {\n        return this._setTimeout(ms, data);\n    };\n    /**\n     * The name of the Qos event\n     */\n    Qos.fullName = 'Qos,';\n    /**\n     * The short name of the Qos event\n     */\n    Qos.shortName = 'Qos';\n    /**\n     * This is true if the Qos event is enabled\n     */\n    Qos.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            isKey: true,\n            isMetric: false\n        },\n        resultCode: {\n            type: \"String\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            isMetric: false\n        },\n        resultType: {\n            type: \"ResultTypeEnum\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            baseType: \"Enum\",\n            typeRef: ResultTypeEnum_1.ResultTypeEnum,\n            isMetric: false\n        },\n        error: {\n            type: \"String\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            isMetric: false\n        },\n        extraData: {\n            type: \"Object\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            isMetric: false\n        },\n        extraMetrics: {\n            type: \"Object\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            isMetric: false\n        }\n    };\n    return Qos;\n}(PairedEventBase_1.PairedEventBase));\nexports.Qos = Qos;\nQos.prototype.metadata = Qos.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Qos;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/Qos.event.js\n ** module id = 21\n ** module chunks = 0\n **/","// OneDrive:CoverageThreshold(75)\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar EventBase_1 = require('./EventBase');\nvar Manager_1 = require(\"./Manager\");\nvar ResultTypeEnum_1 = require('./events/ResultTypeEnum');\nvar ErrorHelper_1 = require(\"./ErrorHelper\");\nvar Async_1 = require(\"../async/Async\");\nvar ObjectUtil_1 = require(\"../object/ObjectUtil\");\nvar PairedEventBase = (function (_super) {\n    __extends(PairedEventBase, _super);\n    function PairedEventBase(eventName, shortEventName, data, parent) {\n        _super.call(this, eventName, shortEventName, parent);\n        // Make sure data has a value\n        if (!this.data) {\n            this.data = {};\n        }\n        // Set the data if we have it\n        if (data) {\n            this.setStartData(data);\n        }\n        // Send the start event\n        this._logEvent(EventBase_1.ClonedEventType.Start);\n    }\n    PairedEventBase._instrumentPromise = function (eventConstructor, startSchema, createPromise, getCompleteSchema, getErrorSchema, timeoutMs, timeoutSchema, parent) {\n        var _this = this;\n        var _promise;\n        var _event = new eventConstructor(startSchema, parent);\n        if (timeoutMs) {\n            _event._setTimeout(timeoutMs, timeoutSchema);\n        }\n        var _onComplete = function (result) {\n            var schema;\n            if (getCompleteSchema) {\n                try {\n                    schema = getCompleteSchema(result);\n                }\n                catch (e) {\n                    schema = _event._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Failure, _this.schemaExceptionErrorCode, e.toString());\n                }\n            }\n            else {\n                schema = _event._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Success);\n            }\n            _event._end(schema);\n        };\n        var _onError = function (errorArgs) {\n            var schema;\n            if (getErrorSchema) {\n                try {\n                    schema = getErrorSchema(errorArgs);\n                }\n                catch (e) {\n                    schema = _event._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Failure, _this.schemaExceptionErrorCode, e.toString());\n                }\n            }\n            else {\n                if (errorArgs) {\n                    var failureResultType = (errorArgs instanceof Error && errorArgs.name === \"Canceled\") ?\n                        ResultTypeEnum_1.ResultTypeEnum.ExpectedFailure : ResultTypeEnum_1.ResultTypeEnum.Failure;\n                    schema = _event._generateQosResult(failureResultType, null, ObjectUtil_1.default.safeSerialize(errorArgs));\n                }\n                else {\n                    schema = _event._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Failure);\n                }\n            }\n            _event._end(schema);\n        };\n        try {\n            _promise = createPromise();\n        }\n        catch (e) {\n            _event._end(_event._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Failure, this.promiseCreationFailureErrorCode, e.toString()));\n            throw e;\n        }\n        _promise.then(_onComplete, _onError);\n        return _promise;\n    };\n    PairedEventBase.prototype.setStartData = function (data) {\n        // The start event to copy data that will be overridden\n    };\n    PairedEventBase.prototype.setEndData = function (data) {\n        // The end event to copy data that will be overridden\n    };\n    PairedEventBase.prototype._setTimeout = function (ms, data) {\n        if (!this.async) {\n            this.async = new Async_1.default(this);\n        }\n        this._clearTimeout();\n        if (!data) {\n            data = this._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Failure, PairedEventBase.timeoutErrorCode);\n        }\n        this.async.setTimeout(this._end.bind(this, data), ms);\n    };\n    PairedEventBase.prototype._verbose = function (message) {\n        if (this.endTime) {\n            // event already ended, no need to log anymore\n            return;\n        }\n        if (this._isQosEvent) {\n            var qosSchema = this.data;\n            ErrorHelper_1.default.verbose(message, qosSchema.name);\n        }\n    };\n    PairedEventBase.prototype._end = function (data) {\n        // Make sure end can only be called once\n        if (!this.endTime) {\n            if (data) {\n                this.setEndData(data);\n            }\n            // Set the end time\n            this.endTime = Manager_1.Manager.getTime();\n            // Log the event end\n            this._logEvent(EventBase_1.ClonedEventType.End);\n            // If this is a QOS event log and contains an error message trigger the upload of logs by calling\n            // the ErrorHelper\n            if (this._isQosEvent) {\n                var qosSchema = this.data;\n                if (qosSchema.error) {\n                    ErrorHelper_1.default.log(qosSchema.error, qosSchema.name, qosSchema.resultCode, qosSchema.resultType);\n                }\n            }\n            this._clearTimeout();\n        }\n    };\n    PairedEventBase.prototype._clearTimeout = function () {\n        if (this.async && this.timeoutId) {\n            this.async.clearTimeout(this.timeoutId);\n            this.timeoutId = null;\n        }\n    };\n    Object.defineProperty(PairedEventBase.prototype, \"_isQosEvent\", {\n        get: function () {\n            return this.eventName.indexOf('Qos,') >= 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PairedEventBase.prototype._generateQosResult = function (resultType, resultCode, error) {\n        var schema = {\n            resultType: resultType\n        };\n        if (resultCode) {\n            schema.resultCode = resultCode;\n        }\n        if (error) {\n            schema.error = error;\n        }\n        return schema;\n    };\n    PairedEventBase.fullName = 'PairedEventBase,';\n    PairedEventBase.shortName = 'PairedEventBase';\n    PairedEventBase.schemaExceptionErrorCode = 'GetSchemaException';\n    PairedEventBase.promiseCreationFailureErrorCode = 'PromiseCreationFailed';\n    PairedEventBase.timeoutErrorCode = 'Timeout';\n    return PairedEventBase;\n}(EventBase_1.EventBase));\nexports.PairedEventBase = PairedEventBase;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/PairedEventBase.js\n ** module id = 22\n ** module chunks = 0\n **/","\"use strict\";\n(function (ResultTypeEnum) {\n    ResultTypeEnum[ResultTypeEnum[\"Success\"] = 0] = \"Success\";\n    ResultTypeEnum[ResultTypeEnum[\"Failure\"] = 1] = \"Failure\";\n    ResultTypeEnum[ResultTypeEnum[\"ExpectedFailure\"] = 2] = \"ExpectedFailure\";\n})(exports.ResultTypeEnum || (exports.ResultTypeEnum = {}));\nvar ResultTypeEnum = exports.ResultTypeEnum;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/ResultTypeEnum.js\n ** module id = 23\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar CaughtError_event_1 = require(\"./events/CaughtError.event\");\nvar QosError_event_1 = require(\"./events/QosError.event\");\nvar Verbose_event_1 = require(\"./events/Verbose.event\");\nvar CircularBuffer_1 = require(\"../store/CircularBuffer\");\nvar ObjectUtil_1 = require('../object/ObjectUtil');\nvar MAX_VERBOSE_LOGS = 50;\nvar ErrorHelper = (function () {\n    function ErrorHelper() {\n    }\n    ErrorHelper.verbose = function (message, eventName) {\n        ErrorHelper._verboseLogs.push({\n            name: eventName,\n            message: message\n        });\n    };\n    ErrorHelper.log = function (error, eventName, resultCode, resultType) {\n        var message = \"\";\n        if (error) {\n            if (error.message) {\n                message = error.message;\n            }\n            else if (error.description) {\n                message = error.description;\n            }\n            else if (typeof (error) === 'object') {\n                message = ObjectUtil_1.default.safeSerialize(error);\n            }\n            else if (error.toString) {\n                message = error.toString();\n            }\n        }\n        var stack = error && error.stack ? error.stack : \"\";\n        var schema;\n        while (Boolean(schema = ErrorHelper._verboseLogs.popOldest())) {\n            Verbose_event_1.Verbose.logData(schema);\n        }\n        if (error && !error._handled) {\n            if (eventName) {\n                QosError_event_1.QosError.logData({\n                    name: eventName,\n                    resultCode: resultCode,\n                    resultType: resultType,\n                    message: message,\n                    stack: stack\n                });\n            }\n            else {\n                CaughtError_event_1.CaughtError.logData({\n                    message: message,\n                    stack: stack\n                });\n            }\n        }\n    };\n    ErrorHelper._verboseLogs = new CircularBuffer_1.default(MAX_VERBOSE_LOGS);\n    return ErrorHelper;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ErrorHelper;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/ErrorHelper.js\n ** module id = 24\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar CaughtError = (function (_super) {\n    __extends(CaughtError, _super);\n    /**\n     * The CaughtError event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function CaughtError(parent) {\n        _super.call(this, 'CaughtError,', 'CaughtError', parent);\n    }\n    /**\n     * This is true if the CaughtError event is enabled\n     */\n    CaughtError.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single CaughtError event\n     * @param data {ICaughtErrorSingleSchema}\n     * -required message - This is the error message returned during the window.onerror handler\n     * -required stack - This is the stack trace of the error returned during the window.onerror handler\n     * @param parent {IEvent} The optional parent for this event\n     */\n    CaughtError.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(CaughtError, data, parent);\n    };\n    /**\n     * This is false when CaughtError event does not require a parent event\n     */\n    CaughtError.prototype.requiresParent = function () {\n        return false;\n    };\n    /**\n     * This is true when CaughtError event is a critical event\n     */\n    CaughtError.prototype.isCritical = function () {\n        return true;\n    };\n    CaughtError.prototype.setSingleData = function (data) {\n        this.data.message = this.cleanString(data.message);\n        this.data.stack = this.cleanString(data.stack);\n    };\n    /**\n     * The name of the CaughtError event\n     */\n    CaughtError.fullName = 'CaughtError,';\n    /**\n     * The short name of the CaughtError event\n     */\n    CaughtError.shortName = 'CaughtError';\n    /**\n     * This is true if the CaughtError event is enabled\n     */\n    CaughtError.metadata = {\n        message: {\n            type: \"String\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        },\n        stack: {\n            type: \"String\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        },\n        unMinStack: {\n            type: \"Object\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        }\n    };\n    return CaughtError;\n}(SingleEventBase_1.SingleEventBase));\nexports.CaughtError = CaughtError;\nCaughtError.prototype.metadata = CaughtError.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = CaughtError;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/CaughtError.event.js\n ** module id = 25\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar ResultTypeEnum_1 = require('./ResultTypeEnum');\nvar ResultTypeEnum_2 = require('./ResultTypeEnum');\nexports.ResultTypeEnum = ResultTypeEnum_2.ResultTypeEnum;\nvar QosError = (function (_super) {\n    __extends(QosError, _super);\n    /**\n     * The QosError event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function QosError(parent) {\n        _super.call(this, 'QosError,CaughtError,', 'QosError', parent);\n    }\n    /**\n     * This is true if the QosError event is enabled\n     */\n    QosError.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single QosError event\n     * @param data {IQosErrorSingleSchema}\n     * -required name - Qos event name\n     * -optional resultCode - Qos event result code\n     * -optional resultType - This is the result type enum\n     * -required message - This is the error message returned during the window.onerror handler\n     * -required stack - This is the stack trace of the error returned during the window.onerror handler\n     * @param parent {IEvent} The optional parent for this event\n     */\n    QosError.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(QosError, data, parent);\n    };\n    /**\n     * This is true when QosError event is a critical event\n     */\n    QosError.prototype.isCritical = function () {\n        return true;\n    };\n    QosError.prototype.setSingleData = function (data) {\n        this.data.name = this.cleanString(data.name);\n        if (typeof data.resultCode !== \"undefined\") {\n            this.data.resultCode = this.cleanString(data.resultCode);\n        }\n        if (typeof data.resultType !== \"undefined\") {\n            this.data.resultType = data.resultType;\n        }\n        this.data.message = this.cleanString(data.message);\n        this.data.stack = this.cleanString(data.stack);\n    };\n    /**\n     * The name of the QosError event\n     */\n    QosError.fullName = 'QosError,CaughtError,';\n    /**\n     * The short name of the QosError event\n     */\n    QosError.shortName = 'QosError';\n    /**\n     * This is true if the QosError event is enabled\n     */\n    QosError.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"QosError\",\n            definedInFullName: \"QosError,\",\n            isKey: true,\n            isMetric: false\n        },\n        resultCode: {\n            type: \"String\",\n            definedInName: \"QosError\",\n            definedInFullName: \"QosError,\",\n            isMetric: false\n        },\n        resultType: {\n            type: \"ResultTypeEnum\",\n            definedInName: \"QosError\",\n            definedInFullName: \"QosError,\",\n            baseType: \"Enum\",\n            typeRef: ResultTypeEnum_1.ResultTypeEnum,\n            isMetric: false\n        },\n        message: {\n            type: \"String\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        },\n        stack: {\n            type: \"String\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        },\n        unMinStack: {\n            type: \"Object\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        }\n    };\n    return QosError;\n}(SingleEventBase_1.SingleEventBase));\nexports.QosError = QosError;\nQosError.prototype.metadata = QosError.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = QosError;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/QosError.event.js\n ** module id = 26\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar Verbose = (function (_super) {\n    __extends(Verbose, _super);\n    /**\n     * The Verbose event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function Verbose(parent) {\n        _super.call(this, 'Verbose,', 'Verbose', parent);\n    }\n    /**\n     * This is true if the Verbose event is enabled\n     */\n    Verbose.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single Verbose event\n     * @param data {IVerboseSingleSchema}\n     * -optional name - This is the name of the qos event this verbose log correlates with\n     * -required message - This is the verbose message\n     * @param parent {IEvent} The optional parent for this event\n     */\n    Verbose.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(Verbose, data, parent);\n    };\n    /**\n     * This is false when Verbose event does not require a parent event\n     */\n    Verbose.prototype.requiresParent = function () {\n        return false;\n    };\n    Verbose.prototype.setSingleData = function (data) {\n        if (typeof data.name !== \"undefined\") {\n            this.data.name = this.cleanString(data.name);\n        }\n        this.data.message = this.cleanString(data.message);\n    };\n    /**\n     * The name of the Verbose event\n     */\n    Verbose.fullName = 'Verbose,';\n    /**\n     * The short name of the Verbose event\n     */\n    Verbose.shortName = 'Verbose';\n    /**\n     * This is true if the Verbose event is enabled\n     */\n    Verbose.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"Verbose\",\n            definedInFullName: \"Verbose,\",\n            isKey: true,\n            isMetric: false\n        },\n        message: {\n            type: \"String\",\n            definedInName: \"Verbose\",\n            definedInFullName: \"Verbose,\",\n            isMetric: false\n        }\n    };\n    return Verbose;\n}(SingleEventBase_1.SingleEventBase));\nexports.Verbose = Verbose;\nVerbose.prototype.metadata = Verbose.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Verbose;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/Verbose.event.js\n ** module id = 27\n ** module chunks = 0\n **/","// OneDrive:CoverageThreshold(100)\n\"use strict\";\nvar CircularBuffer = (function () {\n    function CircularBuffer(size) {\n        this._length = 0;\n        this._head = -1;\n        if (size <= 0) {\n            throw new Error(\"Size must be positive\");\n        }\n        this._size = size;\n        this._buffer = new Array(size);\n    }\n    CircularBuffer.prototype.push = function (item) {\n        if (this._length < this._size) {\n            this._length++;\n        }\n        this._head++;\n        if (this._head === this._size) {\n            this._head = 0;\n        }\n        this._buffer[this._head] = item;\n    };\n    CircularBuffer.prototype.popOldest = function () {\n        if (this._length === 0) {\n            return null;\n        }\n        var tail = (this._head - this._length + 1 + this._size) % this._size;\n        this._length--;\n        return this._buffer[tail];\n    };\n    return CircularBuffer;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = CircularBuffer;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/store/CircularBuffer.js\n ** module id = 28\n ** module chunks = 0\n **/","/**\n * Bugs often appear in async code when stuff gets disposed, but async operations don't get canceled.\n * This Async helper class solves these issues by tying async code to the lifetime of a disposable object.\n *\n * Usage: Anything class extending from BaseModel can access this helper via this.async. Otherwise create a\n * new instance of the class and remember to call dispose() during your code's dispose handler.\n */\n\"use strict\";\nfunction noop() {\n    'use strict';\n    // Do nothing.\n}\nvar Async = (function () {\n    function Async(parent, onError) {\n        this._isDisposed = false;\n        this._parent = parent || null;\n        this._onErrorHandler = onError;\n        this._timeoutIds = null;\n        this._immediateIds = null;\n        this._animationFrameIds = null;\n        this._intervalIds = null;\n    }\n    /**\n     * Dispose function, clears all async operations.\n     */\n    Async.prototype.dispose = function () {\n        if (this._isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        this._parent = null;\n        // Clear timeouts.\n        if (this._timeoutIds) {\n            for (var _i = 0, _a = Object.keys(this._timeoutIds); _i < _a.length; _i++) {\n                var id = _a[_i];\n                this.clearTimeout(Number(id));\n            }\n            this._timeoutIds = null;\n        }\n        // Clear immediates.\n        if (this._immediateIds) {\n            for (var _b = 0, _c = Object.keys(this._immediateIds); _b < _c.length; _b++) {\n                var id = _c[_b];\n                this.clearImmediate(Number(id));\n            }\n            this._immediateIds = null;\n        }\n        // Clear intervals.\n        if (this._intervalIds) {\n            for (var _d = 0, _e = Object.keys(this._intervalIds); _d < _e.length; _d++) {\n                var id = _e[_d];\n                this.clearInterval(Number(id));\n            }\n            this._intervalIds = null;\n        }\n        // Clear animation frames.\n        if (this._animationFrameIds) {\n            for (var _f = 0, _g = Object.keys(this._animationFrameIds); _f < _g.length; _f++) {\n                var id = _g[_f];\n                this.cancelAnimationFrame(Number(id));\n            }\n            this._animationFrameIds = null;\n        }\n    };\n    /**\n     * SetTimeout override, which will auto cancel the timeout during dispose.\n     * @param callback Callback to execute.\n     * @param duration Duration in milliseconds.\n     * @return The setTimeout id.\n     */\n    Async.prototype.setTimeout = function (callback, duration) {\n        var _this = this;\n        var timeoutId = 0;\n        if (!this._isDisposed) {\n            if (!this._timeoutIds) {\n                this._timeoutIds = {};\n            }\n            /* tslint:disable:ban-native-functions */\n            timeoutId = setTimeout(function () {\n                // Time to execute the timeout, enqueue it as a foreground task to be executed.\n                try {\n                    // Now delete the record and call the callback.\n                    delete _this._timeoutIds[timeoutId];\n                    callback.apply(_this._parent);\n                }\n                catch (e) {\n                    if (_this._onErrorHandler) {\n                        _this._onErrorHandler(e);\n                    }\n                }\n            }, duration);\n            /* tslint:enable:ban-native-functions */\n            this._timeoutIds[timeoutId] = true;\n        }\n        return timeoutId;\n    };\n    /**\n     * Clears the timeout.\n     * @param id Id to cancel.\n     */\n    Async.prototype.clearTimeout = function (id) {\n        if (this._timeoutIds && this._timeoutIds[id]) {\n            /* tslint:disable:ban-native-functions */\n            clearTimeout(id);\n            delete this._timeoutIds[id];\n        }\n    };\n    /**\n     * SetImmediate override, which will auto cancel the immediate during dispose.\n     * @param callback Callback to execute.\n     * @return The setTimeout id.\n     */\n    Async.prototype.setImmediate = function (callback) {\n        var _this = this;\n        var immediateId = 0;\n        if (!this._isDisposed) {\n            if (!this._immediateIds) {\n                this._immediateIds = {};\n            }\n            /* tslint:disable:ban-native-functions */\n            var setImmediateCallback = function () {\n                // Time to execute the timeout, enqueue it as a foreground task to be executed.\n                try {\n                    // Now delete the record and call the callback.\n                    delete _this._immediateIds[immediateId];\n                    callback.apply(_this._parent);\n                }\n                catch (e) {\n                    _this._logError(e);\n                }\n            };\n            immediateId = window.setImmediate ? window.setImmediate(setImmediateCallback) : window.setTimeout(setImmediateCallback, 0);\n            /* tslint:enable:ban-native-functions */\n            this._immediateIds[immediateId] = true;\n        }\n        return immediateId;\n    };\n    /**\n     * Clears the immediate.\n     * @param id Id to cancel.\n     */\n    Async.prototype.clearImmediate = function (id) {\n        if (this._immediateIds && this._immediateIds[id]) {\n            /* tslint:disable:ban-native-functions */\n            window.clearImmediate ? window.clearImmediate(id) : window.clearTimeout(id);\n            delete this._immediateIds[id];\n        }\n    };\n    /**\n     * SetInterval override, which will auto cancel the timeout during dispose.\n     * @param callback Callback to execute.\n     * @param duration Duration in milliseconds.\n     * @return The setTimeout id.\n     */\n    Async.prototype.setInterval = function (callback, duration) {\n        var _this = this;\n        var intervalId = 0;\n        if (!this._isDisposed) {\n            if (!this._intervalIds) {\n                this._intervalIds = {};\n            }\n            /* tslint:disable:ban-native-functions */\n            intervalId = setInterval(function () {\n                // Time to execute the interval callback, enqueue it as a foreground task to be executed.\n                try {\n                    callback.apply(_this._parent);\n                }\n                catch (e) {\n                    _this._logError(e);\n                }\n            }, duration);\n            /* tslint:enable:ban-native-functions */\n            this._intervalIds[intervalId] = true;\n        }\n        return intervalId;\n    };\n    /**\n     * Clears the interval.\n     * @param id Id to cancel.\n     */\n    Async.prototype.clearInterval = function (id) {\n        if (this._intervalIds && this._intervalIds[id]) {\n            /* tslint:disable:ban-native-functions */\n            clearInterval(id);\n            delete this._intervalIds[id];\n        }\n    };\n    /**\n     * Creates a function that, when executed, will only call the func function at most once per\n     * every wait milliseconds. Provide an options object to indicate that func should be invoked\n     * on the leading and/or trailing edge of the wait timeout. Subsequent calls to the throttled\n     * function will return the result of the last func call.\n     *\n     * Note: If leading and trailing options are true func will be called on the trailing edge of\n     * the timeout only if the the throttled function is invoked more than once during the wait timeout.\n     *\n     * @param func The function to throttle.\n     * @param wait The number of milliseconds to throttle executions to. Defaults to 0.\n     * @param options The options object.\n     * @param options.leading Specify execution on the leading edge of the timeout.\n     * @param options.trailing Specify execution on the trailing edge of the timeout.\n     * @return The new throttled function.\n     */\n    Async.prototype.throttle = function (func, wait, options) {\n        var _this = this;\n        if (this._isDisposed) {\n            return noop;\n        }\n        var waitMS = wait || 0;\n        var leading = true;\n        var trailing = true;\n        var lastExecuteTime = 0;\n        var lastResult;\n        var lastArgs;\n        var timeoutId = null;\n        if (options && typeof (options.leading) === 'boolean') {\n            leading = options.leading;\n        }\n        if (options && typeof (options.trailing) === 'boolean') {\n            trailing = options.trailing;\n        }\n        var callback = function (userCall) {\n            var now = (new Date()).getTime();\n            var delta = now - lastExecuteTime;\n            var waitLength = leading ? waitMS - delta : waitMS;\n            if (delta >= waitMS && (!userCall || leading)) {\n                lastExecuteTime = now;\n                if (timeoutId) {\n                    _this.clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                lastResult = func.apply(_this._parent, lastArgs);\n            }\n            else if (timeoutId === null && trailing) {\n                timeoutId = _this.setTimeout(callback, waitLength);\n            }\n            return lastResult;\n        };\n        var resultFunction = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            lastArgs = args;\n            return callback(true);\n        };\n        return resultFunction;\n    };\n    /**\n     * Creates a function that will delay the execution of func until after wait milliseconds have\n     * elapsed since the last time it was invoked. Provide an options object to indicate that func\n     * should be invoked on the leading and/or trailing edge of the wait timeout. Subsequent calls\n     * to the debounced function will return the result of the last func call.\n     *\n     * Note: If leading and trailing options are true func will be called on the trailing edge of\n     * the timeout only if the the debounced function is invoked more than once during the wait\n     * timeout.\n     *\n     * @param func The function to debounce.\n     * @param wait The number of milliseconds to delay.\n     * @param options The options object.\n     * @param options.leading Specify execution on the leading edge of the timeout.\n     * @param options.maxWait The maximum time func is allowed to be delayed before it's called.\n     * @param options.trailing Specify execution on the trailing edge of the timeout.\n     * @return The new debounced function.\n     */\n    Async.prototype.debounce = function (func, wait, options) {\n        var _this = this;\n        if (this._isDisposed) {\n            return noop;\n        }\n        var waitMS = wait || 0;\n        var leading = false;\n        var trailing = true;\n        var maxWait = null;\n        var lastCallTime = 0;\n        var lastExecuteTime = (new Date()).getTime();\n        var lastResult;\n        var lastArgs;\n        var timeoutId = null;\n        if (options && typeof (options.leading) === 'boolean') {\n            leading = options.leading;\n        }\n        if (options && typeof (options.trailing) === 'boolean') {\n            trailing = options.trailing;\n        }\n        if (options && typeof (options.maxWait) === 'number' && !isNaN(options.maxWait)) {\n            maxWait = options.maxWait;\n        }\n        var callback = function (userCall) {\n            var now = (new Date()).getTime();\n            var executeImmediately = false;\n            if (userCall) {\n                if (leading && now - lastCallTime >= waitMS) {\n                    executeImmediately = true;\n                }\n                lastCallTime = now;\n            }\n            var delta = now - lastCallTime;\n            var waitLength = waitMS - delta;\n            var maxWaitDelta = now - lastExecuteTime;\n            var maxWaitExpired = false;\n            if (maxWait !== null) {\n                // maxWait only matters when there is a pending callback\n                if (maxWaitDelta >= maxWait && timeoutId) {\n                    maxWaitExpired = true;\n                }\n                else {\n                    waitLength = Math.min(waitLength, maxWait - maxWaitDelta);\n                }\n            }\n            if (delta >= waitMS || maxWaitExpired || executeImmediately) {\n                if (timeoutId) {\n                    _this.clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                lastExecuteTime = now;\n                lastResult = func.apply(_this._parent, lastArgs);\n            }\n            else if ((timeoutId === null || !userCall) && trailing) {\n                timeoutId = _this.setTimeout(callback, waitLength);\n            }\n            return lastResult;\n        };\n        var resultFunction = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            lastArgs = args;\n            return callback(true);\n        };\n        return resultFunction;\n    };\n    Async.prototype.requestAnimationFrame = function (callback) {\n        var _this = this;\n        var animationFrameId = 0;\n        if (!this._isDisposed) {\n            if (!this._animationFrameIds) {\n                this._animationFrameIds = {};\n            }\n            /* tslint:disable:ban-native-functions */\n            var animationFrameCallback = function () {\n                try {\n                    // Now delete the record and call the callback.\n                    delete _this._animationFrameIds[animationFrameId];\n                    callback.apply(_this._parent);\n                }\n                catch (e) {\n                    _this._logError(e);\n                }\n            };\n            animationFrameId = window.requestAnimationFrame ? window.requestAnimationFrame(animationFrameCallback) : window.setTimeout(animationFrameCallback, 0);\n            /* tslint:enable:ban-native-functions */\n            this._animationFrameIds[animationFrameId] = true;\n        }\n        return animationFrameId;\n    };\n    Async.prototype.cancelAnimationFrame = function (id) {\n        if (this._animationFrameIds && this._animationFrameIds[id]) {\n            /* tslint:disable:ban-native-functions */\n            window.cancelAnimationFrame ? window.cancelAnimationFrame(id) : window.clearTimeout(id);\n            /* tslint:enable:ban-native-functions */\n            delete this._animationFrameIds[id];\n        }\n    };\n    Async.prototype._logError = function (e) {\n        if (this._onErrorHandler) {\n            this._onErrorHandler(e);\n        }\n    };\n    return Async;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Async;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/async/Async.js\n ** module id = 29\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar ErrorHelper_1 = require(\"../ErrorHelper\");\nvar BeaconBase_1 = require(\"../BeaconBase\");\nvar BeaconCache_1 = require(\"./BeaconCache\");\nvar BaseDataStore_1 = require(\"../../models/store/BaseDataStore\");\nvar DataStoreCachingType_1 = require(\"../../models/store/DataStoreCachingType\");\nvar LogProcessor_1 = require(\"./LogProcessor\");\nvar Beacon;\n(function (Beacon) {\n    \"use strict\";\n    var LOGGING_REQUEST_TIMEOUT = 10000; // 10 seconds\n    var FLUSH_TIMEOUT = 5000; // 5 seconds\n    var BEACON_BATCH_SIZE = 100;\n    var BEACON_MAX_CRITICAL_FLUSH_INTERVAL_SIZE = 5000; // 5 seconds\n    // SLAPI\n    var SLAPI_STREAM_ID = 1234;\n    var SLAPI_JSON_VERSION = \"V1\";\n    var SLAPI_IDX_VERSION = 0;\n    var SLAPI_IDX_EVENTNAME = 1;\n    var SLAPI_IDX_PROPERTY_START = 2;\n    // BSQM Constants\n    var SLAPI_MAX_DATA_SIZE = 64 * 1024;\n    var SLAPI_MAX_ROWS_IN_STREAM = 1000;\n    var SLAPI_SIZE_DWORD = 4;\n    var SLAPI_SIZE_DATAPOINT_ENTRY = 3 * 4;\n    var SLAPI_SIZE_STREAM_ENTRY = 3 * 4;\n    var SLAPI_MS_BTN_EPOCHS = 11644473600000; // Milliseconds between 1/1/1070 and 1/1/1601\n    var SLAPI_MAX_INT32 = 0xFFFFFFFF;\n    var SLAPI_MAX_SQM_DATAID = 0x7FFFFFFF;\n    var SLAPI_DATAKEY_SESSION_NORMAL = 0;\n    var SLAPI_DATAKEY_SESSION_CONTINUATION = 1;\n    var SLAPI_FLAG_BSQM_ENABLED = 0x00000010;\n    // const SLAPI_FLAG_QOS_ENABLED = 0x00000020;\n    // SQM Datapoints\n    var SLAPI_DATAID_BSQM_MAXSTREAMROWSSTREAMID = 8048;\n    var SLAPI_DATAID_BSQM_MAXSTREAMROWS = 7993;\n    var SLAPI_DATAID_SESSION_TYPE = 60;\n    var WSAStreamRow = (function () {\n        function WSAStreamRow(values) {\n            this.Tic = 0;\n            this.Vals = null;\n            var _this = this;\n            _this.Tic = _getTicks32();\n            var numValues = values.length;\n            _this.Vals = new Array(numValues);\n            for (var i = 0; i < numValues; i++) {\n                _this.Vals[i] = values[i];\n            }\n        }\n        return WSAStreamRow;\n    }());\n    var WSADatapoint = (function () {\n        function WSADatapoint(id, value) {\n            var _this = this;\n            _this.Id = id;\n            _this.Val = value;\n            _this.Tic = _getTicks32();\n        }\n        return WSADatapoint;\n    }());\n    var WSAStream = (function () {\n        function WSAStream(id, width) {\n            var _this = this;\n            _this.Id = id;\n            _this.Width = width;\n            _this.Rows = new Array(0);\n        }\n        return WSAStream;\n    }());\n    var WSAData = (function () {\n        function WSAData() {\n            this.StartTime = null;\n            this.EndTime = null;\n            this.Flags = 0;\n            this.wsaDatapoints = null;\n            this.wsaStreams = null;\n            var _this = this;\n            _this.StartTime = _getTicks64();\n            _this.EndTime = null;\n            _this.CorrelationId = null;\n            _this.Flags = SLAPI_FLAG_BSQM_ENABLED;\n            _this.wsaDatapoints = new Array(0);\n            _this.wsaStreams = new Array(0);\n        }\n        return WSAData;\n    }());\n    var _startTicks = 0;\n    var _wsaData = null;\n    var _numDatapoints = 0;\n    var _numStreams = 0;\n    var _numStreamBytes = 0;\n    var _dictStreams = null;\n    var _dictDatapoints = null;\n    var _streamRowCount = 0;\n    var _isDataAvailableForUpload = false;\n    var _isContinuation = false;\n    var _isInitialized = false;\n    var _emptyCorrelationId = '00000000-0000-0000-0000-000000000000';\n    var _eventNamePrefix = \"\";\n    var _store = null;\n    var _storeSize = null;\n    var _instance = null;\n    var _handlers = null;\n    if (DEBUG) {\n        try {\n            console.log(\"Beacon: To disable logging to the console set \\\"window.disableBeaconLogToConsole = true\\\" in the debug window\");\n        }\n        catch (error) {\n        }\n    }\n    var OdbBeacon = (function (_super) {\n        __extends(OdbBeacon, _super);\n        function OdbBeacon(eventNamePrefix, handlers, cacheEnabled) {\n            _super.call(this, '/_layouts/15/WsaUpload.ashx', BEACON_BATCH_SIZE, [FLUSH_TIMEOUT], true, /* useSlidingWindow */ BEACON_MAX_CRITICAL_FLUSH_INTERVAL_SIZE, BeaconBase_1.default.DEFAULT_TOTAL_RETRIES, BeaconBase_1.default.DEFAULT_RESET_TOTAL_RETRIES_AFTER, cacheEnabled /* ignorePreviousEvents */);\n            _eventNamePrefix = eventNamePrefix;\n            _handlers = handlers;\n            _store = new BaseDataStore_1.default(LogProcessor_1.default.STORE_KEY, DEBUG ? DataStoreCachingType_1.default.sharedMemory : DataStoreCachingType_1.default.session);\n            _storeSize = _store.getValue(LogProcessor_1.default.STORE_SIZE_KEY);\n            if (!_storeSize) {\n                _storeSize = 0;\n            }\n        }\n        OdbBeacon.prototype.beacon = function () {\n            if (!DEBUG && location.hostname !== \"localhost\") {\n                var json = _getUploadData();\n                if (json != null && json.length > 0) {\n                    var headers = {};\n                    headers[\"Content-Type\"] = \"application/json\";\n                    this.sendBeacon(json, headers, LOGGING_REQUEST_TIMEOUT);\n                }\n            }\n            else if (!window[\"disableBeaconLogToConsole\"]) {\n                try {\n                    console.log(\"Beacon: Uploaded to COSMOS (To disable logging to the console set \\\"window.disableBeaconLogToConsole = true\\\" in the debug window)\");\n                }\n                catch (error) {\n                }\n            }\n            // Set session storage size to zero instead of clearing\n            _storeSize = 0;\n            _store.setValue(LogProcessor_1.default.STORE_SIZE_KEY, _storeSize);\n        };\n        OdbBeacon.prototype._createBeaconRequest = function (events) {\n            // grab the CorrelationId\n            var spPageContextInfo = window['_spPageContextInfo'];\n            //TODO: decide if we want to generate unique correlationid\n            // or keep setting it to server correlationid\n            if (spPageContextInfo !== undefined && spPageContextInfo !== null) {\n                _SetCorrelationId(spPageContextInfo.CorrelationId);\n            }\n            else {\n                _SetCorrelationId(_emptyCorrelationId);\n            }\n            // Converts to SP logging format\n            for (var x = 0; x < events.length; x++) {\n                var event = events[x];\n                LogProcessor_1.default.processAndLogEvent({\n                    event: event,\n                    logFunc: function (streamName, dictProperties) {\n                        _WriteLog(streamName, dictProperties);\n                    },\n                    eventNamePrefix: _eventNamePrefix,\n                    handlers: _handlers\n                });\n            }\n            this.beacon();\n        };\n        OdbBeacon.prototype._onNewEvent = function (event) {\n            // BeaconCache puts every new event to the session storage so that Sharepoint can upload it for us\n            // if user navigates away before Beacon event. So we do nothing here.\n        };\n        return OdbBeacon;\n    }(BeaconBase_1.default));\n    function addToLoggingManager(eventNamePrefix, handlers) {\n        if (!_instance) {\n            var cacheEnabled = false;\n            if (BeaconCache_1.default.instance) {\n                eventNamePrefix = BeaconCache_1.default.eventNamePrefix;\n                handlers = BeaconCache_1.default.handlers;\n                cacheEnabled = true;\n            }\n            if (!eventNamePrefix || !handlers) {\n                throw new Error(\"You have to pass in eventNamePrefix and IBeaconHandlers object if no BeaconCache present.\");\n            }\n            _instance = new OdbBeacon(eventNamePrefix, handlers, cacheEnabled);\n            // read any events Sharepoint (or BeaconCache) put into session storage but haven't uploaded\n            for (var i = 0; i < _storeSize; i++) {\n                var item = _store.getValue(i.toString());\n                if (!item || !item['name'] || !item['props']) {\n                    continue;\n                }\n                _WriteLog(item['name'], item['props']);\n            }\n        }\n        else {\n            throw new Error(\"The beacon has already been added to the logging manager with event name prefix \" + _eventNamePrefix + \".\");\n        }\n    }\n    Beacon.addToLoggingManager = addToLoggingManager;\n    function _initialize() {\n        if (_isInitialized) {\n            return;\n        }\n        _wsaData = new WSAData();\n        _dictStreams = new Array(0);\n        _dictDatapoints = new Array(0);\n        _createStream(SLAPI_STREAM_ID, 1);\n        _isInitialized = true;\n    }\n    function _createStream(streamId, width) {\n        if (!Boolean(_dictStreams[streamId])) {\n            var wsaStream = new WSAStream(streamId, width);\n            var idxStream = _numStreams;\n            _wsaData.wsaStreams[idxStream] = wsaStream;\n            _numStreams++;\n            _numStreamBytes += SLAPI_SIZE_STREAM_ENTRY;\n            _dictStreams[streamId] = idxStream;\n        }\n    }\n    function _addToStream(streamId, dictValues) {\n        try {\n            var wsaStreamRow = new WSAStreamRow(dictValues);\n            if (_isMaxSizeReachedCheck()) {\n                return;\n            }\n            _isDataAvailableForUpload = true;\n            _setDatapoint(SLAPI_DATAID_BSQM_MAXSTREAMROWSSTREAMID, streamId);\n            var wsaStream = _wsaData.wsaStreams[_dictStreams[streamId]];\n            if (Boolean(wsaStream)) {\n                if (_streamRowCount < SLAPI_MAX_ROWS_IN_STREAM) {\n                    wsaStream.Rows[_streamRowCount++] = wsaStreamRow;\n                    _numStreamBytes += _getTotalBytesForRow(wsaStreamRow);\n                    _setDatapoint(SLAPI_DATAID_BSQM_MAXSTREAMROWS, _streamRowCount); // update row count datapoint\n                }\n                else {\n                    throw (\"Beacon: MAX_ROWS_IN_STREAM exceeded for stream ID \" + String(streamId));\n                }\n            }\n        }\n        catch (e) {\n            ErrorHelper_1.default.log(e);\n        }\n    }\n    function _getTotalBytesForRow(row) {\n        var numTotalBytes = SLAPI_SIZE_DWORD;\n        for (var i = 0; i < row.Vals.length; i++) {\n            var value = String(row.Vals[i]);\n            numTotalBytes += value.length * 2; // A JavaScript char is 16 bit 2 byte\n        }\n        numTotalBytes += (row.Vals.length - 1) * 6; // plus the commas and quotes when serialized\n        return numTotalBytes;\n    }\n    function _setDatapoint(datapointId, datapointValue) {\n        if (datapointId < 1 || datapointId > SLAPI_MAX_SQM_DATAID) {\n            return;\n        }\n        if (datapointValue < 0 || datapointValue > SLAPI_MAX_INT32) {\n            return;\n        }\n        var savedDatapoint = null;\n        var idxDP = _dictDatapoints[datapointId];\n        if (Boolean(idxDP)) {\n            savedDatapoint = _wsaData.wsaDatapoints[idxDP];\n        }\n        if (savedDatapoint == null) {\n            var datapoint = new WSADatapoint(datapointId, datapointValue);\n            var idxDatapoint = _numDatapoints;\n            _wsaData.wsaDatapoints[idxDatapoint] = datapoint;\n            _dictDatapoints[datapointId] = idxDatapoint;\n            _numDatapoints++;\n        }\n        else {\n            savedDatapoint.Val = datapointValue;\n        }\n    }\n    function _uploadData() {\n        if (_wsaData == null) {\n            return \"\";\n        }\n        try {\n            if (_isDataAvailableForUpload) {\n                // Add final datapoints\n                if (Boolean(_isContinuation)) {\n                    _setDatapoint(SLAPI_DATAID_SESSION_TYPE, SLAPI_DATAKEY_SESSION_CONTINUATION);\n                }\n                else {\n                    _setDatapoint(SLAPI_DATAID_SESSION_TYPE, SLAPI_DATAKEY_SESSION_NORMAL);\n                    _isContinuation = true;\n                }\n                _wsaData.EndTime = _getTicks64();\n                var jsonString = null;\n                try {\n                    jsonString = JSON.stringify(_wsaData);\n                }\n                catch (e) {\n                    ErrorHelper_1.default.log(e);\n                }\n                // Initialize the session data for continuation session\n                _initContinuationSession();\n                return jsonString;\n            }\n        }\n        catch (e) {\n            ErrorHelper_1.default.log(e);\n            return \"\";\n        }\n    }\n    function _initContinuationSession() {\n        _dictStreams = new Array(0);\n        _dictDatapoints = new Array(0);\n        _numDatapoints = 0;\n        _numStreams = 0;\n        _streamRowCount = 0;\n        _numStreamBytes = 0;\n        _numDatapoints = 0;\n        var sessID = _wsaData.CorrelationId;\n        _wsaData = new WSAData();\n        _wsaData.CorrelationId = sessID;\n        _createStream(SLAPI_STREAM_ID, 1);\n        _isDataAvailableForUpload = false;\n    }\n    function _isMaxSizeReachedCheck() {\n        var size = _numDatapoints * SLAPI_SIZE_DATAPOINT_ENTRY + _numStreamBytes;\n        if (size >= SLAPI_MAX_DATA_SIZE) {\n            _instance.beacon();\n            size = _numDatapoints * SLAPI_SIZE_DATAPOINT_ENTRY + _numStreamBytes;\n            return size >= SLAPI_MAX_DATA_SIZE;\n        }\n        return false;\n    }\n    function _SetCorrelationId(correlationId) {\n        _initialize();\n        if (Boolean(_wsaData)) {\n            if (correlationId !== null && correlationId !== undefined) {\n                _wsaData.CorrelationId = correlationId;\n            }\n            else {\n                _wsaData.CorrelationId = _emptyCorrelationId;\n            }\n        }\n    }\n    function _WriteLog(eventName, dictProperties) {\n        _initialize();\n        if ((!Boolean(eventName)) || (!Boolean(dictProperties))) {\n            return;\n        }\n        if (!DEBUG) {\n            var values = new Array(SLAPI_IDX_PROPERTY_START + 1);\n            values[SLAPI_IDX_VERSION] = SLAPI_JSON_VERSION;\n            values[SLAPI_IDX_EVENTNAME] = eventName;\n            var index = SLAPI_IDX_PROPERTY_START;\n            for (var key in dictProperties) {\n                var propVal = dictProperties[key];\n                if (propVal !== undefined && propVal !== null) {\n                    if (propVal instanceof Date) {\n                        propVal = propVal.getTime();\n                    }\n                    values[index++] = key;\n                    values[index++] = propVal;\n                }\n            }\n            _addToStream(SLAPI_STREAM_ID, values);\n        }\n        else if (!window[\"disableBeaconLogToConsole\"]) {\n            try {\n                console.log(\"Beacon: Logged to \" + eventName + \" with properties: \" + JSON.stringify(dictProperties));\n            }\n            catch (error) {\n            }\n        }\n    }\n    function _getUploadData() {\n        _initialize();\n        return _uploadData();\n    }\n    function _getTicks32() {\n        var timeNow = new Date();\n        var ticks64 = timeNow.getTime();\n        if (_startTicks === 0) {\n            _startTicks = ticks64;\n        }\n        return ((1 + ticks64 - _startTicks) & 0x7FFFFFFF);\n    }\n    function _getTicks64() {\n        var timeNow = new Date();\n        var ticks64 = timeNow.getTime();\n        ticks64 = ticks64 + SLAPI_MS_BTN_EPOCHS; // Epoch change from 1/1/1070 to 1/1/1601\n        ticks64 = ticks64 * 10000; // 1ms to 100ns resolution\n        return ticks64;\n    }\n})(Beacon || (Beacon = {}));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Beacon;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/odb/Beacon.js\n ** module id = 30\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar Manager_1 = require(\"../logging/Manager\");\nvar EventBatchCache_1 = require(\"./EventBatchCache\");\nvar XHR_1 = require(\"../xhr/XHR\");\nvar Beacon_event_1 = require(\"./events/Beacon.event\");\nvar BeaconBase = (function () {\n    function BeaconBase(endPointUrl, batchSize, flushTimeouts, useSlidingWindow, maxCriticalFlushInterval, totalRetries, resetTotalRetriesAfter, ignorePreviousEvents) {\n        var _this = this;\n        this._lastSendBeacon = 0;\n        this._endPointUrl = endPointUrl;\n        this._maxCriticalFlushInterval = maxCriticalFlushInterval;\n        this._totalRetries = totalRetries === undefined ? BeaconBase.DEFAULT_TOTAL_RETRIES : totalRetries;\n        this._totalRetriesStartValue = this._totalRetries;\n        this._resetTotalRetriesAfter = resetTotalRetriesAfter === undefined ? BeaconBase.DEFAULT_RESET_TOTAL_RETRIES_AFTER : resetTotalRetriesAfter;\n        this._ignorePreviousEvents = ignorePreviousEvents === undefined ? false : ignorePreviousEvents;\n        this._eventBatchCache = new EventBatchCache_1.default(batchSize, flushTimeouts, function (event) {\n            if (_this._onNewEvent) {\n                _this._onNewEvent(event);\n            }\n        }, function (events) {\n            // Create the beacon request\n            _this._createBeaconRequest(events);\n        }, useSlidingWindow);\n        this.init();\n    }\n    BeaconBase.prototype.sendBeacon = function (json, headers, requestTimeoutInMS) {\n        this._sendBeacon(json, headers, requestTimeoutInMS, 0);\n    };\n    BeaconBase.prototype._sendBeacon = function (json, headers, requestTimeoutInMS, retryCount) {\n        var _this = this;\n        if (retryCount === 0) {\n            this._lastSendBeacon = Manager_1.Manager.getTime();\n        }\n        var xhr = new XHR_1.default({\n            url: this._endPointUrl,\n            json: json,\n            headers: headers,\n            requestTimeoutInMS: requestTimeoutInMS\n        });\n        var beaconEvent = new Beacon_event_1.Beacon({\n            retryCount: retryCount,\n            totalRetries: this._totalRetries\n        });\n        xhr.start(function (xhr, status) {\n            beaconEvent.end({ status: status + '', success: true });\n            if (++_this._successfulLogRequests >= _this._resetTotalRetriesAfter) {\n                _this._successfulLogRequests = _this._resetTotalRetriesAfter;\n                _this._totalRetries = _this._totalRetriesStartValue;\n            }\n        }, function (xhr, status, timeout) {\n            _this._successfulLogRequests = 0;\n            beaconEvent.end({ status: status + '', success: false });\n            // Retry if we timed out since we failed\n            if (status === XHR_1.default.TIMEOUT_STATUS && _this._totalRetries > 0) {\n                _this._totalRetries--;\n                _this._sendBeacon(json, headers, requestTimeoutInMS, retryCount + 1);\n            }\n        });\n    };\n    BeaconBase.prototype.init = function () {\n        var _this = this;\n        var bufferedEvents = Manager_1.Manager.addLogHandler(function (event) {\n            _this.addEvent(event);\n        });\n        if (!this._ignorePreviousEvents) {\n            for (var x = 0; x < bufferedEvents.length; x++) {\n                this.addEvent(bufferedEvents[x]);\n            }\n        }\n    };\n    BeaconBase.prototype.addEvent = function (event) {\n        if (event.enabled) {\n            this._eventBatchCache.addEvent(event);\n            if (event.critical &&\n                (!this._lastSendBeacon ||\n                    Manager_1.Manager.getTime() - this._lastSendBeacon > this._maxCriticalFlushInterval)) {\n                this._eventBatchCache.flush();\n            }\n        }\n    };\n    BeaconBase.DEFAULT_TOTAL_RETRIES = 3;\n    BeaconBase.DEFAULT_RESET_TOTAL_RETRIES_AFTER = 3;\n    return BeaconBase;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = BeaconBase;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/BeaconBase.js\n ** module id = 31\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar Async_1 = require(\"../async/Async\");\nvar Beacon_event_1 = require(\"./events/Beacon.event\");\nvar ErrorHelper_1 = require(\"../logging/ErrorHelper\");\nvar EventBatchCache = (function () {\n    function EventBatchCache(maxSize, maxFlushTimes, newEventHandler, flushHandler, useSlidingWindow) {\n        this._events = [];\n        this._flushCount = 0;\n        this._async = new Async_1.default(this);\n        this._maxSize = maxSize;\n        this._newEventHandler = newEventHandler;\n        this._flushHandler = flushHandler;\n        this._maxFlushTimes = maxFlushTimes;\n        this._useSlidingWindow = useSlidingWindow;\n    }\n    EventBatchCache.prototype.addEvent = function (event) {\n        this._events.push(event);\n        if (this._newEventHandler) {\n            try {\n                this._newEventHandler(event);\n            }\n            catch (e) {\n                ErrorHelper_1.default.log(e);\n            }\n        }\n        // Dont create a timer for events that are of type beacon\n        if (Beacon_event_1.Beacon.isTypeOf(event)) {\n            return;\n        }\n        if (this._events.length >= this._maxSize) {\n            this.flush();\n        }\n        else {\n            this._setFlushTimeout(false);\n        }\n    };\n    EventBatchCache.prototype.flush = function () {\n        this._setFlushTimeout(true);\n    };\n    EventBatchCache.prototype._handleFlush = function () {\n        this._clearFlushTimeout();\n        if (this._events.length) {\n            this._flushHandler(this._events);\n            // Reset the events array\n            this._events = [];\n        }\n    };\n    EventBatchCache.prototype._clearFlushTimeout = function () {\n        if (this._flushTimeoutId) {\n            this._async.clearTimeout(this._flushTimeoutId);\n            this._flushTimeoutId = null;\n        }\n        if (this._immediateflushTimeoutId) {\n            this._async.clearTimeout(this._immediateflushTimeoutId);\n            this._immediateflushTimeoutId = null;\n        }\n    };\n    EventBatchCache.prototype._setFlushTimeout = function (immediate) {\n        var _this = this;\n        // if another immediate flush is already queued, disregard\n        if (!!this._immediateflushTimeoutId) {\n            return;\n        }\n        if (this._useSlidingWindow) {\n            this._clearFlushTimeout();\n            if (immediate) {\n                this._immediateflushTimeoutId = this._async.setTimeout(function () {\n                    _this._handleFlush();\n                }, 0);\n            }\n            else {\n                this._flushTimeoutId = this._async.setTimeout(function () {\n                    _this._handleFlush();\n                }, this._getFlushTime());\n            }\n        }\n        else {\n            if (immediate) {\n                if (!this._immediateflushTimeoutId) {\n                    this._immediateflushTimeoutId = this._async.setTimeout(function () {\n                        _this._handleFlush();\n                    }, 0);\n                }\n            }\n            else if (!this._flushTimeoutId) {\n                this._flushTimeoutId = this._async.setTimeout(function () {\n                    _this._handleFlush();\n                }, this._getFlushTime());\n            }\n        }\n    };\n    EventBatchCache.prototype._getFlushTime = function () {\n        if (this._flushCount < this._maxFlushTimes.length) {\n            var flushCount = this._flushCount;\n            this._flushCount++;\n            return this._maxFlushTimes[flushCount];\n        }\n        else {\n            return this._maxFlushTimes[this._maxFlushTimes.length - 1];\n        }\n    };\n    return EventBatchCache;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = EventBatchCache;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/EventBatchCache.js\n ** module id = 32\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar PairedEventBase_1 = require('../PairedEventBase');\nvar Beacon = (function (_super) {\n    __extends(Beacon, _super);\n    /**\n     * The Beacon event constructor\n     * @param data {IBeaconStartSchema}\n     * -optional name - This is the status code returned\n     * -optional status - This is the status code returned\n     * -optional success - This is if the request was successful or not\n     * -required retryCount - This is the retry count for this request\n     * -required totalRetries - This is the number of total retries left\n     * -optional eventCount - This is the number of total events sent\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function Beacon(data, parent) {\n        _super.call(this, 'Beacon,', 'Beacon', data, parent);\n    }\n    /**\n     * This is true if the Beacon event is enabled\n     */\n    Beacon.enabled = function () {\n        return true;\n    };\n    /**\n     * This is false when Beacon event does not require a parent event\n     */\n    Beacon.prototype.requiresParent = function () {\n        return false;\n    };\n    Beacon.prototype.setStartData = function (data) {\n        if (typeof data.name !== \"undefined\") {\n            this.data.name = this.cleanString(data.name);\n        }\n        if (typeof data.status !== \"undefined\") {\n            this.data.status = this.cleanString(data.status);\n        }\n        if (typeof data.success !== \"undefined\") {\n            this.data.success = data.success;\n        }\n        this.data.retryCount = data.retryCount;\n        this.data.totalRetries = data.totalRetries;\n        if (typeof data.eventCount !== \"undefined\") {\n            this.data.eventCount = data.eventCount;\n        }\n    };\n    Beacon.prototype.setEndData = function (data) {\n        if (typeof data.name !== \"undefined\") {\n            this.data.name = this.cleanString(data.name);\n        }\n        if (typeof data.status !== \"undefined\") {\n            this.data.status = this.cleanString(data.status);\n        }\n        this.data.success = data.success;\n        if (typeof data.eventCount !== \"undefined\") {\n            this.data.eventCount = data.eventCount;\n        }\n    };\n    /**\n     * This will end the Beacon event\n     * @param data {IBeaconEndSchema}\n     * -optional name - This is the status code returned\n     * -optional status - This is the status code returned\n     * -required success - This is if the request was successful or not\n     * -optional eventCount - This is the number of total events sent\n     */\n    Beacon.prototype.end = function (data) {\n        return this._end(data);\n    };\n    /**\n     * This writes verbose logs to memory to be uploaded if event ends with failure\n     */\n    Beacon.prototype.verbose = function (message) {\n        return this._verbose(message);\n    };\n    /**\n     * Sets a time limit for the scenario. A timeout result will be logged if no end happens in desired timeframe\n     */\n    Beacon.prototype.setTimeout = function (ms, data) {\n        return this._setTimeout(ms, data);\n    };\n    /**\n     * The name of the Beacon event\n     */\n    Beacon.fullName = 'Beacon,';\n    /**\n     * The short name of the Beacon event\n     */\n    Beacon.shortName = 'Beacon';\n    /**\n     * This is true if the Beacon event is enabled\n     */\n    Beacon.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: false\n        },\n        status: {\n            type: \"String\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: false\n        },\n        success: {\n            type: \"Boolean\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: false\n        },\n        retryCount: {\n            type: \"Number\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: true\n        },\n        totalRetries: {\n            type: \"Number\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: true\n        },\n        eventCount: {\n            type: \"Number\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: true\n        }\n    };\n    return Beacon;\n}(PairedEventBase_1.PairedEventBase));\nexports.Beacon = Beacon;\nBeacon.prototype.metadata = Beacon.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Beacon;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/Beacon.event.js\n ** module id = 33\n ** module chunks = 0\n **/","\"use strict\";\nvar Async_1 = require('../async/Async');\nvar ErrorHelper_1 = require('../logging/ErrorHelper');\nvar XHR = (function () {\n    function XHR(options) {\n        this._async = new Async_1.default(this);\n        this._url = options.url;\n        this._requestTimeoutInMS = options.requestTimeoutInMS || XHR.DEFAULT_TIMEOUT_MS;\n        this._json = options.json;\n        this._headers = options.headers || {};\n        this._method = options.method;\n        this._withCredentials = options.withCredentials || false;\n        this._needsCors = options.needsCors;\n    }\n    XHR.prototype.abort = function (isCancelled) {\n        var aborted = this._abortRequest();\n        if (aborted && !isCancelled) {\n            this._callFailureCallback(this._request, XHR.ABORT_STATUS, false);\n        }\n    };\n    XHR.prototype.start = function (successCallback, failureCallback) {\n        var _this = this;\n        try {\n            this._successCallback = successCallback;\n            this._failureCallback = failureCallback;\n            this._request = this._getRequest();\n            this._async.setTimeout(function () {\n                // Check if we havent logged this event already\n                if (!_this._completed) {\n                    _this._timeoutCallback();\n                }\n            }, this._requestTimeoutInMS);\n            // Report Qos on the actual qos calls\n            this._request.onreadystatechange = function () {\n                // Check if we havent logged this event in a timeout\n                if (!_this._completed) {\n                    var DONE = 4; // Default done readystate\n                    try {\n                        DONE = _this._request.DONE || 4;\n                    }\n                    catch (e) {\n                    }\n                    if (_this._request.readyState === DONE) {\n                        _this._requestEndCallback();\n                    }\n                }\n            };\n            if (!this._method) {\n                this._method = this._json ? 'POST' : 'GET';\n            }\n            this._request.open(this._method, this._url, true);\n            if (\"withCredentials\" in this._request) {\n                this._request.withCredentials = this._withCredentials;\n            }\n            // Headers have to be set after open is called\n            for (var x in this._headers) {\n                this._request.setRequestHeader(x, this._headers[x]);\n            }\n            this._request.send(this._json);\n        }\n        catch (e) {\n            if (e && e.message && document) {\n                // Attach domain to any error for additional debugging\n                e.message += ' - ' + document.domain;\n            }\n            ErrorHelper_1.default.log(e);\n            // abort the request and set the exception status code\n            this._abortRequest();\n            this._callFailureCallback(this._request, XHR.EXCEPTION_STATUS, false);\n        }\n    };\n    XHR.prototype._getRequest = function () {\n        var _this = this;\n        if (!this._needsCors || !window['XDomainRequest']) {\n            return new XMLHttpRequest();\n        }\n        // This is only needed for IE 9 to support CORS requests\n        // Note: we can not set headers on XDomainRequest\n        var request = new XDomainRequest();\n        request.status = 200;\n        request.setRequestHeader = function () { };\n        request.onprogress = function () { };\n        request.ontimeout = function () { };\n        request.onload = function () {\n            _this._requestEndCallback();\n        };\n        return request;\n    };\n    XHR.prototype._abortRequest = function () {\n        var actuallyAborted = false;\n        if (!this._completed) {\n            this._completed = true;\n            // Clear the timeout for the request\n            this._async.dispose();\n            // Cancel the request\n            try {\n                if (this._request) {\n                    this._request.abort();\n                }\n            }\n            catch (e) {\n            }\n            actuallyAborted = true;\n        }\n        return actuallyAborted;\n    };\n    XHR.prototype._timeoutCallback = function () {\n        if (!this._completed) {\n            this._abortRequest();\n            this._callFailureCallback(this._request, XHR.TIMEOUT_STATUS, true);\n        }\n    };\n    XHR.prototype._callSuccessCallback = function (xhr, statusCode) {\n        try {\n            if (this._successCallback) {\n                this._successCallback(xhr, statusCode);\n            }\n        }\n        catch (e) {\n            ErrorHelper_1.default.log(e);\n        }\n    };\n    XHR.prototype._callFailureCallback = function (xhr, statusCode, timeout) {\n        try {\n            if (this._failureCallback) {\n                this._failureCallback(xhr, statusCode, timeout);\n            }\n        }\n        catch (e) {\n            ErrorHelper_1.default.log(e);\n        }\n    };\n    XHR.prototype._requestEndCallback = function () {\n        if (!this._completed) {\n            this._completed = true;\n            var status = XHR.EXCEPTION_STATUS;\n            try {\n                // Clear the timeout for the request\n                this._async.dispose();\n                try {\n                    status = this._request.status;\n                }\n                catch (e) {\n                }\n            }\n            catch (e) {\n                status = XHR.EXCEPTION_STATUS;\n                ErrorHelper_1.default.log(e);\n            }\n            if (status < 400 && status > 0) {\n                this._callSuccessCallback(this._request, status);\n            }\n            else {\n                this._callFailureCallback(this._request, status, false);\n            }\n        }\n    };\n    XHR.EXCEPTION_STATUS = -1;\n    XHR.TIMEOUT_STATUS = -2;\n    XHR.ABORT_STATUS = -3;\n    XHR.DEFAULT_TIMEOUT_MS = 30000;\n    return XHR;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XHR;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/xhr/XHR.js\n ** module id = 34\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar BaseDataStore_1 = require(\"../../models/store/BaseDataStore\");\nvar DataStoreCachingType_1 = require(\"../../models/store/DataStoreCachingType\");\nvar Manager_1 = require(\"../Manager\");\nvar LogProcessor_1 = require(\"./LogProcessor\");\nvar BeaconCache;\n(function (BeaconCache) {\n    \"use strict\";\n    var _store = new BaseDataStore_1.default(LogProcessor_1.default.STORE_KEY, DEBUG ? DataStoreCachingType_1.default.sharedMemory : DataStoreCachingType_1.default.session);\n    BeaconCache.eventNamePrefix = \"\";\n    BeaconCache.instance = null;\n    BeaconCache.handlers = null;\n    if (DEBUG) {\n        try {\n            console.log(\"Beacon: To disable logging to the console set \\\"window.disableBeaconLogToConsole = true\\\" in the debug window\");\n        }\n        catch (error) {\n        }\n    }\n    var OdbBeaconCache = (function () {\n        function OdbBeaconCache(eventNamePrefix, handlers) {\n            var _this = this;\n            BeaconCache.eventNamePrefix = eventNamePrefix;\n            BeaconCache.handlers = handlers;\n            var bufferedEvents = Manager_1.Manager.addLogHandler(function (event) {\n                _this.addEvent(event);\n            });\n            // Add bufferred events to local store\n            for (var x = 0; x < bufferedEvents.length; x++) {\n                this.addEvent(bufferedEvents[x]);\n            }\n        }\n        OdbBeaconCache.prototype.addEvent = function (event) {\n            if (event.enabled) {\n                // put every new event to the session storage so that Sharepoint can upload it for us\n                // if user navigates away before Beacon event\n                LogProcessor_1.default.processAndLogEvent({\n                    event: event,\n                    logFunc: function (streamName, dictProperties) {\n                        var storeSize = _store.getValue(LogProcessor_1.default.STORE_SIZE_KEY);\n                        if (!storeSize) {\n                            storeSize = 0;\n                        }\n                        _store.setValue(storeSize.toString(), { name: streamName, props: dictProperties });\n                        _store.setValue(LogProcessor_1.default.STORE_SIZE_KEY, ++storeSize);\n                    },\n                    eventNamePrefix: BeaconCache.eventNamePrefix,\n                    handlers: BeaconCache.handlers\n                });\n            }\n        };\n        return OdbBeaconCache;\n    }());\n    function addToLoggingManager(eventNamePrefix, handlers) {\n        if (!BeaconCache.instance) {\n            BeaconCache.instance = new OdbBeaconCache(eventNamePrefix, handlers);\n        }\n        else {\n            throw new Error(\"The beaconCache has already been added to the logging manager with event name prefix \" + eventNamePrefix + \".\");\n        }\n    }\n    BeaconCache.addToLoggingManager = addToLoggingManager;\n})(BeaconCache || (BeaconCache = {}));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = BeaconCache;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/odb/BeaconCache.js\n ** module id = 35\n ** module chunks = 0\n **/","\"use strict\";\nvar DataStoreCachingType_1 = require('./DataStoreCachingType');\n// DataStore class is used for transparent caching of data in memory and/or browser storage\n// - Parameter defaultCachingType defines whether you want to use browser storage for all operations\n// and which type of storage - session or local\n// - Parameter dataStoreKey is used to prefix every key in browser storage. Actual key for browser storage\n// will be dataStoreKey + key used in setValue method.\n// - If DataStore is instantiated with some type of browser caching enabled - it will test if browser storage\n// is available and use it. If it's not it will fall back to in-memory cache.\n// - If DataStore is instantiated from two different places with same dataStoreKey and some type of\n// browser storage caching, the memory storage will be shared as well as browser storage.\nvar DataStore = (function () {\n    function DataStore(dataStoreKey, defaultCachingType) {\n        if (defaultCachingType === void 0) { defaultCachingType = DataStoreCachingType_1.default.none; }\n        DataStore.init();\n        this.dataStoreKey = dataStoreKey;\n        this.defaultCachingType = defaultCachingType;\n        if (defaultCachingType === DataStoreCachingType_1.default.none) {\n            this.dataStore = {};\n        }\n        else {\n            var store = DataStore._dataStore[this.dataStoreKey];\n            if (store === undefined) {\n                DataStore._dataStore[this.dataStoreKey] = {};\n            }\n            this.dataStore = DataStore._dataStore[this.dataStoreKey];\n        }\n    }\n    DataStore.hasStorageType = function (storageType) {\n        DataStore.init();\n        switch (storageType) {\n            case DataStoreCachingType_1.default.none: return true;\n            case DataStoreCachingType_1.default.sharedMemory: return true;\n            case DataStoreCachingType_1.default.session: return !!DataStore._sessionStorage;\n            case DataStoreCachingType_1.default.local: return !!DataStore._localStorage;\n        }\n        return false;\n    };\n    DataStore.init = function () {\n        if (DataStore._initialized) {\n            return;\n        }\n        // Need a try/catch since window.localStorage can throw.\n        try {\n            if ('localStorage' in window && window.localStorage && DataStore.testStorage(window.localStorage)) {\n                DataStore._localStorage = window.localStorage;\n            }\n        }\n        catch (exUsingLocalStorage) {\n        }\n        try {\n            if ('sessionStorage' in window && window.sessionStorage && DataStore.testStorage(window.sessionStorage)) {\n                DataStore._sessionStorage = window.sessionStorage;\n            }\n        }\n        catch (exUsingSessionStorage) {\n        }\n        // Fallback logic\n        if (DataStore._localStorage == null) {\n            DataStore._localStorage = DataStore._sessionStorage;\n        }\n        DataStore._initialized = true;\n    };\n    /** Need to check whether the value in localStorage is of the correct type.\n     * In Private Browsing in Safari, for example, localStorage is accessible,\n     * but all of the non-built-in properties return undefined, and setting\n     * such a property causes an exception.\n     */\n    DataStore.testStorage = function (storage) {\n        var _testKey = \"BrowserStorageTest\";\n        var _testValue = \"1\";\n        var result = false;\n        try {\n            storage.setItem(_testKey, _testValue);\n            if (storage.getItem(_testKey) === _testValue) {\n                result = true;\n            }\n            storage.removeItem(_testKey);\n        }\n        catch (e) { }\n        return result;\n    };\n    DataStore.prototype.setValue = function (key, value, cachingTypeOverride) {\n        key = this.normalizeKey(key);\n        this.dataStore[key] = value;\n        var storage = this.getStorage(cachingTypeOverride);\n        if (storage) {\n            try {\n                var objectsFound = [];\n                var s = JSON.stringify(value, function (key, value) {\n                    if (typeof value === 'object' && value !== null) {\n                        if (objectsFound.indexOf(value) !== -1) {\n                            // discard the key if circular dependency was found\n                            return;\n                        }\n                        if (key[0] === '_') {\n                            // discard private objects\n                            return;\n                        }\n                        // Otherwise store value in the cache\n                        objectsFound.push(value);\n                    }\n                    return value;\n                });\n                // empty cache\n                objectsFound = null;\n                storage.setItem(this.dataStoreKey + key, s);\n            }\n            catch (e) {\n            }\n        }\n    };\n    DataStore.prototype.getValue = function (key, cachingTypeOverride) {\n        key = this.normalizeKey(key);\n        var value = this.dataStore[key];\n        var storage = this.getStorage(cachingTypeOverride);\n        if (value === undefined && storage) {\n            var s = storage.getItem(this.dataStoreKey + key);\n            if (s) {\n                try {\n                    value = JSON.parse(s);\n                    this.dataStore[key] = value;\n                }\n                catch (e) {\n                    value = undefined;\n                }\n            }\n        }\n        return value;\n    };\n    DataStore.prototype.remove = function (key, cachingTypeOverride) {\n        key = this.normalizeKey(key);\n        var storage = this.getStorage(cachingTypeOverride);\n        if (storage) {\n            storage.removeItem(this.dataStoreKey + key);\n        }\n        delete this.dataStore[key];\n    };\n    DataStore.prototype.getStorage = function (cachingTypeOverride) {\n        var cachingType = cachingTypeOverride ? cachingTypeOverride : this.defaultCachingType;\n        switch (cachingType) {\n            case DataStoreCachingType_1.default.none:\n                return null;\n            case DataStoreCachingType_1.default.sharedMemory:\n                return null;\n            case DataStoreCachingType_1.default.session:\n                return DataStore._sessionStorage;\n            case DataStoreCachingType_1.default.local:\n                return DataStore._localStorage;\n        }\n        return null;\n    };\n    DataStore.prototype.normalizeKey = function (key) {\n        return key && key.toLowerCase() || '';\n    };\n    DataStore._sessionStorage = null;\n    DataStore._localStorage = null;\n    DataStore._dataStore = {};\n    DataStore._initialized = false;\n    return DataStore;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = DataStore;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/models/store/BaseDataStore.js\n ** module id = 36\n ** module chunks = 0\n **/","\"use strict\";\nvar DataStoreCachingType;\n(function (DataStoreCachingType) {\n    DataStoreCachingType[DataStoreCachingType[\"none\"] = 0] = \"none\";\n    DataStoreCachingType[DataStoreCachingType[\"session\"] = 1] = \"session\";\n    DataStoreCachingType[DataStoreCachingType[\"local\"] = 2] = \"local\";\n    DataStoreCachingType[DataStoreCachingType[\"sharedMemory\"] = 3] = \"sharedMemory\";\n})(DataStoreCachingType || (DataStoreCachingType = {}));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = DataStoreCachingType;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/models/store/DataStoreCachingType.js\n ** module id = 37\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar Qos_event_1 = require(\"../events/Qos.event\");\nvar PLT_event_1 = require(\"../events/PLT.event\");\nvar Beacon_event_1 = require(\"../events/Beacon.event\");\nvar UnhandledError_event_1 = require(\"../events/UnhandledError.event\");\nvar RequireJSError_event_1 = require(\"../events/RequireJSError.event\");\nvar CaughtError_event_1 = require(\"../events/CaughtError.event\");\nvar QosError_event_1 = require(\"../events/QosError.event\");\nvar Verbose_event_1 = require(\"../events/Verbose.event\");\nvar Engagement_event_1 = require(\"../events/Engagement.event\");\nvar EventBase_1 = require(\"../EventBase\");\nvar RUMOneDataUpload_event_1 = require(\"../events/RUMOneDataUpload.event\");\nvar DebugPriorityLevel_1 = require(\"./DebugPriorityLevel\");\nvar LogProcessor;\n(function (LogProcessor) {\n    \"use strict\";\n    LogProcessor.STORE_KEY = \"SPCacheLogger\";\n    LogProcessor.STORE_SIZE_KEY = \"Size\";\n    var SOURCE_V2_Engagement = \"ClientV2Engagement\";\n    var DEBUG_LOG_STREAM = \"ReliabilityLog\";\n    var USER_ENGAGEMENT_STREAM = \"UserEngagement\";\n    var SOURCE_V2_Reliability = \"ClientV2Reliability\";\n    // regex for SLAPI event names\n    var SLAPI_EVENT_NAME_ALLOW = /[^a-z0-9\\.\\_\\-\\+]+/ig;\n    var _spModuleLink = window['_spModuleLink'];\n    var _appVersion = _spModuleLink ? _spModuleLink.buildNumber : \"\";\n    function processAndLogEvent(params) {\n        // Ignored events\n        if (params.handlers.ignoredEventsHandler && params.handlers.ignoredEventsHandler(params.event)) {\n            return;\n        }\n        // Get the data to log\n        var logDataArray = Engagement_event_1.Engagement.isTypeOf(params.event) ? _processEngagementEvent(params.event) :\n            Qos_event_1.Qos.isTypeOf(params.event) ? _processQosEvent(params.event, params.handlers.qosEventNameHandler || null, params.handlers.qosEventExtraDataHandler || null) :\n                PLT_event_1.PLT.isTypeOf(params.event) ? _processPLTEvent(params.event) :\n                    UnhandledError_event_1.UnhandledError.isTypeOf(params.event) ? _processUnhandledErrorEvent(params.event) :\n                        RequireJSError_event_1.RequireJSError.isTypeOf(params.event) ? _processRequireJSErrorEvent(params.event) :\n                            CaughtError_event_1.CaughtError.isTypeOf(params.event) ? _processCaughtErrorEvent(params.event) :\n                                Verbose_event_1.Verbose.isTypeOf(params.event) ? _processVerboseEvent(params.event) :\n                                    Beacon_event_1.Beacon.isTypeOf(params.event) ? _processBeaconEvent(params.event) :\n                                        RUMOneDataUpload_event_1.RUMOneDataUpload.isTypeOf(params.event) ? _processRUMOneDataUploadEvent(params.event) :\n                                            null;\n        // If the log data array is not defined the event was unhandled, log\n        // the event name so is easy to discover and fix\n        if (!logDataArray) {\n            logDataArray = [{\n                    userEngagementData: {\n                        EngagementName: \"UnknownEvent\",\n                        Duration: 0,\n                        LogType: 0,\n                        Properties: JSON.stringify({ name: params.event.eventName }),\n                        ClientTime: params.event.eventType === EventBase_1.ClonedEventType.End ? params.event.endTime : params.event.startTime,\n                        Source: SOURCE_V2_Engagement\n                    }\n                }];\n        }\n        // Log all the data in the array adding the event prefix to the tag/name\n        for (var index = 0, length = logDataArray.length; index < length; index++) {\n            var logData = logDataArray[index];\n            if (logData.debugData) {\n                logData.debugData.Tag = _addEventPrefix(logData.debugData.Tag, params.eventNamePrefix).replace(SLAPI_EVENT_NAME_ALLOW, \"\");\n                params.logFunc(DEBUG_LOG_STREAM, logData.debugData);\n            }\n            if (logData.userEngagementData) {\n                // SPList: special case for Engagement events\n                // set prefix to the name of the list type\n                // to be able to track usage/engagement by list type\n                var prefix = params.eventNamePrefix;\n                if (Engagement_event_1.Engagement.isTypeOf(params.event) && prefix === 'SPList') {\n                    // prefix will be set to a list type based on list base template\n                    // if list type not found, [refix will be set back to generic SPList\n                    prefix = _getScenarioNameFromListType();\n                }\n                logData.userEngagementData.EngagementName = _addEventPrefix(logData.userEngagementData.EngagementName, prefix).replace(SLAPI_EVENT_NAME_ALLOW, \"\");\n                // SPList: special case for Qos events; add listBaseTemplate ID to the property bag\n                if (Qos_event_1.Qos.isTypeOf(params.event) && params.eventNamePrefix === 'SPList') {\n                    params.event.data.extraData[\"ListBaseTemplate\"] = _getListBaseTemplate();\n                }\n                params.logFunc(USER_ENGAGEMENT_STREAM, logData.userEngagementData);\n            }\n            if (logData.rumOneData) {\n                params.logFunc(logData.rumOneData.streamName, logData.rumOneData.dictionary);\n            }\n        }\n    }\n    LogProcessor.processAndLogEvent = processAndLogEvent;\n    // get the list base template id\n    function _getListBaseTemplate() {\n        var listTemplate = -1;\n        var spPageContextInfo = window['_spPageContextInfo'];\n        if (spPageContextInfo !== undefined && spPageContextInfo !== null) {\n            listTemplate = spPageContextInfo.listBaseTemplate;\n        }\n        return listTemplate;\n    }\n    // get the name of the listType; it's SPList for the unrecognized\n    // list templates; TODO: add all templates\n    function _getScenarioNameFromListType() {\n        var scenarioName = \"\";\n        var listTemplate = _getListBaseTemplate();\n        switch (listTemplate) {\n            case 100:\n                scenarioName = \"ListNext\";\n                break;\n            case 101:\n                scenarioName = \"DocsNext\";\n                break;\n            case 102:\n                scenarioName = \"SurveyNext\";\n                break;\n            case 103:\n                scenarioName = \"LinksNext\";\n                break;\n            case 104:\n                scenarioName = \"AnnouncementsNext\";\n                break;\n            case 107:\n                scenarioName = \"TasksNext\";\n                break;\n            case 109:\n                scenarioName = \"PicLibNext\";\n                break;\n            default:\n                scenarioName = \"SPList\";\n                break;\n        }\n        return scenarioName;\n    }\n    // string examples: \"{\\\"w3cResponseEnd\\\":2\", \"\\\"appStart\\\":750\"\n    function _cleanString(dataPLT) {\n        var cleanString = dataPLT;\n        cleanString = cleanString.replace(\"{\", \"\");\n        cleanString = cleanString.replace(/\\\"/gi, \"\");\n        cleanString = cleanString.replace(\"}\", \"\");\n        return cleanString;\n    }\n    function _addEventPrefix(eventName, prefix) {\n        if (!prefix) {\n            return eventName;\n        }\n        return prefix + '.' + eventName;\n    }\n    function _getResultTypeSuffix(resultType) {\n        if (resultType === Qos_event_1.ResultTypeEnum.Success) {\n            return \".Success\";\n        }\n        else if (resultType === Qos_event_1.ResultTypeEnum.Failure) {\n            return \".Failure\";\n        }\n        else if (resultType === Qos_event_1.ResultTypeEnum.ExpectedFailure) {\n            return \".ExpectedFailure\";\n        }\n        return \"\";\n    }\n    function _processRUMOneDataUploadEvent(event) {\n        if (!event.data) {\n            return [{\n                    userEngagementData: {\n                        EngagementName: \"RUMOne.no_EventData\",\n                        Duration: 0,\n                        LogType: 0,\n                        ClientTime: event.startTime,\n                        Source: SOURCE_V2_Engagement\n                    }\n                }];\n        }\n        var rumOneDataUpdateEventData = event.data;\n        return [{\n                rumOneData: {\n                    streamName: rumOneDataUpdateEventData.streamName,\n                    dictionary: rumOneDataUpdateEventData.dictionary\n                }\n            }];\n    }\n    function _processEngagementEvent(event) {\n        var logData = {};\n        // if the event has not data we will get this in COSMOS\n        // if it's a start we have only the name and append \".Start\" to it\n        // else we look for resultCode and append it to data.name with result type\n        // if resultCode is not present than we append only the result type to the name\n        // i.e. serverDataGetValue.Start OR serverDataGetValue.ResponseText.GetAuth.ExpectedFailure\n        var name = \"no_EngagementName\";\n        var properties = \"\";\n        if (event.data) {\n            var engagementData = event.data;\n            if (engagementData.name) {\n                name = engagementData.name;\n            }\n            properties = engagementData.extraData ? JSON.stringify(engagementData.extraData) : \"\";\n        }\n        logData.userEngagementData = {\n            EngagementName: name,\n            Properties: properties,\n            Duration: 0,\n            LogType: 0,\n            ClientTime: event.startTime,\n            Source: SOURCE_V2_Engagement\n        };\n        return [logData];\n    }\n    function _processQosEvent(event, qoSEventNameHandler, qosEventExtraDataHandler) {\n        var logData = {};\n        // if the event has not data we will get this in COSMOS\n        // if it's a start we have only the name and append \".Start\" to it\n        // else we look for resultCode and append it to data.name with result type\n        // if resultCode is not present than we append only the result type to the name\n        // i.e. serverDataGetValue.ResponseText.Success OR serverDataGetValue.ResponseText.GetAuth.ExpectedFailure\n        var name = \"no_QosName\";\n        var qosData = event.data ? event.data : null;\n        if (qosData) {\n            if (qosData.name) {\n                name = qosData.name;\n            }\n            if (qoSEventNameHandler != null) {\n                name = qoSEventNameHandler(event, name);\n            }\n            qosData.extraData = qosData.extraData || {};\n            if (qosEventExtraDataHandler != null) {\n                qosEventExtraDataHandler(event, qosData);\n            }\n            qosData.extraData[\"appver\"] = _appVersion;\n        }\n        // Duration is calculated only when we have an END event\n        var durationTime;\n        if (event.eventType === EventBase_1.ClonedEventType.End && event.startTime && event.endTime) {\n            durationTime = event.endTime - event.startTime;\n        }\n        else {\n            durationTime = 0;\n        }\n        logData.userEngagementData = {\n            EngagementName: name,\n            Properties: qosData && qosData.extraData ? JSON.stringify(qosData.extraData) : \"\",\n            Duration: durationTime,\n            LogType: 0,\n            ClientTime: event.eventType === EventBase_1.ClonedEventType.End ? event.endTime : event.startTime,\n            Source: SOURCE_V2_Reliability\n        };\n        return [logData];\n    }\n    function _processBeaconEvent(event) {\n        var logData = {};\n        var durationTime;\n        if (event.eventType === EventBase_1.ClonedEventType.End && event.startTime && event.endTime) {\n            durationTime = event.endTime - event.startTime;\n        }\n        else {\n            durationTime = 0;\n        }\n        logData.userEngagementData = {\n            EngagementName: \"Beacon\",\n            Properties: event.data ? JSON.stringify(event.data) : \"no_EventData\",\n            Duration: durationTime,\n            LogType: 0,\n            ClientTime: event.eventType === EventBase_1.ClonedEventType.End ? event.endTime : event.startTime,\n            Source: SOURCE_V2_Reliability\n        };\n        return [logData];\n    }\n    function _processPLTEvent(event) {\n        if (!event.data) {\n            return [{\n                    userEngagementData: {\n                        EngagementName: \"PLT.no_EventData\",\n                        Duration: 0,\n                        LogType: 0,\n                        ClientTime: event.startTime,\n                        Source: SOURCE_V2_Engagement\n                    }\n                }];\n        }\n        var logDataList = [];\n        //get the data for this event\n        var pltData = event.data;\n        // this will be the prefix for the tags; i.e. PLT.SetView-Files.w3cResponseEnd\n        var name = \"PLT.\" + pltData.name.replace(\" \", \"\");\n        // break down the PLT data and log each one as a separate record in the stream\n        //{\"name\":\"SetView-Files\",\"w3cResponseEnd\":424,\"appStart\":254,\"preRender\":20,\"dataFetch\":310,\"postRender\":327,\"render\":347,\"plt\":1335}\n        var dataPLT = JSON.stringify(pltData).split(',');\n        var duration = 0;\n        // iterate through data and extract each type\n        // create tags like this: PLT.<pagename>.w3cResponseEnd; PLT.<pagename>.appStart\n        for (var i = 0; i < dataPLT.length; i++) {\n            var cleanedPLTString = _cleanString(dataPLT[i]);\n            // split the string and get the name and duration\n            // special case for duration when appCacheHit is a boolean\n            var subDataPLTs = cleanedPLTString.split(':');\n            // skip the 'name' key-value pair\n            if (_cleanString(subDataPLTs[1]) !== pltData.name) {\n                if (subDataPLTs[1] === 'true') {\n                    duration = 1;\n                }\n                else if (subDataPLTs[1] === 'false' || subDataPLTs[1] === 'null') {\n                    duration = 0;\n                }\n                else {\n                    duration = parseInt(subDataPLTs[1], 10);\n                }\n                logDataList.push({ userEngagementData: {\n                        EngagementName: name + \".\" + subDataPLTs[0],\n                        Properties: (subDataPLTs[0] === 'appCacheHit') ? JSON.stringify(event.data) : \"\",\n                        Duration: duration,\n                        LogType: 0,\n                        ClientTime: event.startTime,\n                        Source: SOURCE_V2_Engagement\n                    } });\n            }\n        }\n        return logDataList;\n    }\n    function _processUnhandledErrorEvent(event) {\n        return [{\n                userEngagementData: {\n                    EngagementName: \"UnhandledError\",\n                    Duration: 0,\n                    LogType: 0,\n                    ClientTime: event.startTime,\n                    Source: SOURCE_V2_Engagement\n                },\n                debugData: {\n                    Tag: \"UnhandledError\",\n                    Level: DebugPriorityLevel_1.default.Normal,\n                    Message: event.data ? JSON.stringify(event.data) : \"no_EventData\",\n                    Misc: \"\",\n                    ClientTime: event.startTime\n                }\n            }];\n    }\n    function _processRequireJSErrorEvent(event) {\n        var logData = {};\n        var name = \"RequireJSError\";\n        var errorData;\n        var errorMessage;\n        if (event.data) {\n            // clone all properties so that we can omit 'message' in JSON\n            errorData = {};\n            for (var key in event.data) {\n                if (key !== \"message\") {\n                    errorData[key] = event.data[key];\n                }\n                else {\n                    errorMessage = event.data[key];\n                }\n            }\n        }\n        logData.userEngagementData = {\n            EngagementName: name,\n            Duration: 0,\n            LogType: 0,\n            ClientTime: event.startTime,\n            Source: SOURCE_V2_Engagement\n        };\n        logData.debugData = {\n            Tag: name,\n            Level: DebugPriorityLevel_1.default.Normal,\n            Message: errorMessage ? errorMessage : \"no_ErrorMessage\",\n            Misc: errorData ? JSON.stringify(errorData) : \"no_ErrorData\",\n            ClientTime: event.startTime\n        };\n        return [logData];\n    }\n    function _processCaughtErrorEvent(event) {\n        var logData = {};\n        var name = \"CaughtError\";\n        if (QosError_event_1.QosError.isTypeOf(event)) {\n            if (event.data) {\n                var qosErrorData = event.data;\n                name = qosErrorData.name;\n                if (qosErrorData.resultCode) {\n                    name += \".\" + qosErrorData.resultCode;\n                }\n                name += _getResultTypeSuffix(qosErrorData.resultType);\n            }\n            else {\n                name = \"QosErrorEvent.no_EventData\";\n            }\n        }\n        else {\n            // log it once in the UserEngagement stream to count the hits\n            logData.userEngagementData = {\n                EngagementName: name,\n                Duration: 0,\n                LogType: 0,\n                ClientTime: event.startTime,\n                Source: SOURCE_V2_Engagement\n            };\n        }\n        // log it again in ReliabilityLog stream with data for debugging\n        var caughtErrorData = event.data ? event.data : null;\n        logData.debugData = {\n            Tag: name,\n            Level: DebugPriorityLevel_1.default.Normal,\n            Message: caughtErrorData && caughtErrorData.message ? caughtErrorData.message : \"\",\n            Misc: caughtErrorData && caughtErrorData.stack ? JSON.stringify(caughtErrorData.stack) : \"\",\n            ClientTime: event.startTime\n        };\n        return [logData];\n    }\n    function _processVerboseEvent(event) {\n        var logData = {};\n        var name = \"Verbose\";\n        if (event.data) {\n            var verboseData = event.data;\n            if (verboseData.name) {\n                name = verboseData.name + \".Verbose\";\n            }\n        }\n        else {\n            name += \".no_EventData\";\n        }\n        // log it in ReliabilityLog stream with data for debugging\n        logData.debugData = {\n            Tag: name,\n            Level: DebugPriorityLevel_1.default.Low,\n            Message: verboseData.message,\n            Misc: \"\",\n            ClientTime: event.startTime\n        };\n        return [logData];\n    }\n})(LogProcessor || (LogProcessor = {}));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = LogProcessor;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/odb/LogProcessor.js\n ** module id = 38\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar Features_1 = require('../../features/Features');\nvar PLT = (function (_super) {\n    __extends(PLT, _super);\n    /**\n     * The PLT event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function PLT(parent) {\n        _super.call(this, 'PLT,', 'PLT', parent);\n    }\n    /**\n     * This is true if the PLT event is enabled\n     */\n    PLT.enabled = function () {\n        return Features_1.default.isFeatureEnabled(PLT.samplingFeature);\n    };\n    /**\n     * This will create a single PLT event\n     * @param data {IPLTSingleSchema}\n     * -required name - The name of the PLT event\n     * -required w3cResponseEnd - Time to get the aspx from the server\n     * -required prefetchStart - Time it takes for our app to *start* prefetching\n     * -required deferredListDataRender - Time it takes for defered list data render from server\n     * -required appStart - Time it takes for our app to *start* running\n     * -required preRender - Time it takes for our app to make the relevant data fetch for this view\n     * -required dataFetch - Time it takes for our app to get data back from the server\n     * -required dataFetchServerTime - time the datafetch request spent on the server\n     * -required postRender - Time it takes from appDataFetchEnd to PLT\n     * -required render - Post render plus pre render\n     * -required plt - Time from fetchStart to plt\n     * -required pltWithUnload - Time from navigationStart to plt\n     * -required httpRequests - The count of http request till plt\n     * -required appCacheHit - Whether this page load is served from appCache\n     * @param parent {IEvent} The optional parent for this event\n     */\n    PLT.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(PLT, data, parent);\n    };\n    /**\n     * This is true when PLT event is enabled\n     */\n    PLT.prototype.isEnabled = function () {\n        return Features_1.default.isFeatureEnabled(PLT.samplingFeature);\n    };\n    PLT.prototype.setSingleData = function (data) {\n        this.data.name = this.cleanString(data.name);\n        this.data.w3cResponseEnd = data.w3cResponseEnd;\n        this.data.prefetchStart = data.prefetchStart;\n        this.data.deferredListDataRender = data.deferredListDataRender;\n        this.data.appStart = data.appStart;\n        this.data.preRender = data.preRender;\n        this.data.dataFetch = data.dataFetch;\n        this.data.dataFetchServerTime = data.dataFetchServerTime;\n        this.data.postRender = data.postRender;\n        this.data.render = data.render;\n        this.data.plt = data.plt;\n        this.data.pltWithUnload = data.pltWithUnload;\n        this.data.httpRequests = data.httpRequests;\n        this.data.appCacheHit = data.appCacheHit;\n    };\n    /**\n     * The name of the PLT event\n     */\n    PLT.fullName = 'PLT,';\n    /**\n     * The short name of the PLT event\n     */\n    PLT.shortName = 'PLT';\n    /**\n     * This is true if the PLT event is enabled\n     */\n    PLT.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isKey: true,\n            isMetric: false\n        },\n        w3cResponseEnd: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        prefetchStart: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        deferredListDataRender: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        appStart: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        preRender: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        dataFetch: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        dataFetchServerTime: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        postRender: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        render: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        plt: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        pltWithUnload: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        httpRequests: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        appCacheHit: {\n            type: \"Boolean\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: false\n        }\n    };\n    /**\n     * The sampling feature for the PLT event\n     */\n    PLT.samplingFeature = { ODB: true, ODC: 'PLTLoggingSampling', Fallback: false };\n    return PLT;\n}(SingleEventBase_1.SingleEventBase));\nexports.PLT = PLT;\nPLT.prototype.metadata = PLT.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = PLT;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/PLT.event.js\n ** module id = 39\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar UnhandledError = (function (_super) {\n    __extends(UnhandledError, _super);\n    /**\n     * The UnhandledError event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function UnhandledError(parent) {\n        _super.call(this, 'UnhandledError,', 'UnhandledError', parent);\n    }\n    /**\n     * This is true if the UnhandledError event is enabled\n     */\n    UnhandledError.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single UnhandledError event\n     * @param data {IUnhandledErrorSingleSchema}\n     * -required message - This is the error message returned during the window.onerror handler\n     * -required stack - This is the stack trace of the error returned during the window.onerror handler, this is not available in all browsers and may only show up in certain ones (IEs)\n     * -required builtStack - This is the manually built stack trace of the unhandled exception\n     * -required line - This is the js line the unhandled exception happened on\n     * -required col - This is the js column the unhandled exception happened on\n     * -required url - This url of the js file that errored\n     * @param parent {IEvent} The optional parent for this event\n     */\n    UnhandledError.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(UnhandledError, data, parent);\n    };\n    /**\n     * This is false when UnhandledError event does not require a parent event\n     */\n    UnhandledError.prototype.requiresParent = function () {\n        return false;\n    };\n    /**\n     * This is true when UnhandledError event is a critical event\n     */\n    UnhandledError.prototype.isCritical = function () {\n        return true;\n    };\n    UnhandledError.prototype.setSingleData = function (data) {\n        this.data.message = this.cleanString(data.message);\n        this.data.stack = this.cleanString(data.stack);\n        this.data.builtStack = this.cleanString(data.builtStack);\n        this.data.line = data.line;\n        this.data.col = data.col;\n        this.data.url = this.cleanString(data.url);\n    };\n    /**\n     * The name of the UnhandledError event\n     */\n    UnhandledError.fullName = 'UnhandledError,';\n    /**\n     * The short name of the UnhandledError event\n     */\n    UnhandledError.shortName = 'UnhandledError';\n    /**\n     * This is true if the UnhandledError event is enabled\n     */\n    UnhandledError.metadata = {\n        message: {\n            type: \"String\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: false\n        },\n        stack: {\n            type: \"String\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: false\n        },\n        builtStack: {\n            type: \"String\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: false\n        },\n        line: {\n            type: \"Number\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: true\n        },\n        col: {\n            type: \"Number\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: true\n        },\n        url: {\n            type: \"String\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: false\n        },\n        unMinStack: {\n            type: \"Object\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: false\n        }\n    };\n    return UnhandledError;\n}(SingleEventBase_1.SingleEventBase));\nexports.UnhandledError = UnhandledError;\nUnhandledError.prototype.metadata = UnhandledError.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = UnhandledError;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/UnhandledError.event.js\n ** module id = 40\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar RequireJSError = (function (_super) {\n    __extends(RequireJSError, _super);\n    /**\n     * The RequireJSError event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function RequireJSError(parent) {\n        _super.call(this, 'RequireJSError,', 'RequireJSError', parent);\n    }\n    /**\n     * This is true if the RequireJSError event is enabled\n     */\n    RequireJSError.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single RequireJSError event\n     * @param data {IRequireJSErrorSingleSchema}\n     * -required message - This is the error message returned during the window.onerror handler\n     * -required requireModules - This is the array of required modules\n     * -required requireType - This is the require error type\n     * -required stack - This is the stack trace of the error returned during the window.onerror handler\n     * @param parent {IEvent} The optional parent for this event\n     */\n    RequireJSError.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(RequireJSError, data, parent);\n    };\n    /**\n     * This is false when RequireJSError event does not require a parent event\n     */\n    RequireJSError.prototype.requiresParent = function () {\n        return false;\n    };\n    /**\n     * This is true when RequireJSError event is a critical event\n     */\n    RequireJSError.prototype.isCritical = function () {\n        return true;\n    };\n    RequireJSError.prototype.setSingleData = function (data) {\n        this.data.message = this.cleanString(data.message);\n        this.data.requireModules = data.requireModules;\n        this.data.requireType = this.cleanString(data.requireType);\n        this.data.stack = this.cleanString(data.stack);\n    };\n    /**\n     * The name of the RequireJSError event\n     */\n    RequireJSError.fullName = 'RequireJSError,';\n    /**\n     * The short name of the RequireJSError event\n     */\n    RequireJSError.shortName = 'RequireJSError';\n    /**\n     * This is true if the RequireJSError event is enabled\n     */\n    RequireJSError.metadata = {\n        message: {\n            type: \"String\",\n            definedInName: \"RequireJSError\",\n            definedInFullName: \"RequireJSError,\",\n            isMetric: false\n        },\n        requireModules: {\n            type: \"Array\",\n            definedInName: \"RequireJSError\",\n            definedInFullName: \"RequireJSError,\",\n            isMetric: false\n        },\n        requireType: {\n            type: \"String\",\n            definedInName: \"RequireJSError\",\n            definedInFullName: \"RequireJSError,\",\n            isMetric: false\n        },\n        stack: {\n            type: \"String\",\n            definedInName: \"RequireJSError\",\n            definedInFullName: \"RequireJSError,\",\n            isMetric: false\n        },\n        unMinStack: {\n            type: \"Object\",\n            definedInName: \"RequireJSError\",\n            definedInFullName: \"RequireJSError,\",\n            isMetric: false\n        }\n    };\n    return RequireJSError;\n}(SingleEventBase_1.SingleEventBase));\nexports.RequireJSError = RequireJSError;\nRequireJSError.prototype.metadata = RequireJSError.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RequireJSError;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/RequireJSError.event.js\n ** module id = 41\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar RUMOneDataUpload = (function (_super) {\n    __extends(RUMOneDataUpload, _super);\n    /**\n     * The RUMOneDataUpload event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function RUMOneDataUpload(parent) {\n        _super.call(this, 'RUMOneDataUpload,', 'RUMOneDataUpload', parent);\n    }\n    /**\n     * This is true if the RUMOneDataUpload event is enabled\n     */\n    RUMOneDataUpload.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single RUMOneDataUpload event\n     * @param data {IRUMOneDataUploadSingleSchema}\n     * -required streamName - SLAPI stream name the data will be logged to, must be either RUMOne or RUMOneErrors\n     * -required dictionary - Data of the RUMOne or RUMOneErrors\n     * @param parent {IEvent} The optional parent for this event\n     */\n    RUMOneDataUpload.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(RUMOneDataUpload, data, parent);\n    };\n    RUMOneDataUpload.prototype.setSingleData = function (data) {\n        this.data.streamName = this.cleanString(data.streamName);\n        this.data.dictionary = data.dictionary;\n    };\n    /**\n     * The name of the RUMOneDataUpload event\n     */\n    RUMOneDataUpload.fullName = 'RUMOneDataUpload,';\n    /**\n     * The short name of the RUMOneDataUpload event\n     */\n    RUMOneDataUpload.shortName = 'RUMOneDataUpload';\n    /**\n     * This is true if the RUMOneDataUpload event is enabled\n     */\n    RUMOneDataUpload.metadata = {\n        streamName: {\n            type: \"String\",\n            definedInName: \"RUMOneDataUpload\",\n            definedInFullName: \"RUMOneDataUpload,\",\n            isMetric: false\n        },\n        dictionary: {\n            type: \"Object\",\n            definedInName: \"RUMOneDataUpload\",\n            definedInFullName: \"RUMOneDataUpload,\",\n            isMetric: false\n        }\n    };\n    return RUMOneDataUpload;\n}(SingleEventBase_1.SingleEventBase));\nexports.RUMOneDataUpload = RUMOneDataUpload;\nRUMOneDataUpload.prototype.metadata = RUMOneDataUpload.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RUMOneDataUpload;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/events/RUMOneDataUpload.event.js\n ** module id = 42\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar DebugPriorityLevel;\n(function (DebugPriorityLevel) {\n    DebugPriorityLevel[DebugPriorityLevel[\"Low\"] = 0] = \"Low\";\n    DebugPriorityLevel[DebugPriorityLevel[\"Normal\"] = 1] = \"Normal\";\n})(DebugPriorityLevel || (DebugPriorityLevel = {}));\n;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = DebugPriorityLevel;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/odb/DebugPriorityLevel.js\n ** module id = 43\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar APICallPerformanceData = (function () {\n    function APICallPerformanceData(url, duration, correlationid, status, startTime, endTime, name) {\n        this.url = url;\n        this.duration = duration;\n        this.correlationId = correlationid;\n        this.status = status;\n        this.startTime = startTime;\n        this.endTime = endTime;\n        this.name = name;\n    }\n    return APICallPerformanceData;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = APICallPerformanceData;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/APICallPerformanceData.js\n ** module id = 44\n ** module chunks = 0\n **/","\"use strict\";\nvar ControlPerformanceData = (function () {\n    function ControlPerformanceData(controlId, startTime, endTime, renderTimeCalculator, renderTimeRequiredDataChecker) {\n        this.controlId = controlId;\n        this.startTime = startTime;\n        this.endTime = endTime;\n        this.renderTimeCalculator = renderTimeCalculator;\n        this.renderTimeRequiredDataChecker = renderTimeRequiredDataChecker;\n    }\n    return ControlPerformanceData;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ControlPerformanceData;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/ControlPerformanceData.js\n ** module id = 45\n ** module chunks = 0\n **/","\"use strict\";\nvar ErrorHelper_1 = require(\"../logging/ErrorHelper\");\n/** An instance of EventGroup allows anything with a handle to it to trigger events on it.\n *  If the target is an HTMLElement, the event will be attached to the element and can be\n *  triggered as usual (like clicking for onclick).\n *  The event can be triggered by calling EventGroup.raise() here. If the target is an\n *  HTMLElement, the event gets raised and is handled by the browser. Otherwise, it gets\n *  handled here in EventGroup, and the handler is called in the context of the parent\n *  (which is passed in in the constructor).\n */\nvar EventGroup = (function () {\n    /** parent: the context in which events attached to non-HTMLElements are called */\n    function EventGroup(parent) {\n        this._id = EventGroup._uniqueId++;\n        this._parent = parent;\n        this._eventRecords = [];\n    }\n    /** For IE8, bubbleEvent is ignored here and must be dealt with by the handler.\n     *  Events raised here by default have bubbling set to false and cancelable set to true.\n     *  This applies also to built-in events being raised manually here on HTMLElements,\n     *  which may lead to unexpected behavior if it differs from the defaults.\n     */\n    EventGroup.raise = function (target, eventName, eventArgs, bubbleEvent) {\n        var retVal;\n        if (EventGroup._isElement(target)) {\n            if (document.createEvent) {\n                var ev = document.createEvent('HTMLEvents');\n                ev.initEvent(eventName, bubbleEvent, true);\n                ev['args'] = eventArgs;\n                retVal = target.dispatchEvent(ev);\n            }\n            else if (document['createEventObject']) {\n                var evObj = document['createEventObject'](eventArgs);\n                // cannot set cancelBubble on evObj, fireEvent will overwrite it\n                target.fireEvent(\"on\" + eventName, evObj);\n            }\n        }\n        else {\n            while (target && retVal !== false) {\n                var events = target.__events__;\n                var eventRecords = events ? events[eventName] : null;\n                for (var id in eventRecords) {\n                    var eventRecordList = eventRecords[id];\n                    for (var listIndex = 0; retVal !== false && listIndex < eventRecordList.length; listIndex++) {\n                        var record = eventRecordList[listIndex];\n                        if (record.objectCallback) {\n                            retVal = record.objectCallback.call(record.parent, eventArgs);\n                        }\n                    }\n                }\n                // If the target has a parent, bubble the event up.\n                target = bubbleEvent ? target.parent : null;\n            }\n        }\n        return retVal;\n    };\n    EventGroup.isObserved = function (target, eventName) {\n        var events = target && target.__events__;\n        return !!events && !!events[eventName];\n    };\n    /** Check to see if the target has declared support of the given event. */\n    EventGroup.isDeclared = function (target, eventName) {\n        var declaredEvents = target && target.__declaredEvents;\n        return !!declaredEvents && !!declaredEvents[eventName];\n    };\n    EventGroup.stopPropagation = function (event) {\n        if (event.stopPropagation) {\n            event.stopPropagation();\n        }\n        else {\n            event.cancelBubble = true;\n        }\n    };\n    EventGroup._isElement = function (target) {\n        return !!target && (target instanceof HTMLElement || target.addEventListener);\n    };\n    EventGroup.prototype.dispose = function () {\n        if (!this._isDisposed) {\n            this._isDisposed = true;\n            this.off();\n            this._parent = null;\n        }\n    };\n    /** On the target, attach a set of events, where the events object is a name to function mapping. */\n    EventGroup.prototype.onAll = function (target, events, useCapture) {\n        for (var eventName in events) {\n            this.on(target, eventName, events[eventName], useCapture);\n        }\n    };\n    /** On the target, attach an event whose handler will be called in the context of the parent\n     * of this instance of EventGroup.\n     */\n    EventGroup.prototype.on = function (target, eventName, callback, useCapture) {\n        var _this = this;\n        if (eventName.indexOf(',') > -1) {\n            var events = eventName.split(/[ ,]+/);\n            for (var i = 0; i < events.length; i++) {\n                this.on(target, events[i], callback, useCapture);\n            }\n        }\n        else {\n            var parent = this._parent;\n            var eventRecord = {\n                target: target,\n                eventName: eventName,\n                parent: parent,\n                callback: callback,\n                objectCallback: null,\n                elementCallback: null,\n                useCapture: useCapture\n            };\n            // Initialize and wire up the record on the target, so that it can call the callback if the event fires.\n            var events_1 = (target.__events__ = target.__events__ || {});\n            events_1[eventName] = events_1[eventName] || {\n                count: 0\n            };\n            events_1[eventName][this._id] = events_1[eventName][this._id] || [];\n            events_1[eventName][this._id].push(eventRecord);\n            events_1[eventName].count++;\n            if (EventGroup._isElement(target)) {\n                var processElementEvent = function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i - 0] = arguments[_i];\n                    }\n                    if (_this._isDisposed) {\n                        return;\n                    }\n                    try {\n                        var result = callback.apply(parent, args);\n                        if (result === false && args[0] && args[0].preventDefault) {\n                            var e = args[0];\n                            e.preventDefault();\n                            e.cancelBubble = true;\n                        }\n                    }\n                    catch (e) {\n                        ErrorHelper_1.default.log(e);\n                    }\n                    return result;\n                };\n                eventRecord.elementCallback = processElementEvent;\n                if (target.addEventListener) {\n                    /* tslint:disable:ban-native-functions */\n                    target.addEventListener(eventName, processElementEvent, useCapture);\n                }\n                else if (target.attachEvent) {\n                    target.attachEvent(\"on\" + eventName, processElementEvent);\n                }\n            }\n            else {\n                var processObjectEvent = function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i - 0] = arguments[_i];\n                    }\n                    if (_this._isDisposed) {\n                        return;\n                    }\n                    return callback.apply(parent, args);\n                };\n                eventRecord.objectCallback = processObjectEvent;\n            }\n            // Remember the record locally, so that it can be removed.\n            this._eventRecords.push(eventRecord);\n        }\n    };\n    EventGroup.prototype.off = function (target, eventName, callback, useCapture) {\n        for (var i = 0; i < this._eventRecords.length; i++) {\n            var eventRecord = this._eventRecords[i];\n            if ((!target || target === eventRecord.target) &&\n                (!eventName || eventName === eventRecord.eventName) &&\n                (!callback || callback === eventRecord.callback) &&\n                ((typeof useCapture !== 'boolean') || useCapture === eventRecord.useCapture)) {\n                var events = eventRecord.target.__events__;\n                var targetArrayLookup = events[eventRecord.eventName];\n                var targetArray = targetArrayLookup ? targetArrayLookup[this._id] : null;\n                // We may have already target's entries, so check for null.\n                if (targetArray) {\n                    if (targetArray.length === 1 || !callback) {\n                        targetArrayLookup.count -= targetArray.length;\n                        delete events[eventRecord.eventName][this._id];\n                    }\n                    else {\n                        targetArrayLookup.count--;\n                        targetArray.splice(targetArray.indexOf(eventRecord), 1);\n                    }\n                    if (!targetArrayLookup.count) {\n                        delete events[eventRecord.eventName];\n                    }\n                }\n                if (eventRecord.elementCallback) {\n                    if (eventRecord.target.removeEventListener) {\n                        eventRecord.target.removeEventListener(eventRecord.eventName, eventRecord.elementCallback, eventRecord.useCapture);\n                    }\n                    else if (eventRecord.target.detachEvent) {\n                        eventRecord.target.detachEvent(\"on\" + eventRecord.eventName, eventRecord.elementCallback);\n                    }\n                }\n                this._eventRecords.splice(i--, 1);\n            }\n        }\n    };\n    /** Trigger the given event in the context of this instance of EventGroup. */\n    EventGroup.prototype.raise = function (eventName, eventArgs, bubbleEvent) {\n        return EventGroup.raise(this._parent, eventName, eventArgs, bubbleEvent);\n    };\n    /** Declare an event as being supported by this instance of EventGroup. */\n    EventGroup.prototype.declare = function (event) {\n        var declaredEvents = this._parent.__declaredEvents = this._parent.__declaredEvents || {};\n        if (typeof event === 'string') {\n            declaredEvents[event] = true;\n        }\n        else {\n            for (var i = 0; i < event.length; i++) {\n                declaredEvents[event[i]] = true;\n            }\n        }\n    };\n    EventGroup._uniqueId = 0;\n    return EventGroup;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = EventGroup;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/events/EventGroup.js\n ** module id = 46\n ** module chunks = 0\n **/","\"use strict\";\n// OneDrive:IgnoreCodeCoverage\nvar PageTransitionType;\n(function (PageTransitionType) {\n    PageTransitionType[PageTransitionType[\"none\"] = 0] = \"none\";\n    PageTransitionType[PageTransitionType[\"fullPageLoad\"] = 4] = \"fullPageLoad\";\n})(PageTransitionType || (PageTransitionType = {}));\n;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = PageTransitionType;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/PageTransitionType.js\n ** module id = 47\n ** module chunks = 0\n **/","/**\n * This file was originally ported from WinJS.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Async_1 = require('./Async');\nvar EventGroup_1 = require('../events/EventGroup');\nvar async = new Async_1.default();\nfunction doneHandler(value) {\n    \"use strict\";\n    async.setImmediate(function () {\n        throw value;\n    });\n}\nvar errorET = \"error\";\nvar canceledName = \"Canceled\";\nvar events;\n//\n// Global error counter, for each error which enters the system we increment this once and then\n// the error number travels with the error as it traverses the tree of potential handlers.\n//\n// When someone has registered to be told about error [using EventGroup.on(Promise, 'error')] promises\n// which are in error will get tagged with a ._errorId field. This tagged field is the\n// contract by which nested promises with errors will be identified as chaining for the\n// purposes of the callonerror semantics. If a nested promise in error is encountered without\n// a ._errorId it will be assumed to be foreign and treated as an interop boundary and\n// a new error id will be minted.\n//\nvar error_number = 1;\n;\nvar state_created, // -> working\nstate_working, // -> error | error_notify | success | success_notify | canceled | waiting\nstate_waiting, // -> error | error_notify | success | success_notify | waiting_canceled\nstate_waiting_canceled, // -> error | error_notify | success | success_notify | canceling\nstate_canceled, // -> error | error_notify | success | success_notify | canceling\nstate_canceling, // -> error_notify\nstate_success_notify, // -> success\nstate_success, // -> .\nstate_error_notify, // -> error\nstate_error; // -> .\n// Noop function, used in the various states to indicate that they don't support a given\n// message. Named with the somewhat cute name '_' because it reads really well in the states.\nfunction _() {\n    \"use strict\";\n}\n// Initial state\n//\nstate_created = {\n    name: \"created\",\n    enter: function (promise) {\n        promise._setState(state_working);\n    },\n    cancel: _,\n    done: _,\n    then: _,\n    _completed: _,\n    _error: _,\n    _notify: _,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n// Ready state, waiting for a message (completed/error), able to be canceled\n//\nstate_working = {\n    name: \"working\",\n    enter: _,\n    cancel: function (promise) {\n        promise._setState(state_canceled);\n    },\n    done: done,\n    then: then,\n    _completed: completed,\n    _error: error,\n    _notify: _,\n    _setCompleteValue: setCompleteValue,\n    _setErrorValue: setErrorValue\n};\n// Waiting state, if a promise is completed with a value which is itself a promise\n// (has a then() method) it signs up to be informed when that child promise is\n// fulfilled at which point it will be fulfilled with that value.\n//\nstate_waiting = {\n    name: \"waiting\",\n    enter: function (promise) {\n        var waitedUpon = promise._value;\n        // We can special case our own intermediate promises which are not in a\n        //  terminal state by just pushing this promise as a listener without\n        //  having to create new indirection functions\n        if (waitedUpon instanceof ThenPromise &&\n            waitedUpon._state !== state_error &&\n            waitedUpon._state !== state_success) {\n            pushListener(waitedUpon, { promise: promise });\n        }\n        else {\n            var error_1 = function (value) {\n                if (waitedUpon._errorId) {\n                    promise._chainedError(value, waitedUpon);\n                }\n                else {\n                    // Because this is an interop boundary we want to indicate that this\n                    //  error has been handled by the promise infrastructure before we\n                    //  begin a new handling chain.\n                    //\n                    callonerror(promise, value, detailsForHandledError, waitedUpon, error_1);\n                    promise._error(value);\n                }\n            };\n            error_1.handlesOnError = true;\n            waitedUpon.then(promise._completed.bind(promise), error_1);\n        }\n    },\n    cancel: function (promise) {\n        promise._setState(state_waiting_canceled);\n    },\n    done: done,\n    then: then,\n    _completed: completed,\n    _error: error,\n    _notify: _,\n    _setCompleteValue: setCompleteValue,\n    _setErrorValue: setErrorValue\n};\n// Waiting canceled state, when a promise has been in a waiting state and receives a\n// request to cancel its pending work it will forward that request to the child promise\n// and then waits to be informed of the result. This promise moves itself into the\n// canceling state but understands that the child promise may instead push it to a\n// different state.\n//\nstate_waiting_canceled = {\n    name: \"waiting_canceled\",\n    enter: function (promise) {\n        // Initiate a transition to canceling. Triggering a cancel on the promise\n        // that we are waiting upon may result in a different state transition\n        // before the state machine pump runs again.\n        promise._setState(state_canceling);\n        var waitedUpon = promise._value;\n        if (waitedUpon.cancel) {\n            waitedUpon.cancel();\n        }\n    },\n    cancel: _,\n    done: done,\n    then: then,\n    _completed: completed,\n    _error: error,\n    _notify: _,\n    _setCompleteValue: setCompleteValue,\n    _setErrorValue: setErrorValue\n};\n// Canceled state, moves to the canceling state and then tells the promise to do\n// whatever it might need to do on cancelation.\n//\nstate_canceled = {\n    name: \"canceled\",\n    enter: function (promise) {\n        // Initiate a transition to canceling. The _cancelAction may change the state\n        // before the state machine pump runs again.\n        promise._setState(state_canceling);\n        promise._cancelAction();\n    },\n    cancel: _,\n    done: done,\n    then: then,\n    _completed: completed,\n    _error: error,\n    _notify: _,\n    _setCompleteValue: setCompleteValue,\n    _setErrorValue: setErrorValue\n};\n// Canceling state, commits to the promise moving to an error state with an error\n// object whose 'name' and 'message' properties contain the string \"Canceled\"\n//\nstate_canceling = {\n    name: \"canceling\",\n    enter: function (promise) {\n        var error = new Error(canceledName);\n        error.name = error.message;\n        error[\"_handled\"] = true;\n        promise._value = error;\n        promise._setState(state_error_notify);\n    },\n    cancel: _,\n    done: _,\n    then: _,\n    _completed: _,\n    _error: _,\n    _notify: _,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n// Success notify state, moves a promise to the success state and notifies all children\n//\nstate_success_notify = {\n    name: \"complete_notify\",\n    enter: function (promise) {\n        promise.done = CompletePromise.prototype.done;\n        promise.then = CompletePromise.prototype.then;\n        if (promise._listeners) {\n            var queue = [promise];\n            var p = void 0;\n            while (queue.length) {\n                p = queue.shift();\n                p._state._notify(p, queue);\n            }\n        }\n        promise._setState(state_success);\n    },\n    cancel: _,\n    done: null,\n    then: null,\n    _completed: _,\n    _error: _,\n    _notify: notifySuccess,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n// Success state, moves a promise to the success state and does NOT notify any children.\n// Some upstream promise is owning the notification pass.\n//\nstate_success = {\n    name: \"success\",\n    enter: function (promise) {\n        promise.done = CompletePromise.prototype.done;\n        promise.then = CompletePromise.prototype.then;\n        promise._cleanupAction();\n    },\n    cancel: _,\n    done: null,\n    then: null,\n    _completed: _,\n    _error: _,\n    _notify: notifySuccess,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n// Error notify state, moves a promise to the error state and notifies all children\n//\nstate_error_notify = {\n    name: \"error_notify\",\n    enter: function (promise) {\n        promise.done = ErrorPromise.prototype.done;\n        promise.then = ErrorPromise.prototype.then;\n        if (promise._listeners) {\n            var queue = [promise];\n            var p = void 0;\n            while (queue.length) {\n                p = queue.shift();\n                p._state._notify(p, queue);\n            }\n        }\n        promise._setState(state_error);\n    },\n    cancel: _,\n    done: null,\n    then: null,\n    _completed: _,\n    _error: _,\n    _notify: notifyError,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n// Error state, moves a promise to the error state and does NOT notify any children.\n// Some upstream promise is owning the notification pass.\n//\nstate_error = {\n    name: \"error\",\n    enter: function (promise) {\n        promise.done = ErrorPromise.prototype.done;\n        promise.then = ErrorPromise.prototype.then;\n        promise._cleanupAction();\n    },\n    cancel: _,\n    done: null,\n    then: null,\n    _completed: _,\n    _error: _,\n    _notify: notifyError,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n//\n// The statemachine implementation follows a very particular pattern, the states are specified\n// as static stateless bags of functions which are then indirected through the state machine\n// instance (a Promise). As such all of the functions on each state have the promise instance\n// passed to them explicitly as a parameter and the Promise instance members do a little\n// dance where they indirect through the state and insert themselves in the argument list.\n//\n// We could instead call directly through the promise states however then every caller\n// would have to remember to do things like pumping the state machine to catch state transitions.\n//\n//\n// Implementations of shared state machine code.\n//\nfunction completed(promise, value) {\n    \"use strict\";\n    var targetState;\n    if (value && typeof value === \"object\" && typeof value.then === \"function\") {\n        targetState = state_waiting;\n    }\n    else {\n        targetState = state_success_notify;\n    }\n    promise._value = value;\n    promise._setState(targetState);\n}\nfunction createErrorDetails(exception, error, promise, id, parent, handler) {\n    \"use strict\";\n    return {\n        exception: exception,\n        error: error,\n        promise: promise,\n        handler: handler,\n        id: id,\n        parent: parent\n    };\n}\nfunction detailsForHandledError(promise, errorValue, context, handler) {\n    \"use strict\";\n    var exception = context._isException;\n    var errorId = context._errorId;\n    return createErrorDetails(exception ? errorValue : null, exception ? null : errorValue, promise, errorId, context, handler);\n}\nfunction detailsForChainedError(promise, errorValue, context) {\n    \"use strict\";\n    var exception = context._isException;\n    var errorId = context._errorId;\n    setErrorInfo(promise, errorId, exception);\n    return createErrorDetails(exception ? errorValue : null, exception ? null : errorValue, promise, errorId, context);\n}\nfunction detailsForError(promise, errorValue) {\n    \"use strict\";\n    var errorId = ++error_number;\n    setErrorInfo(promise, errorId);\n    return createErrorDetails(null, errorValue, promise, errorId);\n}\nfunction detailsForException(promise, exceptionValue) {\n    \"use strict\";\n    var errorId = ++error_number;\n    setErrorInfo(promise, errorId, true);\n    return createErrorDetails(exceptionValue, null, promise, errorId);\n}\nfunction done(promise, onComplete, onError) {\n    \"use strict\";\n    pushListener(promise, { c: onComplete, e: onError });\n}\nfunction error(promise, value, onerrorDetails, context) {\n    \"use strict\";\n    promise._value = value;\n    callonerror(promise, value, onerrorDetails, context);\n    promise._setState(state_error_notify);\n}\nfunction notifySuccess(promise, queue) {\n    \"use strict\";\n    var value = promise._value;\n    var listeners = promise._listeners;\n    if (!listeners) {\n        return;\n    }\n    promise._listeners = null;\n    var i, len;\n    for (i = 0, len = Array.isArray(listeners) ? listeners.length : 1; i < len; i++) {\n        var listener = len === 1 ? listeners : listeners[i];\n        var onComplete = listener.c;\n        var target = listener.promise;\n        if (target) {\n            try {\n                target._setCompleteValue(onComplete ? onComplete(value) : value);\n            }\n            catch (ex) {\n                target._setExceptionValue(ex);\n            }\n            if (target._state !== state_waiting && target._listeners) {\n                queue.push(target);\n            }\n        }\n        else {\n            CompletePromise.prototype.done.call(promise, onComplete);\n        }\n    }\n}\nfunction notifyError(promise, queue) {\n    \"use strict\";\n    var value = promise._value;\n    var listeners = promise._listeners;\n    if (!listeners) {\n        return;\n    }\n    promise._listeners = null;\n    var i, len;\n    for (i = 0, len = Array.isArray(listeners) ? listeners.length : 1; i < len; i++) {\n        var listener = len === 1 ? listeners : listeners[i];\n        var onError = listener.e;\n        var target = listener.promise;\n        if (target) {\n            var asyncCallbackStarted = false;\n            try {\n                if (onError) {\n                    asyncCallbackStarted = true;\n                    if (!onError.handlesOnError) {\n                        callonerror(target, value, detailsForHandledError, promise, onError);\n                    }\n                    target._setCompleteValue(onError(value));\n                }\n                else {\n                    target._setChainedErrorValue(value, promise);\n                }\n            }\n            catch (ex) {\n                target._setExceptionValue(ex);\n            }\n            if (target._state !== state_waiting && target._listeners) {\n                queue.push(target);\n            }\n        }\n        else {\n            ErrorPromise.prototype.done.call(promise, null, onError);\n        }\n    }\n}\nfunction callonerror(promise, value, onerrorDetailsGenerator, context, handler) {\n    \"use strict\";\n    if (value instanceof Error && value.message === canceledName) {\n        return;\n    }\n    events.raise(errorET, onerrorDetailsGenerator(promise, value, context, handler));\n}\nfunction pushListener(promise, listener) {\n    \"use strict\";\n    var listeners = promise._listeners;\n    if (listeners) {\n        // We may have either a single listener (which will never be wrapped in an array)\n        // or 2+ listeners (which will be wrapped). Since we are now adding one more listener\n        // we may have to wrap the single listener before adding the second.\n        listeners = Array.isArray(listeners) ? listeners : [listeners];\n        listeners.push(listener);\n    }\n    else {\n        listeners = listener;\n    }\n    promise._listeners = listeners;\n}\n// The difference beween setCompleteValue()/setErrorValue() and complete()/error() is that setXXXValue() moves\n// a promise directly to the success/error state without starting another notification pass (because one\n// is already ongoing).\nfunction setErrorInfo(promise, errorId, isException) {\n    \"use strict\";\n    promise._isException = isException || false;\n    promise._errorId = errorId;\n}\nfunction setErrorValue(promise, value, onerrorDetails, context) {\n    \"use strict\";\n    promise._value = value;\n    callonerror(promise, value, onerrorDetails, context);\n    promise._setState(state_error);\n}\nfunction setCompleteValue(promise, value) {\n    \"use strict\";\n    var targetState;\n    if (value && typeof value === \"object\" && typeof value.then === \"function\") {\n        targetState = state_waiting;\n    }\n    else {\n        targetState = state_success;\n    }\n    promise._value = value;\n    promise._setState(targetState);\n}\nfunction then(promise, onComplete, onError) {\n    \"use strict\";\n    var result = new ThenPromise(promise);\n    pushListener(promise, { promise: result, c: onComplete, e: onError });\n    return result;\n}\n//\n// Slim promise implementations for already completed promises, these are created\n// under the hood on synchronous completion paths as well as by Promise.wrap\n// and Promise.wrapError.\n//\nvar ErrorPromise = (function () {\n    function ErrorPromise(value, errorFunc) {\n        if (errorFunc === void 0) { errorFunc = detailsForError; }\n        this._value = value;\n        callonerror(this, value, errorFunc);\n    }\n    ErrorPromise.prototype.cancel = function () {\n        /* No-op */\n    };\n    ErrorPromise.prototype.done = function (unused, onError) {\n        var value = this._value;\n        if (onError) {\n            try {\n                if (!onError.handlesOnError) {\n                    callonerror(null, value, detailsForHandledError, this, onError);\n                }\n                var result = onError(value);\n                if (result && typeof result === \"object\" && typeof result.done === \"function\") {\n                    // If a promise is returned we need to wait on it.\n                    result.done();\n                }\n                return;\n            }\n            catch (ex) {\n                value = ex;\n            }\n        }\n        if (value instanceof Error && value.message === canceledName) {\n            // suppress cancel\n            return;\n        }\n        // force the exception to be thrown asyncronously to avoid any try/catch blocks\n        //\n        doneHandler(value);\n    };\n    ErrorPromise.prototype.then = function (unused, onError) {\n        // If the promise is already in a error state and no error handler is provided\n        // we optimize by simply returning the promise instead of creating a new one.\n        //\n        if (!onError) {\n            return this;\n        }\n        var result;\n        var value = this._value;\n        try {\n            if (!onError.handlesOnError) {\n                callonerror(null, value, detailsForHandledError, this, onError);\n            }\n            result = new CompletePromise(onError(value));\n        }\n        catch (ex) {\n            // If the value throw from the error handler is the same as the value\n            // provided to the error handler then there is no need for a new promise.\n            //\n            if (ex === value) {\n                result = this;\n            }\n            else {\n                result = new ExceptionPromise(ex);\n            }\n        }\n        return result;\n    };\n    return ErrorPromise;\n}());\nvar ExceptionPromise = (function (_super) {\n    __extends(ExceptionPromise, _super);\n    function ExceptionPromise(value) {\n        _super.call(this, value, detailsForException);\n    }\n    return ExceptionPromise;\n}(ErrorPromise));\nvar CompletePromise = (function () {\n    function CompletePromise(value) {\n        if (value && typeof value === \"object\" && typeof value.then === \"function\") {\n            var result = new ThenPromise(null);\n            result._setCompleteValue(value);\n            return result;\n        }\n        this._value = value;\n    }\n    CompletePromise.prototype.cancel = function () {\n        /* No-op */\n    };\n    CompletePromise.prototype.done = function (onComplete) {\n        if (!onComplete) {\n            return;\n        }\n        try {\n            var result = onComplete(this._value);\n            if (result && typeof result === \"object\" && typeof result.done === \"function\") {\n                result.done();\n            }\n        }\n        catch (ex) {\n            // force the exception to be thrown asynchronously to avoid any try/catch blocks\n            doneHandler(ex);\n        }\n    };\n    CompletePromise.prototype.then = function (onComplete) {\n        var resultPromise;\n        try {\n            // If the value returned from the completion handler is the same as the value\n            // provided to the completion handler then there is no need for a new promise.\n            //\n            var newValue = onComplete ? onComplete(this._value) : this._value;\n            resultPromise = newValue === this._value ? this : new CompletePromise(newValue);\n        }\n        catch (ex) {\n            resultPromise = new ExceptionPromise(ex);\n        }\n        return resultPromise;\n    };\n    return CompletePromise;\n}());\nfunction timeout(timeoutMS) {\n    \"use strict\";\n    var id;\n    return new Promise(function (c) {\n        if (timeoutMS) {\n            id = async.setTimeout(c, timeoutMS);\n        }\n        else {\n            async.setImmediate(c);\n        }\n    }, function () {\n        if (id) {\n            async.clearTimeout(id);\n        }\n    });\n}\nfunction timeoutWithPromise(timeout, promise) {\n    \"use strict\";\n    var cancelPromise = function () { promise.cancel(); };\n    var cancelTimeout = function () { timeout.cancel(); };\n    timeout.then(cancelPromise);\n    promise.then(cancelTimeout, cancelTimeout);\n    return promise;\n}\nvar staticCanceledPromise;\nvar Promise = (function () {\n    function Promise(init, oncancel) {\n        this._init(init, oncancel);\n    }\n    /**\n     * Returns a promise that is fulfilled when one of the input promises\n     * has been fulfilled.\n     */\n    Promise.any = function (values) {\n        return new Promise(function (complete, error) {\n            var keys = Object.keys(values);\n            if (keys.length === 0) {\n                complete();\n            }\n            var canceled = 0;\n            keys.forEach(function (key) {\n                Promise.as(values[key]).then(function () { complete({ key: key, value: values[key] }); }, function (e) {\n                    if (e instanceof Error && e.name === canceledName) {\n                        if ((++canceled) === keys.length) {\n                            complete(Promise.cancel);\n                        }\n                        return;\n                    }\n                    error({ key: key, value: values[key] });\n                });\n            });\n        }, function () {\n            var keys = Object.keys(values);\n            keys.forEach(function (key) {\n                var promise = Promise.as(values[key]);\n                if (typeof promise.cancel === \"function\") {\n                    promise.cancel();\n                }\n            });\n        });\n    };\n    Promise.as = function (value) {\n        var returnValue;\n        if (value && typeof value === \"object\" && typeof value.then === \"function\") {\n            returnValue = value;\n        }\n        else {\n            returnValue = new CompletePromise(value);\n        }\n        return returnValue;\n    };\n    Object.defineProperty(Promise, \"cancel\", {\n        get: function () {\n            return (staticCanceledPromise = staticCanceledPromise || new ErrorPromise(canceledName));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Determines whether a value fulfills the promise contract.\n     */\n    Promise.is = function (value) {\n        return value && typeof value === \"object\" && typeof value.then === \"function\";\n    };\n    /**\n     * Determines whether an error value represents a promise cancellation.\n     */\n    Promise.isCanceled = function (e) {\n        return (e instanceof Error && e.name === canceledName);\n    };\n    Promise.all = function (values) {\n        return new Promise(function (complete, error) {\n            var keys = Object.keys(values);\n            var errors = Array.isArray(values) ? [] : {};\n            var results = Array.isArray(values) ? [] : {};\n            var undefineds = 0;\n            var pending = keys.length;\n            var argDone = function (key) {\n                if ((--pending) === 0) {\n                    var errorCount = Object.keys(errors).length;\n                    if (errorCount === 0) {\n                        complete(results);\n                    }\n                    else {\n                        var canceledCount_1 = 0;\n                        keys.forEach(function (key) {\n                            var e = errors[key];\n                            if (e instanceof Error && e.name === canceledName) {\n                                canceledCount_1++;\n                            }\n                        });\n                        if (canceledCount_1 === errorCount) {\n                            complete(Promise.cancel);\n                        }\n                        else {\n                            error(errors);\n                        }\n                    }\n                }\n            };\n            keys.forEach(function (key) {\n                var value = values[key];\n                if (value === undefined) {\n                    undefineds++;\n                }\n                else {\n                    Promise.then(value, function (value) { results[key] = value; argDone(key); }, function (value) { errors[key] = value; argDone(key); });\n                }\n            });\n            pending -= undefineds;\n            if (pending === 0) {\n                complete(results);\n                return;\n            }\n        }, function () {\n            Object.keys(values).forEach(function (key) {\n                var promise = Promise.as(values[key]);\n                if (typeof promise.cancel === \"function\") {\n                    promise.cancel();\n                }\n            });\n        });\n    };\n    Promise.then = function (value, onComplete, onError) {\n        return Promise.as(value).then(onComplete, onError);\n    };\n    Promise.thenEach = function (values, onComplete, onError) {\n        var result = Array.isArray(values) ? [] : {};\n        Object.keys(values).forEach(function (key) {\n            result[key] = Promise.as(values[key]).then(onComplete, onError);\n        });\n        return Promise.all(result);\n    };\n    Promise.serial = function (tasks) {\n        return tasks.reduce(function (previous, task) {\n            return previous.then(task);\n        }, Promise.wrap());\n    };\n    Promise.timeout = function (time, promise) {\n        var to = timeout(time);\n        return promise ? timeoutWithPromise(to, promise) : to;\n    };\n    Promise.wrap = function (value) {\n        var cp = new CompletePromise(value);\n        return cp;\n    };\n    /**\n     * Wraps a non-promise error value in a promise. You can use this function if you need\n     * to pass an error to a function that requires a promise.\n     */\n    Promise.wrapError = function (error) {\n        var ep = new ErrorPromise(error);\n        return ep;\n    };\n    /**\n     * Attempts to cancel the fulfillment of a promised value. If the promise hasn't\n     * already been fulfilled and cancellation is supported, the promise enters\n     * the error state with a value of Error(\"Canceled\").\n     */\n    Promise.prototype.cancel = function () {\n        this._state.cancel(this);\n        this._run();\n    };\n    /**\n     * Allows you to specify the work to be done on the fulfillment of the promised value,\n     * the error handling to be performed if the promise fails to fulfill\n     * a value.\n     *\n     * After the handlers have finished executing, this function throws any error that would have been returned\n     * from then() as a promise in the error state.\n     *\n     * @param onComplete The function to be called if the promise is fulfilled successfully with a value. The fulfilled value is passed as the single argument. If the value is null, the fulfilled value is returned. The value returned from the function becomes the fulfilled value of the promise returned by then. If an exception is thrown while executing the function, the promise returned by then moves into the error state.\n     * @param onError The function to be called if the promise is fulfilled with an error. The error is passed as the single argument. If it is null, the error is forwarded. The value returned from the function is the fulfilled value of the promise returned by then.\n     */\n    Promise.prototype.done = function (onComplete, onError) {\n        this._state.done(this, onComplete, onError);\n    };\n    Promise.prototype.then = function (onComplete, onError) {\n        return this._state.then(this, onComplete, onError);\n    };\n    Promise.prototype._init = function (init, oncancel) {\n        this._oncancel = oncancel;\n        this._setState(state_created);\n        this._run();\n        try {\n            var complete = this._completed.bind(this);\n            var error_2 = this._error.bind(this);\n            init(complete, error_2);\n        }\n        catch (ex) {\n            this._setExceptionValue(ex);\n        }\n    };\n    Promise.prototype._cancelAction = function () {\n        if (this._oncancel) {\n            try {\n                this._oncancel();\n            }\n            catch (ex) { }\n        }\n    };\n    Promise.prototype._cleanupAction = function () {\n        this._oncancel = null;\n    };\n    Promise.prototype._chainedError = function (value, context) {\n        var result = this._state._error(this, value, detailsForChainedError, context);\n        this._run();\n        return result;\n    };\n    Promise.prototype._completed = function (value) {\n        var result = this._state._completed(this, value);\n        this._run();\n        return result;\n    };\n    Promise.prototype._error = function (value) {\n        var result = this._state._error(this, value, detailsForError);\n        this._run();\n        return result;\n    };\n    Promise.prototype._setState = function (state) {\n        this._nextState = state;\n    };\n    Promise.prototype._setCompleteValue = function (value) {\n        this._state._setCompleteValue(this, value);\n        this._run();\n    };\n    Promise.prototype._setChainedErrorValue = function (value, context) {\n        var result = this._state._setErrorValue(this, value, detailsForChainedError, context);\n        this._run();\n        return result;\n    };\n    Promise.prototype._setExceptionValue = function (value) {\n        var result = this._state._setErrorValue(this, value, detailsForException);\n        this._run();\n        return result;\n    };\n    Promise.prototype._run = function () {\n        while (this._nextState) {\n            this._state = this._nextState;\n            this._nextState = null;\n            this._state.enter(this);\n        }\n    };\n    return Promise;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Promise;\nevents = new EventGroup_1.default(Promise);\nevents.declare(errorET);\n//\n// Internal implementation detail promise, ThenPromise is created when a promise needs\n// to be returned from a then() method.\n//\nvar ThenPromise = (function (_super) {\n    __extends(ThenPromise, _super);\n    function ThenPromise(creator) {\n        _super.call(this);\n        this._creator = creator;\n        this._initThen();\n    }\n    ThenPromise.prototype._init = function () {\n        // Override to do nothing.\n    };\n    ThenPromise.prototype._cancelAction = function () {\n        if (this._creator) {\n            this._creator.cancel();\n        }\n    };\n    ThenPromise.prototype._cleanupAction = function () {\n        this._creator = null;\n    };\n    ThenPromise.prototype._initThen = function () {\n        this._setState(state_created);\n        this._run();\n    };\n    return ThenPromise;\n}(Promise));\nvar SignalPromise = (function (_super) {\n    __extends(SignalPromise, _super);\n    function SignalPromise(cancel) {\n        _super.call(this);\n        this._oncancel = cancel;\n        this._initSignal();\n    }\n    SignalPromise.prototype._init = function () {\n        // Override to do nothing.\n    };\n    SignalPromise.prototype._cancelAction = function () {\n        if (this._oncancel) {\n            this._oncancel();\n        }\n    };\n    SignalPromise.prototype._cleanupAction = function () {\n        this._oncancel = null;\n    };\n    SignalPromise.prototype._initSignal = function () {\n        this._setState(state_created);\n        this._run();\n    };\n    return SignalPromise;\n}(Promise));\nexports.SignalPromise = SignalPromise;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/async/Promise.js\n ** module id = 48\n ** module chunks = 0\n **/","\"use strict\";\nvar Async_1 = require('../../async/Async');\nvar PageTransitionType_1 = require('./PageTransitionType');\nvar RUMOneSLAPI_1 = require('./RUMOneSLAPI');\nvar RUMOneErrorsSLAPI_1 = require('./RUMOneErrorsSLAPI');\nvar RUMOneDataUpload_event_1 = require('../events/RUMOneDataUpload.event');\nvar PerformanceDataState;\n(function (PerformanceDataState) {\n    PerformanceDataState[PerformanceDataState[\"Incomplete\"] = 1] = \"Incomplete\";\n    PerformanceDataState[PerformanceDataState[\"ReadyToUpload\"] = 2] = \"ReadyToUpload\";\n    PerformanceDataState[PerformanceDataState[\"Uploaded\"] = 3] = \"Uploaded\";\n    PerformanceDataState[PerformanceDataState[\"TimeOut\"] = 4] = \"TimeOut\";\n})(PerformanceDataState || (PerformanceDataState = {}));\nvar MARKER_PREFIX = \"EUPL.\";\n/**\n * It is a new client side perf instrumentation, it logs more metrics, like scenario, api data, server request id, duration, etc in 1 single schema.\n * It has server side usage DB and cosmos supports.\n */\nvar RUMOneLogger = (function () {\n    function RUMOneLogger(logFunc) {\n        this.async = new Async_1.default(this);\n        this.dataStartTime = Number((new Date()).getTime());\n        this.performanceData = null;\n        this.dataState = PerformanceDataState.Incomplete;\n        this.controls = [];\n        this.apis = [];\n        this.perfDataTimer = null;\n        this.expectedControls = [];\n        this.euplBreakDown = {};\n        this.serverMetrics = {};\n        this.isW3cTimingCollected = false;\n        this.isW3cResourceTimingCollected = false;\n        this.tempData = {};\n        this.markerIndex = 0;\n        this.performanceData = null;\n        this.loggingFunc = logFunc;\n        this.getPerformanceData();\n        this.setPerfDataTimer();\n    }\n    RUMOneLogger.isNullOrUndefined = function (item) {\n        return item === null || item === undefined;\n    };\n    /**\n     * RUMOneLogger.getRUMOneLogger: Use this method to get a singleton reference of RUMOneLogger\n     * with default parameters.\n     */\n    RUMOneLogger.getRUMOneLogger = function (logFunc) {\n        var loggingFunc = logFunc || (function (streamName, dictProperties) {\n            RUMOneDataUpload_event_1.RUMOneDataUpload.logData({ streamName: streamName, dictionary: dictProperties });\n        });\n        if (!RUMOneLogger.rumOneLogger) {\n            try {\n                RUMOneLogger.rumOneLogger = new RUMOneLogger(loggingFunc);\n            }\n            catch (e) {\n                // If RUMOneLogger fails, don't block UX\n                RUMOneLogger.rumOneLogger = null;\n            }\n        }\n        return RUMOneLogger.rumOneLogger;\n    };\n    RUMOneLogger.prototype.getPerformanceData = function () {\n        if (!this.performanceData) {\n            this.performanceData = new RUMOneSLAPI_1.default();\n            this.logMessageInConsole(\"RUMOne object initiated!\");\n        }\n        return this.performanceData;\n    };\n    RUMOneLogger.prototype.resetLogger = function () {\n        this.dataStartTime = (new Date()).getTime();\n        this.dataState = PerformanceDataState.Incomplete;\n        this.isW3cTimingCollected = false;\n        this.isW3cResourceTimingCollected = false;\n        this.expectedControls = [];\n        this.controls = [];\n        this.apis = [];\n        this.tempData = {};\n        this.performanceData = null;\n        this.getPerformanceData();\n        this.clearPerfDataTimer();\n        this.setPerfDataTimer();\n        this.euplBreakDown = {};\n        this.serverMetrics = {};\n        this.logMessageInConsole(\"Reset performance Logger Done\");\n        this.clearResourceTimings();\n        this.clearMarks();\n    };\n    RUMOneLogger.prototype.logPerformanceData = function (key, value) {\n        if (!key || !this.performanceData || !this.verifyPropertyMatchingSchema(key)) {\n            return;\n        }\n        this.getPerformanceData();\n        this.performanceData[key] = value;\n    };\n    RUMOneLogger.prototype.getPerformanceDataPropertyValue = function (key) {\n        if (!this.performanceData || !key || !this.verifyPropertyMatchingSchema(key)) {\n            return null;\n        }\n        return this.performanceData[key];\n    };\n    RUMOneLogger.prototype.verifyPropertyMatchingSchema = function (propertyName) {\n        var properties = this.getRUMOnePropertyNames(this.performanceData);\n        return properties.join().indexOf(propertyName) !== -1;\n    };\n    RUMOneLogger.prototype.addExpectedControl = function (control) {\n        if (this.expectedControls.indexOf(control) === -1) {\n            this.expectedControls.push(control);\n        }\n    };\n    RUMOneLogger.prototype.expectingControl = function (control) {\n        return this.expectedControls.indexOf(control) >= 0;\n    };\n    RUMOneLogger.prototype.writeServerCorrelationId = function (correlationId) {\n        if (!this.isCollected('ServerCorrelationId')) {\n            this.logPerformanceData('ServerCorrelationId', correlationId);\n        }\n    };\n    RUMOneLogger.prototype.writeServerUrl = function (url) {\n        if (!this.isCollected('ServerUrl')) {\n            var serverUrl = url || window.location.href;\n            this.logPerformanceData('ServerUrl', serverUrl);\n        }\n    };\n    RUMOneLogger.prototype.writeServerSideLatency = function (duration, iisLatency) {\n        if (!this.isCollected('ServerRequestDuration')) {\n            this.logPerformanceData('ServerRequestDuration', duration);\n            this.logPerformanceData('IISLatency', iisLatency);\n        }\n    };\n    RUMOneLogger.prototype.writeControlPerformanceData = function (controlData) {\n        if (controlData) {\n            var foundControl = this.controls.filter(function (control) {\n                return control.controlId === controlData.controlId;\n            });\n            if (foundControl.length === 0) {\n                this.controls.push(controlData);\n            }\n        }\n    };\n    RUMOneLogger.prototype.writeAPICallPerformanceData = function (apiData) {\n        if (apiData) {\n            this.apis.push(apiData);\n        }\n    };\n    RUMOneLogger.prototype.readAPICallPerformanceData = function () {\n        return this.apis;\n    };\n    RUMOneLogger.prototype.writeAppCache = function (appCache) {\n        if (!this.isCollected('AppCache')) {\n            this.logPerformanceData('AppCache', appCache);\n        }\n    };\n    RUMOneLogger.prototype.writePageTransitionType = function (pageTransitionType, overwrite) {\n        if ((!this.isCollected('PageTransitionType') || overwrite) && !RUMOneLogger.isNullOrUndefined(pageTransitionType) && (pageTransitionType === PageTransitionType_1.default.fullPageLoad || pageTransitionType === PageTransitionType_1.default.none)) {\n            this.logPerformanceData('PageTransitionType', pageTransitionType);\n        }\n    };\n    RUMOneLogger.prototype.writeScenarioId = function (scenarioId, overwrite) {\n        if (!this.isCollected('ScenarioId') || overwrite) {\n            this.logPerformanceData('ScenarioId', scenarioId);\n        }\n    };\n    RUMOneLogger.prototype.collectW3CPerfTimings = function () {\n        if (!this.isW3cTimingCollected) {\n            var w3cTimeStampNames = ['navigationStart', 'unloadEventStart', 'unloadEventEnd', 'fetchStart', 'redirectStart', 'redirectEnd', 'domainLookupStart', 'domainLookupEnd', 'connectStart', 'secureConnectionStart', 'connectEnd', 'requestStart', 'responseStart', 'responseEnd', 'domLoading', 'domComplete', 'loadEventStart', 'loadEventEnd'];\n            var perfTimingObject = this.getWindowPerfTimingObject();\n            if (perfTimingObject) {\n                for (var index = 0; index < w3cTimeStampNames.length; index++) {\n                    var w3cObject = perfTimingObject[w3cTimeStampNames[index]];\n                    if (w3cObject) {\n                        this.logPerformanceData(this.getW3cTimingName(w3cTimeStampNames[index]), Number(w3cObject));\n                    }\n                }\n                this.isW3cTimingCollected = true;\n            }\n        }\n    };\n    RUMOneLogger.prototype.collectW3cResourceTimings = function () {\n        if (!this.isW3cResourceTimingCollected && window.performance && window.performance.getEntriesByType) {\n            var allRequests = performance.getEntriesByType(\"resource\");\n            var iFrames = document.getElementsByTagName(\"iframe\");\n            for (var index = 0; index < iFrames.length; index++) {\n                var iFramePerformance = null;\n                try {\n                    iFramePerformance = iFrames[index].contentWindow.performance;\n                }\n                catch (e) {\n                }\n                if (iFramePerformance && iFramePerformance.getEntriesByType) {\n                    allRequests.concat(iFramePerformance.getEntriesByType(\"resource\"));\n                }\n            }\n            var fromSources = {};\n            fromSources[\"SharePoint\"] = function (element) { return /\\.sharepoint\\.com|\\.spoppe\\.com/i.test(element.name); }; //matching sharepoint.com or spoppe.com\n            fromSources[\"CDN\"] = function (element) { return /(cdn(ppe)?|static(ppe)?)\\.sharepointonline\\.com|\\.akamaihd\\.net/i.test(element.name); }; //matching cdn(ppe)sharepointonline.com or adamaihd.net\n            fromSources[\"ThirdParty\"] = function (element) { return !fromSources[\"SharePoint\"](element) && !fromSources[\"CDN\"](element); }; // all requests other than sharepoint requests or cdn requests\n            var types = {};\n            types[\"ASPX\"] = function (element) { return /\\.aspx/i.test(element.name); };\n            types[\"JS\"] = function (element) { return /script/i.test(element.initiatorType); };\n            types[\"CSS\"] = function (element) { return /link|css/i.test(element.initiatorType); };\n            types[\"IMG\"] = function (element) { return /img/i.test(element.initiatorType); };\n            var sources = Object.keys(fromSources);\n            for (var index = 0; index < sources.length; index++) {\n                var source = sources[index];\n                var requests = this.categorizeResourceRequests(allRequests, {\n                    from: fromSources[source],\n                    requestType: null //match any type to get total request count for this source\n                });\n                this.logPerformanceData(source + \"RequestCountTotal\", requests.length); //SharePoint|CDN|ThirdParty resource request count\n                var typeKeys = Object.keys(types);\n                for (var typeIndex = 0; typeIndex < typeKeys.length; typeIndex++) {\n                    var type = typeKeys[typeIndex];\n                    this.logPerformanceData(source + \"RequestCount\" + type, this.categorizeResourceRequests(requests, {\n                        from: null,\n                        requestType: types[type]\n                    }).length); //SharePoint|CDN|ThirdParty ASPX resource request count\n                }\n                if (requests.length > 0) {\n                    this.logPerformanceData(source + \"RequestDownloadTime\", Math.round(requests.reduce(function (sum, currentVal) {\n                        return sum + currentVal.duration;\n                    }, 0) / requests.length)); //SharePoint|CDN|ThirdParty resource request average duration\n                    // log the file names of all resource requests in a JSON string. The output after processing will looks like:\n                    // [{name: \"require-db6c47e2.js\", startTime: 500, duration: 100},{name: \"RenderListDataAsStream\", startTime: 200, duration: 10}]\n                    // The raw resource name before this processing is \"https://msft.spoppe.com/teams/SPGroups/_api/web/GetList(@listUrl)/RenderListDataAsStream?Paged=TRUE&p_FileLeafRef=test%2eurl&p_ID=213&PageFirstRow=121&View=6eab4254-2f2f-4086-91c0-549ae900cc93&@listUrl=%27%2Fteams%2FSPGroups%2FVNextDocLib%27\"\n                    var files = JSON.stringify(requests.map(function (timing) {\n                        return {\n                            name: timing.name.split(\"/\").map(function (urlToken) {\n                                return urlToken.split(\"?\")[0];\n                            }).filter(function (urlToken) {\n                                return urlToken && urlToken.length > 0;\n                            }).slice(-1)[0].replace(/\\(.*?\\)/g, '()'),\n                            startTime: Math.round(timing.startTime),\n                            duration: Math.round(timing.duration)\n                        };\n                    }));\n                    this.logPerformanceData(source + \"RequestNames\", files);\n                }\n            }\n            this.isW3cResourceTimingCollected = true;\n        }\n    };\n    RUMOneLogger.prototype.saveTempData = function (key, value) {\n        this.tempData[key] = value;\n    };\n    RUMOneLogger.prototype.readTempData = function (key) {\n        return this.tempData[key];\n    };\n    RUMOneLogger.prototype.writeRenderTime = function (renderTime, overwrite) {\n        if (!this.isCollected('RenderTime') || overwrite) {\n            this.logPerformanceData('RenderTime', renderTime);\n        }\n    };\n    RUMOneLogger.prototype.writePreRenderTime = function (preRender) {\n        if (!this.isCollected('PreRender')) {\n            this.logPerformanceData('PreRender', preRender);\n        }\n    };\n    RUMOneLogger.prototype.writePostRenderTime = function (postRender) {\n        if (!this.isCollected('PostRender')) {\n            this.logPerformanceData('PostRender', postRender);\n        }\n    };\n    RUMOneLogger.prototype.writeDataFetchTime = function (dataFetch, overwrite) {\n        if (!this.isCollected('DataFetch') || overwrite) {\n            this.logPerformanceData('DataFetch', dataFetch);\n        }\n    };\n    RUMOneLogger.prototype.isRunning = function () {\n        return !(this.dataState === PerformanceDataState.Uploaded || this.dataState === PerformanceDataState.TimeOut);\n    };\n    RUMOneLogger.prototype.writeEUPLBreakdown = function (euplBreakdown, overwrite) {\n        if (euplBreakdown) {\n            try {\n                var breakdown = JSON.parse(euplBreakdown);\n                for (var key in breakdown) {\n                    if (!breakdown.hasOwnProperty(key)) {\n                        continue;\n                    }\n                    this.addEUPLBreakdown(key, breakdown[key], overwrite);\n                }\n            }\n            catch (e) {\n                // in case the euplBreakdown is invalid JSON\n                this.logMessageInConsole(\"Failed to write EUPL breakdown data:\" + e.toString());\n            }\n        }\n    };\n    RUMOneLogger.prototype.addEUPLBreakdown = function (name, value, overwrite) {\n        if (name && !RUMOneLogger.isNullOrUndefined(value)) {\n            if (RUMOneLogger.isNullOrUndefined(this.euplBreakDown[name]) || overwrite) {\n                this.euplBreakDown[name] = value;\n            }\n        }\n    };\n    RUMOneLogger.prototype.addServerMetrics = function (metric, overwrite) {\n        if (metric) {\n            for (var key in metric) {\n                if (key && !RUMOneLogger.isNullOrUndefined(metric[key]) &&\n                    (RUMOneLogger.isNullOrUndefined(this.serverMetrics[key]) || overwrite)) {\n                    this.serverMetrics[key] = metric[key];\n                }\n            }\n        }\n    };\n    RUMOneLogger.prototype.readControlPerformanceData = function () {\n        return this.controls;\n    };\n    RUMOneLogger.prototype.mark = function (name) {\n        if (window.performance && window.performance.mark) {\n            window.performance.mark(MARKER_PREFIX + name);\n        }\n    };\n    RUMOneLogger.prototype.clearResourceTimings = function () {\n        var perfObject = window.self[\"performance\"];\n        if (perfObject && perfObject.clearResourceTimings) {\n            perfObject.clearResourceTimings();\n        }\n    };\n    RUMOneLogger.prototype.collectMarks = function () {\n        var _this = this;\n        if (window.performance && window.performance.getEntriesByType) {\n            var marks_1 = {};\n            window.performance.getEntriesByType(\"mark\").filter(function (mark) {\n                return mark.name.lastIndexOf(MARKER_PREFIX, 0) === 0;\n            }).forEach(function (mark) {\n                if (_this.markerIndex < RUMOneLogger.MAX_MARKS) {\n                    var markName = mark.name.substr(MARKER_PREFIX.length) + (\".mark\" + _this.markerIndex++);\n                    marks_1[markName] = Math.round(mark.startTime); // covert to rumone collected marks to object and merge to EUPL Breakdown\n                }\n            });\n            this.writeEUPLBreakdown(JSON.stringify(marks_1));\n        }\n    };\n    RUMOneLogger.prototype.clearMarks = function () {\n        if (window.performance && window.performance.getEntriesByType && window.performance.clearMarks) {\n            window.performance.getEntriesByType(\"mark\").filter(function (mark) {\n                return mark.name.lastIndexOf(MARKER_PREFIX, 0) === 0;\n            }).forEach(function (mark) {\n                window.performance.clearMarks(mark.name);\n            });\n        }\n        this.markerIndex = 0;\n    };\n    RUMOneLogger.prototype.logMessageInConsole = function (message) {\n        try {\n            if ('sessionStorage' in window && window.sessionStorage) {\n                var debugStr = window.sessionStorage[\"enableRUMOneDebugging\"];\n                var debug = debugStr && debugStr.toLowerCase() === \"true\";\n            }\n        }\n        catch (e) {\n        }\n        if (debug && typeof console !== \"undefined\" && console) {\n            console.log(message);\n        }\n    };\n    RUMOneLogger.prototype.logObjectForDebugging = function (propertyName, dictProperties) {\n        var logMessageText = propertyName + \" : \" + JSON.stringify(dictProperties);\n        this.logMessageInConsole(logMessageText);\n    };\n    RUMOneLogger.prototype.isCollected = function (name) {\n        return !RUMOneLogger.isNullOrUndefined(this.getPerformanceDataPropertyValue(name));\n    };\n    RUMOneLogger.prototype.getRUMOnePropertyNames = function (obj) {\n        var names = [];\n        var index = 0;\n        if (!RUMOneLogger.isNullOrUndefined(obj)) {\n            for (var property in obj) {\n                if (obj.hasOwnProperty(property)) {\n                    names[index++] = property;\n                }\n            }\n        }\n        return names;\n    };\n    RUMOneLogger.prototype.setPerfDataTimer = function () {\n        this.perfDataTimer = this.async.setTimeout(this.loopForDataCompleteness, RUMOneLogger.CHECK_INTERVAL);\n    };\n    RUMOneLogger.prototype.clearPerfDataTimer = function () {\n        if (!RUMOneLogger.isNullOrUndefined(this.perfDataTimer)) {\n            this.async.clearTimeout(this.perfDataTimer);\n            this.perfDataTimer = null;\n        }\n    };\n    RUMOneLogger.prototype.categorizeResourceRequests = function (requests, categorizer) {\n        var ret = [];\n        for (var index = 0; index < requests.length; index++) {\n            var request = requests[index];\n            if ((!categorizer.from || categorizer.from(request)) && (!categorizer.requestType || categorizer.requestType(request))) {\n                ret.push(request);\n            }\n        }\n        return ret;\n    };\n    RUMOneLogger.prototype.collectSupplementaryData = function () {\n        this.setAPIDataToRUMOne();\n        this.collectMarks();\n        this.writeServerUrl(null);\n        this.setReferrer();\n        this.logPerformanceData('ServerMetrics', JSON.stringify(this.serverMetrics));\n        this.logPerformanceData('EUPLBreakdown', JSON.stringify(this.euplBreakDown));\n    };\n    RUMOneLogger.prototype.loopForDataCompleteness = function () {\n        this.clearPerfDataTimer();\n        this.logObjectForDebugging(\"RUMONE: \", this.performanceData);\n        this.logObjectForDebugging(\"RUMOne DataState: \", String(this.getReadableDataState(this.dataState)));\n        this.logObjectForDebugging(\"Control Performance Data: \", this.controls);\n        this.logObjectForDebugging(\"API Performance Data: \", this.apis);\n        this.logObjectForDebugging(\"Temp Data: \", this.tempData);\n        this.logObjectForDebugging(\"EUPLBreakdown: \", this.euplBreakDown);\n        this.logObjectForDebugging(\"ServerMetrics: \", this.serverMetrics);\n        this.logMessageInConsole(\"====================================================================\");\n        if (!this.isRunning()) {\n            return;\n        }\n        var collected = true;\n        var missedKeyMetrics = [];\n        for (var i = 0; i < RUMOneLogger.KeyMetrics.length; i++) {\n            var keyMetricValue = this.getPerformanceDataPropertyValue(RUMOneLogger.KeyMetrics[i]);\n            if (RUMOneLogger.isNullOrUndefined(keyMetricValue)) {\n                collected = false;\n                missedKeyMetrics.push(RUMOneLogger.KeyMetrics[i]);\n            }\n        }\n        this.dataState = collected ? PerformanceDataState.ReadyToUpload : PerformanceDataState.Incomplete;\n        if (this.dataState === PerformanceDataState.Incomplete) {\n            if (Number((new Date()).getTime()) - Number(this.dataStartTime) > RUMOneLogger.ERROR_TIMEOUT) {\n                this.dataState = PerformanceDataState.TimeOut;\n                this.collectSupplementaryData();\n                this.uploadPerfData();\n                this.reportErrors('TimeOut', 'Did not get key perf metrics in ' + String(RUMOneLogger.ERROR_TIMEOUT) + ' milliseconds. Missed metrics: ' + missedKeyMetrics.join() + '.');\n            }\n            else {\n                this.processControlPerfData();\n                if (this.readyToComputeEUPL()) {\n                    this.setEUPL();\n                }\n            }\n        }\n        else {\n            this.collectSupplementaryData();\n            try {\n                this.uploadPerfData();\n            }\n            catch (e) {\n                (function (errorText) {\n                    if (typeof console !== \"undefined\" && Boolean(console)) {\n                        console.error(errorText);\n                    }\n                })(\"PerformanceLogger error writing RUMOne data: \" + String(e));\n            }\n            this.dataState = PerformanceDataState.Uploaded;\n        }\n        this.setPerfDataTimer();\n    };\n    RUMOneLogger.prototype.getReadableDataState = function (_dataState) {\n        for (var key in PerformanceDataState) {\n            if (_dataState === Number(PerformanceDataState[key])) {\n                return key;\n            }\n        }\n        return 'NaN';\n    };\n    RUMOneLogger.prototype.writeControlDataToRUMOne = function (controlData) {\n        var _this = this;\n        if (controlData) {\n            var indexes = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].filter(function (index) {\n                return !_this.isCollected(\"Control\" + index + \"Id\");\n            });\n            var index = indexes.length > 0 ? indexes[0] : -1;\n            if (index > 0) {\n                this.logPerformanceData(\"Control\" + index + \"Id\", controlData.controlId);\n                this.logPerformanceData(\"Control\" + index + \"RenderTime\", controlData.renderTime);\n            }\n        }\n    };\n    RUMOneLogger.prototype.processControlPerfData = function () {\n        for (var index = 0; index < this.controls.length; index++) {\n            var control = this.controls[index];\n            var that = this;\n            if (!Boolean(control.renderTime) && control.renderTimeRequiredDataChecker(that, control)) {\n                control.renderTime = control.renderTimeCalculator(that, control);\n                this.writeControlDataToRUMOne(control);\n            }\n        }\n    };\n    RUMOneLogger.prototype.readyToComputeEUPL = function () {\n        var readyControls = 0;\n        for (var index = 0; index < this.expectedControls.length; index++) {\n            var keyControl = this.lookUpControls(this.expectedControls[index], this.controls);\n            if (keyControl && Boolean(keyControl.renderTime)) {\n                readyControls++;\n            }\n        }\n        return this.expectedControls.length > 0 && this.expectedControls.length === readyControls;\n    };\n    RUMOneLogger.prototype.lookUpControls = function (_controlId, _controls) {\n        if (_controls) {\n            for (var index = 0; index < _controls.length; index++) {\n                if (_controlId === _controls[index].controlId) {\n                    return _controls[index];\n                }\n            }\n        }\n        return null;\n    };\n    RUMOneLogger.prototype.setEUPL = function () {\n        if (!this.isCollected('EUPL')) {\n            var eupl = 0;\n            for (var index = 0; index < this.controls.length; index++) {\n                var controlData = this.controls[index];\n                if (Boolean(controlData.renderTime) && eupl < controlData.renderTime) {\n                    eupl = controlData.renderTime;\n                }\n            }\n            this.logPerformanceData('EUPL', eupl);\n        }\n    };\n    RUMOneLogger.prototype.setAPIDataToRUMOne = function () {\n        var calls = 0;\n        var durationSum = 0;\n        for (var index = 0; index < this.apis.length; index++) {\n            var apiData = this.apis[index];\n            if (apiData) {\n                calls++;\n                durationSum += apiData.duration;\n                // only take the function part of the API url to avoid cosmos data scrubber\n                // url before processing: /teams/SPGroups/_api/web/GetList(@listUrl)/RenderListDataAsStream?Paged=TRUE&p_FileLeafRef=test%2eurl&p_ID=213&PageFirstRow=121&View=6eab4254-2f2f-4086-91c0-549ae900cc93&@listUrl=%27%2Fteams%2FSPGroups%2FVNextDocLib%27\"\n                // url after processing: RenderListDataAsStream\n                apiData.url = apiData.url.split(\"/\").map(function (s) { return s.split(\"?\")[0]; }).slice(-1)[0].replace(/\\(.*?\\)/g, '()');\n            }\n        }\n        this.logPerformanceData('APICallCount', calls);\n        this.logPerformanceData('APICallDurationSum', durationSum);\n        this.logPerformanceData('APICalls', JSON.stringify(this.apis));\n    };\n    RUMOneLogger.prototype.setReferrer = function () {\n        if (!this.isCollected('Referrer')) {\n            this.logPerformanceData('Referrer', document.referrer);\n        }\n    };\n    RUMOneLogger.prototype.getW3cTimingName = function (timingName) {\n        if (timingName !== 'secureConnectionStart') {\n            return 'W3c' + timingName.charAt(0).toUpperCase() + timingName.slice(1);\n        }\n        else {\n            return 'W3csecureConnectStart'; // to workaround a RUMOne schema issue W3csecureConnectStart should be W3csecureConnectionStart\n        }\n    };\n    RUMOneLogger.prototype.getWindowPerfTimingObject = function () {\n        var perfObject = window.self[\"performance\"];\n        if (!RUMOneLogger.isNullOrUndefined(perfObject) && !RUMOneLogger.isNullOrUndefined(perfObject.timing)) {\n            return perfObject.timing;\n        }\n        return null;\n    };\n    RUMOneLogger.prototype.uploadPerfData = function () {\n        if (this.performanceData && this.loggingFunc &&\n            (this.dataState === PerformanceDataState.ReadyToUpload ||\n                this.dataState === PerformanceDataState.TimeOut)) {\n            this.loggingFunc(\"RUMOne\", this.getPerformanceData());\n        }\n    };\n    RUMOneLogger.prototype.reportErrors = function (reason, message) {\n        var errorObj = new RUMOneErrorsSLAPI_1.default();\n        errorObj.Reason = reason;\n        errorObj.Message = message;\n        if (this.loggingFunc) {\n            this.loggingFunc(\"RUMOneErrors\", errorObj);\n        }\n    };\n    RUMOneLogger.rumOneLogger = null;\n    RUMOneLogger.CHECK_INTERVAL = 100; // in milliseconds\n    RUMOneLogger.ERROR_TIMEOUT = 30000; // in milliseconds\n    RUMOneLogger.MAX_MARKS = 50; // suppport maximum 50 perf markers\n    RUMOneLogger.KeyMetrics = ['EUPL', 'ScenarioId'];\n    return RUMOneLogger;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RUMOneLogger;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneLogger.js\n ** module id = 49\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n//Intentionally Override the normal camel casing style to title casing style because the schema has to match exactly the server side schema which is Title casing.\n//Please do not change back to camel casing.\nvar RUMOneSLAPI = (function () {\n    function RUMOneSLAPI() {\n        this.ServerCorrelationId = null;\n        this.ScenarioId = null;\n        this.EUPL = undefined;\n        this.ServerUrl = null;\n        this.Browser = null;\n        this.ClientIP = null;\n        this.UserAgent = null;\n        this.Flights = null;\n        this.PageTransitionType = undefined;\n        this.AppCache = undefined;\n        this.FolderNav = undefined;\n        this.InitiationTimeOffset = undefined;\n        this.ServerRequestDuration = undefined;\n        this.IISLatency = undefined;\n        this.TTFB = undefined;\n        this.TTLB = undefined;\n        this.ParseTime = undefined;\n        this.RenderTime = undefined;\n        this.Control1Id = null;\n        this.Control1RenderTime = undefined;\n        this.Control2Id = null;\n        this.Control2RenderTime = undefined;\n        this.Control3Id = null;\n        this.Control3RenderTime = undefined;\n        this.Control4Id = null;\n        this.Control4RenderTime = undefined;\n        this.SharePointRequestCountTotal = undefined;\n        this.SharePointRequestCountASPX = undefined;\n        this.SharePointRequestCountJS = undefined;\n        this.SharePointRequestCountCSS = undefined;\n        this.SharePointRequestCountIMG = undefined;\n        this.SharePointRequestCountNoneCached = undefined;\n        this.SharePointRequestBytes = undefined;\n        this.SharePointRequestDownloadTime = undefined;\n        this.CDNRequestCountTotal = undefined;\n        this.CDNRequestCountASPX = undefined;\n        this.CDNRequestCountJS = undefined;\n        this.CDNRequestCountCSS = undefined;\n        this.CDNRequestCountIMG = undefined;\n        this.CDNRequestCountNoneCached = undefined;\n        this.CDNRequestBytes = undefined;\n        this.CDNRequestDownloadTime = undefined;\n        this.ThirdPartyRequestCountTotal = undefined;\n        this.ThirdPartyRequestCountASPX = undefined;\n        this.ThirdPartyRequestCountJS = undefined;\n        this.ThirdPartyRequestCountCSS = undefined;\n        this.ThirdPartyRequestCountIMG = undefined;\n        this.ThirdPartyRequestCountNoneCached = undefined;\n        this.ThirdPartyRequestBytes = undefined;\n        this.ThirdPartyRequestDownloadTime = undefined;\n        this.FromEdge = undefined;\n        this.APICallCount = undefined;\n        this.APICallDurationSum = undefined;\n        this.PreRender = undefined;\n        this.DataFetch = undefined;\n        this.PostRender = undefined;\n        this.W3cNavigationStart = undefined;\n        this.W3cUnloadEventStart = undefined;\n        this.W3cUnloadEventEnd = undefined;\n        this.W3cFetchStart = undefined;\n        this.W3cRedirectStart = undefined;\n        this.W3cRedirectEnd = undefined;\n        this.W3cDomainLookupStart = undefined;\n        this.W3cDomainLookupEnd = undefined;\n        this.W3cConnectStart = undefined;\n        this.W3cSecureConnectStart = undefined;\n        this.W3cConnectEnd = undefined;\n        this.W3cRequestStart = undefined;\n        this.W3cResponseStart = undefined;\n        this.W3cResponseEnd = undefined;\n        this.W3cDomLoading = undefined;\n        this.W3cDomLoadEnd = undefined;\n        this.W3cLoadEventStart = undefined;\n        this.W3cLoadEventEnd = undefined;\n        this.MDSDownloadStart = undefined;\n        this.MDSParseDeltaStart = undefined;\n        this.MDSParseDeltaEnd = undefined;\n        this.MDSGCStart = undefined;\n        this.MDSGCEnd = undefined;\n        this.MDSCSSStart = undefined;\n        this.MDSCSSEnd = undefined;\n        this.MDSInnerHTMLStart = undefined;\n        this.MDSScriptLoaderStart = undefined;\n        this.MDSScriptLoaderEnd = undefined;\n        this.MDSAnimationStart = undefined;\n        this.MDSAnimationEnd = undefined;\n        this.MDSParallelDownloadStart = undefined;\n        this.MDSParallelDownloadEnd = undefined;\n        this.APICalls = undefined;\n        this.SharePointRequestNames = undefined;\n        this.CDNRequestNames = undefined;\n        this.ThirdPartyRequestNames = undefined;\n        this.EUPLBreakdown = undefined;\n        this.Control5Id = null;\n        this.Control5RenderTime = undefined;\n        this.Control6Id = null;\n        this.Control6RenderTime = undefined;\n        this.Control7Id = null;\n        this.Control7RenderTime = undefined;\n        this.Control8Id = null;\n        this.Control8RenderTime = undefined;\n        this.Control9Id = null;\n        this.Control9RenderTime = undefined;\n        this.Control10Id = null;\n        this.Control10RenderTime = undefined;\n        this.ServerMetrics = null;\n        this.Referrer = null;\n    }\n    return RUMOneSLAPI;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RUMOneSLAPI;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneSLAPI.js\n ** module id = 50\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n//Intentionally Override the normal camel casing style to title casing style because the schema has to match exactly the server side schema which is Title casing.\n//Please do not change back to camel casing.\n\"use strict\";\nvar RUMOneErrorsSLAPI = (function () {\n    function RUMOneErrorsSLAPI() {\n        this.Reason = null;\n        this.Message = null;\n    }\n    return RUMOneErrorsSLAPI;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RUMOneErrorsSLAPI;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneErrorsSLAPI.js\n ** module id = 51\n ** module chunks = 0\n **/","\"use strict\";\n// encode <>&'\"\nvar ENCODE_HTML_TEXT_REGEX = /[<>&'\"\\\\]/g;\nvar CODES = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '&': '&amp;',\n    '\"': '&quot;',\n    '\\'': '&#39;',\n    '\\\\': '&#92;'\n};\nvar HtmlEncoding = (function () {\n    function HtmlEncoding() {\n    }\n    /**\n     * Encodes a string for use in HTML text. Not recommended for attribute values\n     * or anything that might be used in a URL.\n     */\n    HtmlEncoding.encodeText = function (inputString) {\n        if (!inputString) {\n            return \"\";\n        }\n        return inputString.replace(ENCODE_HTML_TEXT_REGEX, function (_match) { return CODES[_match]; });\n    };\n    return HtmlEncoding;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = HtmlEncoding;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/encoding/HtmlEncoding.js\n ** module id = 52\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n/**\n * This datasource makes a call to the Acronyms and Colors service and returns an IAcronymColor object.\n */\nvar SiteHeaderLogoAcronym = (function () {\n    /**\n     * @constructor\n     */\n    function SiteHeaderLogoAcronym(hostSettings) {\n        this._hostSettings = hostSettings;\n    }\n    /**\n     * Given a site name, return an URL to a REST endpoint where the site logo acronym and color information can be retrieved from.\n     * The REST endpoint is through the GetAcronymsAndColors API.\n     * Note: API takes in additional optional arguments like lcid, which as of this writing this method doesn't support.\n     *       Please extend as appropriate.\n     *\n     * @param {string} siteName Name of the site.\n     * @returns { string} the REST endpoint relative URL.\n     */\n    SiteHeaderLogoAcronym.prototype.getAcronymRESTUrl = function (siteName) {\n        return this._hostSettings.webServerRelativeUrl + (\"/_api/sphome/GetAcronymsAndColors?labels=[{Text:\" + encodeURIComponent('\"' + siteName + '\"') + \"}]\");\n    };\n    SiteHeaderLogoAcronym.prototype.getAcronymColor = function (responseText) {\n        //parse the responseText\n        var rtnObj = { acronym: undefined, color: undefined };\n        try {\n            var response = JSON.parse(responseText);\n            var responseResult = response.d.GetAcronymsAndColors.results[0];\n            rtnObj.acronym = responseResult.Acronym;\n            rtnObj.color = responseResult.Color;\n        }\n        catch (e) {\n            // try xml parsing\n            var parser = this._parseFn();\n            var elements = void 0;\n            var xmlDoc = parser(responseText);\n            if (elements = xmlDoc.getElementsByTagName(\"element\")) {\n                var element = elements[0];\n                for (var i = 0; i < element.childNodes.length; i++) {\n                    switch (element.childNodes[i].nodeName) {\n                        case 'Acronym':\n                            rtnObj.acronym = element.childNodes[i].nodeValue;\n                            break;\n                        case 'Color':\n                            rtnObj.color = element.childNodes[i].nodeValue;\n                            break;\n                    }\n                }\n            }\n        }\n        return rtnObj;\n    };\n    /**\n     * Returns an XML parser.\n     */\n    SiteHeaderLogoAcronym.prototype._parseFn = function () {\n        var parseXml;\n        if (DOMParser) {\n            parseXml = function (xmlStr) {\n                return (new DOMParser()).parseFromString(xmlStr, \"text/xml\");\n            };\n        }\n        else if (ActiveXObject &&\n            new ActiveXObject(\"Microsoft.XMLDOM\")) {\n            parseXml = function (xmlStr) {\n                var xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = \"false\";\n                xmlDoc.loadXML(xmlStr);\n                return xmlDoc;\n            };\n        }\n        else {\n            throw new Error(\"No XML parser found\");\n        }\n        return parseXml;\n    };\n    return SiteHeaderLogoAcronym;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = SiteHeaderLogoAcronym;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/dataSources/acronym/SiteHeaderLogoAcronym.js\n ** module id = 53\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar StringHelper_1 = require('../../string/StringHelper');\nvar MembersList_1 = require('./MembersList');\n/**\n * This datasource makes server call to get group related information.\n */\nvar GroupDataSource = (function () {\n    /**\n     * @constructor\n     */\n    function GroupDataSource(hostSettings) {\n        this._hostSettings = hostSettings;\n    }\n    /**\n     * Get REST Url to get group properties\n     * @param {string} Id (Guid) of the group\n     * @returns the REST url that can be used to get group basic properties\n     */\n    GroupDataSource.prototype.getGroupBasicPropertiesRESTUrl = function (groupId, withMembership) {\n        return this._getRESTUrl(StringHelper_1.format(withMembership ? GroupDataSource.groupBasicPropertiesWithMembershipUrlTemplate : GroupDataSource.groupBasicPropertiesUrlTemplate, groupId), 'SP.Directory.DirectorySession');\n    };\n    GroupDataSource.prototype.getGroupBasicProperties = function (responseText) {\n        var group = {};\n        try {\n            var response = JSON.parse(responseText);\n            if (response.d) {\n                group = this._copyGroup(response.d);\n                this._calculateMissingGroupProperties(group, group.id);\n            }\n        }\n        catch (e) {\n            group = {};\n        }\n        return group;\n    };\n    GroupDataSource.prototype._getRESTUrl = function (op, ns) {\n        return this._hostSettings.webServerRelativeUrl + '/_api/' + ns + '/' + op;\n    };\n    /**\n     * Given response from the server convert it into a group\n     */\n    GroupDataSource.prototype._copyGroup = function (src) {\n        var groupInfo = {};\n        if (src.description) {\n            groupInfo.description = src.description;\n        }\n        if (src.alias) {\n            groupInfo.alias = src.alias;\n        }\n        if (src.displayName) {\n            groupInfo.name = src.displayName;\n        }\n        if (src.principalName) {\n            groupInfo.principalName = src.principalName;\n        }\n        if (src.creationTime) {\n            groupInfo.creationTime = src.creationTime;\n        }\n        if (src.pictureUrl) {\n            groupInfo.pictureUrl = src.pictureUrl;\n        }\n        if (src.inboxUrl) {\n            groupInfo.inboxUrl = src.inboxUrl;\n        }\n        if (src.calendarUrl) {\n            groupInfo.calendarUrl = src.calendarUrl;\n        }\n        if (src.documentsUrl) {\n            groupInfo.filesUrl = src.documentsUrl;\n        }\n        if (src.siteUrl) {\n            groupInfo.sharePointUrl = src.siteUrl;\n        }\n        if (src.editGroupUrl) {\n            groupInfo.editUrl = src.editGroupUrl;\n        }\n        if (src.peopleUrl) {\n            groupInfo.membersUrl = src.peopleUrl;\n        }\n        if (src.notebookUrl) {\n            groupInfo.notebookUrl = src.notebookUrl;\n        }\n        if (src.isPublic) {\n            groupInfo.isPublic = src.isPublic;\n        }\n        if (src.mail) {\n            groupInfo.mail = src.mail;\n        }\n        // TODO: remove this once all branches get lowerCamelCase changelist\n        if (src.Description) {\n            groupInfo.description = src.Description;\n        }\n        if (src.Alias) {\n            groupInfo.alias = src.Alias;\n        }\n        if (src.DisplayName) {\n            groupInfo.name = src.DisplayName;\n        }\n        if (src.PrincipalName) {\n            groupInfo.principalName = src.PrincipalName;\n        }\n        if (src.CreationTime) {\n            groupInfo.creationTime = src.CreationTime;\n        }\n        if (src.PictureUrl) {\n            groupInfo.pictureUrl = src.PictureUrl;\n        }\n        if (src.InboxUrl) {\n            groupInfo.inboxUrl = src.InboxUrl;\n        }\n        if (src.CalendarUrl) {\n            groupInfo.calendarUrl = src.CalendarUrl;\n        }\n        if (src.DocumentsUrl) {\n            groupInfo.filesUrl = src.DocumentsUrl;\n        }\n        if (src.SiteUrl) {\n            groupInfo.sharePointUrl = src.SiteUrl;\n        }\n        if (src.EditGroupUrl) {\n            groupInfo.editUrl = src.EditGroupUrl;\n        }\n        if (src.PeopleUrl) {\n            groupInfo.membersUrl = src.PeopleUrl;\n        }\n        if (src.NotebookUrl) {\n            groupInfo.notebookUrl = src.NotebookUrl;\n        }\n        if (src.IsPublic) {\n            groupInfo.isPublic = src.IsPublic;\n        }\n        if (src.Mail) {\n            groupInfo.mail = src.Mail;\n        }\n        if (src.members || src.owners) {\n            this._copyMembership(src);\n        }\n        return groupInfo;\n    };\n    /**\n     *  Remove once federated directory makes appropriate fixes\n     */\n    GroupDataSource.prototype._calculateMissingGroupProperties = function (group, groupId) {\n        if (!group.creationTime) {\n            group.creationTime = Date.now();\n        }\n        if (!group.pictureUrl) {\n            group.pictureUrl = group.pictureUrl.replace(\"EWS/Exchange.asmx/s/GetUserPhoto\", \"OWA/service.svc/s/GetPersonaPhoto\");\n        }\n        if (!group.profileUrl) {\n            group.profileUrl = this._getProfileUrl(groupId);\n        }\n        if (!group.notebookUrl && groupId) {\n            group.notebookUrl = this._getGroupStatusNotebookUrl(groupId);\n        }\n    };\n    GroupDataSource.prototype._getProfileUrl = function (id) {\n        return this._hostSettings.siteAbsoluteUrl + StringHelper_1.format(GroupDataSource.groupStatusPageTemplate, id, 'profile');\n    };\n    GroupDataSource.prototype._getGroupStatusNotebookUrl = function (id) {\n        return this._hostSettings.siteAbsoluteUrl + StringHelper_1.format(GroupDataSource.groupStatusPageTemplate, id, 'notebook');\n    };\n    GroupDataSource.prototype._copyMembership = function (src) {\n        var membershipInfo = {};\n        if (src.members && src.members.results) {\n            var membersList = this._copyMembers(src.members.results);\n            membershipInfo.membersList = membersList;\n        }\n        if (src.owners && src.owners.results) {\n            var ownersList = this._copyMembers(src.owners.results);\n            membershipInfo.ownersList = ownersList;\n        }\n        return membershipInfo;\n    };\n    /**\n     * Copy from member list json to memberList object\n     */\n    GroupDataSource.prototype._copyMembers = function (src) {\n        var membersList = new MembersList_1.default();\n        var members = new Array();\n        for (var i = 0; i < src.length; i++) {\n            var member = this._copyMember(src[i]);\n            members.push(member);\n        }\n        membersList.members = members;\n        membersList.totalCount = members.length;\n        return membersList;\n    };\n    /**\n     * Copy from json to IPerson object\n     */\n    GroupDataSource.prototype._copyMember = function (src) {\n        var user = {};\n        if (src.alias) {\n            user.sip = src.alias;\n        }\n        if (src.id) {\n            user.userId = src.id;\n        }\n        if (src.principalName) {\n            user.email = src.principalName;\n        }\n        if (src.displayName) {\n            user.name = src.displayName;\n        }\n        if (src.title) {\n            user.job = src.title;\n        }\n        if (src.pictureUrl) {\n            user.image = src.pictureUrl;\n        }\n        if (src.profilePage) {\n            user.profilePage = src.profilePage;\n        }\n        return user;\n    };\n    /**\n     * Static members\n     */\n    // Url templates\n    GroupDataSource.groupBasicPropertiesUrlTemplate = 'Group(\\'{0}\\')?$select=PrincipalName,DisplayName,Alias,Description,InboxUrl,CalendarUrl,DocumentsUrl,SiteUrl,EditGroupUrl,PictureUrl,PeopleUrl,NotebookUrl,Mail,IsPublic,CreationTime';\n    GroupDataSource.groupBasicPropertiesWithMembershipUrlTemplate = 'Group(\\'{0}\\')?$expand=Members,Owners&$select=PrincipalName,DisplayName,Alias,Description,InboxUrl,CalendarUrl,DocumentsUrl,SiteUrl,EditGroupUrl,PictureUrl,PeopleUrl,NotebookUrl,Mail,IsPublic,CreationTime,Members/PrincipalName,Members/Id,Members/DisplayName,Members/PictureUrl,Owners/PrincipalName,Owners/Id,Owners/DisplayName,Owners/PictureUrl';\n    GroupDataSource.groupStatusPageTemplate = '_layouts/15/groupstatus?id={0}&target={1}';\n    return GroupDataSource;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = GroupDataSource;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/dataSources/group/GroupDataSource.js\n ** module id = 54\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n;\nvar MembersList = (function () {\n    function MembersList() {\n        this.totalCount = 0;\n        this.members = new Array();\n    }\n    /**\n     * Add given user to the members list of the group\n     */\n    MembersList.prototype.addUserToList = function (user) {\n        this.members.unshift(user);\n        this.totalCount++;\n    };\n    /**\n     * Remove user from members list of a group\n     */\n    MembersList.prototype.removeUserFromList = function (user) {\n        var indexToRemove = -1; // not found by default\n        for (var i = 0; i < this.members.length; i++) {\n            if (this.members[i].userId === user.userId) {\n                indexToRemove = i; // find the index\n            }\n        }\n        // If user exists in members list then remove it\n        if (indexToRemove >= 0) {\n            this.members.splice(indexToRemove, 1);\n            this.totalCount--;\n        }\n    };\n    return MembersList;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = MembersList;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/dataSources/group/MembersList.js\n ** module id = 55\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n/**\n * Use PlatformDetection to evaluate which user experience makes sense for the user's\n * platform. NOTE: This class is NOT COMPLETE! Meaning not all values are parsed out of\n * the user agent. If something is missing that you need, add it and add unit tests.\n * WARNING: Avoid using browser checks when you can use detection techniques for caps checking.\n */\nvar PlatformDetection = (function () {\n    function PlatformDetection(agent) {\n        // OS checks\n        this.isWindows = false;\n        this.isWinPhone = false;\n        this.isMac = false;\n        this.isIOS = false;\n        this.isAndroid = false;\n        this.isWindows81 = false;\n        // Check to see if we are definitely on a mobile device.\n        this.isMobile = false;\n        // Browser boolean checks\n        this.isChrome = false;\n        this.isIE = false;\n        this.isIE9 = false;\n        this.isEdge = false;\n        this.isFirefox = false;\n        this.isSafari = false;\n        // Device information\n        this.isIPad = false;\n        this.browserMinor = '0';\n        this.browserMajor = 0;\n        this.areCSS3TransitionsSupported = true;\n        this.isHtml5FileUploadSupported = false;\n        this.isFolderUploadSupported = false;\n        this.isRetinaSupported = false;\n        this.isUnlimitedStyleSheetsSupported = false;\n        this.areTouchEventsSupported = false;\n        this.isWebDavSupported = false;\n        agent = agent || (window && window.navigator && navigator.userAgent) || '';\n        this.userAgent = agent;\n        agent = agent.toLowerCase();\n        // We want to figure out which ONE browser the user is most likely on.\n        // The order of the checks is important so we're not deceived by (for example)\n        // Chrome saying that it's Safari.\n        // (Each regular expression captures the version number so we can parse it later.)\n        var match;\n        if (match = /msie (\\d+)([\\d.]*)/.exec(agent)) {\n            // IE <= 10 has something like \"MSIE 9\" in the user agent.\n            // This is also what newer versions do in compatibility mode.\n            this.isIE = true;\n            if (/msie 9/.exec(agent)) {\n                this.isIE9 = true;\n            }\n        }\n        else if (match = /trident.*rv:(\\d+)([\\d.]*)/.exec(agent)) {\n            // This is IE 11. Sample user agent contains:\n            // Trident/7.0; other stuff... rv:11.0\n            this.isIE = true;\n        }\n        else if (match = /edge\\/(\\d+)([\\d.]*)/.exec(agent)) {\n            // This is Edge (it pretends to be Chrome and Safari).\n            this.isEdge = true;\n        }\n        else if (match = /firefox\\/(\\d+)([\\d.]*)/.exec(agent)) {\n            this.isFirefox = true;\n        }\n        else if (match = /(?:chrome|crios)\\/(\\d+)([\\d.]*)/.exec(agent)) {\n            // Note: lots of random browsers say they're Chrome and will end up in this bucket\n            this.isChrome = true;\n        }\n        else if (match = /safari\\/(\\d+)/.exec(agent)) {\n            this.isSafari = true;\n            match = /version\\/(\\d+)([\\d.]*)/.exec(agent);\n        }\n        // Some other browser categories:\n        //   IE Mobile: /iemobile\\/(\\d+)/\n        //   IE Mobile in desktop mode: contains WPDesktop; get version from Trident version\n        //   Opera (currently goes into Chrome bucket): /opr\\/(\\d+)/\n        // Parse the captured version number for user's browser.\n        if (match) {\n            this.browserMajor = parseInt(match[1], 10) || 0;\n            var browserMinorVersion = match[2];\n            if (browserMinorVersion) {\n                var minorStart = browserMinorVersion.indexOf('.');\n                if (minorStart >= 0 && minorStart < browserMinorVersion.length - 1) {\n                    this.browserMinor = browserMinorVersion.substr(minorStart + 1);\n                }\n            }\n        }\n        // Parse device which gives hints about os / mobile state.\n        // Windows Phone IE sometimes pretends to be Android, so explicitly check for Windows Phone first.\n        // (wpdesktop is used by Windows Phone in desktop mode.)\n        var deviceMatch = agent.match(/windows phone|wpdesktop/) || agent.match(/ipad|iphone|ipod|android/);\n        if (deviceMatch) {\n            var device = deviceMatch[0];\n            this.isWinPhone = device === 'windows phone' || device === 'wpdesktop';\n            this.isAndroid = device === 'android';\n            this.isIOS = device === 'ipad' || device === 'ipod' || device === 'iphone';\n            this.isIPad = device === 'ipad';\n            this.isMobile = this.isWinPhone || this.isAndroid || this.isIOS;\n        }\n        else {\n            this.isMac = agent.indexOf('macintosh') !== -1;\n            this.isWindows = agent.indexOf('windows nt') !== -1;\n            this.isWindows81 = /(windows 8\\.1|windows nt 6\\.3)/.test(agent) && !this.isWinPhone;\n        }\n        // Other operating systems:\n        //   Chrome OS: /cros/\n        //   Linux: /linux/ (Android can also say it's Linux, so check for Android first)\n        // WARNING: Avoid using browser checks when you can use detection techniques for caps checking.\n        this.isRetinaSupported = !!(window['devicePixelRatio'] && window.devicePixelRatio > 1);\n        var input = document.createElement(\"input\");\n        input.type = \"file\";\n        this.isFolderUploadSupported = \"webkitdirectory\" in input;\n        this.isHtml5FileUploadSupported = !!(window['File'] && (window['File'].prototype.slice || window['File'].prototype.mozSlice || window['File'].prototype.webkitSlice));\n        this.isUnlimitedStyleSheetsSupported = !this._shouldUseCssText();\n        this.areTouchEventsSupported = 'ontouchstart' in window;\n        this.isWebDavSupported = 'addBehavior' in document.createElement('div');\n        if (this.isIE && this.browserMajor <= 9) {\n            this.areCSS3TransitionsSupported = false;\n        }\n        var osVersionMatch = /[\\s\\(](os|os x|windows phone|windows nt|android) ([\\d._]+)/.exec(agent);\n        this.osVersion = osVersionMatch ? osVersionMatch[2] : \"NA\";\n        // Set browser name\n        if (this.isIE) {\n            this.browserName = \"IE\";\n        }\n        else if (this.isEdge) {\n            this.browserName = \"Edge\";\n        }\n        else if (this.isChrome) {\n            this.browserName = \"Chrome\";\n        }\n        else if (this.isFirefox) {\n            this.browserName = \"Firefox\";\n        }\n        else if (this.isSafari) {\n            this.browserName = \"Safari\";\n        }\n        else {\n            this.browserName = \"NA\";\n        }\n        if (this.isWindows) {\n            this.osName = \"Windows\";\n        }\n        else if (this.isWinPhone) {\n            this.osName = \"Windows Phone\";\n        }\n        else if (this.isMac) {\n            this.osName = \"OSX\";\n        }\n        else if (this.isIOS) {\n            this.osName = \"IOS\";\n        }\n        else if (this.isAndroid) {\n            this.osName = \"Android\";\n        }\n        else {\n            this.osName = \"NA\";\n        }\n    }\n    /**\n     * Checks to see if styleSheet exists as a property off of a style element.\n     * This will determine if style registration should be done via cssText (<= IE9) or not\n     */\n    PlatformDetection.prototype._shouldUseCssText = function () {\n        var emptyStyle = document.createElement(\"style\");\n        emptyStyle.type = \"text/css\";\n        return !!emptyStyle[\"styleSheet\"];\n    };\n    return PlatformDetection;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = PlatformDetection;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/browser/PlatformDetection.js\n ** module id = 56\n ** module chunks = 0\n **/","\"use strict\";\nvar ObjectUtil_1 = require('../object/ObjectUtil');\nvar StringHelper_1 = require('../string/StringHelper');\n(function (UriPartial) {\n    /** The scheme segment of the URI */\n    UriPartial[UriPartial[\"scheme\"] = 0] = \"scheme\";\n    /** The scheme and authority segments of the URI */\n    UriPartial[UriPartial[\"authority\"] = 1] = \"authority\";\n    /** The scheme, authority, and path segments of the URI */\n    UriPartial[UriPartial[\"path\"] = 2] = \"path\";\n    /** The scheme, authority, path, and query segments of the URI */\n    UriPartial[UriPartial[\"query\"] = 3] = \"query\";\n})(exports.UriPartial || (exports.UriPartial = {}));\nvar UriPartial = exports.UriPartial;\n/**\n * Partial port of groove\\Misc\\URI.cpp, which was based on RFC2396 and RFC3986 (http://www.ietf.org/rfc/rfc2396.txt).\n * There are a few differences between this implementation and the RFC:\n *  - Implementation does not support parameters (we don't use them, and partial implementation was incorrect)\n *  - Implementation supports some relative URIs at a glance but more investigation required\n *\n *   foo://example.com:8042/over/there?name=ferret#nose\n *   \\_/   \\______________/\\_________/ \\_________/ \\__/\n *    |           |            |            |        |\n * scheme     authority       path        query   fragment\n *\n * Possible improvements:\n *  - Support path parameters\n *  - Fully support and test relative URLs based on RFC\n *  - Allow changing/removing remaining URI components (i.e. user, host, port, parameters)\n *  - URI.equals could allow ?foo=1&bar=2 equals ?bar=2&foo=1\n *  - URI.parseURI should have better error handling rather than just setting it as path\n *  - URI.getQueryAsObject should have better error handling for query of \"a=1&a=2\"\n */\nvar Uri = (function () {\n    function Uri(uriString, options) {\n        this._queryCaseInsensitive = false;\n        this._pathCaseInsensitive = false;\n        // All of these are decoded (if relevant) unless specified as encoded.\n        this._scheme = \"\";\n        this._user = \"\";\n        this._host = \"\";\n        this._port = \"\";\n        this._path = \"\";\n        this._pathSegments = [];\n        this._pathEncoded = \"\";\n        this._query = {};\n        this._fragment = \"\";\n        if (Boolean(options)) {\n            this._queryCaseInsensitive = Boolean(options.queryCaseInsensitive);\n            this._pathCaseInsensitive = Boolean(options.pathCaseInsensitive);\n        }\n        this._parseURI(uriString);\n    }\n    Uri.concatenate = function () {\n        var uriParts = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            uriParts[_i - 0] = arguments[_i];\n        }\n        var result = '';\n        for (var i = 0; i < uriParts.length; i++) {\n            var part = uriParts[i];\n            if (i > 0) {\n                part = Uri.ensureNoPrecedingSlash(part);\n            }\n            if (i < uriParts.length - 1) {\n                part = Uri.ensureTrailingSlash(part);\n            }\n            result += part;\n        }\n        return result;\n    };\n    Uri.ensureNoPrecedingSlash = function (part) {\n        return part[0] === \"/\" ? part.substr(1) : part;\n    };\n    Uri.ensureTrailingSlash = function (part) {\n        return part[part.length - 1] !== \"/\" ? (part + \"/\") : part;\n    };\n    Uri.prototype.getScheme = function () {\n        return this._scheme;\n    };\n    Uri.prototype.setScheme = function (scheme) {\n        this._scheme = scheme;\n    };\n    Uri.prototype.getAuthority = function () {\n        return this._getAuthority(false);\n    };\n    Uri.prototype.setAuthority = function (authority) {\n        this._parseAuthority(authority);\n    };\n    Uri.prototype.getUser = function () {\n        return this._user;\n    };\n    Uri.prototype.getHost = function () {\n        return this._host;\n    };\n    Uri.prototype.getPort = function () {\n        return this._port;\n    };\n    Uri.prototype.getPath = function (trimTrailingSlash) {\n        var retPath = this._path;\n        if (Boolean(trimTrailingSlash)) {\n            // If the last character is a slash\n            if (retPath !== null && retPath.lastIndexOf(\"/\") === (retPath.length - 1)) {\n                retPath = retPath.slice(0, -1); //trim last character\n            }\n        }\n        return retPath;\n    };\n    /**\n     * Returns a string containing the leftmost portion of the URI string, ending with the portion specified by part\n     */\n    Uri.prototype.getLeftPart = function (part) {\n        var ret = this._scheme + \"://\"; // default value is UriPartial.scheme\n        if (part === UriPartial.authority) {\n            ret += this.getAuthority();\n        }\n        if (part === UriPartial.path) {\n            ret += this.getPath();\n        }\n        if (part === UriPartial.query) {\n            ret += this.getQuery();\n        }\n        return ret;\n    };\n    Uri.prototype.setPath = function (path) {\n        if (path && path[0] !== \"/\") {\n            path = \"/\" + path;\n        }\n        this._parsePath(path);\n    };\n    Uri.prototype.getPathSegments = function () {\n        return this._pathSegments;\n    };\n    Uri.prototype.getLastPathSegment = function () {\n        if (this._pathSegments.length === 0) {\n            return \"\";\n        }\n        return this._pathSegments[this._pathSegments.length - 1];\n    };\n    Uri.prototype.getQuery = function (encoded) {\n        return this._serializeQuery(encoded);\n    };\n    /**\n     * Query is not well-defined but is commonly formatted as key=value and delimited with & or ;\n     * (http://www.w3.org/TR/REC-html40/appendix/notes.html#h-B.2.2)\n     *  - URI with query \"a=1&b=2\" or \"a=1;b=2\" will return {a: \"1\", b: \"2\"}\n     *  - Mixed-mode will also work: \"a=1&b=2;c=3\" will return {a: \"1\", b: \"2\", c: \"3\"}\n     *  - Assumes that parameters will be unique (i.e. \"a=1&a=2\" is not allowed and will produce unexpected results)\n     */\n    Uri.prototype.setQuery = function (query) {\n        var queryObject = this._deserializeQuery(query);\n        this.setQueryFromObject(queryObject);\n    };\n    Uri.prototype.getQueryAsObject = function () {\n        return this._query;\n    };\n    Uri.prototype.setQueryFromObject = function (queryObj) {\n        this._query = {};\n        for (var queryKey in queryObj) {\n            if (queryObj.hasOwnProperty(queryKey)) {\n                this.setQueryParameter(queryKey, queryObj[queryKey]);\n            }\n        }\n    };\n    Uri.prototype.getQueryParameter = function (queryKey) {\n        var ret = null;\n        var query = this._query;\n        if (this._queryCaseInsensitive) {\n            queryKey = queryKey.toLowerCase();\n            for (var key in query) {\n                if (this._query.hasOwnProperty(key) && key.toLowerCase() === queryKey) {\n                    ret = query[key];\n                }\n            }\n        }\n        else {\n            ret = query[queryKey];\n        }\n        return ret || null;\n    };\n    /**\n     * Adds query parameter to the end if queryKey does not exist, or\n     * overwrites existing query value if queryKey already exists.\n     */\n    Uri.prototype.setQueryParameter = function (queryKey, queryValue, ignoreEmptyValues) {\n        if (ignoreEmptyValues === void 0) { ignoreEmptyValues = true; }\n        var queryKeyDecoded = this._decodeQueryString(queryKey);\n        var queryValueDecoded = this._decodeQueryString(queryValue);\n        // there is no point adding undefined or modifying existing values to undefined or null.\n        if (!!queryValueDecoded || ignoreEmptyValues) {\n            this._query[queryKeyDecoded] = queryValueDecoded;\n        }\n    };\n    Uri.prototype.removeQueryParameter = function (queryKey) {\n        var queryKeyDecoded = this._decodeQueryString(queryKey);\n        delete this._query[queryKeyDecoded];\n    };\n    Uri.prototype.getFragment = function () {\n        return this._fragment;\n    };\n    Uri.prototype.setFragment = function (fragment) {\n        if (fragment[0] === \"#\") {\n            fragment = fragment.substring(1);\n        }\n        // Treat the fragment as a query string (decode + as space) because we pass in\n        // query parameters using the fragment on page load.\n        this._fragment = this._decodeQueryString(fragment);\n    };\n    /**\n     * Does a strict equality check of URIs (including same query parameters\n     * in the same order, and most comparisons case-sensitive).\n     * According to RFC3986: scheme and host should be case-insensitive.\n     * Note: This does not follow RFC2616's URI Comparison since it is not HTTP-specific.\n     *\n     * KNOWN ISSUE: Depending on your definition of \"incorrect,\" this could return\n     * incorrect results for URI parts that get decoded.\n     * For example: http://somewhere/my%2fpath and http://somewhere/my/path\n     * will compare as equal because the comparisons are done to decoded versions.\n     */\n    Uri.prototype.equals = function (uri) {\n        return StringHelper_1.equalsCaseInsensitive(this._scheme, uri.getScheme()) &&\n            this._user === uri.getUser() &&\n            StringHelper_1.equalsCaseInsensitive(this._host, uri.getHost()) &&\n            this._port === uri.getPort() &&\n            this._fragment === uri.getFragment() &&\n            this._equalsCaseAppropriate(this.getPath(/*trimTrailingSlash*/ true), uri.getPath(true), this._pathCaseInsensitive) &&\n            this._equalsCaseAppropriate(this.getQuery(), uri.getQuery(), this._queryCaseInsensitive);\n    };\n    /**\n     * Does an equivalence check of two URIs. Checks to see if the URIs are\n     * equivalent, but they may not be exact! Strings are compared case\n     * insensitive and query parameters can be in any order.\n     *\n     * KNOWN ISSUE: Depending on your definition of \"incorrect,\" this could return\n     * incorrect results for URI parts that get decoded.\n     * For example: http://somewhere/my%2fpath and http://somewhere/my/path\n     * will compare as equal because the comparisons are done to decoded versions.\n     */\n    Uri.prototype.equivalent = function (uri) {\n        var queryToLower = function (queryObj) {\n            var newQuery = {};\n            for (var key in queryObj) {\n                if (queryObj.hasOwnProperty(key)) {\n                    newQuery[key.toLowerCase()] = queryObj[key].toLowerCase();\n                }\n            }\n            return newQuery;\n        };\n        return StringHelper_1.equalsCaseInsensitive(this._scheme, uri.getScheme()) &&\n            StringHelper_1.equalsCaseInsensitive(this._user, uri.getUser()) &&\n            StringHelper_1.equalsCaseInsensitive(this._host, uri.getHost()) &&\n            StringHelper_1.equalsCaseInsensitive(this._port, uri.getPort()) &&\n            StringHelper_1.equalsCaseInsensitive(this.getPath(/*trimTrailingSlash*/ true), uri.getPath(true)) &&\n            ObjectUtil_1.default.deepCompare(queryToLower(this.getQueryAsObject()), queryToLower(uri.getQueryAsObject())) &&\n            StringHelper_1.equalsCaseInsensitive(this._fragment, uri.getFragment());\n    };\n    /**\n     * Note that this returns the URL encoded/escaped while the getXXX() methods\n     * for the individual components return the unescaped strings. Returning a\n     * concatenation of the decoded components would change the semantics of the\n     * URL. See section 2.4.2 of RFC 2396 (http://www.ietf.org/rfc/rfc2396.txt).\n     *\n     * Use doNotPercentEncodeHost to indicate that the output should not have a\n     * percent-encoded host, such as when passing to the url parameter of\n     * XmlHttpRequest.open(). Section 3.2.2 of RFC 2396 only allows alphanumeric\n     * characters and hyphen in the host of a URL, so percent-encoded hosts are\n     * not allowed. While section 3.2.2 of RFC 3986 does not restrict the host\n     * character set anymore, not all browsers can handle a percent-encoded host\n     * - DNS lookup fails.  But, they will convert the unencoded Unicode to the\n     * IDNA encoding (punycode), so leaving the host as-is in this case is preferred.\n     */\n    Uri.prototype.toString = function (outputOptions) {\n        return this._getStringInternal(/*encoded*/ true, outputOptions);\n    };\n    /**\n     * This method should be used to obtain a string for display purposes only,\n     * because as mentioned above, a decoded URL may have different semantics than\n     * the encoded version.\n     */\n    Uri.prototype.getDecodedStringForDisplay = function () {\n        return this._getStringInternal(/*encoded*/ false);\n    };\n    /*\n     * Input URI of \"foo://user:pass@host.com/alpha/beta/gamma/delta;p;a;r;a;m;s?q=1&u=2&e=3&r=4&y=5#fragment\"\n     * would return \"foo://user:pass@host.com/alpha/beta/gamma/delta;p;a;r;a;m;s\";\n     */\n    Uri.prototype.getStringWithoutQueryAndFragment = function () {\n        return this._getStringWithoutQueryAndFragmentInternal(/*encoded=*/ true);\n    };\n    Uri.prototype._equalsCaseAppropriate = function (a, b, isCaseInsensitive) {\n        if (isCaseInsensitive) {\n            return StringHelper_1.equalsCaseInsensitive(a, b);\n        }\n        return a === b;\n    };\n    Uri.prototype._getStringInternal = function (encoded, outputOptions) {\n        var ret = this._getStringWithoutQueryAndFragmentInternal(encoded, outputOptions);\n        var query = this.getQuery(encoded);\n        if (query) {\n            ret += \"?\" + query;\n        }\n        if (this._fragment) {\n            ret += \"#\" + (encoded ? encodeURIComponent(this._fragment) : this._fragment);\n        }\n        return ret;\n    };\n    Uri.prototype._getStringWithoutQueryAndFragmentInternal = function (encoded, outputOptions) {\n        var ret = \"\";\n        if (this._scheme) {\n            ret += (encoded ? encodeURIComponent(this._scheme) : this._scheme) + \":\";\n        }\n        // Authority includes user, host, and port\n        var authority = this._getAuthority(/*encoded=*/ encoded, outputOptions);\n        if (authority) {\n            ret += \"//\" + authority;\n        }\n        if (this._pathEncoded) {\n            ret += (encoded ? this._pathEncoded : this._path);\n        }\n        return ret;\n    };\n    Uri.prototype._deserializeQuery = function (queryStr) {\n        var queryObj = {};\n        if (queryStr.indexOf(\"?\") === 0) {\n            queryStr = queryStr.substring(1);\n        }\n        var queryParts = queryStr.split(/[;&]+/);\n        for (var queryIdx = 0; queryIdx < queryParts.length; queryIdx++) {\n            var queryPart = queryParts[queryIdx];\n            var queryPartSegments = queryPart.split(\"=\");\n            if (queryPartSegments.length > 0) {\n                var queryKey = queryPartSegments[0];\n                if (queryKey.length > 0) {\n                    var queryValue = queryPartSegments.slice(1).join('=');\n                    queryObj[queryKey] = queryValue;\n                }\n            }\n        }\n        return queryObj;\n    };\n    Uri.prototype._serializeQuery = function (encoded) {\n        encoded = Boolean(encoded);\n        var queryStr = \"\";\n        for (var queryKey in this._query) {\n            if (this._query.hasOwnProperty(queryKey)) {\n                var key = queryKey;\n                var value = this._query[queryKey];\n                if (encoded) {\n                    key = encodeURIComponent(key);\n                    value = encodeURIComponent(value);\n                }\n                if (value === null || value === \"\") {\n                    queryStr += key + \"=&\";\n                }\n                else {\n                    queryStr += key + \"=\" + value + \"&\";\n                }\n            }\n        }\n        if (queryStr !== \"\") {\n            queryStr = queryStr.slice(0, -1); //trim extra & at the end\n        }\n        return queryStr;\n    };\n    Uri.prototype._parseURI = function (uriString) {\n        var remainingString = uriString;\n        // Find fragment\n        var fragmentBeginPos = remainingString.indexOf(\"#\");\n        if (fragmentBeginPos >= 0) {\n            var fragment = remainingString.substring(fragmentBeginPos + 1);\n            this.setFragment(fragment);\n            remainingString = remainingString.substring(0, fragmentBeginPos); //remove fragment\n        }\n        // Find scheme\n        var schemeEndPos = StringHelper_1.findOneOf(remainingString, Uri.DELIMITERS);\n        if (schemeEndPos >= 0) {\n            var firstColonPos = remainingString.indexOf(\":\");\n            if (firstColonPos >= 0 && firstColonPos === schemeEndPos) {\n                this.setScheme(remainingString.substring(0, schemeEndPos));\n                remainingString = remainingString.substring(schemeEndPos + 1); //remove scheme\n            }\n        }\n        else {\n            this.setPath(remainingString);\n            return;\n        }\n        // Find authority\n        var authority = \"\";\n        var doubleSlashPos = remainingString.indexOf(\"//\");\n        if (doubleSlashPos >= 0 && doubleSlashPos === 0) {\n            remainingString = remainingString.substring(2); //skip the //\n            var authorityEndPos = StringHelper_1.findOneOf(remainingString, Uri.AUTHORITY_TERMINATORS);\n            if (authorityEndPos >= 0) {\n                authority = remainingString.substring(0, authorityEndPos);\n                remainingString = remainingString.substring(authorityEndPos); //remove authority\n            }\n            else {\n                authority = remainingString;\n                remainingString = null;\n            }\n            this.setAuthority(authority);\n            if (!remainingString) {\n                this.setPath(\"\");\n                return;\n            }\n        }\n        // Find query\n        var queryBeginPos = remainingString.indexOf(\"?\");\n        if (queryBeginPos >= 0) {\n            this.setQuery(remainingString.substring(queryBeginPos + 1));\n            remainingString = remainingString.substring(0, queryBeginPos);\n        }\n        this.setPath(remainingString);\n    };\n    Uri.prototype._parseAuthority = function (authority) {\n        this._host = authority;\n        var userNameEndPos = authority.lastIndexOf(\"@\");\n        if (userNameEndPos >= 0) {\n            this._host = this._host.substring(userNameEndPos + 1);\n        }\n        var hostPortSeparatorPos = this._host.indexOf(\":\");\n        if (userNameEndPos < 0 && hostPortSeparatorPos < 0) {\n            return;\n        }\n        var authorityComponents = authority;\n        if (userNameEndPos < 0) {\n            this._host = authorityComponents;\n        }\n        else {\n            this._user = authorityComponents.substring(0, userNameEndPos);\n            this._host = authorityComponents.substring(userNameEndPos + 1);\n        }\n        if (hostPortSeparatorPos >= 0) {\n            this._port = this._host.substring(hostPortSeparatorPos + 1);\n            this._host = this._host.substring(0, hostPortSeparatorPos);\n        }\n        this._user = decodeURIComponent(this._user);\n        this._host = decodeURIComponent(this._host);\n    };\n    Uri.prototype._parsePath = function (remainingString) {\n        this._path = decodeURIComponent(remainingString);\n        this._pathSegments = [];\n        this._pathEncoded = remainingString;\n        // We have to split the path BEFORE decoding so that encoded / characters\n        // don't get interpreted as path separators.\n        var encodedPathSegments = remainingString.split(\"/\");\n        for (var i = 0; i < encodedPathSegments.length; ++i) {\n            var decodedSegment = decodeURIComponent(encodedPathSegments[i]);\n            this._pathSegments[i] = decodedSegment;\n        }\n        // Trims first/last element if empty\n        if (this._pathSegments[0] === \"\") {\n            this._pathSegments.shift(); // remove first element\n        }\n        if (this._pathSegments[this._pathSegments.length - 1] === \"\") {\n            this._pathSegments.pop(); // remove last element\n        }\n    };\n    Uri.prototype._getAuthority = function (encoded, outputOptions) {\n        if (outputOptions === void 0) { outputOptions = {}; }\n        // Note that if encoded is false, doNotPercentEncodeHost doesn't matter - the whole URI (including host) will not be encoded.\n        var doNotPercentEncodeHost = outputOptions && outputOptions.doNotPercentEncodeHost;\n        var authority = \"\";\n        var user;\n        var host;\n        var port;\n        if (encoded) {\n            // While technically a reserved character, ':' is commonly used in the\n            // username to denote username:password, so we special case not encoding\n            // the first occurence of this character.\n            user = encodeURIComponent(this._user).replace(\"%3A\", \":\");\n            if (doNotPercentEncodeHost) {\n                host = this._host;\n            }\n            else {\n                host = encodeURIComponent(this._host);\n            }\n            port = encodeURIComponent(this._port);\n        }\n        else {\n            user = this._user;\n            host = this._host;\n            port = this._port;\n        }\n        if (user !== \"\") {\n            authority = user + \"@\";\n        }\n        if (this._host !== \"\") {\n            authority += host;\n        }\n        if (this._port !== \"\") {\n            authority += \":\" + port;\n        }\n        return authority;\n    };\n    Uri.prototype._decodeQueryString = function (component) {\n        // For query strings only, \"+\" is a valid substitute for a space, but decodeURIComponent\n        // doesn't take this into account. (Note that replace(\"+\", \" \") only replaces one +.)\n        var result = component;\n        try {\n            result = decodeURIComponent(component.replace(/\\+/g, \" \"));\n        }\n        catch (e) {\n        }\n        return result;\n    };\n    Uri.DELIMITERS = \";/?:@&=$,\";\n    Uri.AUTHORITY_TERMINATORS = \"/?\";\n    return Uri;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Uri;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/uri/Uri.js\n ** module id = 57\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\r\n/**\r\n * This file was copied from\r\n * https://onedrive.visualstudio.com/OneDriveWeb/_git/odsp-utilities?path=%2Fsrc%2Flocal%2Faria%2FAriaLogger.ts\r\n * odsp has some special requirejs configuration to indicate how the aria is loaded and\r\n * that config comes from server side. We use exports loader to tell webpack how to load aria.\r\n * To make life easier, we choose to copy this file instead of complicated loading logic.\r\n * Some refactoring was done to make the code better, but the logic is the same.\r\n */\r\n\r\nimport { ClonedEventType as ClonedEventTypeEnum } from '@ms/odsp-utilities/lib/logging/EventBase';\r\nimport { default as IClonedEvent } from '@ms/odsp-utilities/lib/logging/IClonedEvent';\r\nimport { Manager } from '@ms/odsp-utilities/lib/logging/Manager';\r\nimport { IBeaconStartSchema } from '@ms/odsp-utilities/lib/logging/events/Beacon.event';\r\nimport { default as BeforeUnload } from '@ms/odsp-utilities/lib/beforeUnload/BeforeUnload';\r\nimport { default as BeaconEvent } from '@ms/odsp-utilities/lib/logging/events/Beacon.event';\r\nimport { default as ErrorHelper } from '@ms/odsp-utilities/lib/logging/ErrorHelper';\r\nimport { default as PlatformDetection } from '@ms/odsp-utilities/lib/browser/PlatformDetection';\r\nimport { IEventMetadata } from '@ms/odsp-utilities/lib/logging/IEvent';\r\n\r\nconst ARIA_QOS_NAME: string = 'AriaBeacon';\r\n\r\nexport interface IPageContextData {\r\n    isAuthenticated: boolean;\r\n    market: string;\r\n    userId: string;\r\n    userMsaId?: string;\r\n    userANID?: string;\r\n    version: string;\r\n    manifest: string;\r\n    session: string;\r\n    environment?: string;\r\n    workload?: string;\r\n    siteSubscriptionId?: string;\r\n    farmLabel?: string;\r\n}\r\n\r\nexport default class AriaLogger {\r\n    private static _ariaTelemtry: typeof microsoft.applications.telemetry;\r\n    private static _logger: microsoft.applications.telemetry.Logger;\r\n\r\n  public static initialize(\r\n    tenantToken: string,\r\n    context: IPageContextData): void {\r\n    require.ensure(['exports?microsoft.applications.telemetry!@ms/aria-private'],\r\n    (require: (path: string) => typeof microsoft.applications.telemetry) => {\r\n      const aria: typeof microsoft.applications.telemetry =\r\n        require('exports?microsoft.applications.telemetry!@ms/aria-private');\r\n      try {\r\n        AriaLogger._ariaTelemtry = aria;\r\n        AriaLogger._ariaTelemtry.LogManager.initialize(tenantToken);\r\n        AriaLogger._logger = new AriaLogger._ariaTelemtry.Logger();\r\n        AriaLogger.setContext(context);\r\n        AriaLogger.registerUnloadFlush();\r\n        AriaLogger.registerBeacon();\r\n\r\n        const missedClonedEvents: IClonedEvent[] = Manager.addLogHandler((event: IClonedEvent) => {\r\n            AriaLogger.logEvent(event);\r\n        });\r\n\r\n        for (const event of missedClonedEvents) {\r\n            AriaLogger.logEvent(event);\r\n        }\r\n      } catch (e) {\r\n        if (e instanceof AriaLogger._ariaTelemtry.Exception) {\r\n            e = new Error(`Aria error: ${e.toString()}`);\r\n        }\r\n        ErrorHelper.log(e);\r\n      }\r\n    },\r\n    'sp-client-telemetry');\r\n  }\r\n\r\n  private static setContext(context: IPageContextData): void {\r\n    const platformDetection: PlatformDetection = new PlatformDetection();\r\n    const semanticContext: microsoft.applications.telemetry.ISemanticContext =\r\n      AriaLogger._logger.getSemanticContext();\r\n    /* tslint:disable:no-string-literal no-any */\r\n    // This is apparently a hack to add more context info, due to aria's lack of\r\n    // extensibility.\r\n    const contextMap: any = semanticContext['contextMap'];\r\n    /* tslint:enable:no-string-literal no-any */\r\n\r\n    contextMap.Add('AppInfo.Session', context.session);\r\n    semanticContext.setAppVersion(context.version);\r\n    contextMap.Add('AppInfo.Manifest', context.manifest);\r\n\r\n    semanticContext.setUserLanguage(context.market || '');\r\n    semanticContext.setUserId(context.userId);\r\n    semanticContext.setUserMsaId(context.userMsaId);\r\n    semanticContext.setUserANID(context.userANID);\r\n    AriaLogger._logger.setContext('Environment', context.environment);\r\n    AriaLogger._logger.setContext('Workload', context.workload);\r\n    AriaLogger._logger.setContext('IsAuthenticated', context.isAuthenticated ? 1 : 0);\r\n\r\n    semanticContext.setDeviceOsName(platformDetection.osName);\r\n    semanticContext.setDeviceOsVersion(platformDetection.osVersion);\r\n    AriaLogger._logger.setContext('BrowserName', platformDetection.browserName);\r\n    AriaLogger._logger.setContext('BrowserMajVer', platformDetection.browserMajor);\r\n    AriaLogger._logger.setContext('BrowserMinVer', platformDetection.browserMinor);\r\n    AriaLogger._logger.setContext('BrowserUserAgent', platformDetection.userAgent);\r\n    AriaLogger._logger.setContext('BrowserIsMobile', platformDetection.isMobile);\r\n\r\n    if (context.farmLabel) {\r\n        AriaLogger._logger.setContext('FarmLabel', context.farmLabel);\r\n    }\r\n\r\n    if (context.siteSubscriptionId) {\r\n        AriaLogger._logger.setContext('SiteSubscriptionId', context.siteSubscriptionId);\r\n    }\r\n  }\r\n\r\n  private static registerUnloadFlush(): void {\r\n    /* tslint:disable:no-null-keyword */\r\n    // null check is used in aria.js\r\n    BeforeUnload.init();\r\n    BeforeUnload.registerHandler((unload: boolean): string => {\r\n        if (unload) {\r\n            AriaLogger._ariaTelemtry.LogManager.flush(null);\r\n        }\r\n        return null;\r\n    });\r\n    /* tslint:enable:no-null-keyword */\r\n  }\r\n\r\n  private static registerBeacon(): void {\r\n    // Listen to aria beaconing and send qos events to monitor its success rate\r\n    AriaLogger._ariaTelemtry.LogManager.addCallbackListener((\r\n      isSuccess: number,\r\n      statusCode: number,\r\n      tenantToken: string,\r\n      events: microsoft.applications.telemetry.datamodels.Record[]) => {\r\n      const beaconEvent: BeaconEvent = new BeaconEvent({\r\n        name: ARIA_QOS_NAME,\r\n        retryCount: 0,\r\n        totalRetries: 0,\r\n        eventCount: events ? events.length : 0\r\n      });\r\n\r\n      beaconEvent.end({\r\n        success: isSuccess === 0,\r\n        status: statusCode + ''\r\n      });\r\n\r\n      if (DEBUG) {\r\n        // Display errors if the aria logger is failing to log\r\n        if (isSuccess !== 0) {\r\n            ErrorHelper.log(new Error(`Aria logger failed with status code ${statusCode}`));\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private static logEvent(event: IClonedEvent): void {\r\n    // Dont log its self qos event\r\n    if (BeaconEvent.isTypeOf(event) && event.data) {\r\n        const data: IBeaconStartSchema = event.data;\r\n        if (data.name === ARIA_QOS_NAME) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    if (event.enabled) {\r\n      const eventProperties: microsoft.applications.telemetry.EventProperties =\r\n        new AriaLogger._ariaTelemtry.EventProperties();\r\n\r\n      eventProperties.setProperty('Vector', event.vector.toString());\r\n      eventProperties.setProperty('ValidationErrors', event.validationErrors);\r\n\r\n      const splitEventName: string[] = event.eventName.split(',');\r\n      const eventName: string = `ev_${splitEventName[splitEventName.length - 2]}`;\r\n      const fullEventName: string = `${event.eventName}`;\r\n\r\n      if (event.eventType === ClonedEventTypeEnum.End) {\r\n          eventProperties.setProperty('Duration', event.endTime - event.startTime);\r\n      }\r\n      /* tslint:disable:no-any forin */\r\n      const data: any = event.data;\r\n\r\n      if (data) {\r\n        for (const x in data) {\r\n          const propertyMetadata: IEventMetadata = event.metadata[x];\r\n\r\n          if (propertyMetadata) {\r\n            const loggingName: string = `${propertyMetadata.definedInName}_${x}`;\r\n            const value: any = data[x];\r\n\r\n            if (propertyMetadata.isMetric) {\r\n              if (value !== undefined) {\r\n                  eventProperties.setProperty(loggingName, value);\r\n              }\r\n            } else {\r\n              if (propertyMetadata.baseType === 'Enum') {\r\n                eventProperties.setProperty(loggingName, propertyMetadata.typeRef[value]);\r\n              } else if (propertyMetadata.type === 'Object') {\r\n                const dataObject: any = value;\r\n                for (const y in dataObject) {\r\n                    eventProperties.setProperty(`${loggingName}_${y.replace('.', '_')}`, dataObject[y]);\r\n                }\r\n              } else {\r\n                eventProperties.setProperty(loggingName, value);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      /* tslint:enable:no-any forin */\r\n      eventProperties.name = eventName;\r\n      eventProperties.setProperty('WebLog_FullName', fullEventName);\r\n      eventProperties.setProperty('WebLog_EventType', ClonedEventTypeEnum[event.eventType]);\r\n\r\n      for (const name of splitEventName) {\r\n        if (name) {\r\n            eventProperties.setProperty(`WebLog_Type_${name}`, 1);\r\n        }\r\n      }\r\n\r\n      AriaLogger._logger.logEvent(eventProperties);\r\n    }\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/AriaLogger.ts\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar ErrorHelper_1 = require('../logging/ErrorHelper');\nvar Async_1 = require('../async/Async');\nvar BeforeUnload = (function () {\n    function BeforeUnload() {\n        this._localHandlers = [];\n    }\n    BeforeUnload.init = function () {\n        var _this = this;\n        if (!this._initialized) {\n            this._initialized = true;\n            // Wire up before unload\n            this._originalBeforeUnload = window.onbeforeunload;\n            window.onbeforeunload = window['__onbeforeunload'] = function (ev) {\n                return _this._handleBeforeUnload(ev);\n            };\n        }\n    };\n    BeforeUnload.registerHandler = function (callback) {\n        this._handlers.push(callback);\n    };\n    BeforeUnload.unRegisterHandler = function (callback) {\n        for (var x = 0; x < this._handlers.length; x++) {\n            if (this._handlers[x] === callback) {\n                this._handlers.splice(x, 1);\n                break;\n            }\n        }\n    };\n    BeforeUnload.dispose = function () {\n        if (this._originalBeforeUnload) {\n            window.onbeforeunload = this._originalBeforeUnload;\n        }\n        else {\n            window.onbeforeunload = null;\n        }\n    };\n    BeforeUnload._handleBeforeUnload = function (ev) {\n        var response = undefined;\n        if (!this._allowNavs) {\n            for (var x = 0; x < this._handlers.length; x++) {\n                try {\n                    response = this._handlers[x](true);\n                    if (response) {\n                        break;\n                    }\n                }\n                catch (e) {\n                    ErrorHelper_1.default.log(e);\n                }\n            }\n            if (!response && this._originalBeforeUnload) {\n                try {\n                    response = this._originalBeforeUnload(ev);\n                }\n                catch (e) {\n                    ErrorHelper_1.default.log(e);\n                }\n            }\n        }\n        // Make sure the response is undefined so ie will not block\n        return response ? response : undefined;\n    };\n    BeforeUnload.prototype.registerHashNavDialogCallback = function (callback) {\n        this._hashNavDialogCallback = callback;\n    };\n    BeforeUnload.prototype.allowHashNav = function (allowNavCallback, disallowNavCallback) {\n        var response = undefined;\n        if (!BeforeUnload._isDialogOpen && !BeforeUnload._allowNavs) {\n            for (var x = 0; x < BeforeUnload._handlers.length; x++) {\n                try {\n                    response = BeforeUnload._handlers[x](false);\n                    if (response) {\n                        break;\n                    }\n                }\n                catch (e) {\n                    ErrorHelper_1.default.log(e);\n                }\n            }\n            if (response) {\n                BeforeUnload._isDialogOpen = true;\n                this._hashNavDialogCallback(response)\n                    .then(function () {\n                    BeforeUnload._isDialogOpen = false;\n                    BeforeUnload._allowNavs = true;\n                    // Dont block until we have a new stack\n                    if (!BeforeUnload._blockNavsAgainId) {\n                        BeforeUnload._blockNavsAgainId = BeforeUnload._async.setImmediate(function () {\n                            BeforeUnload._allowNavs = false;\n                            BeforeUnload._blockNavsAgainId = null;\n                        });\n                    }\n                    if (allowNavCallback) {\n                        allowNavCallback();\n                    }\n                }, function () {\n                    BeforeUnload._isDialogOpen = false;\n                    if (disallowNavCallback) {\n                        disallowNavCallback();\n                    }\n                });\n            }\n        }\n        return !response && !BeforeUnload._isDialogOpen;\n    };\n    BeforeUnload.prototype.registerHandler = function (callback) {\n        this._localHandlers.push(callback);\n        BeforeUnload.registerHandler(callback);\n    };\n    BeforeUnload.prototype.unRegisterHandler = function (callback) {\n        for (var x = 0; x < this._localHandlers.length; x++) {\n            if (this._localHandlers[x] === callback) {\n                this._localHandlers.splice(x, 1);\n                break;\n            }\n        }\n        BeforeUnload.unRegisterHandler(callback);\n    };\n    BeforeUnload.prototype.dispose = function () {\n        // Clean up any hanging handlers\n        for (var _i = 0, _a = this._localHandlers; _i < _a.length; _i++) {\n            var handler = _a[_i];\n            BeforeUnload.unRegisterHandler(handler);\n        }\n    };\n    BeforeUnload._handlers = [];\n    BeforeUnload._async = new Async_1.default();\n    BeforeUnload._initialized = false;\n    return BeforeUnload;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = BeforeUnload;\nBeforeUnload.init();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/beforeUnload/BeforeUnload.js\n ** module id = 59\n ** module chunks = 0\n **/","\"use strict\";\nvar HslColor_1 = require('./HslColor');\nvar RgbaColor_1 = require('./RgbaColor');\nvar Shades_1 = require('./Shades');\n/**\n * Utility class with static methods to work with Fabric-style themes.\n */\nvar FabricTheming = (function () {\n    function FabricTheming() {\n    }\n    /**\n     * Generates a palette of Fabric colors from a primary RGB color value.\n     * @param {RgbaColor} primaryRgb Primary RGB color used to generate a palette.\n     * @param {boolean} inverted Whether the theme is inverted, with a dark background and light foreground.\n     */\n    FabricTheming.generateFabricColors = function (primaryRgb, inverted) {\n        if (inverted === void 0) { inverted = false; }\n        var generatedShades = {\n            \"themeDarker\": Shades_1.Shades.Darkest,\n            \"themeDark\": Shades_1.Shades.Darker,\n            \"themeDarkAlt\": Shades_1.Shades.Darker,\n            \"themeLight\": Shades_1.Shades.Lighter,\n            \"themeLightAlt\": Shades_1.Shades.Lighter,\n            \"themeLighter\": Shades_1.Shades.Lightest,\n            \"themeLighterAlt\": Shades_1.Shades.Lightest,\n            \"themePrimary\": Shades_1.Shades.Unshaded,\n            \"themeAccent\": Shades_1.Shades.Unshaded,\n            \"themeSecondary\": Shades_1.Shades.Medium,\n            \"themeTertiary\": Shades_1.Shades.Lighter,\n            \"themeTertiaryAlt\": Shades_1.Shades.Lighter\n        };\n        // Expected color slots. Start each defaulting to null to avoid warnings about missing slots.\n        var colors = FabricTheming._getDefaultThemeTokenMap();\n        // Starting points for the generated palette.\n        var primaryColor = RgbaColor_1.default.fromRgba(primaryRgb.R, primaryRgb.G, primaryRgb.B);\n        for (var shadeName in generatedShades) {\n            var shade = generatedShades[shadeName];\n            if (inverted && shade !== Shades_1.Shades.Unshaded) {\n                shade = Shades_1.Shades.Darkest + Shades_1.Shades.Lightest - shade;\n            }\n            colors[shadeName] = Shades_1.getShade(primaryColor, shade);\n        }\n        var accent = colors[\"themeAccent\"];\n        colors[\"themeAccentTranslucent10\"] = accent ?\n            RgbaColor_1.default.fromRgba(accent.R, accent.G, accent.B, 0.1 * RgbaColor_1.default.maxComponent) : null;\n        // Handle neutral slots for inverted themes\n        if (inverted) {\n            var invertedText = '#f8f8f8'; // neutralLighterAlt\n            var invertedNeutralQuaternary = '#6b6b6b';\n            var invertedNeutralQuaternaryAlt = '#707070';\n            var invertedNeutralColors = {\n                'black': '#fff',\n                'blackTranslucent40': '#66ffffff',\n                'neutralDark': '#fff',\n                'neutralPrimary': invertedText,\n                'neutralPrimaryTranslucent50': '#7ff8f8f8',\n                'neutralPrimaryAlt': '#f4f4f4',\n                'neutralSecondary': '#eaeaea',\n                'neutralSecondaryAlt': '#c8c8c8',\n                'neutralTertiary': '#a6a6a6',\n                'neutralTertiaryAlt': '#767676',\n                'neutralQuaternary': invertedNeutralQuaternary,\n                'neutralQuaternaryAlt': invertedNeutralQuaternaryAlt,\n                'cmdbarSelected': invertedNeutralQuaternary,\n                'cmdbarSelectedHover': invertedNeutralQuaternaryAlt,\n                'neutralLight': '#666666',\n                'neutralLighter': '#333',\n                'neutralLighterAlt': '#212121',\n                'primaryText': invertedText,\n                'primaryBackground': '#000',\n                'white': '#000',\n                'whiteTranslucent40': '#66000000',\n                'error': '#f00',\n                'errorBackground': '#7e3333'\n            };\n            for (var neutralSlot in invertedNeutralColors) {\n                if (invertedNeutralColors.hasOwnProperty(neutralSlot)) {\n                    colors[neutralSlot] =\n                        RgbaColor_1.default.fromHtmlColor(invertedNeutralColors[neutralSlot]);\n                }\n            }\n        }\n        return colors;\n    };\n    /**\n     * Applies an Hsl delta to an HslColor to produce a new HslColor.\n     * @param {HslColor} primaryHsl Starting HSL color value.\n     * @param {number} hDelta Delta to apply to the hue.\n     * @param {number} sDelta Delta to apply to the saturation.\n     * @param {number} lDelta Delta to apply to the luminance.\n     */\n    FabricTheming.applyHslDelta = function (primaryHsl, hDelta, sDelta, lDelta) {\n        var hue = primaryHsl.hue - hDelta;\n        if (hue > 1 || hue < 0) {\n            hue = hue - Math.floor(hue);\n        }\n        var sat = primaryHsl.sat - sDelta;\n        if (sat > 1) {\n            sat = 1;\n        }\n        else if (sat < 0) {\n            sat = 0;\n        }\n        var lum = primaryHsl.lum - lDelta;\n        if (lum > 1) {\n            lum = 1;\n        }\n        else if (lum < 0) {\n            lum = 0;\n        }\n        var hslValue = new HslColor_1.default(hue, sat, lum);\n        return hslValue;\n    };\n    FabricTheming._getDefaultThemeTokenMap = function () {\n        return {\n            backgroundOverlay: null,\n            primaryBackground: null,\n            primaryText: null,\n            themeDarker: null,\n            themeDark: null,\n            themeDarkAlt: null,\n            themePrimary: null,\n            themeSecondary: null,\n            themeTertiary: null,\n            themeLight: null,\n            themeLighter: null,\n            themeLighterAlt: null,\n            black: null,\n            cmdbarSelected: null,\n            cmdbarSelectedHover: null,\n            neutralDark: null,\n            neutralPrimary: null,\n            neutralPrimaryAlt: null,\n            neutralPrimaryTranslucent50: null,\n            neutralSecondary: null,\n            neutralSecondaryAlt: null,\n            neutralTertiary: null,\n            neutralTertiaryAlt: null,\n            neutralQuaternary: null,\n            neutralQuaternaryAlt: null,\n            neutralLight: null,\n            neutralLighter: null,\n            neutralLighterAlt: null,\n            white: null,\n            blackTranslucent40: null,\n            whiteTranslucent40: null,\n            yellow: null,\n            yellowLight: null,\n            orange: null,\n            orangeLight: null,\n            redDark: null,\n            red: null,\n            magentaDark: null,\n            magenta: null,\n            magentaLight: null,\n            purpleDark: null,\n            purple: null,\n            purpleLight: null,\n            blueDark: null,\n            blueMid: null,\n            blue: null,\n            blueLight: null,\n            tealDark: null,\n            teal: null,\n            tealLight: null,\n            greenDark: null,\n            green: null,\n            greenLight: null,\n            error: null,\n            errorBackground: null,\n            success: null,\n            successBackground: null,\n            alert: null,\n            alertBackground: null,\n            infoBackground: null,\n            info: null,\n            orangeLighter: null\n        };\n    };\n    return FabricTheming;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = FabricTheming;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/FabricTheming.js\n ** module id = 61\n ** module chunks = 0\n **/","\"use strict\";\nvar RgbaColor_1 = require('./RgbaColor');\n/**\n * A color represented by hue, saturation, luminance, and alpha (opacity) components.\n */\nvar HslColor = (function () {\n    /**\n     * Constructs a new HSL color object.\n     * @param {number} h The hue (between 0 and 1) of the color.\n     * @param {number} s The saturation (between 0 and 1) of the color.\n     * @param {number} l The luminance (between 0 and 1) of the color.\n     * @param {number} a The opacity (between 0 and 255) of the color.\n     */\n    function HslColor(h, s, l, a) {\n        function LimitNumberToUnitInterval(value) {\n            return Math.min(1.0, Math.max(0.0, value));\n        }\n        this.hue = LimitNumberToUnitInterval(h);\n        this.sat = LimitNumberToUnitInterval(s);\n        this.lum = LimitNumberToUnitInterval(l);\n        this.alpha = a == null ? RgbaColor_1.default.maxComponent : a;\n    }\n    /**\n     * Constructs an HslColor from an RgbaColor.\n     * @param {RgbaColor} color The color to convert to HSL.\n     */\n    HslColor.fromRgba = function (color) {\n        // Using integer values as much as possible to make comparisons easier.\n        // I will indicate non-integer values with a  \"_float\" suffix.\n        // These integer values are each some integer multiple of the true value.\n        var scaleFactor = RgbaColor_1.default.maxComponent;\n        var h_float = 0.0, s_float = 0.0, l_float = 0.0;\n        var r = color.R;\n        var g = color.G;\n        var b = color.B;\n        var cMax = Math.max(Math.max(r, g), b);\n        var cMin = Math.min(Math.min(r, g), b);\n        var twiceL = cMax + cMin;\n        l_float = twiceL / (2 * scaleFactor);\n        if (cMax === cMin) {\n            s_float = 0.0;\n            h_float = -1.0;\n        }\n        else {\n            var dmax = cMax - cMin;\n            var pmax = cMax + cMin;\n            // The scale factor cancels when we divide scaled values, so divisions can ignore it.\n            if (twiceL <= 1 * scaleFactor) {\n                s_float = dmax / pmax;\n            }\n            else {\n                s_float = dmax / (2 * scaleFactor - pmax); // Safe, since cMax != cMin\n            }\n            var dr_float = (cMax - r) * (1 / 6) / dmax;\n            var dg_float = (cMax - g) * (1 / 6) / dmax;\n            var db_float = (cMax - b) * (1 / 6) / dmax;\n            if (r === cMax) {\n                h_float = db_float - dg_float;\n            }\n            else if (g === cMax) {\n                h_float = (1 / 3) + dr_float - db_float;\n            }\n            else {\n                h_float = (2 / 3) + dg_float - dr_float;\n            }\n            if (h_float < 0) {\n                h_float += 1.0;\n            }\n            if (h_float > 1.0) {\n                h_float -= 1.0;\n            }\n        }\n        return new HslColor(h_float, s_float, l_float, color.A);\n    };\n    /**\n     * Converts a hue, saturation, or luminance value between 0 and 1 into\n     * an integer between 0 and 255.\n     */\n    HslColor._hslComponentToByte = function (value) {\n        var c_rgbaMax = RgbaColor_1.default.maxComponent;\n        var result = Math.round(c_rgbaMax * value);\n        return Math.min(c_rgbaMax, Math.max(0, result));\n    };\n    /**\n     * Internal method which given the calculated magic numbers and the hue,\n     * will calculate the appropriate RGB number.\n     * This algorithm is intended to stay in-sync with the equivalent code in\n     * mso\\officespace\\fscolorgallery.cpp.\n     * @param {number} m1 The first magic number.\n     * @param {number} m2 The second magic number.\n     * @param {number} hue The hue to be converted using the magic numbers.\n     */\n    HslColor._hueToRgbComponent = function (m1, m2, hue) {\n        var result;\n        if (hue < 0) {\n            hue += 1;\n        }\n        if (hue > 1) {\n            hue -= 1;\n        }\n        if (hue < 1 / 6) {\n            result = m1 + (m2 - m1) * hue * 6;\n        }\n        else if (hue < 1 / 2) {\n            result = m2;\n        }\n        else if (hue < 2 / 3) {\n            result = m1 + (m2 - m1) * (2 / 3 - hue) * 6;\n        }\n        else {\n            result = m1;\n        }\n        return HslColor._hslComponentToByte(result);\n    };\n    /**\n     * Darkens the color by the provided factor.\n     * @param {number} factor The factor (between 0 and 1) by which to scale the luminance.\n     */\n    HslColor.prototype.darken = function (factor) {\n        // TODO: Validate input.\n        this.lum *= factor;\n    };\n    /**\n     * Lightens the color by the provided factor.\n     * @param {number} factor The factor (between 0 and 1) by which to scale the luminance.\n     */\n    HslColor.prototype.lighten = function (factor) {\n        // TODO: Validate input.\n        this.lum = this.lum * factor + (1 - factor);\n    };\n    /**\n     * Returns an RgbaColor representation of this HslColor.\n     */\n    HslColor.prototype.toRgbaColor = function () {\n        var r, g, b;\n        var hue = this.hue;\n        var saturation = this.sat;\n        var luminance = this.lum;\n        if (Math.round(saturation * RgbaColor_1.default.maxComponent) === 0) {\n            r = g = b = HslColor._hslComponentToByte(luminance);\n        }\n        else {\n            var m1, m2;\n            if (luminance <= 0.5) {\n                m2 = luminance * (1 + saturation);\n            }\n            else {\n                m2 = luminance + saturation - (luminance * saturation);\n            }\n            m1 = 2 * luminance - m2;\n            r = HslColor._hueToRgbComponent(m1, m2, hue + (1 / 3));\n            g = HslColor._hueToRgbComponent(m1, m2, hue);\n            b = HslColor._hueToRgbComponent(m1, m2, hue - (1 / 3));\n        }\n        return RgbaColor_1.default.fromRgba(r, g, b, this.alpha);\n    };\n    return HslColor;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = HslColor;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/HslColor.js\n ** module id = 62\n ** module chunks = 0\n **/","\"use strict\";\n/**\n * A color represented by red, green, blue, and alpha (opacity) components.\n */\nvar RgbaColor = (function () {\n    /** Constructs a default RgbaColor. Use RgbaColor.fromRgba to specify components. */\n    function RgbaColor() {\n        this.R = 0;\n        this.G = 0;\n        this.B = 0;\n        this.A = RgbaColor.maxComponent; // Default to fully opaque.\n    }\n    /**\n     * Creates a copy of the given color.\n     * @param {RgbaColor} c The color to clone.\n     */\n    RgbaColor.clone = function (c) {\n        return RgbaColor.fromRgba(c.R, c.G, c.B, c.A);\n    };\n    /**\n     * Returns true if the colors have identical component values of R, G, B, and A.\n     * @param {RgbaColor} c1 The first color to compare.\n     * @param {RgbaColor} c2 The second color to compare.\n     */\n    RgbaColor.equals = function (c1, c2) {\n        var c1IsNull = !c1;\n        var c2IsNull = !c2;\n        if (c1IsNull || c2IsNull) {\n            return c1IsNull && c2IsNull;\n        }\n        else {\n            return c1.R === c2.R && c1.G === c2.G && c1.B === c2.B && c1.A === c2.A;\n        }\n    };\n    /**\n     * Creates an RgbaColor from red, green, blue, and alpha component values.\n     * @param {number} r The red component value (between 0 and 255).\n     * @param {number} g The green component value (between 0 and 255).\n     * @param {number} b The blue component value (between 0 and 255).\n     * @param {number} a The alpha component value (between 0 and 255).\n     */\n    RgbaColor.fromRgba = function (r, g, b, a) {\n        var colorObj = new RgbaColor;\n        colorObj.R = Math.round(r);\n        colorObj.G = Math.round(g);\n        colorObj.B = Math.round(b);\n        colorObj.A = a != null ? Math.round(a) : RgbaColor.maxComponent;\n        return colorObj;\n    };\n    /**\n     * Parses an HTML color string in the formats #AARRGGBB, #RRGGBB, or #RGB.\n     * @param {string} htmlColor The HTML color string to parse.\n     */\n    RgbaColor.fromHtmlColor = function (htmlColor) {\n        function TwoHexCharsToNumber(str, index1, index2) {\n            return parseInt(str.charAt(index1) + str.charAt(index2), 16);\n        }\n        var resultColor = new RgbaColor;\n        if (typeof htmlColor === \"string\" && htmlColor.charAt(0) === \"#\") {\n            switch (htmlColor.length) {\n                case 9:\n                    resultColor.A = TwoHexCharsToNumber(htmlColor, 1, 2);\n                    resultColor.R = TwoHexCharsToNumber(htmlColor, 3, 4);\n                    resultColor.G = TwoHexCharsToNumber(htmlColor, 5, 6);\n                    resultColor.B = TwoHexCharsToNumber(htmlColor, 7, 8);\n                    break;\n                case 7:\n                    resultColor.R = TwoHexCharsToNumber(htmlColor, 1, 2);\n                    resultColor.G = TwoHexCharsToNumber(htmlColor, 3, 4);\n                    resultColor.B = TwoHexCharsToNumber(htmlColor, 5, 6);\n                    break;\n                case 4:\n                    resultColor.R = TwoHexCharsToNumber(htmlColor, 1, 1);\n                    resultColor.G = TwoHexCharsToNumber(htmlColor, 2, 2);\n                    resultColor.B = TwoHexCharsToNumber(htmlColor, 3, 3);\n                    break;\n            }\n        }\n        return resultColor;\n    };\n    /**\n     * Converts an RgbaColor into an HTML string suitable for use as a CSS color value.\n     * @param {RgbaColor} c The color to convert.\n     * @param {boolean} bFilterValue If true, this produces a string to in the #AARRGGBB format.\n     */\n    RgbaColor.toHtmlString = function (c, bFilterValue) {\n        function ByteToHexString(/*@type(Number)*/ b) {\n            var byte = Number(b);\n            if (!(byte >= 0 && byte <= RgbaColor.maxComponent)) {\n                throw new Error(\"Argument must be a Number in [0, 255]\");\n            }\n            var hex = byte.toString(16);\n            if (byte < 16) {\n                hex = \"0\" + hex;\n            }\n            return hex;\n        }\n        if (c.A < RgbaColor.maxComponent && !bFilterValue) {\n            return \"rgba(\" +\n                c.R.toString(10) + \", \" +\n                c.G.toString(10) + \", \" +\n                c.B.toString(10) + \", \" +\n                (c.A / RgbaColor.maxComponent).toFixed(2) + \")\";\n        }\n        else {\n            return \"#\" +\n                (bFilterValue ? ByteToHexString(c.A) : \"\") +\n                ByteToHexString(c.R) +\n                ByteToHexString(c.G) +\n                ByteToHexString(c.B);\n        }\n    };\n    /**\n     * The maximum value of an R, G, B, or A component in an RgbaColor.\n     */\n    RgbaColor.maxComponent = 255;\n    return RgbaColor;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RgbaColor;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/RgbaColor.js\n ** module id = 63\n ** module chunks = 0\n **/","\"use strict\";\nvar HslColor_1 = require('./HslColor');\nvar RgbaColor_1 = require('./RgbaColor');\n// Various constants used for generated shades of a color.\nvar WhiteShadeTable = [0.95, 0.85, 0.75, 0.65, 0.50];\nvar BlackTintTable = [0.50, 0.65, 0.75, 0.85, 0.95];\nvar ColorTintTable = [0.20, 0.40, 0.60];\nvar ColorShadeTable = [0.75, 0.50];\nvar LumTintTable = [0.10, 0.25, 0.50, 0.75, 0.90];\nvar LumShadeTable = [0.90, 0.75, 0.50, 0.25, 0.10];\nvar c_LuminanceLow = 0.2;\nvar c_LuminanceHigh = 0.8;\nvar rgbaMax = RgbaColor_1.default.maxComponent;\nvar rgbaWhite = RgbaColor_1.default.fromRgba(rgbaMax, rgbaMax, rgbaMax);\nvar rgbaBlack = RgbaColor_1.default.fromRgba(0, 0, 0);\n/** Shades of a given color, from Lightest to Darkest. */\n(function (Shades) {\n    Shades[Shades[\"Unshaded\"] = 0] = \"Unshaded\";\n    Shades[Shades[\"Lightest\"] = 1] = \"Lightest\";\n    Shades[Shades[\"Lighter\"] = 2] = \"Lighter\";\n    Shades[Shades[\"Medium\"] = 3] = \"Medium\";\n    Shades[Shades[\"Darker\"] = 4] = \"Darker\";\n    Shades[Shades[\"Darkest\"] = 5] = \"Darkest\";\n})(exports.Shades || (exports.Shades = {}));\nvar Shades = exports.Shades;\n/**\n * Returns true if the argument is a valid Shades value\n * @param {Shades} shade The Shades value to validate.\n */\nfunction _isValidShade(shade) {\n    'use strict';\n    return (shade >= Shades.Unshaded) && (shade <= Shades.Darkest);\n}\n/**\n * Given an RgbaColor and a shade specification, generates the requested shade of the color.\n * @param {RgbaColor} color The base color whose shades are to be computed\n * @param {Shades} shade The shade of the base color to compute.\n */\nfunction getShade(color, shade) {\n    'use strict';\n    if (!color) {\n        return null;\n    }\n    if (shade === Shades.Unshaded || !_isValidShade(shade)) {\n        return RgbaColor_1.default.fromRgba(color.R, color.G, color.B, color.A);\n    }\n    var hsl = HslColor_1.default.fromRgba(color);\n    var lum = hsl.lum;\n    var tableIndex = shade - 1;\n    if (RgbaColor_1.default.equals(color, rgbaWhite)) {\n        hsl.darken(WhiteShadeTable[tableIndex]);\n    }\n    else if (RgbaColor_1.default.equals(color, rgbaBlack)) {\n        hsl.lighten(BlackTintTable[tableIndex]);\n    }\n    else if (lum < c_LuminanceLow) {\n        hsl.lighten(LumTintTable[tableIndex]);\n    }\n    else if (lum > c_LuminanceHigh) {\n        hsl.darken(LumShadeTable[tableIndex]);\n    }\n    else {\n        if (tableIndex < ColorTintTable.length) {\n            hsl.lighten(ColorTintTable[tableIndex]);\n        }\n        else {\n            hsl.darken(ColorShadeTable[tableIndex - ColorTintTable.length]);\n        }\n    }\n    color = hsl.toRgbaColor();\n    return color;\n}\nexports.getShade = getShade;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/Shades.js\n ** module id = 64\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar FabricTheming_1 = require('./FabricTheming');\nvar RgbaColor_1 = require('./RgbaColor');\nvar UriEncoding_1 = require('../encoding/UriEncoding');\n/**\n * Utility methods which can be used to load the theme of a SharePoint site.\n */\nvar WebTheme = (function () {\n    function WebTheme() {\n    }\n    /**\n     * Constructs the URL of a REST endpoint which will return the web theme.\n     * @param {IWebContextInfo} webContextInfo Context information about the web.\n     * @param {string} cultureName Current UI culture.\n     * @param {string} themeOverride URL to a temporary override theme (e.g. preview).\n     */\n    WebTheme.makeWebThemeRestUrl = function (webServerRelativeUrl, cultureName, themeOverride) {\n        \"use strict\";\n        var webUrl = webServerRelativeUrl;\n        if (webUrl && webUrl[webUrl.length - 1] === '/') {\n            // Trim trailing slash.\n            webUrl = webUrl.substring(0, webUrl.length - 1);\n        }\n        webUrl = UriEncoding_1.default.escapeUrlForCallback(webUrl);\n        var webThemeRestEndpoint = UriEncoding_1.default.escapeUrlForCallback(webUrl) +\n            '/_api/SP.Web.GetContextWebThemeData?noImages=true&lcid=' +\n            UriEncoding_1.default.encodeURIComponent(cultureName);\n        if (themeOverride) {\n            webThemeRestEndpoint += \"&ThemeOverride=\" + UriEncoding_1.default.encodeURIComponent(themeOverride);\n        }\n        return webThemeRestEndpoint;\n    };\n    /**\n     * Constructs the URL of a REST endpoint which will return the web theme.\n     * @param {IWebContextInfo} webContextInfo Context information about the web.\n     */\n    WebTheme.processWebThemeRestResponse = function (responseText) {\n        // This could throw if the handler returns an HTML error page or invalis JSON.\n        // DataSource will count that as an error and call the error callback.\n        \"use strict\";\n        var response = JSON.parse(responseText);\n        var rawThemeData;\n        if (response && response.d && response.d.GetContextWebThemeData) {\n            rawThemeData = JSON.parse(response.d.GetContextWebThemeData);\n        }\n        var themeData = WebTheme.processRawThemeData(rawThemeData);\n        return themeData;\n    };\n    /**\n     * Converts an IThemeDataRaw into an IThemeData.\n     * @param {IThemeDataRaw} themeData Raw theme data to process.\n     */\n    WebTheme.processRawThemeData = function (themeData) {\n        \"use strict\";\n        if (themeData) {\n            var coerceToColor = WebTheme.coerceToColor;\n            var colors = {};\n            var inputColors = themeData.Palette ? themeData.Palette.Colors : {};\n            for (var colorKey in inputColors) {\n                if (inputColors.hasOwnProperty(colorKey)) {\n                    var colorValue = coerceToColor(inputColors[colorKey]);\n                    // TODO: console.warn if colorValue is undefined?\n                    if (colorValue) {\n                        colors[colorKey] = colorValue;\n                    }\n                }\n            }\n            var fabricColors = FabricTheming_1.default.generateFabricColors(colors['ContentAccent1'], themeData.IsInverted);\n            var pageBG = coerceToColor(colors['PageBackground']) || null;\n            var bgOverlay = coerceToColor(colors['BackgroundOverlay']) || null;\n            var alpha40 = Math.round(0.4 * RgbaColor_1.default.maxComponent);\n            fabricColors['white'] = pageBG;\n            // RgbaColor.fromRgba and RgbaColor.clone both return new objects.\n            // This is important for avoiding duplicate filtering logic in the caching layer.\n            fabricColors['primaryBackground'] = RgbaColor_1.default.clone(pageBG);\n            fabricColors['primaryText'] = fabricColors['primaryText'] || coerceToColor('#333');\n            fabricColors['whiteTranslucent40'] = pageBG && RgbaColor_1.default.fromRgba(pageBG.R, pageBG.G, pageBG.B, alpha40);\n            fabricColors['backgroundOverlay'] = bgOverlay;\n            fabricColors['suiteBarBackground'] = coerceToColor(colors['SuiteBarBackground']) || null;\n            fabricColors['suiteBarText'] = coerceToColor(colors['SuiteBarText']) || null;\n            fabricColors['suiteBarDisabledText'] = coerceToColor(colors['SuiteBarDisabledText']) || null;\n            fabricColors['topBarBackground'] = coerceToColor(colors['TopBarBackground']) || null;\n            fabricColors['topBarText'] = coerceToColor(colors['TopBarText']) || null;\n            fabricColors['topBarHoverText'] = coerceToColor(colors['TopBarHoverText']) || null;\n            fabricColors['dialogBorder'] = coerceToColor(colors['DialogBorder']) || null;\n            return {\n                backgroundImageUri: themeData.BackgroundImageUri,\n                cacheToken: themeData.ThemeCacheToken,\n                isDefault: themeData.IsDefault,\n                isInverted: themeData.IsInverted,\n                palette: fabricColors,\n                version: themeData.Version\n            };\n        }\n        return {\n            backgroundImageUri: \"\",\n            cacheToken: \"\",\n            isDefault: true,\n            isInverted: false,\n            palette: {},\n            version: \"\"\n        };\n    };\n    /**\n     * Coerces an HTML color string or a color object in raw web theme data into an RgbaColor.\n     * @param {any} toColor Object to be converted into an RgbaColor.\n     */\n    WebTheme.coerceToColor = function (toColor) {\n        \"use strict\";\n        var resultColor;\n        // Use duck typing to extract a color\n        if (!toColor) {\n            resultColor = null;\n        }\n        else if (typeof toColor === \"string\" || toColor instanceof String) {\n            resultColor = RgbaColor_1.default.fromHtmlColor(String(toColor));\n        }\n        else if (\"DefaultColor\" in toColor) {\n            resultColor = WebTheme.coerceToColor(toColor[\"DefaultColor\"]);\n        }\n        else if (\"R\" in toColor && \"G\" in toColor && \"B\" in toColor) {\n            resultColor = RgbaColor_1.default.fromRgba(toColor.R, toColor.G, toColor.B, toColor.A);\n        }\n        return resultColor;\n    };\n    return WebTheme;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = WebTheme;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/WebTheme.js\n ** module id = 65\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar RgbaColor_1 = require('./RgbaColor');\nvar ThemeCache_1 = require('./ThemeCache');\nvar Promise_1 = require('../async/Promise');\nvar Engagement_event_1 = require('../logging/events/Engagement.event');\nvar Qos_event_1 = require('../logging/events/Qos.event');\n/**\n * Provides theme data, either from the local cache or from the server.\n */\nvar ThemeProvider = (function () {\n    /**\n     * Constructs a ThemeProvider which acts like the provided loadData function but with caching.\n     * @param {() => Promise<IThemeData>} loadData Used to load data on a cache miss.\n     */\n    function ThemeProvider(loadData) {\n        this._loadData = loadData;\n    }\n    /**\n     * Given a URL, returns a string value which can be safely used as a\n     * background-image value in a CSS rule. If the url is falsey, this\n     * returns \"none\" to specify no background-image.\n     * @param {string} url The URL of a background image.\n     */\n    ThemeProvider._makeCssUrl = function (url) {\n        var cssUrlValue = \"none\";\n        if (url) {\n            cssUrlValue = 'url(\"' +\n                ThemeProvider._escapeQuotesAndParentheses(url) +\n                '\")';\n        }\n        return cssUrlValue;\n    };\n    /**\n     * Escapes single- and double-quotes along with parentheses so that the\n     * resulting string is safe to use in a CSS background-image: url()\n     * @param {string} str The string to escape.\n     */\n    ThemeProvider._escapeQuotesAndParentheses = function (str) {\n        var replacements = { \"'\": \"%27\", '\"': \"%22\", \"(\": \"%28\", \")\": \"%29\" };\n        var result = null;\n        if (str != null) {\n            result = str.replace(/(['\"\\(\\)])/gm, function (match, capture) {\n                return replacements[capture];\n            });\n        }\n        return result;\n    };\n    /**\n     * Loads the theme data and returns a map from theme tokens to replacement values.\n     * Suitable for use with loadTheme in load-themed-styles.\n     * @param {string} cacheToken Cache token used to validate cached data.\n     * @param {boolean} forceUpdate Whether to force fresh data to be loaded and cached.\n     */\n    ThemeProvider.prototype.loadThemeTokenMap = function (cacheToken, forceUpdate) {\n        return this.loadThemeData(cacheToken, forceUpdate).then(function (themeData) {\n            var themeValues;\n            if (themeData && themeData.palette) {\n                themeValues = {};\n                var palette = themeData.palette;\n                for (var colorSlot in palette) {\n                    var rgbaValue = palette[colorSlot];\n                    themeValues[colorSlot] = rgbaValue ? RgbaColor_1.default.toHtmlString(rgbaValue) : null;\n                }\n                themeValues[\"backgroundImageUri\"] =\n                    ThemeProvider._makeCssUrl(themeData.backgroundImageUri);\n            }\n            return themeValues;\n        }, function (error) { return null; }); // on error, return null\n    };\n    /**\n     * Loads the theme data from the cache or via the a loadData method.\n     * @param {string} cacheToken Cache token used to validate cached data.\n     * @param {boolean} forceUpdate Whether to force fresh data to be loaded and cached.\n     */\n    ThemeProvider.prototype.loadThemeData = function (cacheToken, forceUpdate) {\n        if (!forceUpdate && this._dataPromise) {\n            return this._dataPromise;\n        }\n        var _this = this;\n        var failureResultCode = null;\n        var failureResultType = Qos_event_1.ResultTypeEnum.Failure;\n        this._dataPromise = Qos_event_1.Qos.instrumentPromise(\n        /*startSchema*/ { name: \"ThemeProvider.LoadData\" }, \n        /*createPromise*/ function () { return new Promise_1.default(function loadDataOnExecute(complete, error) {\n            var previousData = null;\n            if (!forceUpdate) {\n                // Checks if we have valid cached data before returning it.\n                previousData = ThemeCache_1.default.getCachedTheme(cacheToken);\n            }\n            // If we have previous data and an update is not forced, use that data.\n            if (previousData) {\n                Engagement_event_1.Engagement.logData({ name: \"ThemeProvider.DataFromCache\" });\n                complete(previousData);\n            }\n            else {\n                if (forceUpdate) {\n                    Engagement_event_1.Engagement.logData({ name: \"ThemeProvider.ForceUpdateData\" });\n                }\n                Engagement_event_1.Engagement.logData({ name: \"ThemeProvider.DataFromServer\" });\n                // Get updated data. Might result in a server call.\n                _this._loadData(forceUpdate).done(function onComplete(themeData) {\n                    if (themeData) {\n                        if (themeData.cacheToken) {\n                            ThemeCache_1.default.updateThemeCache(themeData, cacheToken);\n                            complete(themeData);\n                        }\n                        else {\n                            //TODO what happens if error() is undefined?\n                            failureResultCode = \"NoCacheToken\";\n                            if (error) {\n                                error(\"Theme data with no CacheToken returned\");\n                            }\n                        }\n                    }\n                    else {\n                        failureResultCode = \"NoData\";\n                        if (error) {\n                            error(\"No model returned\");\n                        }\n                    }\n                }, function onError(err) {\n                    if (Promise_1.default.isCanceled(error)) {\n                        failureResultCode = \"Canceled\";\n                        failureResultType = Qos_event_1.ResultTypeEnum.ExpectedFailure;\n                    }\n                    else {\n                        failureResultCode = \"ServerLoadFailure\";\n                    }\n                    if (error) {\n                        error(err);\n                    }\n                });\n            }\n        }); }, \n        /*getCompleteSchema*/ null, \n        /*getErrorSchema*/ function getErrorSchema(error) {\n            if (Promise_1.default.isCanceled(error)) {\n                failureResultType = Qos_event_1.ResultTypeEnum.ExpectedFailure;\n                failureResultCode = \"Canceled\";\n            }\n            return {\n                resultType: failureResultType,\n                resultCode: failureResultCode || \"Other\",\n                error: error\n            };\n        });\n        return this._dataPromise;\n    };\n    return ThemeProvider;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ThemeProvider;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/ThemeProvider.js\n ** module id = 66\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar BaseDataStore_1 = require('../models/store/BaseDataStore');\nvar DataStoreCachingType_1 = require('../models/store/DataStoreCachingType');\nvar THEME_CACHE_VERSION = '1.7';\nvar THEME_CACHE_PREFIX = 'odTheme';\nvar DATA_KEY = 'Data';\nvar TOKEN_KEY = 'CacheToken';\nvar VERSION_KEY = 'CacheVersion';\n/**\n * Utility methods for caching theme data.\n */\nvar ThemeCache = (function () {\n    function ThemeCache() {\n    }\n    /**\n     * Clears the theme cache.\n     */\n    ThemeCache.clearThemeCache = function () {\n        \"use strict\";\n        var ds = ThemeCache.getThemeDataStore();\n        ds.remove(DATA_KEY);\n        ds.remove(TOKEN_KEY);\n        ds.remove(VERSION_KEY);\n    };\n    /**\n     * Reads the cached theme, if the cacheToken is compatible.\n     * @param {string} cacheToken The cached value will only be returned if it has the same cache token.\n     */\n    ThemeCache.getCachedTheme = function (cacheToken) {\n        \"use strict\";\n        var cachedTheme;\n        var ds = ThemeCache.getThemeDataStore();\n        try {\n            // Make sure the data was cached with the expected version and\n            // the current theme cache token. Otherwise, return undefined.\n            if (cacheToken === ds.getValue(TOKEN_KEY) &&\n                THEME_CACHE_VERSION === ds.getValue(VERSION_KEY)) {\n                cachedTheme = ds.getValue(DATA_KEY);\n            }\n        }\n        catch (exReadCache) {\n        }\n        return cachedTheme;\n    };\n    /**\n     * Updates the theme data in the cache.\n     * @param {IThemeData} themeData The new theme data to cache.\n     */\n    ThemeCache.updateThemeCache = function (themeData, cacheToken) {\n        \"use strict\";\n        var ds = ThemeCache.getThemeDataStore();\n        ds.setValue(DATA_KEY, themeData);\n        ds.setValue(TOKEN_KEY, cacheToken || themeData.cacheToken);\n        ds.setValue(VERSION_KEY, THEME_CACHE_VERSION);\n    };\n    /**\n     * Returns an instance of the supporting data store for this cache.\n     */\n    ThemeCache.getThemeDataStore = function () {\n        \"use strict\";\n        return new BaseDataStore_1.default(THEME_CACHE_PREFIX, DataStoreCachingType_1.default.local);\n    };\n    return ThemeCache;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ThemeCache;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/@ms/odsp-utilities/lib/theming/ThemeCache.js\n ** module id = 67\n ** module chunks = 0\n **/","/**\r\n * @file LogEntry.ts\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n * Represents a Log entry\r\n */\r\n\r\nimport ILogEntry from './ILogEntry';\r\nimport LogFeature from './LogFeature';\r\nimport LogType from './LogType';\r\n\r\n/**\r\n * @internal\r\n */\r\nclass LogEntry implements ILogEntry {\r\n  public moduleName: string;\r\n  public logFeature: string;\r\n  public logType: LogType;\r\n  public logProperties: { [key: string]: string };\r\n\r\n  /**\r\n   * Initializes a new instance of LogEntry\r\n   * @param moduleName the name of the module\r\n   * @param logFeature the name of the feature\r\n   * @param logType the log type\r\n   * @param logProperties optional property bag\r\n   */\r\n  constructor(\r\n    moduleName: string,\r\n    logFeature: string = LogFeature.None,\r\n    logType: LogType = LogType.Trace,\r\n    logProperties?: { [key: string]: string }) {\r\n    if (moduleName) {\r\n      this.moduleName = moduleName;\r\n      this.logFeature = logFeature;\r\n      this.logType = logType;\r\n      this.logProperties = logProperties;\r\n    } else {\r\n      throw new Error('moduleName is invalid');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * convert the log entry to string\r\n   * @returns the serialized log entry\r\n   */\r\n  public toString(): string {\r\n    let serializedLogProps: string = undefined;\r\n    if (this.logProperties) {\r\n      try {\r\n        serializedLogProps = JSON.stringify(this.logProperties);\r\n      } catch (e) {\r\n        console.log('Error happens in toString():' + e);\r\n      }\r\n    }\r\n\r\n    return `${this.moduleName} | ${this.logFeature} | ${this.logType} | ${serializedLogProps}`;\r\n  }\r\n}\r\n\r\nexport default LogEntry;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/LogEntry.ts\n **/","/**\r\n * @file LogFeature.ts\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n * Used for logging so you can filter logs by features.\r\n */\r\n\r\nexport default class LogFeature {\r\n  /* tslint:disable:variable-name */\r\n  public static None: string = 'None';\r\n\r\n  /* tslint:enable:variable-name */\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/LogFeature.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n * @file LogType.ts\r\n * Represents the supported log types\r\n * @internal\r\n */\r\nenum LogType {\r\n  /**\r\n   * Trace level log. Use this for logging diagnostics\r\n   */\r\n  Trace = 1,\r\n\r\n  /**\r\n   * Event level log. Use this for logging usage etc\r\n   */\r\n  Event = 2,\r\n\r\n  /**\r\n   * Use for errors\r\n   */\r\n  Error = 3,\r\n}\r\n\r\nexport default LogType;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/LogType.ts\n **/","/**\r\n * @file LogEntry.ts\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n * Represents a Log entry\r\n */\r\n\r\nimport ILogSource from './ILogSource';\r\nimport Validate from '../../common/Validate';\r\nimport ServiceKey from '../../serviceScope/ServiceKey';\r\nimport ServiceScope from '../../serviceScope/serviceScope';\r\n\r\n/**\r\n * @internal\r\n */\r\nexport default class LogSource implements ILogSource {\r\n  public id: string;\r\n\r\n  /**\r\n   * Factory method to create an instance of the LogSource class\r\n   * @returns a reference to an instance of the LogSource class\r\n   */\r\n  public static create(id: string): LogSource {\r\n    return new LogSource(id);\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * PRIVATE CONSTRUCTOR - DO NOT CALL THIS FROM YOUR OWN CODE.\r\n   */\r\n  constructor(id: string) {\r\n    Validate.isNotNullOrUndefined(id, 'id');\r\n\r\n    this.id = id;\r\n  }\r\n\r\n  /**\r\n   * @return {boolean} - if the LogSource is empty.\r\n   */\r\n  public isEmpty(): boolean {\r\n    return this.id.length === 0;\r\n  }\r\n}\r\n\r\nexport const logSourceServiceKey: ServiceKey<LogSource>\r\n  = ServiceKey.createCustom<LogSource>('sp-client-base:LogSource', (serviceScope: ServiceScope): LogSource => {\r\n    return new LogSource('');\r\n  });\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/LogSource.ts\n **/","/**\r\n * This class implements provides a standard way to validate properties and function parameters.\r\n * Unlike an assertion, the Validate checks are always performed and will always throw an error,\r\n * even in a production release.  As such, be careful not to overuse these checks in a way\r\n * that might impact performance.\r\n * @public\r\n */\r\nexport default class Validate {\r\n  /**\r\n   * Throws an exception if the specified value is not true.\r\n   * @param value - the value to check\r\n   * @param variableName - the program variable name, which will be mentioned in the error message\r\n   */\r\n  public static isTrue(value: boolean, variableName: string): void {\r\n    if (!value) {\r\n      throw new Error(`The value for \"${variableName}\" is not valid`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Throws an exception if the specified value is null or undefined.\r\n   * @param value - the value to check\r\n   * @param variableName - the program variable name, which will be mentioned in the error message\r\n   */\r\n  /* tslint:disable:no-any */\r\n  public static isNotNullOrUndefined(value: any, variableName: string): void {\r\n  /* tslint:enable:no-any */\r\n    /* tslint:disable:no-null-keyword */\r\n    if (value === null) {\r\n    /* tslint:enable:no-null-keyword */\r\n      throw new Error(`The value for \"${variableName}\" must not be null`);\r\n    }\r\n    if (value === undefined) {\r\n      throw new Error(`The value for \"${variableName}\" must not be undefined`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Throws an exception if the specified string is null, undefined, or an empty string.\r\n   * @param value - the value to check\r\n   * @param variableName - the program variable name, which will be mentioned in the error message\r\n   */\r\n  public static isNonemptyString(value: string, variableName: string): void {\r\n    Validate.isNotNullOrUndefined(value, variableName);\r\n\r\n    if (value.length === 0) {\r\n      throw new Error(`The value for \"${variableName}\" must not be an empty string`);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n/*\r\n  Internal notes:\r\n  - We will improve the exception and localization of error messages in VSO #163788\r\n  - Do not add validation algorithms (e.g. isZipCode()) to this file; it should only\r\n    provide basic checks similar to Assert\r\n*/\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/common/Validate.ts\n **/","import ServiceScope from './ServiceScope';\r\nimport Validate from '../common/Validate';\r\n\r\n/**\r\n * This is a callback that is used by ServiceKey.createCustom().\r\n */\r\nexport type ServiceCreator<T> = (serviceScope: ServiceScope) => T;\r\n\r\n/**\r\n * The ServiceKey is a lookup key that is used when calling ServiceScope.consume()\r\n * to fetch a dependency.  The key also defines a default implementation of the\r\n * dependency, which will be autocreated by the root scope if the dependency is not found.\r\n * Providing a default implementation ensures that new dependencies can be safely\r\n * introduced without inadvertently breaking components that are loaded by an older host\r\n * (that does not provide the new dependency).\r\n * @public\r\n */\r\nexport default class ServiceKey<T> {\r\n  private static _lastId: number = 0;\r\n\r\n  public id: string;\r\n  public name: string;\r\n  public defaultCreator: ServiceCreator<T>;\r\n\r\n  /**\r\n   * Constructs a new ServiceKey whose default implementation will be a new instance of\r\n   * a TypeScript class that accepts the standard constructor parameter.  If you want to\r\n   * specify custom constructor parameters, use createCustom() instead.\r\n   * @param name - A name such as \"MyApplication.IMyService\" which should be unique within\r\n   *   your application.\r\n   * @param serviceClass - the TypeScript class that implements the service.\r\n   * @returns - the newly created ServiceKey\r\n   */\r\n  public static create<T>(name: string,\r\n    serviceClass: { new (serviceScope: ServiceScope); }): ServiceKey<T> {\r\n\r\n    // (createCustom() will validate name)\r\n    Validate.isNotNullOrUndefined(serviceClass, 'serviceClass');\r\n\r\n    return ServiceKey.createCustom<T>(name, (serviceScope: ServiceScope) => {\r\n      return new serviceClass(serviceScope);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Constructs a new ServiceKey whose default implementation will be obtained\r\n   * by invoking the specified callback.\r\n   * @param name - A name such as \"MyApplication.IMyService\" which should be unique within\r\n   *   your application.\r\n   * @param defaultCreator - A callback that returns an object that implements the T interface\r\n   * @returns - the newly created ServiceKey\r\n   */\r\n  public static createCustom<T>(name: string, defaultCreator: ServiceCreator<T>): ServiceKey<T> {\r\n    Validate.isNonemptyString(name, 'name');\r\n    Validate.isNotNullOrUndefined(defaultCreator, 'defaultCreator');\r\n\r\n    ServiceKey._lastId++;\r\n\r\n    const id: string = ServiceKey._lastId.toString();\r\n\r\n    return new ServiceKey<T>(id, name, defaultCreator);\r\n  }\r\n\r\n  /**\r\n   * PRIVATE - Do not call this from your own code.\r\n   */\r\n  constructor(id: string, name: string, defaultCreator: ServiceCreator<T>) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.defaultCreator = defaultCreator;\r\n  }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/serviceScope/ServiceKey.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n * @file QosLogger.ts\r\n * Qos logger\r\n * This class represents the Qos monitor APIs\r\n */\r\nimport { Qos as QosEvent } from '@ms/odsp-utilities-bundle';\r\nimport { ResultTypeEnum as QosResultEnum } from '@ms/odsp-utilities-bundle';\r\nimport IQosMonitor from './IQosMonitor';\r\n\r\n/**\r\n * @internal\r\n */\r\nexport default class QosMonitor implements IQosMonitor {\r\n  // @todo VSO:237921 - use the correct typings\r\n  public qos: any; // tslint:disable-line\r\n\r\n   /**\r\n  * Creates a QoS monitor (initializes it and logs the start event)\r\n  * @param\tscenarioName\tUnique name of the QoS scenario\r\n  * You will see start tag: ModernPublish.RenderPublishPage.Start\r\n  */\r\n  constructor(scenarioName: string) {\r\n    if (!scenarioName || scenarioName.length === 0) {\r\n      throw new Error('senanrio name is invalid');\r\n    }\r\n\r\n    this.qos = new QosEvent({ name: scenarioName });\r\n  }\r\n\r\n  /**\r\n   * QoS monitor ends with success\r\n   * You will see success tag: ModernPublish.RenderPublishPage.Success\r\n   */\r\n  public writeSuccess(): void {\r\n    if (!this.qos) {\r\n      throw new Error ('monitor instance is null or undefined');\r\n    }\r\n\r\n    this.qos.end({ resultType: QosResultEnum.Success });\r\n  }\r\n\r\n  /**\r\n   * QoS monitor ends with failure\r\n   * You will see success tag: ModernPublish.RenderPublishPage.<failuretag>.Failure.\r\n   * <failuretag> will be filled with @param tagName\r\n   */\r\n  public writeUnexpectedFailure(\r\n    tagNameSuffix: string = 'DefaultUnexpected',\r\n    ex?: Error,\r\n    /* tslint:disable:no-any */\r\n    extraData?: { [key: string]: any }\r\n    /* tslint:enable:no-any */ ): void {\r\n    if (!this.qos) {\r\n      throw new Error ('monitor instance is null or undefined');\r\n    }\r\n\r\n    if (ex) {\r\n      this.qos.end({\r\n        resultCode: tagNameSuffix,\r\n        resultType: QosResultEnum.Failure,\r\n        error: ex.message,\r\n        extraData: extraData\r\n      });\r\n    } else {\r\n      this.qos.end({\r\n        resultCode: tagNameSuffix,\r\n        resultType: QosResultEnum.Failure,\r\n        extraData: extraData\r\n      });\r\n    }\r\n  }\r\n\r\n  /*\r\n   * QoS monitor ends with expected failure\r\n   * You will see success tag: ModernPublish.RenderPublishPage.<failuretag>.ExpectedFailure.\r\n   * <failuretag> will be filled with @param tagName\r\n   */\r\n  public writeExpectedFailure(\r\n    tagNameSuffix: string = 'DefaultExpected',\r\n    ex?: Error,\r\n    /* tslint:disable:no-any */\r\n    extraData?: { [key: string]: any }\r\n    /* tslint:enable:no-any */ ): void {\r\n    if (!this.qos) {\r\n      throw new Error ('monitor instance is null or undefined');\r\n    }\r\n    if (ex) {\r\n      this.qos.end({\r\n        resultCode: tagNameSuffix,\r\n        resultType: QosResultEnum.ExpectedFailure,\r\n        error: ex.message,\r\n        extraData: extraData\r\n      });\r\n    } else {\r\n      this.qos.end({\r\n        resultCode: tagNameSuffix,\r\n        resultType: QosResultEnum.ExpectedFailure,\r\n        extraData: extraData\r\n      });\r\n    }\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/QosMonitor.ts\n **/","/**\r\n * @copyright Microsoft Corporation.All rights reserved.\r\n * @file TraceLogger.ts\r\n * TraceLogger logger\r\n */\r\n\r\nimport { ErrorHelper } from '@ms/odsp-utilities-bundle';\r\nimport ILogEntry from './ILogEntry';\r\nimport ILogSource from './ILogSource';\r\nimport ApplicationLogSettings from './ApplicationLogSettings';\r\nimport LogEvent from './LogEvent';\r\nimport { LogLevel } from './LogLevel';\r\n\r\n/**\r\n * This is used to log errors and debugging information.\r\n * @internal\r\n */\r\nexport default class TraceLogger {\r\n\r\n  /*\r\n  * Exception logging\r\n  * This shoule be used whenever you want to log something that might in future help to debug failures.\r\n  * The error parameter is the only required one and basically will be just converted to string and\r\n  * logged to Debug stream (RealibilityLogs in SLAPI).\r\n  * It will also be uploaded to the server immediately and not wait for next batch log upload.\r\n  * If you don't specify second parameter:eventName\r\n  * the event name for all errors logged that way will be same \"CaughtError\" with\r\n  * appropriate prefix (\"ModernPublish.CaughtError\" etc.)\r\n  * These two parameters \"eventName and resultCode\" are there to be used from Qos.\r\n  * It is not encouraged to use them directly from ErrorHelper but if you do,\r\n  * the log will be written with custom event name of following format:\r\n  * <ApplicationName>.<eventName>.<resultCode>.Failure, ApplicationName is set in ApplicationLogSettings\r\n  **/\r\n  public static logError(\r\n    source: ILogSource,\r\n    error: Error,\r\n    eventName?: string,\r\n    resultCode?: string): void {\r\n    if (!error) {\r\n      throw new Error('error is invalid');\r\n    }\r\n    this._log(source, error, eventName, true, resultCode);\r\n  }\r\n\r\n  /*\r\n   * Trace logging\r\n   * The idea here is that verbose logs don't get uploaded to the server unless\r\n   * a failure is logged using ErrorHelper.log method.\r\n   * There is a circular buffer that holds last 50 verbose logs from all scenarios and\r\n   * it is only flushed and uploaded in case a failure is logged.\r\n   * That way whenever you get a failure event with message you also have all supportive verbose messages\r\n   * you logged throughout your scenario execution (or other scenarios).\r\n   * And hopefully that would help you get to the bottom of what exactly went wrong.\r\n   * If no failure happens and your scenario succeeds, verbose logs will be just left in the buffer\r\n   * and most likely overriden by next scenario that logs something verbose.\r\n  **/\r\n  public static logVerbose(\r\n    source: ILogSource,\r\n    message: string,\r\n    eventName?: string): void {\r\n    if (!message || message.length === 0) {\r\n      throw new Error('message is invalid');\r\n    }\r\n    this._log(source, message, eventName, false, undefined);\r\n  }\r\n\r\n  /*\r\n  * Exception logging With LogEntry\r\n  * error message should be packed into logProperties\r\n  * LogType should be LogType.Error and LogProperties should have {error:errorMessage}\r\n  * Do NOT add PII data!\r\n  **/\r\n  public static logErrorWithLogEntry(\r\n    source: ILogSource,\r\n    logEntry: ILogEntry,\r\n    eventName?: string,\r\n    resultCode?: string): void {\r\n    if (!logEntry) {\r\n      throw new Error('LogEntry is invalid');\r\n    }\r\n    this._log(source, logEntry.toString(), eventName, true, resultCode);\r\n  }\r\n\r\n  /*\r\n  * Trace logging with LogEntry\r\n  * The same with above other than wrapped log into logEntry\r\n  * Trace message should be packed into logProperties\r\n  * LogType should be LogType.Trace and LogProperties should have somthing like{errors:errorMessage}\r\n  * Do NOT add PII data!\r\n  **/\r\n  public static logVerboseWithLogEntry(\r\n    source: ILogSource,\r\n    logEntry: ILogEntry,\r\n    eventName?: string): void {\r\n    if (!logEntry) {\r\n      throw new Error('LogEntry is invalid');\r\n    }\r\n    this._log(source, logEntry.toString(), eventName, false, undefined);\r\n  }\r\n\r\n  private static _log(\r\n    source: ILogSource,\r\n    data: Error | string,\r\n    eventName: string,\r\n    isError: boolean,\r\n    resultCode?: string): void {\r\n    // TODO (VSO #163792): move the initialization to shell start.\r\n    ApplicationLogSettings.initialize();\r\n    const enhancedEventName: string = this._addEventPrefix(source, eventName);\r\n    if (isError) {\r\n      ErrorHelper.log(data, enhancedEventName, resultCode);\r\n      LogEvent.log(enhancedEventName, data, LogLevel.Error);\r\n    } else {\r\n      ErrorHelper.verbose(data.toString(), enhancedEventName);\r\n      LogEvent.log(enhancedEventName, data.toString(), LogLevel.Verbose);\r\n    }\r\n    this._writeToConsole(data.toString(), enhancedEventName, isError, resultCode);\r\n  }\r\n\r\n  /*\r\n  * EventName is:\r\n  * sourceId.eventName or sourceId if eventName is not provided.\r\n  */\r\n  private static _addEventPrefix(source: ILogSource, eventName?: string): string {\r\n    if (!eventName) {\r\n      return source.id;\r\n    } else {\r\n      return `${source.id}.${eventName}`;\r\n    }\r\n  }\r\n\r\n  /*\r\n  * The log message in console is:\r\n  * [eventName]: data.\r\n  */\r\n  private static _writeToConsole(data: string, eventName: string, isError: boolean, resultCode?: string): void {\r\n\r\n    let errorString: string = `[${eventName}] ${data}`;\r\n    if (resultCode) {\r\n      errorString += `. resultCode: ${resultCode}`;\r\n    }\r\n\r\n    // Task 191596: only write to console when a condition is satisfied (e.g., a query parameter provided).\r\n    if (isError) {\r\n      console.error(errorString);\r\n    } else {\r\n      console.log(errorString);\r\n    }\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/TraceLogger.ts\n **/","/**\r\n * @file ApplicationLogSettings.ts\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n * Used for hooking up BeaconHandlers.\r\n */\r\n\r\nimport {\r\n  BeaconCache,\r\n  Beacon,\r\n  AriaLogger} from '@ms/odsp-utilities-bundle';\r\nimport BeaconHandlers from '../Api/BeaconHandlers';\r\n\r\nexport default class ApplicationLogSettings {\r\n  constructor(applicationName: string) {\r\n    BeaconCache.addToLoggingManager(applicationName, new BeaconHandlers());\r\n    Beacon.addToLoggingManager();\r\n    this._initializeAria(applicationName);\r\n  }\r\n\r\n  /**\r\n   * This method should be called before other internal Telemetry APIs can be used.\r\n   */\r\n  public static initialize(): void {\r\n    // Temporarily global. (VSO #163792)\r\n    // This method should take PageContext as param when PageContext is in sp-client-base.\r\n    /* tslint:disable */\r\n    if (!(window as any).g_spPagesApplicationSettings) {\r\n      (window as any).g_spPagesApplicationSettings= new ApplicationLogSettings('SPPages');\r\n    }\r\n    /* tslint:enable */\r\n  }\r\n\r\n  private _initializeAria(applicationName: string): void {\r\n    /* tslint:disable:no-string-literal no-any */\r\n    const pageContextInfo: any = window['_spPageContextInfo'];\r\n    if (pageContextInfo && this._shouldEnableAria(pageContextInfo.env)) {\r\n      const token: string = this._getAriaToken(pageContextInfo.env);\r\n      if (token) {\r\n        AriaLogger.initialize(token,\r\n          {\r\n            isAuthenticated: !!pageContextInfo.userLoginName,\r\n            market: pageContextInfo.currentUICultureName,\r\n            session: pageContextInfo.CorrelationId,\r\n            version: pageContextInfo.siteClientTag,\r\n            manifest: this._getManifest(),\r\n            userId: pageContextInfo.systemUserKey,\r\n            siteSubscriptionId: pageContextInfo.siteSubscriptionId,\r\n            farmLabel: pageContextInfo.farmLabel,\r\n            environment: pageContextInfo.env,\r\n            workload: applicationName\r\n          });\r\n      }\r\n    }\r\n    /* tslint:enable:no-string-literal no-any */\r\n  }\r\n\r\n  private _shouldEnableAria(env: string): boolean {\r\n    return !!env && location.hostname !== 'localhost';\r\n  }\r\n\r\n  private _getAriaToken(env: string): string {\r\n    let token: string;\r\n    switch (env.toLowerCase()) {\r\n      case 'edog':\r\n        token = 'e70f26977dfb4acdb49b3ece642df9fb-99372a42-43f1-4c5a-a711-145ece84076a-7110';\r\n        break;\r\n      case 'prodbubble':\r\n        token = '930040d5f2d14c649c8f4a22a062a2af-a8806003-7416-4799-9a3a-31de703592e5-6968';\r\n        break;\r\n      case 'prod':\r\n        token = '28f004ff2be44e8997a6f113043d583d-3f663b9a-4911-45b4-be6d-e450ca91e808-7336';\r\n        break;\r\n      default:\r\n        // Data will go to the fallback tenant.\r\n        token = '1ca85bcb62f645d0bd61f37896e88c29-f10b8d04-e871-43ba-8716-8a895fd08020-7634';\r\n        break;\r\n    }\r\n    return token;\r\n  }\r\n\r\n  private _getManifest(): string {\r\n    /* tslint:disable:no-string-literal no-any */\r\n    const clientSidePageContext: any = window['_spClientSidePageContext'];\r\n    if (clientSidePageContext) {\r\n      return clientSidePageContext.clientSideApplicationId;\r\n    }\r\n    /* tslint:enable:no-string-literal no-any */\r\n    return '';\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/ApplicationLogSettings.ts\n **/","/**\r\n * @copyright Microsoft Corporation.All rights reserved.\r\n * @file BeaconHandlers.ts\r\n * BeasonHandlers represents the contract for application logger\r\n */\r\n\r\nimport {\r\n  IBeaconHandlers,\r\n  IClonedEvent,\r\n  ClonedEventType as ClonedEventTypeEnum,\r\n  Nav as NavEvent,\r\n  PLTHttpRequest as PLTHttpRequestEvent,\r\n  ResultTypeEnum\r\n} from '@ms/odsp-utilities-bundle';\r\n\r\nclass BeaconHandlers implements IBeaconHandlers {\r\n  private static _getResultTypeSuffix(resultType: ResultTypeEnum): string {\r\n    'use strict';\r\n    if (resultType === ResultTypeEnum.Success) {\r\n      return '.Success';\r\n    } else if (resultType === ResultTypeEnum.Failure) {\r\n      return '.Failure';\r\n    } else if (resultType === ResultTypeEnum.ExpectedFailure) {\r\n      return '.ExpectedFailure';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  // ignore these events, or they will show up under UnknownEvent\r\n  public ignoredEventsHandler(event: IClonedEvent): boolean {\r\n    return NavEvent.isTypeOf(event) || PLTHttpRequestEvent.isTypeOf(event);\r\n  }\r\n\r\n  public qosEventNameHandler(event: IClonedEvent, currentName: string): string {\r\n    let name: string = currentName;\r\n    if (event.data) {\r\n      if (event.eventType === ClonedEventTypeEnum.Start) {\r\n        name += '.Start';\r\n      } else if (event.eventType === ClonedEventTypeEnum.End) {\r\n        if (event.data.resultCode) {\r\n          name += '.' + event.data.resultCode;\r\n        }\r\n        name += BeaconHandlers._getResultTypeSuffix(event.data.resultType);\r\n      } else {\r\n        name += '.no_EventType';\r\n      }\r\n    }\r\n\r\n    return name;\r\n  }\r\n\r\n  /* tslint:disable:no-any */\r\n  public qosEventExtraDataHandler(event: IClonedEvent, qosData: any): void {\r\n    return;\r\n  }\r\n  /* tslint:enable:no-any */\r\n\r\n}\r\n\r\nexport default BeaconHandlers\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/BeaconHandlers.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\nimport { default as ServiceScope } from '../../serviceScope/ServiceScope';\r\nimport { default as LogSource, logSourceServiceKey } from './LogSource';\r\nimport { LogLevel } from './LogLevel';\r\nimport LogManager from './LogManager';\r\n\r\n/**\r\n * An object that represents one log event.\r\n * @internal\r\n */\r\nexport default class LogEvent {\r\n  private _scope: LogSource;\r\n  private _source: string;\r\n  private _message: string;\r\n  private _error: Error;\r\n  private _level: LogLevel;\r\n\r\n  /**\r\n   * Use this method to log an event.\r\n   *\r\n   * @param source - source of the log event, e.g. class name of the source file\r\n   * @param data - data of the log event\r\n   * @param level - level of the log event\r\n   * @param serviceScope - scope of the log event, e.g. component/web part\r\n   */\r\n  public static log(source: string, data: string | Error, level: LogLevel, serviceScope?: ServiceScope): LogEvent {\r\n    const event: LogEvent = new LogEvent(source, data, level, serviceScope);\r\n    LogManager.log(event);\r\n    return event;\r\n  }\r\n\r\n  /**\r\n   * Do not call this constructor directly. Use LogEvent.log instead.\r\n   */\r\n  constructor(source: string, data: string | Error, level: LogLevel, serviceScope?: ServiceScope) {\r\n    this._validate(source, data);\r\n    this._scope = this._getScope(serviceScope);\r\n    this._source = source.substr(0, this._maxSourceLength);\r\n    this._setData(data);\r\n    this._level = level;\r\n  }\r\n\r\n  public toString(): string {\r\n    let prefix: string = `${this._source}`;\r\n    if (this._scope && !this._scope.isEmpty()) {\r\n      prefix = `${this._scope.id.substr(0, this._maxSourceLength)}.${prefix}`;\r\n    }\r\n    if (this._message) {\r\n      return `[${prefix}] ${this._message}`;\r\n    } else {\r\n      return `[${prefix}] ${this._error.toString()}`;\r\n    }\r\n  }\r\n\r\n  private get _maxSourceLength(): number {\r\n    return 20;\r\n  }\r\n\r\n  private get _maxMessageLength(): number {\r\n    return 100;\r\n  }\r\n\r\n  private _validate(source: string, data: string | Error): void {\r\n    if (!source) {\r\n      throw new Error('source cannot be undefined or null for Logger');\r\n    }\r\n    if (!data) {\r\n      throw new Error('data cannot be undefined or null');\r\n    }\r\n  }\r\n\r\n  private _setData(data: string | Error): void {\r\n    if (typeof data === 'string') {\r\n      this._message = data.substr(0, this._maxMessageLength);\r\n    } else if (data instanceof Error) {\r\n      this._error = data;\r\n    }\r\n  }\r\n\r\n  private _getScope(serviceScope?: ServiceScope): LogSource {\r\n    let parentSource: LogSource;\r\n    if (serviceScope) {\r\n      serviceScope.whenFinished(() => {\r\n        parentSource = serviceScope.consume(logSourceServiceKey);\r\n      });\r\n    }\r\n    return parentSource;\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/LogEvent.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\nimport LogEvent from './LogEvent';\r\nimport CircularBuffer from './CircularBuffer';\r\n\r\n/**\r\n * LogManager allows multiple handlers to process log events.\r\n * It caches the latest 100 log events. If a handler is just added, the\r\n * handler is able to get access to the cached events and all incoming events.\r\n * Dev-dashboard and potentially third-party can use it to get access to events.\r\n */\r\nexport default class LogManager {\r\n  private static _handlers: Array<(e: LogEvent) => void> = [];\r\n  private static _events: CircularBuffer<LogEvent> = new CircularBuffer<LogEvent>(LogManager._maxVerboseLog);\r\n\r\n  public static addHandler(handler: (e: LogEvent) => void): void {\r\n    if (LogManager._contains(handler)) {\r\n      return;\r\n    }\r\n    LogManager._processAll(handler);\r\n    LogManager._handlers.push(handler);\r\n  }\r\n\r\n  public static log(event: LogEvent): void {\r\n    Object.freeze(event);\r\n    LogManager._events.push(event);\r\n    for (const handle of LogManager._handlers) {\r\n      try {\r\n        handle(event);\r\n      } catch (e) {\r\n      console.error('failed to handle event:' + e.toString());\r\n      }\r\n    }\r\n  }\r\n\r\n  public static removeHandler(handler: (e: LogEvent) => void): void {\r\n    for (let i: number = 0; i < LogManager._handlers.length; i++) {\r\n      if (LogManager._handlers[i] === handler) {\r\n        LogManager._handlers.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  public static reset(): void {\r\n    LogManager._handlers = [];\r\n    LogManager._events.removeAll();\r\n  }\r\n\r\n  private static _contains(handler: (e: LogEvent) => void): boolean {\r\n    for (const existingHandler of LogManager._handlers) {\r\n      if (existingHandler === handler) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private static _processAll(handler: (e: LogEvent) => void): void {\r\n    LogManager._events.forEach(event => {\r\n      if (event) {\r\n        try {\r\n          handler(event);\r\n        } catch (e) {\r\n          console.error('failed to handle event:' + e.toString());\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private static get _maxVerboseLog(): number {\r\n    return 100;\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/LogManager.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nexport default class CircularBuffer<DataType> implements ForEachable<DataType> {\r\n  /**\r\n   * The size of the buffer\r\n   */\r\n  private _size: number;\r\n  /**\r\n   * Index of the newest item in the buffer\r\n   */\r\n  private _head: number = -1;\r\n  /**\r\n   * The overall count of how many items have ever been added to the buffer.\r\n   */\r\n  private _count: number = 0;\r\n  private _buffer: Array<DataType>;\r\n  private _isIterating: boolean = false;\r\n\r\n  constructor(size: number) {\r\n    if (size <= 0) {\r\n        throw new Error('Size must be positive');\r\n    }\r\n    this._size = size;\r\n    this._buffer = new Array<DataType>(size);\r\n  }\r\n\r\n  public push(item: DataType): void {\r\n    this._ensureNotIterating();\r\n    this._head++;\r\n    this._count++;\r\n    if (this._head === this._size) {\r\n        this._head = 0;\r\n    }\r\n    this._buffer[this._head] = item;\r\n  }\r\n\r\n  public forEach(handle: (value: DataType) => void): void {\r\n    if (this._count === 0) {\r\n      return;\r\n    }\r\n    this._isIterating = true;\r\n    try {\r\n      let current: number = this._tail;\r\n      // For-loop is prefered over while loop here to avoid possible infinite loop.\r\n      for (let i: number = 0; i < this._size; i++) {\r\n        handle(this._buffer[current]);\r\n        if (current === this._head) {\r\n          // The newest item has been processed. End the loop.\r\n          break;\r\n        }\r\n        current = this._getNext(current);\r\n      }\r\n    } finally {\r\n      this._isIterating = false;\r\n    }\r\n  }\r\n\r\n  public removeAll(): void {\r\n    this._ensureNotIterating();\r\n    this._head = -1;\r\n    this._count = 0;\r\n  }\r\n\r\n  /**\r\n   * Index of the oldest item in the buffer\r\n   */\r\n  private get _tail(): number {\r\n    if (this._isNotWrapped()) {\r\n      return 0;\r\n    }\r\n    return this._getNext(this._head);\r\n  }\r\n\r\n  private _isNotWrapped(): boolean {\r\n    return this._count === (this._head + 1);\r\n  }\r\n\r\n  /**\r\n   * The next index should be index + 1, unless it reaches\r\n   * the end of the buffer and needs to rewind to 0.\r\n   */\r\n  private _getNext(index: number): number {\r\n    let nextIndex: number = index + 1;\r\n    if (nextIndex === this._size) {\r\n      nextIndex = 0;\r\n    }\r\n    return nextIndex;\r\n  }\r\n\r\n  private _ensureNotIterating(): void {\r\n    if (this._isIterating) {\r\n      throw new Error('Circular buffer cannot be modified during iteration');\r\n    }\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/CircularBuffer.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\n/**\r\n * LogLevel represents the level of a log event.\r\n * @internal\r\n */\r\nexport enum LogLevel {\r\n  /**\r\n   * verbose event for debugging\r\n   */\r\n  Verbose = 1,\r\n  /**\r\n   * Informational event\r\n   */\r\n  Info,\r\n  /**\r\n   * A warning\r\n   */\r\n  Warning,\r\n  /**\r\n   * An error\r\n   */\r\n  Error\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/LogLevel.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PerformanceLogger\r\n */\r\nimport {\r\n  RumOneLogger,\r\n  PageTransitionType,\r\n  ControlPerformanceData,\r\n  APICallPerformanceData } from '@ms/odsp-utilities-bundle';\r\nimport LogSource from './LogSource';\r\nimport TraceLogger from './TraceLogger';\r\n\r\n/**\r\n * Usage:\r\n * 1. Begin an application session with a aggregatable name (e.g. level1.level2.level3) at the very beginning.\r\n *  e.g.\r\n *    PerformanceLogger.initializeApplication('ContosoApp.Page1')\r\n *  Only one application per page can be created.\r\n * 2. To monitor a component as part of EUPL:\r\n * 2.1 Add the following at the component render start time.\r\n *    PerformanceLogger.addComponent('contosoWebPart1');\r\n *    PerformanceLogger.startMarkForComponent('contosoWebPart1');\r\n * 2.2 Add the following at the component render end time.\r\n *    PerformanceLogger.endMarkForComponent('contosoWebPart1');\r\n * 3. To monitor a request:\r\n * 3.1 Add the following at request start time:\r\n *    PerformanceLogger.startMarkForApi('call1_uniqueId', 'someUrl1');\r\n * 3.2 Add the following at request end time:\r\n *    PerformanceLogger.endMarkForApi('call1_uniqueId', 'call1', 'someUrl1', response);\r\n *\r\n * Note1: due to server side limitation, only the first 4 (soon will be 10) components'\r\n * data is send to server. The rest can be dumped to console if\r\n * window.sessionStorage[\"enableRUMOneDebugging\"] == true.\r\n * Note2: do not include component time that do not affect EUPL (like async time spent.)\r\n *\r\n * @internal\r\n */\r\nexport default class PerformanceLogger {\r\n  private static _logSource: LogSource = LogSource.create('PerformanceLogger');\r\n  private static _rumOneLogger: RumOneLogger;\r\n  private static _componentStartTimeKey: string = 'ComponentStartTime';\r\n  private static _componentEndTimeKey: string = 'ComponentEndTime';\r\n  private static _apiStartTimeKey: string = 'ApiStartTime';\r\n  private static _apiEndTimeKey: string = 'ApiEndTime';\r\n  private static _navigationStartTimeKey: string = 'SPClientNavStartTime';\r\n  private static _markKey: string = 'Mark';\r\n  private static _applicationStartKey: string = 'appStart';\r\n\r\n  /**\r\n   * Initialize the application with a name. All perf data is reset for non-fullPageLoad.\r\n   * @param {string} applicationName - name of the application\r\n   * @param {boolean} fullPageLoad - indicate if full page load\r\n   */\r\n  public static initializeApplication(applicationName: string, fullPageLoad: boolean = false): void {\r\n    if (fullPageLoad === false) {\r\n      this._logger.resetLogger();\r\n    }\r\n    this._logger.writeScenarioId(applicationName);\r\n    this._startMarkForPageTransition();\r\n  }\r\n\r\n  /**\r\n   * Indicate whether the performance data is for a full page load or partial load.\r\n   */\r\n  public static get fullPageLoad(): boolean {\r\n    const pageTransitionType: number = this._logger.getPerformanceDataPropertyValue('PageTransitionType');\r\n    if (pageTransitionType !== undefined) {\r\n      return pageTransitionType === PageTransitionType.fullPageLoad;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Set the fullPageLoad to be true if the data is for a full page load, otherwise set it to be false.\r\n   */\r\n  public static set fullPageLoad(isFullPageLoad: boolean) {\r\n    const pageTransitionType: PageTransitionType = isFullPageLoad ? PageTransitionType.fullPageLoad :\r\n      PageTransitionType.none;\r\n    this._logger.writePageTransitionType(pageTransitionType, true);\r\n  }\r\n\r\n  /**\r\n   * Add a component to track its performance.\r\n   * @param {string} tag - The identifier that identifies the component in the performance data stream.\r\n   */\r\n  public static addComponent(tag: string): void {\r\n    if (!this.isRunning()) {\r\n      return;\r\n    }\r\n    this._logger.addExpectedControl(tag);\r\n  }\r\n\r\n  /**\r\n   * Record component start time.\r\n   * @param {string} tag - The identifier that identifies the component in the performance data stream.\r\n   */\r\n  public static startMarkForComponent(tag: string): void {\r\n    if (!this.isRunning()) {\r\n      return;\r\n    }\r\n    const currentTime: number = this._getNowTime();\r\n    this._logger.saveTempData(tag + this._componentStartTimeKey, currentTime);\r\n    this._logger.addEUPLBreakdown(`${tag}.start`, currentTime);\r\n  }\r\n\r\n  /**\r\n   * Record component end time.\r\n   * @param {string} tag - The identifier that identifies the component in the performance data stream.\r\n   */\r\n  public static endMarkForComponent(tag: string): void {\r\n    if (!this.isRunning()) {\r\n      return;\r\n    }\r\n    const controlStartTime: number = this.getComponentStartTime(tag);\r\n    const endTime: number = this._getNowTime();\r\n    this.reportControlData(tag, controlStartTime, endTime);\r\n    this._logger.saveTempData(tag + this._componentEndTimeKey, endTime);\r\n  }\r\n\r\n  /**\r\n   * Record a time in the performance data stream for the component.\r\n   * @param {string} tag - The identifier that identifies the component in the performance data stream.\r\n   * @param {string} name - The name of the time value\r\n   */\r\n  public static markComponent(tag: string, name: string): void {\r\n    if (!this.isRunning()) {\r\n      return;\r\n    }\r\n    const startTime: number = this.getComponentStartTime(tag);\r\n    if (startTime === undefined) {\r\n      return;\r\n    }\r\n    this._logger.addEUPLBreakdown(`${tag}.${name}`, this._getNowTime() - startTime);\r\n  }\r\n\r\n  /**\r\n   * Record a request start time.\r\n   * @param {string} tag - The identifier that uniquely identifies the request in the\r\n   * performance data stream, used to calculate the duration. Not persisted in RumOne.\r\n   * @param {string} requestUrl - The url of the request.\r\n   *\r\n   * @todo #191154 Integrate it into HttpClient.\r\n   */\r\n  public static startMarkForApi(tag: string): void {\r\n    if (!this.isRunning()) {\r\n      return;\r\n    }\r\n    this._logger.saveTempData(tag + this._apiStartTimeKey, this._getNowTime());\r\n  }\r\n\r\n  /**\r\n   * Record a request end time.\r\n   * @param {string} tag - The identifier that uniquely identifies the request in the\r\n   * performance data stream, used to calculate the duration. Not persisted in RumOne.\r\n   * @param {string} name - The name to aggregate the data. Persisted in RumOne stream.\r\n   * @param {string} requestUrl - The url of the request.\r\n   * @param {Response} response - The response from the request.\r\n   *\r\n   * @todo #191154 Integrate it into HttpClient.\r\n   */\r\n  public static endMarkForApi(tag: string, name: string, requestUrl: string, response: Response): void {\r\n    if (!this.isRunning()) {\r\n      return;\r\n    }\r\n    const apiStartTime: number = this.getApiStartTime(tag);\r\n    const apiEndTime: number = this._getNowTime();\r\n    const apiData: APICallPerformanceData = new APICallPerformanceData(\r\n      requestUrl,\r\n      Number(response.headers.get('SPClientServiceRequestDuration')),\r\n      response.headers.get('SPRequestGuid'),\r\n      response.status,\r\n      this._convertToISOString(apiStartTime),\r\n      this._convertToISOString(apiEndTime),\r\n      name);\r\n\r\n    // log a API call perf data object for each API call before EUPL complete\r\n    this._logger.writeAPICallPerformanceData(apiData);\r\n\r\n    // Record the last API call end time as app data fetch end\r\n    this._logger.saveTempData(tag + this._apiEndTimeKey, apiEndTime);\r\n  }\r\n\r\n  /**\r\n   * Mark application start time\r\n   */\r\n  public static markApplicationStart(): void {\r\n    this._mark(this._applicationStartKey);\r\n  }\r\n\r\n  /**\r\n   * Get the application start time\r\n   */\r\n  public static getApplicationStartTime(): number {\r\n    return this._getMark(this._applicationStartKey);\r\n  }\r\n\r\n  /**\r\n   * Get the recorded component start time.\r\n   * @param {string} tag - The identifier that identifies the component in the performance data stream.\r\n   */\r\n  public static getComponentStartTime(tag: string): number {\r\n    return this._logger.readTempData(tag + this._componentStartTimeKey);\r\n  }\r\n\r\n  /**\r\n   * Get the recorded component end time.\r\n   * @param {string} tag - The identifier that identifies the component in the performance data stream.\r\n   */\r\n  public static getComponentEndTime(tag: string): number {\r\n    return this._logger.readTempData(tag + this._componentEndTimeKey);\r\n  }\r\n\r\n  /**\r\n   * Get the recorded request start time.\r\n   * @param {string} tag - The identifier that identifies the request in the performance data stream.\r\n   */\r\n  public static getApiStartTime(tag: string): number {\r\n    return this._logger.readTempData(tag + this._apiStartTimeKey);\r\n  }\r\n\r\n  /**\r\n   * Get the recorded request end time.\r\n   * @param {string} tag - The identifier that identifies the request in the performance data stream.\r\n   */\r\n  public static getApiEndTime(tag: string): number {\r\n    return this._logger.readTempData(tag + this._apiEndTimeKey);\r\n  }\r\n\r\n  /**\r\n   * Initialize the logger.\r\n   * The logger is not initialized in the constructor for lazy initialization.\r\n   */\r\n  private static ensureInitialized(): void {\r\n    if (!this._rumOneLogger) {\r\n      // Lazy initialization\r\n      this._rumOneLogger = RumOneLogger.getRUMOneLogger();\r\n      // Put the data as global so that dev dashboard (in module loader project) can access it.\r\n      // @todo 232808: Move this data off the window object\r\n      /* tslint:disable:no-any */\r\n      (window as any).g_spPagesPerformancedata = this._rumOneLogger.getPerformanceData();\r\n      /* tslint:enable:no-any */\r\n    }\r\n  }\r\n\r\n  private static get _logger(): RumOneLogger {\r\n    this.ensureInitialized();\r\n    return this._rumOneLogger;\r\n  }\r\n\r\n  private static isRunning(): boolean {\r\n    return this._logger.isRunning();\r\n  }\r\n\r\n  private static reportControlData(tag: string, startTime: number, endTime: number): void {\r\n    if (!this.isRunning) {\r\n      return;\r\n    }\r\n    const controlPerformanceData: ControlPerformanceData = new ControlPerformanceData(\r\n      tag,\r\n      startTime,\r\n      endTime,\r\n      this._computeRenderTime,\r\n      this._checkRenderTimeRequiredDataAvailable);\r\n    this._logger.writeControlPerformanceData(controlPerformanceData);\r\n  }\r\n\r\n  private static _checkRenderTimeRequiredDataAvailable(rumone: RumOneLogger,\r\n    controlData: ControlPerformanceData): boolean {\r\n    if (rumone && controlData) {\r\n      let navigationStart: number = undefined;\r\n      const pageTransitionType: number = rumone.getPerformanceDataPropertyValue('PageTransitionType');\r\n      if (pageTransitionType === PageTransitionType.fullPageLoad) {\r\n        navigationStart = rumone.getPerformanceDataPropertyValue('W3cNavigationStart');\r\n      } else if (pageTransitionType === PageTransitionType.none) {\r\n        navigationStart = rumone.readTempData('SPClientNavStartTime');\r\n      }\r\n      return Boolean(navigationStart) && Boolean(controlData.endTime);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * call back function, exected by RUMOne to computer control render time for this control\r\n   */\r\n  private static _computeRenderTime(rumone: RumOneLogger, controlData: ControlPerformanceData): number {\r\n    if (rumone && controlData) {\r\n      let navigationStart: number = undefined;\r\n      const pageTransitionType: number = rumone.getPerformanceDataPropertyValue('PageTransitionType');\r\n      if (pageTransitionType === PageTransitionType.fullPageLoad) {\r\n        navigationStart = rumone.getPerformanceDataPropertyValue('W3cNavigationStart');\r\n      } else if (pageTransitionType === PageTransitionType.none) {\r\n        navigationStart = rumone.readTempData('SPClientNavStartTime');\r\n      }\r\n      if (navigationStart) {\r\n        return controlData.endTime - navigationStart;\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * Mark the beginning of a page transition. It can be for a full page load or partial page transition.\r\n   * For full page load, the NavigationStart will be from dom.\r\n   * (https://www.w3.org/TR/navigation-timing/#dom-performancetiming-navigationstart)\r\n   * For partial page transition, this method records current time as NavigationStart.\r\n   */\r\n  private static _startMarkForPageTransition(): void {\r\n    if (!this.isRunning()) {\r\n      return;\r\n    }\r\n    this._logger.saveTempData(this._navigationStartTimeKey, this._getNowTime());\r\n  }\r\n\r\n  private static _convertToISOString(time: number): string {\r\n    try {\r\n      return (new Date(time)).toISOString();\r\n    } catch (error) {\r\n      TraceLogger.logVerbose(this._logSource, `Time is ${time}`);\r\n      TraceLogger.logError(this._logSource, error, 'convertTime');\r\n      return `${time}`;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Mark the current time associated with the provided tag.\r\n   * @param {string} tag - The identifier of the time\r\n   */\r\n  private static _mark(tag: string): void {\r\n    this._logger.saveTempData(tag + this._markKey, this._getNowTime());\r\n  }\r\n\r\n  /**\r\n   * Get the time associated with the tag.\r\n   * @param {string} tag - The identifier of the time\r\n   */\r\n  private static _getMark(tag: string): number {\r\n    return this._logger.readTempData(tag + this._markKey);\r\n  }\r\n\r\n  private static _getNowTime(): number {\r\n    return Date.now();\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Api/PerformanceLogger.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\nimport { default as ServiceScope } from '../serviceScope/ServiceScope';\r\nimport { default as _LogEvent } from './Api/LogEvent';\r\nimport { LogLevel as _LogLevel } from './Api/LogLevel';\r\n\r\n/**\r\n * The Log class provides static methods for logging messages at different levels (verbose,\r\n * info, warning, error) and with context information. Context information helps identify\r\n * which component generated the messages and makes the messages useful and filterable.\r\n *\r\n * @public\r\n */\r\nexport default class Log {\r\n  /**\r\n   * Logs a verbose message\r\n   * @param   source - the source from where the message is logged, e.g., the class name.\r\n   *          The source provides context information for the logged message.\r\n   *          If the source's length is more than 20, only the first 20 characters are kept.\r\n   * @param   message - the message to be logged\r\n   *          If the message's length is more than 100, only the first 100 characters are kept.\r\n   * @param   scope - the service scope that the source uses. A service scope can provide\r\n    *         more context information (e.g., web part information) to the logged message.\r\n   */\r\n  public static verbose(source: string, message: string, scope?: ServiceScope): void {\r\n    const event: _LogEvent = _LogEvent.log(source, message, _LogLevel.Verbose, scope);\r\n    /* tslint:disable:no-console */\r\n    console.log(event.toString());\r\n    /* tslint:enable:no-console */\r\n  }\r\n\r\n  /**\r\n   * Logs an informational message\r\n   * @param   source - the source from where the message is logged, e.g., the class name.\r\n   *          The source provides context information for the logged message.\r\n   *          If the source's length is more than 20, only the first 20 characters are kept.\r\n   * @param   message - the message to be logged\r\n   *          If the message's length is more than 100, only the first 100 characters are kept.\r\n   * @param   scope - the service scope that the source uses. A service scope can provide\r\n    *         more context information (e.g., web part information) to the logged message.\r\n   */\r\n  public static info(source: string, message: string, scope?: ServiceScope): void {\r\n    const event: _LogEvent = _LogEvent.log(source, message, _LogLevel.Info, scope);\r\n    /* tslint:disable:no-console */\r\n    console.info(event.toString());\r\n    /* tslint:enable:no-console */\r\n  }\r\n\r\n  /**\r\n   * Logs a warning\r\n   * @param   source - the source from where the message is logged, e.g., the class name.\r\n   *          The source provides context information for the logged message.\r\n   *          If the source's length is more than 20, only the first 20 characters are kept.\r\n   * @param   message - the message to be logged\r\n   *          If the message's length is more than 100, only the first 100 characters are kept.\r\n   * @param   scope - the service scope that the source uses. A service scope can provide\r\n    *         more context information (e.g., web part information) to the logged message.\r\n   */\r\n  public static warn(source: string, message: string, scope?: ServiceScope): void {\r\n    const event: _LogEvent = _LogEvent.log(source, message, _LogLevel.Warning, scope);\r\n    /* tslint:disable:no-console */\r\n    console.warn(event.toString());\r\n    /* tslint:enable:no-console */\r\n  }\r\n\r\n  /**\r\n   * Logs an error\r\n   * @param   source - the source from where the error is logged, e.g., the class name.\r\n   *          The source provides context information for the logged error.\r\n   *          If the source's length is more than 20, only the first 20 characters are kept.\r\n   * @param   error - the error to be logged\r\n   * @param   scope - the service scope that the source uses. A service scope can provide\r\n    *         more context information (e.g., web part information) to the logged error.\r\n   */\r\n  public static error(source: string, error: Error, scope?: ServiceScope): void {\r\n    const event: _LogEvent = _LogEvent.log(source, error, _LogLevel.Error, scope);\r\n    /* tslint:disable:no-console */\r\n    console.error(event.toString());\r\n    /* tslint:enable:no-console */\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/telemetry/Log.ts\n **/","import ServiceKey from '../serviceScope/ServiceKey';\r\nimport ServiceScope from '../serviceScope/ServiceScope';\r\nimport * as lodash from '@microsoft/sp-lodash-subset';\r\nimport { IFetchProvider, fetchProviderServiceKey  } from './FetchProvider';\r\n\r\n/**\r\n * BasicHttpClient implements a basic set of features for performing REST operations.\r\n * The subclass HttpClient extends this basic functionality with SharePoint-specific\r\n * enhancements.\r\n * @public\r\n */\r\nexport default class BasicHttpClient {\r\n  private _fetchProvider: IFetchProvider;\r\n  private _serviceScope: ServiceScope;\r\n\r\n  constructor(serviceScope: ServiceScope) {\r\n    this._serviceScope = serviceScope;\r\n    serviceScope.whenFinished(() => {\r\n      this._fetchProvider = serviceScope.consume(fetchProviderServiceKey);\r\n    });\r\n  }\r\n\r\n  protected get serviceScope(): ServiceScope {\r\n    return this._serviceScope;\r\n  }\r\n\r\n  /**\r\n   * Performs a REST service call.  Although the HttpClient subclass adds\r\n   * additional enhancements, the parameters and semantics for BasicHttpClient.fetch()\r\n   * are essentially the same as the WHATWG API standard that is documented here:\r\n   * https://fetch.spec.whatwg.org/\r\n   * @params url - the URL to fetch\r\n   * @params options - additional options that affect the request\r\n   * @returns a promise that will return the result\r\n   */\r\n  public fetch(url: string, options: IBasicHttpClientOptions): Promise<Response> {\r\n    return this.fetchCore(new Request(url, options));\r\n  }\r\n\r\n  /**\r\n   * Calls fetch(), but sets the method to 'GET'.\r\n   * @params url - the URL to fetch\r\n   * @params options - additional options that affect the request\r\n   * @returns a promise that will return the result\r\n   */\r\n  public get(url: string, options?: IBasicHttpClientOptions): Promise<Response> {\r\n    const modifiedOptions: IBasicHttpClientOptions = lodash.clone(options || {});\r\n    modifiedOptions.method = 'GET';\r\n    return this.fetch(url, modifiedOptions);\r\n  }\r\n\r\n  /**\r\n   * Calls fetch(), but sets the method to 'POST'.\r\n   * @params url - the URL to fetch\r\n   * @params options - additional options that affect the request\r\n   * @returns a promise that will return the result\r\n   */\r\n  public post(url: string, options: IBasicHttpClientOptions): Promise<Response> {\r\n    const modifiedOptions: IBasicHttpClientOptions = lodash.clone(options || {});\r\n    modifiedOptions.method = 'POST';\r\n    return this.fetch(url, modifiedOptions);\r\n  }\r\n\r\n  protected fetchCore(request: Request): Promise<Response> {\r\n    // QOS logging will be added here (VSO Task #163782)\r\n    console.log(`HttpClient: ${request.method} ${request.url}`);\r\n\r\n    return this._fetchProvider.fetch(request);\r\n  }\r\n}\r\n\r\nexport const basicHttpClientServiceKey: ServiceKey<BasicHttpClient> = ServiceKey.create<BasicHttpClient>\r\n  ('sp-client-base:BasicHttpClient', BasicHttpClient);\r\n\r\n/**\r\n * This interface defines the options for the BasicHttpClient operations such as\r\n * get(), post(), fetch(), etc.  It is based on the whatwg API standard\r\n * parameters that are documented here:\r\n * https://fetch.spec.whatwg.org/\r\n * @public\r\n */\r\nexport interface IBasicHttpClientOptions extends RequestInit {\r\n  // Reserved for future usage\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/httpClient/BasicHttpClient.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_85__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"@microsoft/sp-lodash-subset\"\n ** module id = 85\n ** module chunks = 0\n **/","import ServiceScope from '../serviceScope/ServiceScope';\r\nimport ServiceKey from '../serviceScope/ServiceKey';\r\n\r\n/**\r\n * This interface represents the basic contract of the ES6 Fetch API, without\r\n * any additional SharePoint logic.\r\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API }\r\n *\r\n * @public\r\n */\r\nexport interface IFetchProvider {\r\n  /**\r\n   * The parameters and semantics for this function are the same as the\r\n   * ES6 GlobalFetch.fetch() standard.\r\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API }\r\n   */\r\n  fetch(request: Request): Promise<Response>;\r\n}\r\n\r\n/**\r\n * The default implementation of IFetchProvider, which simply calls window.fetch().\r\n */\r\nexport default class FetchProvider implements IFetchProvider {\r\n  constructor(serviceScope: ServiceScope) {\r\n    // (this constructor is currently unused, but it is required by the\r\n    // ServiceKey.create() contract)\r\n  }\r\n\r\n  public fetch(request: Request): Promise<Response> {\r\n    return window.fetch(request);\r\n  }\r\n}\r\n\r\n/**\r\n * The service key for IFetchProvider.\r\n * @public\r\n */\r\nexport const fetchProviderServiceKey: ServiceKey<IFetchProvider>\r\n  = ServiceKey.create<IFetchProvider>('sp-client-base:FetchProvider', FetchProvider);\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/httpClient/FetchProvider.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport ServiceKey from '../serviceScope/ServiceKey';\r\nimport DigestCache from './DigestCache';\r\n\r\n/**\r\n * IDigestCache is an internal service used by HttpClient to maintain a cache of request digests\r\n * for each SPWeb URL.  A request digest is a security token that the SharePoint server requires for\r\n * for any REST write operation, specified via the \"X-RequestDigest\" HTTP header.  It is obtained\r\n * by calling the \"/_api/contextinfo\" REST endpoint, and expires after a server configurable amount\r\n * of time.  For more information, see the MSDN article\r\n * \"Complete basic operations using SharePoint 2013 REST endpoints\".\r\n * @see {@link https://msdn.microsoft.com/en-us/library/office/jj164022.aspx }\r\n * @public\r\n */\r\nexport interface IDigestCache {\r\n  /**\r\n   * Returns a digest string for the specified SPWeb URL.  If the cache already contains a usable value,\r\n   * the promise is fulfilled immediately.  Otherwise, the promise will be pending and resolve after\r\n   * an HTTP request obtains the digest, which will be added to the cache.\r\n   * @param webUrl  The URL of the SPWeb that the API call will be issued to.\r\n   *                This may be a server-relative or absolute URL.\r\n   * @returns       A promise that is fulfilled with the digest value.\r\n   */\r\n  fetchDigest(webUrl: string): Promise<string>;\r\n\r\n  /**\r\n   * Inserts a specific request digest value into the cache.  Normally this is unnecessary because\r\n   * the framework will automatically issue a REST request to fetch the digest when necessary;\r\n   * however, in advanced scenarios addDigestToCache() can be used to avoid the overhead of the\r\n   * REST call.\r\n   *\r\n   * @param webUrl               The URL of the SPWeb that the API call will be issued to.\r\n   *                             This may be a server-relative or absolute URL.\r\n   * @param digestValue          The digest value, which is an opaque that must be generated\r\n   *                             by the SharePoint server.  The syntax will look something like\r\n   *                             this: \"0x0B85...2EAC,29 Jan 2016 01:23:45 -0000\"\r\n   * @param expirationTimestamp  A future point in time, as measured by performance.now(), after which\r\n   *                             the digest value will no longer be valid.\r\n   *                             NOTE: The expirationTime is a DOMHighResTimeStamp value whose units are\r\n   *                             fractional milliseconds; for example, to specify an expiration\r\n   *                             \"5 seconds from right now\", use performance.now()+5000.\r\n   */\r\n  addDigestToCache(webUrl: string, digestValue: string, expirationTimestamp: number): void;\r\n\r\n  /**\r\n   * Clears the cached digest for the specified SPWeb URL.  This operation is useful\r\n   * e.g. if an error indicates that a digest was invalidated prior to its expiration time.\r\n   *\r\n   * @param webUrl               The URL of the SPWeb whose digest should be cleared.\r\n   *                             This may be a server-relative or absolute URL.\r\n   * @returns                    Returns true if a cache entry was found and deleted; false otherwise.\r\n   */\r\n  clearDigest(webUrl: string): boolean;\r\n\r\n  /**\r\n   * Clears all values from the cache.\r\n   */\r\n  clearAllDigests(): void;\r\n}\r\n\r\nexport default IDigestCache;\r\n\r\n/**\r\n * The service key for IDigestCache.\r\n * @public\r\n */\r\nexport const digestCacheServiceKey: ServiceKey<IDigestCache>\r\n  = ServiceKey.create<IDigestCache>('sp-client-base:DigestCache', DigestCache);\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/httpClient/IDigestCache.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport ServiceScope from '../serviceScope/ServiceScope';\r\nimport UrlUtilities from '../common/UrlUtilities';\r\nimport { IFetchProvider, fetchProviderServiceKey } from './FetchProvider';\r\nimport { ITimeProvider, dateProviderServiceKey } from '../common/TimeProvider';\r\nimport IDigestCache from './IDigestCache';\r\nimport LogSource from '../telemetry/Api/LogSource';\r\nimport TraceLogger from '../telemetry/Api/TraceLogger';\r\n\r\n/**\r\n * The internal implementation of IDigestCache.\r\n */\r\nexport default class DigestCache implements IDigestCache {\r\n  // The digest cache expiration times are measured from whenever the C# code on the server\r\n  // generated the digest, whereas in the current implementation, we start measuring from\r\n  // whenever the framework finished loading.  We do have access to the server's timestamp,\r\n  // relying on it could run into trouble if the browser's clock is wrong.  SPPPlat VSO 223612\r\n  // will add a bit of logic to TimeProvider to protect against that.  Until then, we can\r\n  // work around the issue by trimming the expiration times back by a small amount, which\r\n  // represents the estimated page render time.\r\n  private static EXPIRATION_SLOP_MS: number = 3000;\r\n\r\n  private static _logSource: LogSource = LogSource.create('DigestCache');\r\n  private _fetchProvider: IFetchProvider;\r\n  private _dateProvider: ITimeProvider;\r\n\r\n  private _digestsByUrl: Map<string, ICachedDigest>;\r\n\r\n  constructor(serviceScope: ServiceScope) {\r\n    this._digestsByUrl = new Map<string, ICachedDigest>();\r\n\r\n    serviceScope.whenFinished(() => {\r\n      this._fetchProvider = serviceScope.consume(fetchProviderServiceKey);\r\n      this._dateProvider = serviceScope.consume(dateProviderServiceKey);\r\n    });\r\n  }\r\n\r\n  /** Implements IDigestCache */\r\n  public fetchDigest(webUrl: string): Promise<string> {\r\n    const normalizedWebUrl: string = UrlUtilities.removeEndSlash(webUrl);\r\n    const cachedDigest: ICachedDigest = this._digestsByUrl.get(normalizedWebUrl);\r\n\r\n    if (cachedDigest) {\r\n      const timestamp: number = this._dateProvider.getTimestamp();\r\n      if (timestamp < cachedDigest.expirationTimestamp) {\r\n        TraceLogger.logVerbose(DigestCache._logSource,\r\n          'DigestCache: Reusing cached digest.  Expiration: ' + cachedDigest.expirationTimestamp);\r\n        return Promise.resolve(cachedDigest.value);\r\n      }\r\n    }\r\n\r\n    // If it wasn't in the cache, then we need to fetch a new one.\r\n    // Create the REST API URL\r\n    const digestUrl: string = normalizedWebUrl + '/_api/contextinfo';\r\n\r\n    // NOTE: We don't want people to be injecting random headers throughout\r\n    // their code.  As HttpClient evolves, maybe there is some way we can\r\n    // combine this with the headers being added there.\r\n    const rawRequest: Request = new Request(digestUrl,\r\n      {\r\n        method: 'POST',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-type': 'application/json;odata=verbose;charset=utf-8'\r\n        },\r\n        credentials: 'same-origin',\r\n        cache: 'no-cache'\r\n      });\r\n\r\n    return this._fetchProvider.fetch(rawRequest).then((response: Response) => {\r\n      return response.json();\r\n    }).then((responseObject: IRestResponse) => {\r\n\r\n      const digestValue: string = responseObject.FormDigestValue;\r\n      const seconds: number = responseObject.FormDigestTimeoutSeconds as number;\r\n      const expirationTimeMs: number = this._dateProvider.getTimestamp() + 1000 * seconds;\r\n\r\n      this.addDigestToCache(normalizedWebUrl, digestValue, expirationTimeMs);\r\n\r\n      TraceLogger.logVerbose(DigestCache._logSource, 'DigestCache: Fetched new digest');\r\n\r\n      return digestValue;\r\n    });\r\n  }\r\n\r\n  /** Implements IDigestCache */\r\n  public addDigestToCache(webUrl: string, digestValue: string, expirationTimestamp: number): void {\r\n    const normalizedWebUrl: string = UrlUtilities.removeEndSlash(webUrl);\r\n    const newCachedDigest: ICachedDigest = {\r\n      value: digestValue,\r\n      expirationTimestamp: expirationTimestamp - DigestCache.EXPIRATION_SLOP_MS\r\n    };\r\n    this._digestsByUrl.set(normalizedWebUrl, newCachedDigest);\r\n  }\r\n\r\n  /** Implements IDigestCache */\r\n  public clearDigest(webUrl: string): boolean {\r\n    const normalizedWebUrl: string = UrlUtilities.removeEndSlash(webUrl);\r\n    const found: boolean = this._digestsByUrl.delete(normalizedWebUrl);\r\n    TraceLogger.logVerbose(DigestCache._logSource,\r\n      `DigestCache: Requested to clear cache entry: ${found ? 'found' : 'not found'}`);\r\n    return found;\r\n  }\r\n\r\n  /** Implements IDigestCache */\r\n  public clearAllDigests(): void {\r\n    this._digestsByUrl.clear();\r\n  }\r\n}\r\n\r\n/**\r\n * Used internally by DigestCache.  This stores a request digest value and\r\n * its expiration date.\r\n */\r\ninterface ICachedDigest {\r\n  /**\r\n   * The string representing the digest.  Example value:\r\n   * \"0x6CB1C55E8C18B86...,20 Feb 2016 00:18:17 -0000\"\r\n   */\r\n  value: string;\r\n\r\n  /**\r\n   * The expiration time for the digest, in milliseconds measured using DateTime.now()\r\n   */\r\n  expirationTimestamp: number;\r\n}\r\n\r\n/**\r\n * Represents the JSON response of the /_api/contextinfo REST call.\r\n */\r\ninterface IRestResponse {\r\n  FormDigestValue: string;\r\n  FormDigestTimeoutSeconds: number;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/httpClient/DigestCache.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n */\r\n\r\nimport * as lodash from '@microsoft/sp-lodash-subset';\r\nimport Validate from './Validate';\r\n\r\n/**\r\n * Common helper functions for working with URLs.  These utilities are intended to be simple,\r\n * small, and extremely common.  Do not add advanced parsing logic to this file.\r\n * @public\r\n */\r\nexport default class UrlUtilities {\r\n\r\n  /**\r\n   * Removes any slash characters from the end of the URL.\r\n   * This function assumes that the input is already a valid absolute or server-relative URL.\r\n   * Examples:\r\n   *   removeEndSlash('http://example.com/') ---> 'http://example.com'\r\n   *   removeEndSlash('/example')            ---> '/example'\r\n   *   removeEndSlash('/')                   ---> ''\r\n   * @param url the URL to be normalized\r\n   */\r\n  public static removeEndSlash(url: string): string {\r\n    return lodash.trimEnd(url, '/');\r\n  }\r\n\r\n /**\r\n  * Converts a variable to an OData string literal and escapes apostrophes.\r\n  * OData specification:\r\n  * https://tools.oasis-open.org/version-control/\r\n  *   browse/wsvn/odata/trunk/spec/ABNF/odata-abnf-construction-rules.txt\r\n  * SQUOTE-in-string = SQUOTE SQUOTE ; two consecutive single quotes represent one within a string literal\r\n  * Examples:\r\n  *   convertToODataStringLiteral(\"example's list\") ---> \"'example''s list'\"\r\n  *   convertToODataStringLiteral(\"example list\") ---> \"'example list'\"\r\n  *   convertToODataStringLiteral(\"'example list'\") ---> \"'''example list'''\"\r\n  */\r\n  public static  convertToODataStringLiteral(value: string): string {\r\n    Validate.isNotNullOrUndefined(value, 'value');\r\n    value = value.replace(/'/g, \"''\");\r\n    value = `'${value}'`;\r\n    return value;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/common/UrlUtilities.ts\n **/","import ServiceScope from '../serviceScope/ServiceScope';\r\nimport ServiceKey from '../serviceScope/ServiceKey';\r\n\r\n/**\r\n * This interface allows unit tests to simulate the system clock.\r\n */\r\nexport interface ITimeProvider {\r\n  /**\r\n   * Returns the current date/time.\r\n   */\r\n  getDate(): Date;\r\n\r\n  /**\r\n   * Returns a DOMHighResTimeStamp timing measurement, as defined by the\r\n   * standard performance.now() API.\r\n   */\r\n  getTimestamp(): number;\r\n}\r\n\r\n/**\r\n * This is the default implementation of ITimeProvider that simply\r\n * calls the real browser APIs.\r\n */\r\nexport default class TimeProvider implements ITimeProvider {\r\n  constructor(serviceScope: ServiceScope) {\r\n    // (this constructor is currently unused, but it is required by the\r\n    // ServiceKey.create() contract)\r\n  }\r\n\r\n  public getDate(): Date {\r\n    return new Date();\r\n  }\r\n\r\n  public getTimestamp(): number {\r\n    return performance.now();\r\n  }\r\n}\r\n\r\nexport const dateProviderServiceKey: ServiceKey<ITimeProvider>\r\n  = ServiceKey.create<ITimeProvider>('sp-client-base:TimeProvider', TimeProvider);\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/common/TimeProvider.ts\n **/","import * as lodash from '@microsoft/sp-lodash-subset';\r\nimport ServiceKey from '../serviceScope/ServiceKey';\r\nimport ServiceScope from '../serviceScope/ServiceScope';\r\nimport IDigestCache, { digestCacheServiceKey } from './IDigestCache';\r\nimport BasicHttpClient, { IBasicHttpClientOptions } from './BasicHttpClient';\r\nimport ODataBatch, { IODataBatchOptions } from './ODataBatch';\r\nimport HttpClientCommon from './HttpClientCommon';\r\nimport { IRandomProvider, randomProviderServiceKey } from '../common/RandomProvider';\r\nimport _PerformanceLogger from '../telemetry/Api/PerformanceLogger';\r\nimport LogSource, { logSourceServiceKey } from '../telemetry/Api/LogSource';\r\n\r\n/**\r\n * HttpClient is used to perform REST calls against SharePoint.  It adds default\r\n * headers, manages the digest needed for writes, and collects telemetry that\r\n * helps the service to monitor the performance of an application.\r\n *\r\n * For communicating with non-SharePoint services, use the BasicHttpClient\r\n * class instead.\r\n * @public\r\n */\r\nexport default class HttpClient extends BasicHttpClient {\r\n  private static _logSource: LogSource = LogSource.create('httpClient');\r\n  private static _reservedUrlSegments: string[] = [\r\n    '/_API/',\r\n    '/_LAYOUTS/',\r\n    '/_VTI_BIN/'];\r\n\r\n  private _digestCache: IDigestCache;\r\n  private _randomProvider: IRandomProvider;\r\n  private _parentSource: LogSource;\r\n\r\n  /**\r\n   * This uses a heuristic to guess the SPWeb URL associated with the provided\r\n   * REST URL.  This is necessary for operations such as the X-RequestDigest\r\n   * and ODATA batching, which require POSTing to a separate REST endpoint\r\n   * in order to complete a request.\r\n   * For excample, if the requestUrl is \"/sites/site/web/_api/service\",\r\n   * the returned URL would be \"/sites/site/web\".  Or if the requestUrl\r\n   * is \"http://example.com/_layouts/service\", the returned URL would be\r\n   * \"http://example.com\".\r\n   * @param requestUrl  The URL for a SharePoint REST service\r\n   * @returns the inferred SPWeb URL\r\n   */\r\n  public static getWebUrlFromRequestUrl(requestUrl: string): string {\r\n    // First we need to guess the webUrl by looking for a reserved\r\n    // segment such as \"_api\":\r\n    let segmentIndex: number = -1;\r\n    const upperCaseUrl: string = requestUrl.toUpperCase();\r\n\r\n    for (const reservedUrlSegment of HttpClient._reservedUrlSegments) {\r\n      segmentIndex = upperCaseUrl.indexOf(reservedUrlSegment);\r\n      if (segmentIndex >= 0) {\r\n        return requestUrl.substr(0, segmentIndex);\r\n      }\r\n    }\r\n\r\n    throw new Error('Unable to determine web URL');\r\n  }\r\n\r\n  constructor(serviceScope: ServiceScope) {\r\n    super(serviceScope);\r\n    this.serviceScope.whenFinished(() => {\r\n      this._digestCache = serviceScope.consume(digestCacheServiceKey);\r\n      this._randomProvider = serviceScope.consume(randomProviderServiceKey);\r\n      this._parentSource = serviceScope.consume(logSourceServiceKey);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generally, the parameters and semantics for HttpClient.fetch() are essentially\r\n   * the same as the WHATWG API standard that is documented here:\r\n   * https://fetch.spec.whatwg.org/\r\n   *\r\n   * The HttpClient subclass adds some additional behaviors that are convenient when\r\n   * working with SharePoint ODATA API's (which can be avoided by using\r\n   * BasicHttpClient instead):\r\n   * - Default \"Accept\" and \"Content-Type\" headers are added if not explicitly specified.\r\n   * - For write operations, an \"X-RequestDigest\" header is automatically added\r\n   * - The request digest token is automatically fetched and stored in a cache, with\r\n   *   support for preloading\r\n   *\r\n   * For a write operation, HttpClient will automatically add the \"X-RequestDigest\"\r\n   * header, which may need to be obtained by issuing a seperate request such as\r\n   * \"https://example.com/sites/sample/_api/contextinfo\".  Typically the appropriate\r\n   * SPWeb URL can be guessed by looking for a reserved URL segment such as \"_api\"\r\n   * in the original URL passed to fetch(); if not, use IHttpClientOptions.webUrl\r\n   * to specify it explicitly.\r\n   *\r\n   * @params url - the URL to fetch\r\n   * @params options - additional options that affect the request\r\n   * @returns a promise that will return the result\r\n   * @override\r\n   */\r\n  public fetch(url: string, options: IHttpClientOptions): Promise<Response> {\r\n    if (!options) {\r\n      options = {};\r\n    }\r\n\r\n    const modifiedOptions: IHttpClientOptions = lodash.clone(options);\r\n\r\n    // Apply default headers\r\n    if (!options.credentials) {\r\n      modifiedOptions.credentials = 'same-origin';\r\n    }\r\n\r\n    // NOTE: RequestInit.cache is apparently currently unimplemented in Chrome\r\n    // and our polyfill, so we don't specify it here.\r\n\r\n    const headers: Headers = HttpClientCommon.constructDefaultHeaders(options);\r\n    modifiedOptions.headers = headers;\r\n\r\n    if (!headers.has('OData-Version')) {\r\n      // SharePoint's guidance is that everyone should be using ODATA version 4.0 now.\r\n      // If you don't provide an OData-Version, then the server will decide using a heuristic,\r\n      // which is not what we want\r\n      headers.append('OData-Version', '4.0');\r\n    }\r\n\r\n    // NOTE: If options.method is missing, the default is GET\r\n    if (options.method) {\r\n      const method: string = options.method.toUpperCase();\r\n      if (method !== 'GET' && method !== 'HEAD' && method !== 'OPTIONS') {\r\n        // For writes, SharePoint requires an \"X-RequestDigest\" header.\r\n        if (!headers.has('X-RequestDigest')) {\r\n          const webUrl: string = options.webUrl || HttpClient.getWebUrlFromRequestUrl(url);\r\n\r\n          // Now fetch the digest\r\n          const promise: Promise<Response> = this._digestCache.fetchDigest(webUrl)\r\n            .then((digest: string) => {\r\n              headers.append('X-RequestDigest', digest);\r\n\r\n              return this._fetchWithInstrumentation(new Request(url, modifiedOptions));\r\n            });\r\n\r\n          return HttpClientCommon.handleAuthenticationErrors(promise, webUrl, this._digestCache);\r\n        }\r\n      }\r\n    }\r\n\r\n    return this._fetchWithInstrumentation(new Request(url, modifiedOptions));\r\n  }\r\n\r\n  /**\r\n   * Calls fetch(), but sets the method to 'GET'.\r\n   * @params url - the URL to fetch\r\n   * @params options - additional options that affect the request\r\n   * @returns a promise that will return the result\r\n   * @override\r\n   */\r\n  public get(url: string, options?: IHttpClientOptions): Promise<Response> {\r\n    const modifiedOptions: IHttpClientOptions = lodash.clone(options || {});\r\n    modifiedOptions.method = 'GET';\r\n    return this.fetch(url, modifiedOptions);\r\n  }\r\n\r\n  /**\r\n   * Calls fetch(), but sets the method to 'POST'.\r\n   * @params url - the URL to fetch\r\n   * @params options - additional options that affect the request\r\n   * @returns a promise that will return the result\r\n   * @override\r\n   */\r\n  public post(url: string, options: IHttpClientOptions): Promise<Response> {\r\n    const modifiedOptions: IHttpClientOptions = lodash.clone(options || {});\r\n    modifiedOptions.method = 'POST';\r\n    return this.fetch(url, modifiedOptions);\r\n  }\r\n\r\n  /**\r\n   * Begins an ODATA batch, which allows multiple REST queries to be bundled into\r\n   * a single web request.\r\n   */\r\n  public beginBatch(batchOptions?: IODataBatchOptions): ODataBatch {\r\n    return new ODataBatch(this.serviceScope, batchOptions);\r\n  }\r\n\r\n  private _fetchWithInstrumentation(request: Request): Promise<Response> {\r\n    const tag: string = this._performanceTag;\r\n    _PerformanceLogger.startMarkForApi(tag);\r\n    return this.fetchCore(request).then((response: Response) => {\r\n      _PerformanceLogger.endMarkForApi(tag, this._logSourceId, request.url, response);\r\n      return response;\r\n    });\r\n  }\r\n\r\n  private get _performanceTag(): string {\r\n    const randomSuffix: string = Math.floor(this._randomProvider.getRandom() * 100000).toString();\r\n    return `${this._logSourceId}.${randomSuffix}`;\r\n  }\r\n\r\n  private get _logSourceId(): string {\r\n    if (this._parentSource.isEmpty()) {\r\n      return HttpClient._logSource.id;\r\n    }\r\n    return this._parentSource.id;\r\n  }\r\n}\r\n\r\nexport const httpClientServiceKey: ServiceKey<HttpClient> = ServiceKey.create<HttpClient>\r\n  ('sp-client-base:HttpClient', HttpClient);\r\n\r\n/**\r\n * This interface defines the options for the HttpClient operations such as\r\n * get(), post(), fetch(), etc.  It is based on the WHATWG API standard\r\n * parameters that are documented here:\r\n * https://fetch.spec.whatwg.org/\r\n * @public\r\n */\r\nexport interface IHttpClientOptions extends IBasicHttpClientOptions {\r\n  /**\r\n   * For a write operation, HttpClient will automatically add the\r\n   * \"X-RequestDigest\" header, which may need to be fetched using a seperate\r\n   * request such as \"https://example.com/sites/sample/_api/contextinfo\".\r\n   * Typically the SPWeb URL (\"https://example.com/sites/sample\" in this\r\n   * example) can be guessed by looking for a reserved URL segment such\r\n   * as \"_api\" in the original REST query, however certain REST endpoints\r\n   * do not contain a reserved URL segment; in this case, the webUrl can\r\n   * be explicitly specified using this option.\r\n   */\r\n  webUrl?: string;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/httpClient/HttpClient.ts\n **/","/**\r\n * @copyright (c) Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport * as lodash from '@microsoft/sp-lodash-subset';\r\nimport ServiceScope from '../serviceScope/ServiceScope';\r\nimport ODataBatchedRequest from './ODataBatchedRequest';\r\nimport HttpClient from './HttpClient';\r\nimport Guid from '../guid/Guid';\r\nimport { IFetchProvider, fetchProviderServiceKey  } from './FetchProvider';\r\nimport { IRandomProvider, randomProviderServiceKey } from '../common/RandomProvider';\r\nimport IDigestCache, { digestCacheServiceKey } from './IDigestCache';\r\nimport HttpClientCommon from './HttpClientCommon';\r\n\r\n/**\r\n * The ODataBatch class accumulates a number of REST service calls and\r\n * transmits them as a single ODATA batch.  This protocol is documented here:\r\n * http://docs.oasis-open.org/odata/odata/v4.0/odata-v4.0-part1-protocol.html\r\n *\r\n * The usage is to call ODataBatch.fetch() to queue each individual request,\r\n * and then call ODataBatch.execute() to execute the batch operation.\r\n * The execute() method returns a promise that resolves when the real REST\r\n * call has completed.  Each call to fetch() also returns a promise that will\r\n * resolve with a Response object for that particular request.\r\n *\r\n * @public\r\n */\r\nexport default class ODataBatch {\r\n  private _batchOptions: IODataBatchOptions;\r\n  private _fetchProvider: IFetchProvider;\r\n  private _randomProvider: IRandomProvider;\r\n  private _digestCache: IDigestCache;\r\n\r\n  private _batchedRequests: ODataBatchedRequest[];\r\n  private _webUrl: string;\r\n\r\n  public constructor(serviceScope: ServiceScope, batchOptions?: IODataBatchOptions) {\r\n    this._batchOptions = batchOptions || {};\r\n    this._batchedRequests = [];\r\n\r\n    serviceScope.whenFinished(() => {\r\n      this._fetchProvider = serviceScope.consume(fetchProviderServiceKey);\r\n      this._randomProvider = serviceScope.consume(randomProviderServiceKey);\r\n      this._digestCache = serviceScope.consume(digestCacheServiceKey);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Queues a new request, and returns a promise that can be used to access\r\n   * the server response (after execute() has completed).  The parameters for\r\n   * this function are basically the same as the WHATWG API standard documented here:\r\n   * https://fetch.spec.whatwg.org/\r\n   *\r\n   * However, be aware that certain REST headers are ignored or not allowed inside\r\n   * a batch.  See the ODATA documentation for details.\r\n   *\r\n   * When execute() is called, it will POST to a URL such as\r\n   * \"http://example.com/sites/sample/_api/$batch\".  Typically ODataBatch can successfully\r\n   * guess the appropriate SPWeb URL by looking for a reserved URL segment such as \"_api\"\r\n   * in the first URL passed to fetch().  If not, use IODataBatchOptions.webUrl to specify it\r\n   * explicitly.\r\n   *\r\n   * @params url - the URL to fetch, or an already initialized Request object\r\n   * @params options - additional options that affect the request\r\n   * @returns a promise that will return the result\r\n   */\r\n  public fetch(url: string, options?: IODataBatchRequestOptions):\r\n    Promise<Response> {\r\n\r\n    if (!options) {\r\n      options = {};\r\n    }\r\n\r\n    // Apply most of the same default headers as HttpClient\r\n    const modifiedOptions: IODataBatchRequestOptions = lodash.clone(options);\r\n    modifiedOptions.headers = HttpClientCommon.constructDefaultHeaders(options);\r\n\r\n    const request: Request = new Request(url, modifiedOptions);\r\n    const requestUrl: string = request.url;\r\n\r\n    if (!this._webUrl) {\r\n      // If the webUrl wasn't provided to the constructor, then we infer it from\r\n      // the first request.\r\n      this._webUrl = HttpClient.getWebUrlFromRequestUrl(requestUrl);\r\n    }\r\n\r\n    const batchedRequest: ODataBatchedRequest = new ODataBatchedRequest(request);\r\n    this._batchedRequests.push(batchedRequest);\r\n    return batchedRequest.promise;\r\n  }\r\n\r\n  /**\r\n   * Calls fetch(), but sets the method to 'GET'.\r\n   * @params url - the URL to fetch\r\n   * @params options - additional options that affect the request\r\n   * @returns a promise that will return the result\r\n   */\r\n  public get(url: string, options?: IODataBatchRequestOptions): Promise<Response> {\r\n    const modifiedOptions: IODataBatchRequestOptions = lodash.clone(options || {});\r\n    modifiedOptions.method = 'GET';\r\n    return this.fetch(url, modifiedOptions);\r\n  }\r\n\r\n  /**\r\n   * Calls fetch(), but sets the method to 'POST'.\r\n   * @params url - the URL to fetch\r\n   * @params options - additional options that affect the request\r\n   * @returns a promise that will return the result\r\n   */\r\n  public post(url: string, options: IODataBatchRequestOptions): Promise<Response> {\r\n    const modifiedOptions: IODataBatchRequestOptions = lodash.clone(options || {});\r\n    modifiedOptions.method = 'POST';\r\n    return this.fetch(url, modifiedOptions);\r\n  }\r\n\r\n  /**\r\n   * Executes the batched queries that were queued using ODataBatch.fetch().\r\n   */\r\n  public execute(): Promise<ODataBatch> {\r\n    let batchBody: string = '\\n';\r\n\r\n    const batchGuid: Guid = Guid.newGuid(this._randomProvider);\r\n\r\n    // In the loop below, we will build up a chain of promises that append\r\n    // each request to the batch body, and then the \"return\" statement will\r\n    // add the final processing to the chain.\r\n    let chain: Promise<void> = Promise.resolve<void>();\r\n\r\n    this._batchedRequests.forEach(\r\n      (batchedRequest: ODataBatchedRequest) => {\r\n\r\n        chain = chain.then(() => {\r\n          return batchedRequest.request.text();\r\n        }).then((requestText: string) => {\r\n          const request: Request = batchedRequest.request;\r\n\r\n          batchBody += `--batch_${batchGuid.toString()}\\n`;\r\n          batchBody += `Content-type: application/http\\n`\r\n            + `Content-Transfer-Encoding: binary\\n\\n`;\r\n\r\n          // Example:\r\n          // \"POST https://example.com/_api/web HTTP/1.1\"\r\n          batchBody += `${request.method} ${request.url} HTTP/1.1\\n`;\r\n\r\n          request.headers.forEach((value: string, name: string) => {\r\n            batchBody += `${name}: ${value}\\n`;\r\n          });\r\n          batchBody += '\\n';\r\n          batchBody += requestText;\r\n          batchBody += '\\n\\n';\r\n        });\r\n      }\r\n    );\r\n\r\n    return chain.then(() => {\r\n      // Close the batch\r\n      batchBody += `--batch_${batchGuid}--\\n`;\r\n\r\n      return this._digestCache.fetchDigest(this._webUrl);\r\n    }).then((digest: string) => {\r\n\r\n      // Start the $batch request\r\n      const headers: Headers = new Headers();\r\n      headers.append('Accept', 'application/json');\r\n      headers.append('OData-Version', '4.0');\r\n      headers.append('Content-Type', `multipart/mixed; boundary=batch_${batchGuid}`);\r\n      headers.append('Content-Length', batchBody.length.toString());\r\n      headers.append('X-RequestDigest', digest);\r\n\r\n      const request: Request = new Request(this._webUrl + '/_api/$batch', {\r\n        method: 'POST',\r\n        headers: headers,\r\n        body: batchBody,\r\n        credentials: 'same-origin',\r\n        cache: 'no-cache'\r\n      });\r\n\r\n      const promise: Promise<Response> = this._fetchProvider.fetch(request);\r\n      return HttpClientCommon.handleAuthenticationErrors(promise, this._webUrl, this._digestCache);\r\n    }).then((response: Response) => {\r\n      if (!response.ok) {\r\n        throw new Error('ODataBatch: The batch request failed: ' + response.statusText);\r\n      }\r\n      return response.text();\r\n    }).then((text: string) => {\r\n      const responses: Response[] = this._parseResponsesFromBody(text);\r\n      if (responses.length !== this._batchedRequests.length) {\r\n        throw new Error(`ODataBatch: Expecting ${this._batchedRequests.length} responses`);\r\n      }\r\n\r\n      for (let i: number = 0; i < this._batchedRequests.length; ++i) {\r\n        const request: ODataBatchedRequest = this._batchedRequests[i];\r\n        request.notifyCompleted(responses[i]);\r\n      }\r\n\r\n      return this;\r\n    });\r\n  }\r\n\r\n  private _parseResponsesFromBody(text: string): Response[] {\r\n    const responses: Response[] = [];\r\n\r\n    const header: string = '--batchresponse_';\r\n\r\n    // Ex. \"HTTP/1.1 500 Internal Server Error\"\r\n    const statusRegExp: RegExp = new RegExp('^HTTP/[0-9.]+ +([0-9]+) +(.*)', 'i');\r\n\r\n    const lines: string[] = text.split('\\n');\r\n\r\n    let parserState: string = 'batch';\r\n    let batchStatus: number;\r\n    let batchStatusText: string;\r\n\r\n    for (let i: number = 0; i < lines.length; ++i) {\r\n      const line: string = lines[i];\r\n      switch (parserState) {\r\n        case 'batch':\r\n          if (line.substr(0, header.length) === header) {\r\n            parserState = 'batchHeaders';\r\n          } else {\r\n            if (line.trim() !== '') {\r\n              throw new Error('ODataBatch: Invalid response, line ' + i);\r\n            }\r\n          }\r\n          break;\r\n        case 'batchHeaders':\r\n          if (line.trim() === '') {\r\n            parserState = 'status';\r\n          }\r\n          break;\r\n        case 'status':\r\n          // Ex. \"HTTP/1.1 500 Internal Server Error\"\r\n          const parts: string[] = statusRegExp.exec(line);\r\n          if (parts.length !== 3) {\r\n            throw new Error('ODataBatch: Invalid status, line ' + i);\r\n          }\r\n          // Ex. \"500\"\r\n          batchStatus = parseInt(parts[1], 10);\r\n          // Ex. \"Internal Server Error\"\r\n          batchStatusText = parts[2];\r\n          parserState = 'statusHeaders';\r\n          break;\r\n        case 'statusHeaders':\r\n          if (line.trim() === '') {\r\n            parserState = 'body';\r\n          }\r\n          break;\r\n        case 'body':\r\n          let response: Response;\r\n          if (batchStatus === 204) {\r\n            // https://github.com/whatwg/fetch/issues/178\r\n            response = new Response();\r\n          } else {\r\n            response = new Response(line, { status: batchStatus, statusText: batchStatusText });\r\n          }\r\n          responses.push(response);\r\n          parserState = 'batch';\r\n          break;\r\n      }\r\n    }\r\n    if (parserState !== 'status') {\r\n      throw new Error('ODataBatch: Unexpected end of input');\r\n    }\r\n\r\n    return responses;\r\n  }\r\n}\r\n\r\n/**\r\n * This interface is passed to the ODataBatch constructor.  It specifies options\r\n * that affect the entire batch.\r\n * @public\r\n */\r\nexport interface IODataBatchOptions {\r\n  /**\r\n   * ODataBatch will need to perform its POST to an endpoint such as\r\n   * \"http://example.com/sites/sample/_api/$batch\". Typically the SPWeb URL\r\n   * (\"https://example.com/sites/sample\" in this example) can be guessed by\r\n   * looking for a reserved URL segment such as \"_api\" in the first URL\r\n   * passed to fetch(), but if not, the webUrl can be explicitly specified\r\n   * using this option.\r\n   */\r\n  webUrl?: string;\r\n}\r\n\r\n/**\r\n * This interface defines the options for an individual REST request that\r\n * is part of an ODataBatch.  It is based on the WHATWG API standard\r\n * parameters that are documented here:\r\n * https://fetch.spec.whatwg.org/\r\n * @public\r\n */\r\nexport interface IODataBatchRequestOptions extends RequestInit {\r\n  // Reserved for future use\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/httpClient/ODataBatch.ts\n **/","/**\r\n * @copyright (c) Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nexport type ODataBatchedRequestResolveCallback = (value?: Response) => void;\r\n/* tslint:disable:no-any */\r\nexport type ODataBatchedRequestRejectCallback = (value?: any) => void;\r\n/* tslint:enable:no-any */\r\n\r\n/**\r\n * INTERNAL USAGE ONLY\r\n * This is a helper class used by ODataBatch to track the state of each\r\n * queued REST request.\r\n */\r\nexport default class ODataBatchedRequest {\r\n  public request: Request;\r\n  public response: Response;\r\n\r\n  public promise: Promise<Response>;\r\n\r\n  private _queuedPromiseResolves: ODataBatchedRequestResolveCallback[];\r\n  private _queuedPromiseRejects: ODataBatchedRequestRejectCallback[];\r\n\r\n  constructor(request: Request) {\r\n    this.request = request;\r\n\r\n    this.response = undefined;\r\n    this._queuedPromiseResolves = [];\r\n    this._queuedPromiseRejects = [];\r\n\r\n    // Create the promise for this request.\r\n    this.promise = new Promise<Response>(\r\n      /* tslint:disable:no-any */\r\n      (resolve: (value?: Response) => void, reject: (error?: any) => void) => {\r\n      /* tslint:enable:no-any */\r\n        if (this.response !== undefined) {\r\n          // If someone calls .then() after the promise is fulfilled, then\r\n          // immediately return the response\r\n          resolve(this.response);\r\n        } else {\r\n          // If someone calls .then() before the batch has executed or finished,\r\n          // we add them to a queue that will be fulfilled later.\r\n          this._queuedPromiseResolves.push(resolve);\r\n          this._queuedPromiseRejects.push(reject);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * The ODataBatch class calls this method while parsing the HTTP response for\r\n   * the batch.  If there are any queued promises, this will resolve or reject\r\n   * them as appropriate.\r\n   *\r\n   * NOTE: This function is only ever called once, because a BATCH can only\r\n   * be executed once.\r\n   */\r\n  public notifyCompleted(response: Response): void {\r\n    // Record the response\r\n    this.response = response;\r\n\r\n    // Fulfill the promises\r\n    if (response.ok) {\r\n      this._queuedPromiseResolves.forEach(\r\n        (callback: ODataBatchedRequestResolveCallback) => {\r\n          callback(this.response);\r\n        }\r\n      );\r\n    } else {\r\n      const error: Error = new Error('ODataBatch: Batched request failed');\r\n      this._queuedPromiseRejects.forEach(\r\n        (callback: ODataBatchedRequestRejectCallback) => {\r\n          callback(error);\r\n        }\r\n      );\r\n    }\r\n\r\n    this._queuedPromiseResolves = [];\r\n    this._queuedPromiseRejects = [];\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/httpClient/ODataBatchedRequest.ts\n **/","import ServiceScope from '../serviceScope/ServiceScope';\r\nimport ServiceKey from '../serviceScope/ServiceKey';\r\n\r\n/**\r\n * This interface allows unit tests to provide a deterministic\r\n * source of pseudorandom numbers.\r\n */\r\nexport interface IRandomProvider {\r\n  /**\r\n   * Returns a psuedorandom number between 0 (inclusive) and 1 (exclusive),\r\n   * following the contract of Math.random().\r\n   */\r\n  getRandom(): number;\r\n}\r\n\r\n/**\r\n * This is the default implementation of IRandomProvider that simply\r\n * calls Math.random().\r\n */\r\nexport default class RandomProvider implements IRandomProvider {\r\n  constructor(serviceScope: ServiceScope) {\r\n    // (this constructor is currently unused, but it is required by the\r\n    // ServiceKey.create() contract)\r\n  }\r\n\r\n  public getRandom(): number {\r\n    return Math.random();\r\n  }\r\n}\r\n\r\nexport const randomProviderServiceKey: ServiceKey<IRandomProvider>\r\n  = ServiceKey.create<IRandomProvider>('sp-client-base:RandomProvider', RandomProvider);\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/common/RandomProvider.ts\n **/","import IDigestCache from './IDigestCache';\r\n\r\n/**\r\n * NOT PUBLIC.  This class contains some internal code shared between HttpClient\r\n * and OdataBatch.\r\n */\r\nexport default class HttpClientCommon {\r\n\r\n  public static constructDefaultHeaders(options: RequestInit): Headers {\r\n    const headers: Headers = new Headers();\r\n\r\n    // HttpClient is OData 4.0 by default.  ODataBatch is always 4.0.\r\n    let odataVersion: string = '4.0';\r\n\r\n    // Copy over the existing headers\r\n    if (options.headers) {\r\n      const temp: Request = new Request('', { headers: options.headers });\r\n      temp.headers.forEach((value: string, name: string) => {\r\n        headers.append(name, value); // note name/value are reversed\r\n        if (name.toUpperCase() === 'ODATA-VERSION') {\r\n          odataVersion = value.trim();\r\n        }\r\n      });\r\n    }\r\n\r\n    // Add some default headers that people should specify for any REST query,\r\n    // assuming it's not missing\r\n    if (options.method.toUpperCase() !== 'GET') {\r\n      if (!headers.has('Content-Type')) {\r\n        // Assume our POST data is in JSON format unless otherwise specified.\r\n        // Also explicitly specify utf-8 (the default).\r\n        if (odataVersion === '3.0') {\r\n          headers.append('Content-Type', 'application/json;odata=verbose;charset=utf-8');\r\n        } else {\r\n          headers.append('Content-Type', 'application/json;charset=utf-8');\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!headers.has('Accept')) {\r\n      if (odataVersion === '4.0') {\r\n        // Request for the ODATA response to be 'minimal' (the default).  The guidance:\r\n        // \"If a client prefers a very small wire size and is intelligent enough to\r\n        // compute data using metadata expressions, the Accept header should include\r\n        // odata.metadata=minimal. If compute is more expensive than wire size or the\r\n        // client is incapable of computing control information, odata.metadata=full\r\n        // directs the service to inline the control information that normally would be\r\n        // computed from metadata expressions in the payload. odata.metadata=none is an\r\n        // option for clients that have out-of-band knowledge or don't require control\r\n        // information.\"\r\n        // http://docs.oasis-open.org/odata/odata-json-format/v4.0/os/odata-json-format-v4.0-os.html\r\n        headers.append('Accept', 'application/json;odata.metadata=minimal');\r\n      } else {\r\n        headers.append('Accept', 'application/json');\r\n      }\r\n    }\r\n\r\n    return headers;\r\n  }\r\n\r\n  /**\r\n   * For both HttpClient and ODataBatch, we fetch a digest and then use it to\r\n   * to make a REST call.  If the REST fails in a way that the digest is invalid,\r\n   * we need to discard the bad digest.  This function is the common implementation\r\n   * of that logic, in case we need to add special cases in the future.\r\n   *\r\n   * @param promise       - the promise returned by IFetchProvider.fetch()\r\n   * @param webUrl        - the cache key to clear\r\n   * @param digestCache   - the cache\r\n   * @returns             - the promise after this logic is applied\r\n   */\r\n  public static handleAuthenticationErrors(promise: Promise<Response>, webUrl: string, digestCache: IDigestCache):\r\n    Promise<Response> {\r\n\r\n    return promise.then((response: Response): Response => {\r\n      // If the response is 403, this could be because our digest was invalidated\r\n      // before its natural expiration time.  In this case, we should clear the\r\n      // cache so that next time we will fetch a new digest.\r\n      if (response.status === 403) {\r\n        digestCache.clearDigest(webUrl);\r\n      }\r\n      return response;\r\n    });\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/httpClient/HttpClientCommon.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\n/**\r\n * NOT FOR USE BY THIRD PARTY DEVELOPERS\r\n *\r\n * This class supports Microsoft's internal deployment workflow.\r\n * For more information, see https://microsoft.sharepoint.com/teams/odsp/_layouts/OneNote.aspx\r\n * ?id=/teams/odsp/Shared%20Documents/MI-6%20Team/MI-6%20Team/Global/SPO%20Flighting\r\n */\r\nexport default class SPFlight {\r\n\r\n  private static _enabledFlights: number[] = [];\r\n\r\n  /**\r\n   * RESERVED FOR INTERNAL USAGE.  This method is invoked automatically by the system shell.\r\n   * The application code should not call it directly.\r\n   */\r\n  public static initialize(flights: number[]): void {\r\n    this._enabledFlights = flights || [];\r\n  }\r\n\r\n  /**\r\n   * NOT FOR USE BY THIRD PARTY DEVELOPERS\r\n   *\r\n   * This function will determine if a flight is enabled in the global list.\r\n   */\r\n  public static isEnabled(flight: number): boolean {\r\n    if (!flight || flight < 0) {\r\n      return false;\r\n    }\r\n\r\n    // Determines which set of bitMasks should be used to determine if a flight is enabled.\r\n    /* tslint:disable:no-bitwise */\r\n    const enabledFlightsIndex: number = flight >> 5;\r\n    if (enabledFlightsIndex < 0 || enabledFlightsIndex >= this._enabledFlights.length) {\r\n        return false;\r\n    }\r\n\r\n    // Masks the flight number and determines if the flight is turned on within that mask.\r\n    const bitMask: number = 1 << (flight & 31);\r\n    return (this._enabledFlights[enabledFlightsIndex] & bitMask) !== 0;\r\n    /* tslint:enable:no-bitwise */\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/flight/SPFlight.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport Guid from '../guid/Guid';\r\n\r\n/**\r\n * NOT FOR USE BY THIRD PARTY DEVELOPERS\r\n *\r\n * This class supports Microsoft's internal deployment workflow.\r\n * For more information, see http://aka.ms/killswitch\r\n */\r\nexport default class SPKillSwitch {\r\n\r\n  private static _activatedKillSwitches: Map<string, boolean> = new Map<string, boolean>();\r\n\r\n  /**\r\n   * RESERVED FOR INTERNAL USAGE.  This method is invoked automatically by the system shell.\r\n   * The application code should not call it directly.\r\n   */\r\n  /* tslint:disable:any */\r\n  public static initialize(killSwitchGuids: { [key: string]: boolean }): void {\r\n  /* tslint:enable:any */\r\n    this._activatedKillSwitches = new Map<string, boolean>();\r\n    if (killSwitchGuids) {\r\n      for (const killSwitchGuid of Object.keys(killSwitchGuids)) {\r\n        const normalizedKillSwitchGuid: Guid = Guid.tryParse(killSwitchGuid);\r\n        if (normalizedKillSwitchGuid) {\r\n          this._activatedKillSwitches.set(normalizedKillSwitchGuid.toString(), true);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * NOT FOR USE BY THIRD PARTY DEVELOPERS\r\n   *\r\n   * This function will determine if a flight exists in the global list. The second and third\r\n   * parameter are used to make the graduation (remove the if else check) easier in the future,\r\n   * thus preferably have them inline, instead\r\n   */\r\n  public static isActivated(killSwitchGuid: Guid, date: string, featureName: string): boolean {\r\n    if (!killSwitchGuid) {\r\n      return false;\r\n    }\r\n    return this._activatedKillSwitches.get(killSwitchGuid.toString());\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/killSwitch/SPKillSwitch.ts\n **/","import ServiceKey from './ServiceKey';\r\n\r\n/**\r\n * ServiceScope provides a formalized way for components to register and consume dependencies\r\n * (\"services\"), and to enable different implementations to be registered in different scopes.\r\n * This improves modularity by decoupling components from their dependencies in an extensible way.\r\n *\r\n * For example, suppose that various components need access to an IPageManager instance.  We could\r\n * simply make the PageManager a singleton (i.e. global variable), but this will not work e.g. if\r\n * we need to create a pop-up dialog that requires a second PageManager instance.  A better solution\r\n * would be to add the PageManager as a constructor parameter for each component that requires it,\r\n * however then we immediately face the problem that any code that calls these constructors\r\n * also needs a PageManager parameter.  In an application with many such dependencies, business\r\n * logic that ties together many subsystems would eventually pick up a constructor parameter\r\n * for every possible dependency, which is unwieldy.  A natural solution would be to move all the\r\n * dependencies into a class with name like \"ApplicationContext\", and then pass this around as our\r\n * constructor parameter.  This enables the PageManager to be passed to classes that need it\r\n * without cluttering the intermediary classes that don't.  However, it still has a design problem\r\n * that \"ApplicationContext\" has hard-coded dependencies on many unrelated things.  A more flexible\r\n * approach is to make it a dictionary that can look up items for consumers/providers who know the\r\n * right lookup key (i.e. ServiceKey).  This is the popular \"service locator\" design pattern,\r\n * familiar from the SPContext API in classic SharePoint.\r\n *\r\n * ServiceScope takes this idea a step further in two important ways:  First, it provides a scoping\r\n * mechanism so that e.g. if we had two different pages, they could each consume a unique PageManager\r\n * instance while still sharing other common dependencies.  Secondly, it allows for a ServiceKey\r\n * to provide a default implementation of the dependency.  This is important for API stability in\r\n * our modular client-side environment:  For example, suppose that version 2.0 of our application\r\n * introduced a new IDiagnosticTracing interface that a version 2.0 component will expect to consume.\r\n * If the version 2.0 component gets loaded by an older 1.0 application, it would fail.  We could\r\n * fix this by requiring each consumer to check for any missing dependencies and handle that case,\r\n * but it would require a lot of checks.  A better solution is to ensure that a default implementation\r\n * always exists, perhaps just a trivial behavior, so that components don't have to worry about it.\r\n *\r\n * Usage: ServiceScope instances are created by calling either ServiceScope.startNewRoot() or\r\n * ServiceScope.startNewChild().  They are initially in an \"unfinished\" state, during which provide()\r\n * can be called to register service keys, but consume() is forbidden.  After ServiceScope.finish()\r\n * is called, consume() is allowed and provide() is now forbidden.  These semantics ensure that\r\n * ServiceScope.consume() always returns the same result for the same key, and does not depend on\r\n * order of initialization.  It also allows us to support circular dependencies without worrying\r\n * about infinite loops, even when working with external components that were implemented by\r\n * third parties.  To avoid mistakes, it's best to always call consume() inside a callback from\r\n * serviceScope.whenFinished().\r\n * @public\r\n */\r\nexport default class ServiceScope {\r\n  private _parent: ServiceScope;\r\n  private _registrations: {\r\n    /* tslint:disable:no-any */\r\n    [keyId: string]: IRegistration<any>\r\n    /* tslint:enable:no-any */\r\n  };\r\n  private _pendingCallbacks: Array<() => void>;\r\n  private _finished: boolean;\r\n  private _autocreating: boolean;\r\n\r\n  /**\r\n   * Create a new root-level ServiceScope.  Only root-level scopes have the ability to autocreate\r\n   * default implementations of ServiceKeys.\r\n   * @returns - the newly created root ServiceScope\r\n   */\r\n  public static startNewRoot(): ServiceScope {\r\n    return new ServiceScope(undefined);\r\n  }\r\n\r\n  /**\r\n   * PRIVATE CONSTRUCTOR - DO NOT CALL THIS FROM YOUR OWN CODE.\r\n   */\r\n  constructor(parent: ServiceScope) {\r\n    this._parent = parent;\r\n    this._registrations = {};\r\n    this._pendingCallbacks = [];\r\n    this._finished = false;\r\n    this._autocreating = false;\r\n  }\r\n\r\n  /**\r\n   * This is a shorthand function that its equivalent to constructing a new instance of the\r\n   * simpleServiceClass, then registering it by calling ServiceScope.provide().\r\n   * @param serviceKey - the key that can be used later to consume the service\r\n   * @param simpleServiceClass - the TypeScript class to be constructed\r\n   * @returns - a newly constructed instance of simpleServiceClass\r\n   */\r\n  public createAndProvide<T>(\r\n    serviceKey: ServiceKey<T>,\r\n    simpleServiceClass: { new (serviceScope: ServiceScope); }\r\n  ): T {\r\n    return this.provide(serviceKey, new simpleServiceClass(this));\r\n  }\r\n\r\n  /**\r\n   * This is a shorthand function that constructs the default implementation of the specified\r\n   * serviceKey, and then registers it by calling ServiceScope.provide().\r\n   * @param serviceKey - the key that can be used later to consume the service\r\n   * @returns - a service instance that was constructed using ServiceKey.defaultCreator\r\n   */\r\n  public createDefaultAndProvide<T>(serviceKey: ServiceKey<T>): T {\r\n    const service: T = serviceKey.defaultCreator(this);\r\n    return this.provide(serviceKey, service);\r\n  }\r\n\r\n  /**\r\n   * Components should call this function to \"consume\" a dependency, i.e. look up the serviceKey\r\n   * and return the registered service instance.  If the instance cannot be found, then a default\r\n   * instance will be autocreated and registered with the root ServiceScope.\r\n   * @param serviceKey - the key that was used when provide() was called to register the service\r\n   * @returns - the service instance\r\n   */\r\n  public consume<T>(serviceKey: ServiceKey<T>): T {\r\n    if (!this._finished) {\r\n      throw new Error('Cannot consume services because the scope is not finished yet');\r\n    }\r\n    if (this._autocreating) {\r\n      throw new Error('Cannot consume services during autocreation');\r\n    }\r\n\r\n    const registration: IRegistration<T> = this._registrations[serviceKey.id];\r\n    if (registration) {\r\n      return registration.service;\r\n    }\r\n    if (this._parent) {\r\n      return this._parent.consume<T>(serviceKey);\r\n    }\r\n\r\n    // We've reached the root scope without finding the service.  Construct a default instance\r\n    let autocreatedService: T;\r\n    this._autocreating = true;\r\n    try {\r\n      autocreatedService = serviceKey.defaultCreator(this);\r\n      this._registrations[serviceKey.id] = { serviceKey, service: autocreatedService };\r\n    }\r\n    finally {\r\n      this._autocreating = false;\r\n    }\r\n    this._processPendingCallbacks();\r\n    return autocreatedService;\r\n  }\r\n\r\n  /**\r\n   * When a ServiceScope is first started, it is in an \"unfinished\" state where provide() is\r\n   * allowed but consume() is not allowed.  After calling finish(), then consume() is allowed\r\n   * but provide() is not allowed.  This formalism completely eliminates a number of tricky bugs\r\n   * such as:  Scope2 is a child of Scope1, and Scope1 provides instance A1 of interface A;\r\n   * if someone consumes A1 from Scope2 (via inheritance) before Scope2.provide() is called\r\n   * with A2, then a subsequent call to Scope2.consume() might return a different result than\r\n   * the previous call, which would be very confusing for developers.\r\n   */\r\n  public finish(): void {\r\n    if (this._finished) {\r\n      throw new Error('Already finished');\r\n    }\r\n    this._finished = true;\r\n    this._processPendingCallbacks();\r\n  }\r\n\r\n  /**\r\n   * Returns the parent of the current ServiceScope, or undefined if this is a root scope.\r\n   * @returns - the parent service scope\r\n   */\r\n  public getParent(): ServiceScope {\r\n    return this._parent;\r\n  }\r\n\r\n  /**\r\n   * It is an error to call ServiceScope.consume() before finish() has been called.\r\n   * The most reliable way to protect your component against this error is to perform the\r\n   * consume() calls inside a whenFinished() callback.  If the service scope is already\r\n   * finished, then the callback will be executed immediately; otherwise, it will be executed\r\n   * later when the scope is finished.\r\n   * @param callback - A block of code that needs to call ServiceScope.consume()\r\n   */\r\n  public whenFinished(callback: () => void): void {\r\n    if (this._finished && !this._autocreating) {\r\n      callback();\r\n    } else {\r\n      this._pendingCallbacks.push(callback);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ServiceScope.provide() is used to register an implemententation of the given serviceKey\r\n   * for the current scope.  It may only be used when the ServiceScope is in an \"unfinished\"\r\n   * state, i.e. before finish() has been called.\r\n   * @param serviceKey - the key that will later be used to consume the service\r\n   * @param service - the service instance that is being registered\r\n   * @returns - the same object that was passed as the \"service\" parameter\r\n   */\r\n  public provide<T>(serviceKey: ServiceKey<T>, service: T): T {\r\n    if (this._finished) {\r\n      throw new Error('Cannot register service because the scope is already finished');\r\n    }\r\n    if (this._registrations[serviceKey.id]) {\r\n      throw new Error('The specified service key has already been registered in this scope');\r\n    }\r\n\r\n    this._registrations[serviceKey.id] = { serviceKey, service };\r\n    return service;\r\n  }\r\n\r\n  /**\r\n   * Constructs a new ServiceScope that is a child of the current scope.  For any keys\r\n   * that are not explicitly provided by the child scope, the parent hierarchy will be\r\n   * consulted.\r\n   * @returns - the newly created root ServiceScope\r\n   */\r\n  public startNewChild(): ServiceScope {\r\n    return new ServiceScope(this);\r\n  }\r\n\r\n  private _processPendingCallbacks(): void {\r\n    const pendingCallbacks: Array<() => void> = this._pendingCallbacks;\r\n    this._pendingCallbacks = [];\r\n    for (const pendingCallback of pendingCallbacks) {\r\n      pendingCallback();\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * This is a convenient interface that can be used to indicate that an object\r\n * has an associated ServiceScope.\r\n * @public\r\n */\r\nexport interface IServiceScopeProvider {\r\n  /**\r\n   * Returns a ServiceScope instance that can be used to obtain dependencies\r\n   * for the current context.\r\n   * @readonly\r\n   */\r\n  serviceScope: ServiceScope;\r\n}\r\n\r\ninterface IRegistration<T> {\r\n  serviceKey: ServiceKey<T>;\r\n  service: T;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/serviceScope/ServiceScope.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * This class contains various comparison utilities.\r\n *\r\n * @public\r\n */\r\n\r\nexport default class Compare {\r\n\r\n  /**\r\n   * Performs shallow comparison between two objects to determine if they are equal. This method compares\r\n   * only object types.\r\n   *\r\n   * @param objA - the first object to compare.\r\n   * @param objB - the second object to compare.\r\n   *\r\n   */\r\n  public static shallowCompare(objA: Object, objB: Object): boolean {\r\n\r\n    // Test if they are the same object or both are null/undefined.\r\n    if (objA === objB) {\r\n      return true;\r\n    }\r\n\r\n    // Test if they are the correct type. Only object types are compared.\r\n    if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\r\n      return false;\r\n    }\r\n\r\n    const keysA: string[] = Object.keys(objA);\r\n    const keysB: string[] = Object.keys(objB);\r\n\r\n    // Test if they have the same number of keys. Else, they cannot be same.\r\n    const keyLength: number = keysA.length;\r\n    if (keyLength !== keysB.length) {\r\n      return false;\r\n    }\r\n\r\n    // Test for A's keys different from B.\r\n    const bHasOwnProperty: Function = Object.prototype.hasOwnProperty.bind(objB);\r\n    for (let i: number = 0; i < keyLength; i++) {\r\n\r\n      const key: string = keysA[i];\r\n      if (!bHasOwnProperty(key)) {\r\n        return false;\r\n      }\r\n\r\n      /* tslint:disable:no-any */\r\n      const valueA: any = objA[key];\r\n      const valueB: any = objB[key];\r\n      /* tslint:enable:no-any */\r\n\r\n      // Test if the values are same.\r\n      if (valueA !== valueB) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/common/Compare.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n */\r\n\r\ninterface IKeyValuePair {\r\n  key: string;\r\n  value: string;\r\n}\r\n\r\n/**\r\n * Class for storing and retrieving query parameters.\r\n * The URL can be server-relative and it will parse empty/null strings.\r\n * The query parameters must start with ? to indicate the first query parameter and\r\n * use & for all subsequent parameters. The class also supports fragments.\r\n * Edge cases behavior:\r\n * Empty value (www.example.com/?test=) stores key and empty value\r\n * No equals in queryParam (www.example.com/?test) stores key and undefined value\r\n * Empty queryParam (www.example.com/?&debug=on) stores undefined key and value\r\n * Query param with only equals (www.example.com/?=&debug=on stores empty string key and value\r\n * @public\r\n */\r\nexport default class UrlQueryParameterCollection {\r\n  private _queryParameterList: IKeyValuePair[];\r\n  constructor(url: string) {\r\n    this._queryParameterList = this._getUrlQueryParameterArray(url);\r\n  }\r\n\r\n  /**\r\n   * Returns the value of the first matching query parameter or undefined if the key doesn't exist.\r\n   * Examples: this._queryParameterList = [\r\n   * {key: TEST, value: done},\r\n   * {key: DEBUG, value: false},\r\n   * {key: TEST, value: notdone}]\r\n   *   getValue('TEST') ---> 'done'\r\n   *   getValue('debug')  ---> 'false'\r\n   *   getValue('lost')  ---> undefined\r\n   * @param param the case insensitive key for the desired query parameter value.\r\n   */\r\n  public getValue(param: string): string {\r\n    for (const queryParam of this._queryParameterList) {\r\n      if (param === undefined) {\r\n        if (queryParam.key === undefined) {\r\n          return queryParam.value;\r\n        }\r\n        continue;\r\n      } else if (param.toUpperCase() === queryParam.key) {\r\n        return queryParam.value;\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * Returns the values of all of the matching query parameters or undefined if the key doesn't exist.\r\n   * Examples: this._queryParameterList = [\r\n   * {key: TEST, value: done},\r\n   * {key: DEBUG, value: false},\r\n   * {key: TEST, value: notdone}]\r\n   *   getValues('TEST') ---> ['done', 'notdone']\r\n   *   getValues('debug')  ---> ['false']\r\n   *   getValues('lost')  ---> undefined\r\n   * @param param the case insensitive key for the desired query parameter value.\r\n   */\r\n  public getValues(param: string): string[] {\r\n    const queryParams: string[] = [];\r\n    for (const queryParam of this._queryParameterList) {\r\n      if (param === undefined) {\r\n        if (queryParam.key === undefined) {\r\n          queryParams.push(queryParam.value);\r\n        }\r\n        continue;\r\n      } else if (param.toUpperCase() === queryParam.key) {\r\n        queryParams.push(queryParam.value);\r\n      }\r\n    }\r\n    return queryParams.length > 0 ? queryParams : undefined;\r\n  }\r\n\r\n  private _getUrlQueryParameterArray(url: string): IKeyValuePair[] {\r\n    const queryParameterList: IKeyValuePair[] = [];\r\n    const urlParser: HTMLAnchorElement = document.createElement('a');\r\n    urlParser.href = url;\r\n    const queryParams: string[] = urlParser.search.substring(1).split('&');\r\n    for (const queryParam of queryParams) {\r\n      if (queryParam !== '') {\r\n        const equalsIndex: number = queryParam.indexOf('=');\r\n        let key: string;\r\n        let value: string;\r\n\r\n        if (equalsIndex < 0) {\r\n          key = queryParam;\r\n          value = undefined;\r\n        } else if (equalsIndex === 0) {\r\n          key = '';\r\n          value = queryParam.length === 1 ? '' : queryParam.substring(1);\r\n        } else {\r\n          key = queryParam.substring(0, equalsIndex);\r\n          value =\r\n            queryParam.substring(equalsIndex).length === 1 ?\r\n              '' :\r\n              queryParam.substring(equalsIndex + 1);\r\n        }\r\n        queryParameterList.push({\r\n          key: decodeURIComponent(key.toUpperCase()),\r\n          value: value\r\n        });\r\n      } else {\r\n        queryParameterList.push({\r\n          key: undefined,\r\n          value: undefined\r\n        });\r\n      }\r\n    }\r\n    return queryParameterList;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/common/UrlQueryParameterCollection.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n */\r\n\r\n/**\r\n * DisplayMode indicates the mode in which a page and/or its contents (e.g. text and web parts) are dislayed.\r\n *\r\n * @public\r\n */\r\nenum DisplayMode {\r\n\r\n    /*\r\n     * In this mode, the page and its contents are displayed in a way they are intended to be displayed\r\n     * to readers of the page. Most of the page content is not expected to be interactive. e.g. the text\r\n     * will be read only, most web parts are expected to show up non instractive mode. Users should not be\r\n     * able to add new text, add new web parts, configure web parts. That said, some types of content may\r\n     * have interactive behavior e.g. A voting or a form web part.\r\n     */\r\n    Read = 1,\r\n\r\n    /*\r\n     * In this mode, the page and its contents are displayed in a way they are intended to be displayed to\r\n     * authors of the page. Only specific users will have author rights on the page. In this mode the users\r\n     * are expected to be able to add new content to the page and configure existing content. e.g. users\r\n     * should be able to add text blocks, add new web parts, configure web parts. \"DesignMode\" is an alternate\r\n     * term used to represent this state of a page.\r\n     */\r\n    Edit = 2\r\n}\r\n\r\nexport default DisplayMode;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/common/DisplayMode.ts\n **/","import SPKillSwitch from '../killSwitch/SPKillSwitch';\r\nimport Guid from '../guid/Guid';\r\n\r\nconst sha256: (ascii: string) => string = require('tiny-sha256');\r\n\r\n/**\r\n  * The class provides a utilitiy to validate url of any user-provided asset, and replace it with\r\n  * public CDN url if it appears to be located in the SharePoint library which was designated\r\n  * by the tenant admin to serve as a CDN origin.\r\n  */\r\nexport default class SPCdnUrlProvider {\r\n\r\n  /**\r\n   * Host name of the Akamai public CDN location.\r\n   * The location is fixed and will not change (unless we chose to make massive changes\r\n   * to Akamai configuration and DNS lookup).\r\n   */\r\n  private static _cdnHostName: string = 'publiccdn.sharepointonline.com';\r\n\r\n  /**\r\n   * List of the hashes of the designated CDN origins, as configured by the tenant admin.\r\n   */\r\n  private static _cdnOriginList: string[] = [];\r\n\r\n  /**\r\n   * Anchor element used to resolve absolute url of in the context of the page.\r\n   */\r\n  private static _urlParserLink: HTMLAnchorElement = document.createElement('a');\r\n\r\n  /**\r\n   * @internal RESERVED FOR INTERNAL USAGE.  This method is invoked automatically by the system shell.\r\n   * The application code should not call it directly.\r\n   */\r\n  public static initialize(cdnOriginList: string[]): void {\r\n    this._cdnOriginList = cdnOriginList;\r\n  }\r\n\r\n  /**\r\n   * This is the default implementation of ISpCdnUrlProvider that performs conversion\r\n   * of the SharePoint asset url into CDN url, if the original assets location is\r\n   * designated by the tenant admin to serve as a CDN origin.\r\n   */\r\n  public static getCdnUrlIfEnabled(url: string): string {\r\n\r\n    if (!this._cdnOriginList || !url) {\r\n      // No Origin configuration is available; defaulting to the original location\r\n      return url;\r\n    }\r\n\r\n    // Extend the passed url to the absolute path using HTMLAnchor element\r\n    this._urlParserLink.href = url;\r\n\r\n    // Convert to absolute URL if relative URL is provided and encode to match the form \r\n    // which is used in SPOREL to compute the origin hash.\r\n    const urlToMatch: string = encodeURI(this._urlParserLink.href);\r\n\r\n    // Enumerate through a list of tenant-provided origins, and see if either of them matches \r\n    // the asset url. Return public CDN url if the match is found. \r\n    for (const originHash of this._cdnOriginList) {\r\n      if (!originHash) {\r\n        continue;\r\n      }\r\n\r\n      // The origin hash consists of four section:\r\n      // version (1 byte), signature (3 bytes), length of the hashed url (4 bytes), and the hash (64 bytes)\r\n      if (originHash.length !== 1 + 3 + 4 + 64) {\r\n        continue;\r\n      }\r\n\r\n      // Parse the origin hash and extract there length of the original admin-provided URL and it's hash value\r\n      const originLen: number = +originHash.substr(4, 4);\r\n      const originSha256: string = originHash.substr(8);\r\n\r\n      // Check whether hash of the prefix of the asset url matches with the hash value provided\r\n      // Upper case conversion is used to match SPOREL algorithm \r\n      if (urlToMatch.length >= originLen &&\r\n        sha256(urlToMatch.substr(0, originLen).toUpperCase()) === originSha256) {\r\n\r\n        const itemSubPath: string = urlToMatch.substr(originLen);\r\n\r\n        // Skip cases when folder name happens to start from the valid name of the origin.\r\n        // Whatever is coming after the hash must start with a slash.\r\n        if (itemSubPath.length === 0 || itemSubPath.charAt(0) !== '/') {\r\n          continue;\r\n        }\r\n\r\n        let itemCdnUrl: string = `${window.location.protocol}//${this._cdnHostName}` +\r\n                             `/${window.location.host}/${originHash}${itemSubPath}`;\r\n\r\n        // Check for the killswitch E75E76DC-397E-4938-B281-F5C776425B6D, which indicates that the code is running \r\n        // against a test environment and g2o authentication validation is disabled.\r\n        // This is handy when testing against any deployment which cannot be accessed via public IP\r\n        // and hence cannot be accessed from Akamai edge servers.\r\n        if (DEBUG) {\r\n          // Due to the DEBUG flag, this code will be optimized out in the ship, hence the GUID will not be exposed  \r\n          if (SPKillSwitch.isActivated(\r\n            Guid.tryParse('{E75E76DC-397E-4938-B281-F5C776425B6D}'), 'defined in SPOREL', 'defined in SPOREL')) {\r\n              itemCdnUrl = `${window.location.origin}/_vti_bin/publiccdn.ashx/item/${originHash}${itemSubPath}`;\r\n          }\r\n        }\r\n\r\n        return itemCdnUrl;\r\n      }\r\n    }\r\n\r\n    // return original url is no matches were found in the origins list\r\n    return url;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/common/SPCdnUrlProvider.ts\n **/","(function (global, factory) {\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\tdefine([], factory);\r\n\t} else if (typeof module !== 'undefined' && module.exports){\r\n\t\tmodule.exports = factory();\r\n\t} else {\r\n\t\tglobal.sha256 = factory();\r\n\t}\r\n})(this, function () {\r\n\r\nvar sha256 = function sha256(ascii) {\r\n\tfunction rightRotate(value, amount) {\r\n\t\treturn (value>>>amount) | (value<<(32 - amount));\r\n\t};\r\n\t\r\n\tvar mathPow = Math.pow;\r\n\tvar maxWord = mathPow(2, 32);\r\n\tvar lengthProperty = 'length';\r\n\tvar i, j; // Used as a counter across the whole file\r\n\tvar result = '';\r\n\r\n\tvar words = [];\r\n\tvar asciiBitLength = ascii[lengthProperty]*8;\r\n\t\r\n\t//* caching results is optional - remove/add slash from front of this line to toggle\r\n\t// Initial hash value: first 32 bits of the fractional parts of the square roots of the first 8 primes\r\n\t// (we actually calculate the first 64, but extra values are just ignored)\r\n\tvar hash = sha256.h = sha256.h || [];\r\n\t// Round constants: first 32 bits of the fractional parts of the cube roots of the first 64 primes\r\n\tvar k = sha256.k = sha256.k || [];\r\n\tvar primeCounter = k[lengthProperty];\r\n\t/*/\r\n\tvar hash = [], k = [];\r\n\tvar primeCounter = 0;\r\n\t//*/\r\n\r\n\tvar isComposite = {};\r\n\tfor (var candidate = 2; primeCounter < 64; candidate++) {\r\n\t\tif (!isComposite[candidate]) {\r\n\t\t\tfor (i = 0; i < 313; i += candidate) {\r\n\t\t\t\tisComposite[i] = candidate;\r\n\t\t\t}\r\n\t\t\thash[primeCounter] = (mathPow(candidate, .5)*maxWord)|0;\r\n\t\t\tk[primeCounter++] = (mathPow(candidate, 1/3)*maxWord)|0;\r\n\t\t}\r\n\t}\r\n\t\r\n\tascii += '\\x80'; // Append '1' bit (plus zero padding)\r\n\twhile (ascii[lengthProperty]%64 - 56) ascii += '\\x00'; // More zero padding\r\n\tfor (i = 0; i < ascii[lengthProperty]; i++) {\r\n\t\tj = ascii.charCodeAt(i);\r\n\t\tif (j>>8) return; // ASCII check: only accept characters in range 0-255\r\n\t\twords[i>>2] |= j << ((3 - i)%4)*8;\r\n\t}\r\n\twords[words[lengthProperty]] = ((asciiBitLength/maxWord)|0);\r\n\twords[words[lengthProperty]] = (asciiBitLength)\r\n\t\r\n\t// process each chunk\r\n\tfor (j = 0; j < words[lengthProperty];) {\r\n\t\tvar w = words.slice(j, j += 16); // The message is expanded into 64 words as part of the iteration\r\n\t\tvar oldHash = hash;\r\n\t\t// This is now the \"working hash\", often labelled as variables a...g\r\n\t\t// (we have to truncate as well, otherwise extra entries at the end accumulate\r\n\t\thash = hash.slice(0, 8);\r\n\t\t\r\n\t\tfor (i = 0; i < 64; i++) {\r\n\t\t\tvar i2 = i + j;\r\n\t\t\t// Expand the message into 64 words\r\n\t\t\t// Used below if \r\n\t\t\tvar w15 = w[i - 15], w2 = w[i - 2];\r\n\r\n\t\t\t// Iterate\r\n\t\t\tvar a = hash[0], e = hash[4];\r\n\t\t\tvar temp1 = hash[7]\r\n\t\t\t\t+ (rightRotate(e, 6) ^ rightRotate(e, 11) ^ rightRotate(e, 25)) // S1\r\n\t\t\t\t+ ((e&hash[5])^((~e)&hash[6])) // ch\r\n\t\t\t\t+ k[i]\r\n\t\t\t\t// Expand the message schedule if needed\r\n\t\t\t\t+ (w[i] = (i < 16) ? w[i] : (\r\n\t\t\t\t\t\tw[i - 16]\r\n\t\t\t\t\t\t+ (rightRotate(w15, 7) ^ rightRotate(w15, 18) ^ (w15>>>3)) // s0\r\n\t\t\t\t\t\t+ w[i - 7]\r\n\t\t\t\t\t\t+ (rightRotate(w2, 17) ^ rightRotate(w2, 19) ^ (w2>>>10)) // s1\r\n\t\t\t\t\t)|0\r\n\t\t\t\t);\r\n\t\t\t// This is only used once, so *could* be moved below, but it only saves 4 bytes and makes things unreadble\r\n\t\t\tvar temp2 = (rightRotate(a, 2) ^ rightRotate(a, 13) ^ rightRotate(a, 22)) // S0\r\n\t\t\t\t+ ((a&hash[1])^(a&hash[2])^(hash[1]&hash[2])); // maj\r\n\t\t\t\r\n\t\t\thash = [(temp1 + temp2)|0].concat(hash); // We don't bother trimming off the extra ones, they're harmless as long as we're truncating when we do the slice()\r\n\t\t\thash[4] = (hash[4] + temp1)|0;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i = 0; i < 8; i++) {\r\n\t\t\thash[i] = (hash[i] + oldHash[i])|0;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfor (i = 0; i < 8; i++) {\r\n\t\tfor (j = 3; j + 1; j--) {\r\n\t\t\tvar b = (hash[i]>>(j*8))&255;\r\n\t\t\tresult += ((b < 16) ? 0 : '') + b.toString(16);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n};\r\n\r\n\r\nsha256.code = \"var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h=\\\"length\\\",i=\\\"\\\",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+=\\\"\\\\x80\\\";b[h]%64-56;)b+=\\\"\\\\x00\\\";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:\\\"\\\")+y.toString(16)}return i};\";\r\n\r\nreturn sha256;\r\n\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/agent/2/_work/193/s/common/~/tiny-sha256/index.js\n ** module id = 103\n ** module chunks = 0\n **/","import { IODataBasePermission } from '../odataTypes/IODataBasePermission';\r\n/**\r\n * This class can be used to determine if the current user has a requested set of permissions.\r\n * Specifies the built-in permissions available in SharePoint Foundation\r\n * Derived from OneDriveWeb/ODBNext/odsp-shared\r\n * https://msdn.microsoft.com/en-us/library/microsoft.sharepoint.spbasepermissions.aspx\r\n * @public\r\n */\r\nexport default class SPPermission {\r\n\r\n  // TODO Task 164817 Change public static getters to readonly (TypeScript 2.0)\r\n  /**\r\n   * Has no permissions on the Web site. Not available through the user interface.\r\n   */\r\n  public static get emptyMask(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x0 }); }\r\n\r\n  // list/document perms  =0x000000000000XXXX\r\n  /**\r\n   * View items in lists, documents in document libraries, and view Web discussion comments.\r\n   */\r\n  public static get viewListItems(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x1 }); }\r\n\r\n  /**\r\n   * Add items to lists, add documents to document libraries, and add Web discussion comments.\r\n   */\r\n  public static get addListItems(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x2 }); }\r\n\r\n  /**\r\n   * Edit items in lists, edit documents in document libraries, edit Web discussion comments in documents,\r\n   * and customize web part Pages in document libraries.\r\n   */\r\n  public static get editListItems(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x4 }); }\r\n\r\n  /**\r\n   * Delete items from a list, documents from a document library, and Web discussion comments in documents.\r\n   */\r\n  public static get deleteListItems(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x8 }); }\r\n\r\n  /**\r\n   * Approve a minor version of a list item or document.\r\n   */\r\n  public static get approveItems(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x10 }); }\r\n\r\n  /**\r\n   * View the source of documents with server-side file handlers.\r\n   */\r\n  public static get openItems(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x20 }); }\r\n\r\n  /**\r\n   * View past versions of a list item or document.\r\n   */\r\n  public static get viewVersions(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x40 }); }\r\n\r\n  /**\r\n   * Delete past versions of a list item or document.\r\n   */\r\n  public static get deleteVersions(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x80 }); }\r\n\r\n  /**\r\n   * Discard or check in a document which is checked out to another user.\r\n   */\r\n  public static get cancelCheckout(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x100 }); }\r\n\r\n  /**\r\n   * Create, change, and delete personal views of lists.\r\n   */\r\n  public static get managePersonalViews(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x200 }); }\r\n\r\n  /**\r\n   * Create and delete lists, add or remove columns in a list, and add or remove public views of a list.\r\n   */\r\n  public static get manageLists(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x800 }); }\r\n\r\n  /**\r\n   * View forms, views, and application pages, and enumerate lists.\r\n   */\r\n  public static get viewFormPages(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x1000 }); }\r\n\r\n  // web level perms      =0x0000XXXXXXXX0000,\r\n  /**\r\n   * Allow users to open a Web site, list, or folder to access items inside that container.\r\n   */\r\n  public static get open(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x20000 }); }\r\n\r\n  /**\r\n   * View pages in a Web site.\r\n   */\r\n  public static get viewPages(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x20000 }); }\r\n\r\n  /**\r\n   * View the layouts page?\r\n   */\r\n  public static get layoutsPage(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x21000 }); }\r\n\r\n  /**\r\n   * Add, change, or delete HTML pages or web part Pages, and edit the Web site using a SharePoint\r\n   * Foundationcompatible editor.\r\n   */\r\n  public static get addAndCustomizePages(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x40000 }); }\r\n\r\n  /**\r\n   * Apply a theme or borders to the entire Web site.\r\n   */\r\n  public static get applyThemeAndBorder(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x80000 }); }\r\n\r\n  /**\r\n   * Apply a style sheet (.css file) to the Web site.\r\n   */\r\n  public static get applyStyleSheets(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x100000 }); }\r\n\r\n  /**\r\n   * View reports on Web site usage.\r\n   */\r\n  public static get viewUsageData(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x200000 }); }\r\n\r\n  /**\r\n   * Create a Web site using Self-Service Site Creation.\r\n   */\r\n  public static get createSSCSite(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x400000 }); }\r\n\r\n  /**\r\n   * Create subsites such as team sites, Meeting Workspace sites, and Document Workspace sites.\r\n   */\r\n  public static get manageSubwebs(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x800000 }); }\r\n\r\n  /**\r\n   * Create a group of users that can be used anywhere within the site collection.\r\n   */\r\n  public static get createGroups(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x1000000 }); }\r\n\r\n  /**\r\n   * Create and change permission levels on the Web site and assign permissions to users and groups.\r\n   */\r\n  public static get managePermissions(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x2000000 }); }\r\n\r\n  /**\r\n   * Enumerate files and folders in a Web site using Microsoft Office SharePoint Designer 2007 and WebDAV interfaces.\r\n   */\r\n  public static get browseDirectories(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x4000000 }); }\r\n\r\n  /**\r\n   * View information about users of the Web site.\r\n   */\r\n  public static get browserUserInfo(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x8000000 }); }\r\n\r\n  /**\r\n   * Add or remove personal web parts on a web part Page.\r\n   */\r\n  public static get addDelPrivateWebParts(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x10000000 }); }\r\n\r\n  /**\r\n   * Update web parts to display personalized information.\r\n   */\r\n  public static get updatePersonalWebParts(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x20000000 }); }\r\n\r\n  /**\r\n   * Grant the ability to perform all administration tasks for the Web site as well as manage content.\r\n   *  Activate, deactivate,or edit properties of Web site scoped Features through the object model or\r\n   * through the user interface (UI). When grantedon the root Web site of a site collection, activate,\r\n   * deactivate, or edit properties of site collection scoped Features through the object model. To\r\n   * browse to the Site Collection Features page and activate or deactivate site collection scoped\r\n   * Features through the UI, you must be a site collection administrator.\r\n   */\r\n  public static get manageWeb(): SPPermission { return new SPPermission({ High: 0x0, Low: 0x40000000 }); }\r\n\r\n  /**\r\n   * Use features that launch client applications; otherwise, users must work on documents locally and upload changes. \r\n   */\r\n  public static get useClientIntegration(): SPPermission { return new SPPermission({ High: 0x10, Low: 0x0 }); }\r\n\r\n  /**\r\n   * Use SOAP, WebDAV, or Microsoft Office SharePoint Designer 2007 interfaces to access the Web site.\r\n   */\r\n  public static get useRemoteAPIs(): SPPermission { return new SPPermission({ High: 0x20, Low: 0x0 }); }\r\n\r\n  /**\r\n   * Manage alerts for all users of the Web site.\r\n   */\r\n  public static get manageAlerts(): SPPermission { return new SPPermission({ High: 0x40, Low: 0x0 }); }\r\n\r\n  /**\r\n   * Create e-mail alerts.\r\n   */\r\n  public static get createAlerts(): SPPermission { return new SPPermission({ High: 0x80, Low: 0x0 }); }\r\n\r\n  /**\r\n   * Allows a user to change his or her user information, such as adding a picture.\r\n   */\r\n  public static get editMyUserInfo(): SPPermission { return new SPPermission({ High: 0x100, Low: 0x0 }); }\r\n\r\n  /**\r\n   * Enumerate permissions on the Web site, list, folder, document, or list item.\r\n   */\r\n  public static get enumeratePermissions(): SPPermission { return new SPPermission({ High: 0x40000000, Low: 0x0 }); }\r\n\r\n  /**\r\n   * Has all permissions on the Web site. Not available through the user interface.\r\n   */\r\n  public static get fullMask(): SPPermission { return new SPPermission({ High: 0x7FFFFFFF, Low: 0xFFFFFFFF }); }\r\n\r\n  private _value: IODataBasePermission;\r\n\r\n  constructor(value: IODataBasePermission) {\r\n    if (!value) {\r\n      throw new Error('Must use an object with a Low and High number value');\r\n    }\r\n    this._value = value;\r\n  }\r\n\r\n  /**\r\n   * Returns the value of this SPPermission object\r\n   */\r\n  public get value(): IODataBasePermission {\r\n    return this._value;\r\n  }\r\n\r\n  /**\r\n   * Function for determining if a given permission mask has any of the requested permissions.\r\n   * @param requestedPerms - Any number of SPPermission objects to be compared against the original\r\n   */\r\n  public hasAnyPermissions(...requestedPerms: SPPermission[]): boolean {\r\n    return (requestedPerms || []).some((permission: SPPermission) => {\r\n      return this.hasPermission(permission);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Function for determining if a given permission mask has all of the requested permissions.\r\n   * @param requestedPerms - Any number of SPPermission objects to be compared against the original\r\n   */\r\n  public hasAllPermissions(...requestedPerms: SPPermission[]): boolean {\r\n    return (requestedPerms || []).every((permission: SPPermission) => {\r\n      return this.hasPermission(permission);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Function for checking if a given permission mask has the requested permission.\r\n   * @param requestedPerm - The SPPermission object to be compared against the original\r\n   */\r\n  public hasPermission(requestedPerm: SPPermission): boolean {\r\n    /* tslint:disable:no-bitwise */\r\n    return requestedPerm &&\r\n      ((requestedPerm.value.Low & this.value.Low) === requestedPerm.value.Low) &&\r\n      ((requestedPerm.value.High & this.value.High) === requestedPerm.value.High);\r\n   /* tslint:enable:no-bitwise */\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/permission/SPPermission.ts\n **/","import SPWeb, { ISPWebData } from './SPWeb';\r\nimport SPSite, { ISPSiteData } from './SPSite';\r\nimport SPUser, { ISPUserData } from './SPUser';\r\nimport CultureInfo, { ICultureInfoData } from './CultureInfo';\r\nimport ServiceScope from '../serviceScope/ServiceScope';\r\nimport ServiceKey from '../serviceScope/ServiceKey';\r\n\r\n/**\r\n * Interface for properties neccesary for building a PageContext.\r\n * @internal\r\n */\r\nexport interface IPageContextData {\r\n  cultureInfo: ICultureInfoData;\r\n  site: ISPSiteData;\r\n  user: ISPUserData;\r\n  web: ISPWebData;\r\n}\r\n\r\n/**\r\n  * The page context provides standard definitions for common SharePoint objects\r\n  * that need to be shared between the client-side application, web parts, and other\r\n  * components.  Typically the data is fetched via REST queries when navigating to a\r\n  * new page, but it can also be preloaded by the web server, or filled from a custom\r\n  * application cache.\r\n  * @public\r\n  */\r\nexport default class PageContext {\r\n  private _cultureInfo: CultureInfo;\r\n  private _site: SPSite;\r\n  private _user: SPUser;\r\n  private _web: SPWeb;\r\n  private _isInitialized: boolean;\r\n\r\n  constructor(serviceScope: ServiceScope) {\r\n    this._isInitialized = false;\r\n  }\r\n\r\n  /**\r\n   * Initializes the Page Context.\r\n   * @internal\r\n   */\r\n  public initialize(options: IPageContextData): void {\r\n    this._cultureInfo = new CultureInfo(options.cultureInfo || {\r\n      currentCultureName: '',\r\n      currentUICultureName: ''\r\n    });\r\n    this._site = new SPSite(options.site || {\r\n      id: ''\r\n    });\r\n    this._user = new SPUser(options.user || {\r\n      displayName: '',\r\n      loginName: ''\r\n    });\r\n    this._web = new SPWeb(options.web || {\r\n      id: '',\r\n      absoluteUrl: '',\r\n      serverRelativeUrl: '',\r\n      title: ''\r\n    });\r\n    this._isInitialized = true;\r\n  }\r\n\r\n  /**\r\n   * This class is primarily used with the PageContext class.  It provides culture info\r\n   * for the current user of the application.\r\n   */\r\n  public get cultureInfo(): CultureInfo {\r\n    return this._cultureInfo;\r\n  }\r\n\r\n  /**\r\n   * Contextual information for the SharePoint site collection (\"site\") that is hosting the page.\r\n   * The site object will be defined if the PageContext was initialized.\r\n   */\r\n  public get site(): SPSite {\r\n    return this._site;\r\n  }\r\n\r\n  /**\r\n   * This class is primarily used with the PageContext class.  It provides contextual information\r\n   * for the SharePoint user that is accessing the page.\r\n   */\r\n  public get user(): SPUser {\r\n    return this._user;\r\n  }\r\n\r\n  /**\r\n   * Contextual information for the SharePoint site (\"web\") that is hosting the page. The web object\r\n   * will be defined if the PageContext was initialized.\r\n   */\r\n  public get web(): SPWeb {\r\n    return this._web;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the PageContext has been initialized.\r\n   */\r\n  public get isInitialized(): boolean {\r\n    return this._isInitialized;\r\n  }\r\n}\r\n\r\nexport const pageContextServiceKey: ServiceKey<PageContext> = ServiceKey.create<PageContext>\r\n  ('sp-client-base:PageContext', PageContext);\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/pageContext/PageContext.ts\n **/","import Guid from '../guid/Guid';\r\n\r\n/**\r\n * Object that represents the data neccesary to build an SPWeb object.\r\n * @internal\r\n */\r\nexport interface ISPWebData  {\r\n  absoluteUrl: string;\r\n  id: string;\r\n  serverRelativeUrl: string;\r\n  title: string;\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class.  It provides contextual\r\n  * information for the SharePoint site (\"web\") that hosts the page.\r\n  * TODO BUG 227874: Add validation to SPWeb and other PageContext objects\r\n  * @public\r\n  */\r\nexport default class SPWeb {\r\n  private _absoluteUrl: string;\r\n  private _id: Guid;\r\n  private _serverRelativeUrl: string;\r\n  private _title: string;\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  constructor(data: ISPWebData) {\r\n    this._absoluteUrl = data.absoluteUrl || '';\r\n    this._id = Guid.tryParse(data.id);\r\n    this._serverRelativeUrl = data.serverRelativeUrl || '';\r\n    this._title = data.title || '';\r\n  }\r\n\r\n  /**\r\n   * The GUID that identifies the SPWeb on the server or undefined if the Guid string\r\n   * value is invalid.\r\n   */\r\n  public get id(): Guid {\r\n    return this._id;\r\n  }\r\n\r\n  /**\r\n   * Returns the absolute URL for this SPWeb.\r\n   * Example: \"https://example.com/sites/PubSite/SubWeb\"\r\n   */\r\n  public get absoluteUrl(): string {\r\n    return this._absoluteUrl;\r\n  }\r\n\r\n  /**\r\n   * Returns the server-relative URL for this SPWeb.\r\n   * Example: \"/sites/PubSite/SubWeb\"\r\n   */\r\n  public get serverRelativeUrl(): string {\r\n    return this._serverRelativeUrl;\r\n  }\r\n\r\n  /**\r\n   * Returns the title of the SharePoint site.\r\n   */\r\n  public get title(): string {\r\n    return this._title;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/pageContext/SPWeb.ts\n **/","/**\r\n * Object that represents the data neccesary to build an SPSite object.\r\n *\r\n * @internal\r\n */\r\nexport interface ISPSiteData {\r\n  id: string;\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class.  It provides contextual\r\n  * information for the SharePoint site collection (\"site\") that hosts the page.\r\n  *\r\n  * @public\r\n  */\r\nexport default class SPSite {\r\n  private _id: string;\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  constructor(data: ISPSiteData) {\r\n    this._id = data.id || '';\r\n  }\r\n\r\n  /**\r\n   * The GUID that identifies the SPSite on the server.\r\n   */\r\n  public get id(): string {\r\n    return this._id;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/pageContext/SPSite.ts\n **/","/**\r\n * Object that represents the data neccesary to build an SPUser object.\r\n *\r\n * @internal\r\n */\r\nexport interface ISPUserData {\r\n  displayName: string;\r\n  loginName: string;\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class.  It provides contextual information\r\n  * for the SharePoint user that is accessing the page.\r\n  *\r\n  * @public\r\n  */\r\nexport default class SPUser {\r\n  private _displayName: string;\r\n  private _loginName: string;\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  constructor(data: ISPUserData) {\r\n    this._displayName = data.displayName || '';\r\n    this._loginName = data.loginName || '';\r\n  }\r\n\r\n  /**\r\n   * The display name for the current user.\r\n   * Example: \"John Doe\"\r\n   */\r\n  public get displayName(): string {\r\n    return this._displayName;\r\n  }\r\n\r\n  /**\r\n   * The login name for specified user.\r\n   * Example: \"example@microsoft.com\"\r\n   */\r\n  public get loginName(): string {\r\n    return this._loginName;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/pageContext/SPUser.ts\n **/","/**\r\n * Object that represents the data neccesary to build an CultureInfo object.\r\n * @internal\r\n */\r\nexport interface ICultureInfoData {\r\n  currentCultureName: string;\r\n  currentUICultureName: string;\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class.  It provides culture info\r\n  * for the current user of the application.\r\n  * @public\r\n  */\r\nexport default class CultureInfo {\r\n  private _currentCultureName: string;\r\n  private _currentUICultureName: string;\r\n\r\n  /**\r\n    * @internal\r\n    */\r\n  constructor(data: ICultureInfoData) {\r\n    this._currentCultureName = data.currentCultureName || '';\r\n    this._currentUICultureName = data.currentUICultureName || '';\r\n  }\r\n\r\n  /**\r\n   * This string determines the language default format for dates, times, numbers, currency values,\r\n   * the sorting order of text, casing conventions, and string comparisons. This property may have\r\n   * an empty string, but will never be undefined.\r\n   * Example: If the currentCultureName is \"en-au\" then the application could use this information\r\n   * to display the date as 1/8 instead of 8/1.\r\n   */\r\n  public get currentCultureName(): string {\r\n    return this._currentCultureName;\r\n  }\r\n\r\n  /**\r\n   * This string determines the default user interface language. This used for localization and\r\n   * translation of text. This property may have an empty string, but will never be undefined.\r\n   * Example: If the currentUICultureName is \"es-mx\", then the application could use this\r\n   * information to translate the word \"hello\" to \"hola\".\r\n   */\r\n  public get currentUICultureName(): string {\r\n    return this._currentUICultureName;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/pageContext/CultureInfo.ts\n **/","import { OAuthUtility } from '@ms/sp-client-shared';\r\nimport OAuthUtilityContext from './OAuthUtilityContext';\r\nimport ServiceScope from '../serviceScope/ServiceScope';\r\nimport ServiceKey from '../serviceScope/ServiceKey';\r\nimport Validate from '../common/Validate';\r\n\r\n/**\r\n * This class allows one to obtain OAuth tokens\r\n *\r\n * OAuth tokens are used to authenticate the user from the sharepoint page\r\n * to other services such as PowerBI, Sway, Exchange, Yammer, etc.\r\n *\r\n * @alpha\r\n */\r\nexport default class OAuthTokenProvider {\r\n  private _tokenUtility: OAuthUtility;\r\n\r\n  public constructor(serviceScope: ServiceScope) {\r\n    this._tokenUtility = new OAuthUtility(new OAuthUtilityContext(serviceScope));\r\n  }\r\n\r\n  /**\r\n   * Fetches the oauth token for a resource if the user that's currently logged in has\r\n   * access to that resource.\r\n   *\r\n   * The OAuth token SHOULD NOT be cached by the caller since it is already cached by the method\r\n   * itself.\r\n   *\r\n   * If the promise returned by this method rejects, there is no point in retrying the same call.\r\n   * If the response from the server signals that the request should be retried this function will do this by itself.\r\n   *\r\n   * An example of a resource would be https://sdfpilot.outlook.com\r\n   *\r\n   * @param resource - the resource for which the token should be obtained\r\n   * @returns A promise that will be fullfiled with the token or that will reject\r\n   *          with an instance of TokenUtilityError\r\n   */\r\n  // @todo VSO:237921 - use the correct typings\r\n  public getOAuthToken(resource: string): Promise<any> { // tslint:disable-line:no-any\r\n    Validate.isNotNullOrUndefined(resource, 'resource');\r\n    Validate.isNonemptyString(resource, 'resource');\r\n    return this._tokenUtility.getOAuthToken(resource);\r\n  }\r\n\r\n  /**\r\n   * Clears the token from a given resource from the internal cache. If there is no token\r\n   * cached for the resource the method does nothing.\r\n   *\r\n   * @param resource - resource for which the token should be cleared from the cache\r\n   **/\r\n  public clearCachedToken(resource: string): void {\r\n    Validate.isNotNullOrUndefined(resource, 'resource');\r\n    Validate.isNonemptyString(resource, 'resource');\r\n    this._tokenUtility.clearCachedToken(resource);\r\n  }\r\n}\r\n\r\nexport const oAuthTokenProviderServiceKey: ServiceKey<OAuthTokenProvider> =\r\n  ServiceKey.create<OAuthTokenProvider>('sp-client-shared:OAuthTokenProvider', OAuthTokenProvider);\n\n\n/** WEBPACK FOOTER **\n ** /src/oauthTokenProvider/OAuthTokenProvider.ts\n **/","import { IOAuthToken } from './IOAuthToken';\r\nimport Constants from './Constants';\r\nimport { IOAuthUtilityContext, IQosMonitor } from './IOAuthUtilityContext';\r\nimport {\r\n  IResponseBody,\r\n  IServerError,\r\n  IServerErrorResponse,\r\n  ITokenResponseData,\r\n  ITokenRequestData\r\n} from './TokenRequestDataDefinitions';\r\nimport OAuthUtilityError, { OAuthUtilityErrorType } from './OAuthUtilityError';\r\n\r\n/**\r\n * The TokenUtility class facilitates getting a OAuth token for a given resource.\r\n * It handles caching and token expiration in a way that is transparent to the library user.\r\n *\r\n * @alpha\r\n */\r\nexport default class OAuthUtility {\r\n  private _context: IOAuthUtilityContext;\r\n\r\n  public constructor(context: IOAuthUtilityContext) {\r\n    this._context = context;\r\n  }\r\n\r\n  /**\r\n   * Fetches the OAuth token for a resource if the user that's currently logged in has\r\n   * access to that resource.\r\n   *\r\n   * If the promise returned by this method rejects, there is no point in retrying the same call.\r\n   * If the response from the server signals that the request should be retried this function will do this by itself.\r\n   *\r\n   * An example of a resource would be https://sdfpilot.outlook.com\r\n   *\r\n   * @param resource - the resource for which the token should be obtained\r\n   * @returns A promise that will be fullfiled with the token or that will reject\r\n   *          with an instance of TokenUtilityError\r\n   */\r\n  public getOAuthToken(resource: string): Promise<IOAuthToken> {\r\n    const cachedData: ITokenResponseData = this._getCachedTokenData(resource);\r\n\r\n    if (cachedData && !this._isExpiring(cachedData)) {\r\n      return Promise.resolve<IOAuthToken>({\r\n        token: cachedData.accessToken,\r\n        isGuest: false\r\n      });\r\n    }\r\n\r\n    return this._retriableFetchWithDigest(resource, Constants.retries)\r\n      .then<IOAuthToken>((responseData: ITokenResponseData) => {\r\n        this._storeTokenData(resource, responseData);\r\n        return {\r\n          token: responseData.accessToken,\r\n          isGuest: false\r\n        };\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Clears the token from a given resource from the internal cache. If there is no token\r\n   * cached for the resource the method does nothing.\r\n   *\r\n   * @param resource - resource for which the token should be cleared from the cache\r\n   **/\r\n  public clearCachedToken(resource: string): void {\r\n    window.sessionStorage.removeItem(this._getCacheKey(resource));\r\n  }\r\n\r\n  /**\r\n   * @param resource - the resource for which the request is done\r\n   * @param retriesLeft - number of retries to be done in case of a retriable error\r\n   * @returns A promise that fullfills to the server response or rejects with an instance of TokenUtilityError\r\n   */\r\n  private _retriableFetchWithDigest(resource: string, retriesLeft: number): Promise<ITokenResponseData> {\r\n    const monitor: IQosMonitor = this._context.qosMonitor();\r\n    return this._context.fetchWithDigest(this._buildTokenRequest(resource))\r\n      .then<ITokenResponseData>((response: Response) => {\r\n        if (response.status !== 200) {\r\n          /**\r\n           * If the request code is not 400 this means that the error is not raised by the rest API.\r\n           * In this case, the error is passed directly to the user.\r\n           *\r\n           * @TODO #225093\r\n           * Throttling response will have code 429. This also needs to be handled separately\r\n           */\r\n          this._context.logger.logError('fetchWithDigest failed. Server responded with ' + response.statusText);\r\n          const error: OAuthUtilityError = new OAuthUtilityError(OAuthUtilityErrorType.unknownError, {\r\n              httpResponseStatus: response.status,\r\n              message: response.statusText\r\n          });\r\n          if (response.status !== 400) {\r\n            monitor.writeUnexpectedFailure('UnknownError', error);\r\n            return Promise.reject(error);\r\n          }\r\n          return response.json<IServerErrorResponse>()\r\n            .then<ITokenResponseData>((errorResponse: IServerErrorResponse) => {\r\n              const errorCode: number = this._getErrorCodeFromResponseCode(errorResponse.error.code);\r\n              if (!this._isRetriableError(errorCode) || (retriesLeft === 0)) {\r\n                const error: OAuthUtilityError = this._buildErrorFromResponse(errorResponse);\r\n                monitor.writeUnexpectedFailure('SharepointServerError', error);\r\n                return Promise.reject(error);\r\n              }\r\n              this._context.logger.logError('fetchWithDigest failed. Retrying. Retries left: ' + retriesLeft);\r\n              return this._retriableFetchWithDigest(resource, retriesLeft - 1);\r\n            });\r\n        }\r\n        return this._instrumentedParseResponseData(response, monitor);\r\n      });\r\n  }\r\n\r\n  private _getCachedTokenData(resource: string): ITokenResponseData {\r\n    return JSON.parse(window.sessionStorage.getItem(this._getCacheKey(resource)));\r\n  }\r\n\r\n  private _storeTokenData(resource: string, data: ITokenRequestData): void {\r\n    window.sessionStorage.setItem(this._getCacheKey(resource), JSON.stringify(data));\r\n  }\r\n\r\n  private _getCacheKey(resource: string): string {\r\n    return ['sp-client-shared', Constants.npmPackageVersion, 'OAuthUtility', resource].join(';');\r\n  }\r\n\r\n  private _isExpiring(tokenRequestData: ITokenResponseData): boolean {\r\n    return (tokenRequestData.expiresOn - Date.now() / 1000) < Constants.aboutToExpireIntervalSeconds;\r\n  }\r\n\r\n  private _isRetriableError(errorCode: number): boolean {\r\n    return Constants.retriableErrorCodes.indexOf(errorCode) !== -1;\r\n  }\r\n\r\n  private _buildTokenRequest(resource: string): Request {\r\n    const requestHeaders: Headers = new Headers();\r\n    requestHeaders.append('Content-Type', 'application/json; charset=utf-8');\r\n    requestHeaders.append('Odata-Version', '4.0');\r\n    requestHeaders.append('Accept', 'application/json;odata.metadata=minimal');\r\n\r\n    const request: RequestInit = {\r\n      method: 'POST',\r\n      headers: requestHeaders,\r\n      body: JSON.stringify(this._buildRequestBody(resource))\r\n    };\r\n\r\n    return new Request(Constants.apiUrl, request);\r\n  }\r\n\r\n  private _buildRequestBody(resource: string): ITokenRequestData {\r\n    return {\r\n      resource: resource\r\n    };\r\n  }\r\n\r\n  /**\r\n   * The returned error contains the same message as the server error and a numeric error code\r\n   * coresponding to the error code sent by the server\r\n   *\r\n   * @param serverErrorResponse - The error response object as it is sent by the server\r\n   * @returns An instance of TokenUtilityError\r\n   **/\r\n  private _buildErrorFromResponse(serverErrorResponse: IServerErrorResponse): OAuthUtilityError {\r\n    const serverError: IServerError = serverErrorResponse.error;\r\n    const errorCode: number = this._getErrorCodeFromResponseCode(serverError.code);\r\n    if (errorCode === undefined) {\r\n      return new OAuthUtilityError(OAuthUtilityErrorType.malformedResponseBody, {\r\n        httpResponseStatus: 400,\r\n        message: Constants.unexpectedErrorCodeFormat\r\n      });\r\n    }\r\n    return new OAuthUtilityError(OAuthUtilityErrorType.serverError, {\r\n      httpResponseStatus: 400,\r\n      message: serverError.message,\r\n      serverErrorCode: errorCode\r\n    });\r\n  }\r\n\r\n  /**\r\n   * The format is <errorCode>, <exception class name>\r\n   *\r\n   * @param responseErrorCode - The response error code as it is sent by the server\r\n   */\r\n  private _getErrorCodeFromResponseCode(responseErrorCode: string): number {\r\n    const firstCommaIndex: number = responseErrorCode.indexOf(',');\r\n    if (firstCommaIndex === -1) {\r\n      return undefined;\r\n    }\r\n    return Number(responseErrorCode.substr(0, firstCommaIndex));\r\n  }\r\n\r\n  private _instrumentedParseResponseData(response: Response, monitor: IQosMonitor): Promise<ITokenResponseData> {\r\n    try {\r\n      return response.json().then<ITokenResponseData>((responseBody: IResponseBody) => {\r\n        monitor.writeSuccess();\r\n        return {\r\n          accessToken: responseBody.access_token,\r\n          expiresOn: Number(responseBody.expires_on),\r\n          notBefore: Number(responseBody.not_before),\r\n          resource: responseBody.resource,\r\n          tokenType: responseBody.token_type\r\n        };\r\n      });\r\n    } catch (error) {\r\n      monitor.writeUnexpectedFailure('ResponseParseError', error);\r\n      return Promise.reject(\r\n        new OAuthUtilityError(OAuthUtilityErrorType.malformedResponseBody, {\r\n          httpResponseStatus: 200,\r\n          message: Constants.unexpectedTokenMessageFormat\r\n        })\r\n      );\r\n    }\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/tokenUtility/OAuthUtility.ts\n **/","export default class Constants {\r\n  /**\r\n   * This id is used to get / persist the token cache into session storage.\r\n   * It is passed to window.sessionStorage.setItem(id, item) / getItem(id)\r\n   */\r\n  public static tokenCacheSessionStorageId: string = 'tokenCache';\r\n  /**\r\n   * If the token is about to expire, a new one will be requested.\r\n   * A token is considered \"about to expire\" if:\r\n   * (tokenExpirationTime - currentTime) < aboutToExpireIntervalSeconds\r\n   */\r\n  public static aboutToExpireIntervalSeconds: number = 600;\r\n  /**\r\n   * The token will be requested from this URL\r\n   */\r\n  public static apiUrl: string = '/_api/SP.OAuth.Token/Acquire';\r\n  /**\r\n   * Number of times to retry the server request in the case of a retriable error\r\n   */\r\n  public static retries: number = 3;\r\n  /**\r\n   * If an error from this list would be encountered then the request would be retried\r\n   * for Constants.retries times.\r\n   *\r\n   * This list MUST always be kept in sync with the serverside error codes\r\n   * A better alternative would be to have the server send a boolean shouldRetry flag\r\n   *\r\n   * The serverside error codes are defined in the class SPDelegationTokenServiceProviderErrorCodes\r\n   */\r\n  public static retriableErrorCodes: number[] = [\r\n    /* Internal server error */\r\n    10006,\r\n    /* Unsupported Token */\r\n    10008\r\n  ];\r\n  /**\r\n   * An exception with this message will be thrown if the error code from the response\r\n   * does not have the expected format described bellow\r\n   */\r\n  public static unexpectedErrorCodeFormat: string =\r\n    'Expected error code format is <numericCode>, <exception class name>';\r\n  /**\r\n   * An exception with the message will be thrown if the token couldn't be parsed from the response\r\n   */\r\n  public static unexpectedTokenMessageFormat: string =\r\n    'Your token request succeedeed but the token could not be parsed from the response.' +\r\n    'This is most probably caused by a change in the server response format';\r\n  /**\r\n   * The version is used to assure unicity in the session storage keys used\r\n   * used by the TokenUtility.\r\n   */\r\n  public static npmPackageVersion: string = '0.1.5';\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/tokenUtility/Constants.ts\n **/","/**\r\n * Error returned by the rejected promise\r\n *\r\n * @alpha\r\n */\r\nexport default class OAuthUtilityError extends Error {\r\n  private _type: OAuthUtilityErrorType;\r\n  private _httpResponseStatus: number;\r\n  private _message: string;\r\n  private _serverErrorCode: number;\r\n\r\n  public constructor(type: OAuthUtilityErrorType, context: IOAuthUtilityErrorContext) {\r\n    super(context.message);\r\n    this._type = type;\r\n    this._httpResponseStatus = context.httpResponseStatus;\r\n    this._message = context.message;\r\n    this._serverErrorCode = context.serverErrorCode;\r\n  }\r\n\r\n  /**\r\n   * @returns the type of the error. Can be unknownError | malformedResponseBody | serverError\r\n   *\r\n   * @alpha\r\n   */\r\n  public get type(): number {\r\n    return this._type;\r\n  }\r\n\r\n  /**\r\n   * serverErrorCode is set only if the type of the {@link OAuthUtilityError} containing this object\r\n   * is serverError.\r\n   * Server error codes are defined in the SPDelegationTokenServiceProviderErrorCodes class\r\n   *\r\n   * @returns server error code. If the error is not of serverError type this method throws\r\n   *\r\n   * @alpha\r\n   */\r\n  public get serverErrorCode(): number {\r\n    if (this.type !== OAuthUtilityErrorType.serverError) {\r\n      throw new Error('ServerErrorCode can only be obtained for errors of type serverError');\r\n    }\r\n    return this._serverErrorCode;\r\n  }\r\n\r\n  /**\r\n   * @returns status of the http response (200, 404, etc)\r\n   *\r\n   * @alpha\r\n   */\r\n  public get httpResponseStatus(): number {\r\n    return this._httpResponseStatus;\r\n  }\r\n\r\n  /**\r\n   * @returns the error message\r\n   *\r\n   * @alpha\r\n   */\r\n  public get message(): string {\r\n    return this._message;\r\n  }\r\n}\r\n\r\n/**\r\n * Additional error data to be used by the caller\r\n */\r\nexport interface IOAuthUtilityErrorContext {\r\n  httpResponseStatus: number;\r\n  message: string;\r\n  /**\r\n   * serverErrorCode is set only if the type of the {@link OAuthUtilityError} containing this object\r\n   * is OAuthUtilityError.serverError.\r\n   * Server error codes are defined in the SPDelegationTokenServiceProviderErrorCodes class\r\n   */\r\n  serverErrorCode?: number;\r\n}\r\n\r\n/**\r\n * {@link OAuthUtilityError} can have one of the types mentioned in this enum.\r\n *\r\n * @alpha\r\n */\r\nexport enum OAuthUtilityErrorType {\r\n  /**\r\n   * unknownError usually means that the http status in the response was neither 400 (server error)\r\n   * or 429 (throttling).\r\n   *\r\n   * @alpha\r\n   */\r\n  unknownError,\r\n  /**\r\n   * malformedResponseBody means that the response that was received (either the success or the error)\r\n   * could not be parsed. This may happen if the server response had it's format changed and the format\r\n   * expected by the library needs to be updated.\r\n   *\r\n   * @alpha\r\n   */\r\n  malformedResponseBody,\r\n  /**\r\n   * serverError means that the server responded with an error. The serverErrorCode is set in this case,\r\n   * and it can be used to identify the reason of the error.\r\n   *\r\n   * {@internalremark The serverside error codes are defined in the class SPDelegationTokenServiceProviderErrorCodes}\r\n   *\r\n   * @alpha\r\n   */\r\n  serverError\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/tokenUtility/OAuthUtilityError.ts\n **/","import { IOAuthUtilityContext, IQosMonitor, ILogger } from '@ms/sp-client-shared';\r\nimport QosMonitor from '../telemetry/Api/QosMonitor';\r\nimport LogEvent from '../telemetry/Api/LogEvent';\r\nimport { LogLevel } from '../telemetry/Api/LogLevel';\r\nimport HttpClient, { httpClientServiceKey } from '../httpClient/HttpClient';\r\nimport ServiceScope from '../serviceScope/ServiceScope';\r\n\r\nclass TokenUtilityLogger implements ILogger {\r\n  private static logSource: string = 'TokenUtility';\r\n\r\n  public logInfo(message: string): void {\r\n    LogEvent.log(TokenUtilityLogger.logSource, message, LogLevel.Info);\r\n  }\r\n\r\n  public logError(message: string): void {\r\n    LogEvent.log(TokenUtilityLogger.logSource, message, LogLevel.Error);\r\n  }\r\n\r\n  public logWarning(message: string): void {\r\n    LogEvent.log(TokenUtilityLogger.logSource, message, LogLevel.Warning);\r\n  }\r\n}\r\n\r\n/**\r\n * The DelegationTokenProvider's implementation was moved into the sp-client-shared\r\n * package so that it can be shared with other teams that are not using sp-client-base\r\n * platform.  To support this, the sp-client-shared package defines an interface\r\n * ITokenUtilityContext which abstracts the basic services that are needed by that\r\n * code.  TokenUtilityContext is our adapter that wires up this interface to the\r\n * corresponding services in sp-client-base; it can be considered part of the\r\n * internal implementation of DelegationTokenProvider; it is not  intended to be\r\n * used by other parts of our framework.\r\n */\r\nexport default class OAuthUtilityContext implements IOAuthUtilityContext {\r\n  private static qosName: string = 'OAuthTokenProvider';\r\n  private _logger: ILogger;\r\n\r\n  private _httpClient: HttpClient;\r\n\r\n  public get logger(): ILogger {\r\n    return this._logger;\r\n  }\r\n\r\n  public constructor(serviceScope: ServiceScope) {\r\n    serviceScope.whenFinished(() => {\r\n      this._httpClient = serviceScope.consume<HttpClient>(httpClientServiceKey);\r\n      this._logger = new TokenUtilityLogger();\r\n    });\r\n  }\r\n\r\n  public fetchWithDigest(request: Request): Promise<Response> {\r\n    return request.blob().then<Response>((requestBody: Blob) => {\r\n      return this._httpClient.fetch(request.url, {\r\n        method: request.method,\r\n        headers: request.headers,\r\n        body: requestBody\r\n      });\r\n    });\r\n  }\r\n\r\n  public qosMonitor(): IQosMonitor {\r\n    return new QosMonitor(OAuthUtilityContext.qosName);\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/oauthTokenProvider/OAuthUtilityContext.ts\n **/","import ServiceKey from '../serviceScope/ServiceKey';\r\nimport ServiceScope from '../serviceScope/ServiceScope';\r\n\r\n/**\r\n * The enum Type describes which type of enviroment the framework is running in.\r\n * @public\r\n */\r\nexport enum EnvironmentType {\r\n  /**\r\n   * Represents the scenario of the framework hosted in a unit/integration test.\r\n   * Example: A developer running a unit test to verify changes to their web part.\r\n   */\r\n  Test,\r\n\r\n  /**\r\n   * Represents the scenario of the framework hosted on a localhost server, which typically cannot\r\n   * access any SharePoint REST APIs.\r\n   * Example: A developer uses gulp serve command to test their changes in their browser of choice.\r\n   */\r\n  Local,\r\n\r\n  /**\r\n   * Indicates that the framework was loaded by a client-rendered SharePoint page\r\n   */\r\n  SharePoint,\r\n\r\n  /**\r\n   * Indicates that the framework was loaded from a classic server-rendered SharePoint page\r\n   */\r\n  ClassicSharePoint\r\n}\r\n\r\n/**\r\n * This class contains contextual information about the enviroment that is hosting the framework and\r\n * its components.\r\n * @public\r\n */\r\nexport default class Environment {\r\n  private _type: EnvironmentType;\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  constructor(serviceScope: ServiceScope) {\r\n    // Empty Constructor\r\n  }\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  public _initialize(type: EnvironmentType): void {\r\n    this._type = type;\r\n  }\r\n\r\n  /**\r\n   * An enum that describes which type of enviroment the framework is running in.\r\n   */\r\n  public get type(): EnvironmentType {\r\n    return this._type;\r\n  }\r\n}\r\n\r\nexport const environmentServiceKey: ServiceKey<Environment> = ServiceKey.create<Environment>\r\n  ('sp-client-base:Environment', Environment);\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/environment/Environment.ts\n **/"],"sourceRoot":""}