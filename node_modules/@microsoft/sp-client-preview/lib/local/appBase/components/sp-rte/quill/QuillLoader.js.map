{"version":3,"sources":["local/appBase/components/sp-rte/quill/QuillLoader.ts"],"names":[],"mappings":"AAAA;;GAEG;;AAIH,+BAAyC,2BAA2B,CAAC,CAAA;AAErE;IAAA;IA2BA,CAAC;IAtBQ,gCAAU,GAAjB;QACE,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC;YAC/B,WAAW,CAAC,aAAa,GAAG,IAAI,OAAO,CACrC,UAAC,QAA0C;gBACzC,OAAO,CAAC,MAAM,CACZ,CAAC,OAAO,CAAC,EACT,UAAC,OAAsC;oBACrC,IAAM,KAAK,GAAkB,OAAO,CAAC,OAAO,CAAkB,CAAC;oBAC/D,WAAW,CAAC,YAAY,GAAG,KAAK,CAAC;oBACjC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAClB,CAAC,EACD,yBAAyB,CAAC,CAAC;YAC/B,CAAC,CACF,CAAC;YAEF,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,UAAC,KAAY;gBAC3C,6BAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;YACtD,CAAC,CAAC,CAAC;QACL,CAAC;QAED,MAAM,CAAC,WAAW,CAAC,aAAa,CAAC;IACnC,CAAC;IAzBc,qBAAS,GAAe,2BAAU,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;IA0B/E,kBAAC;AAAD,CA3BA,AA2BC,IAAA;AA3BD;6BA2BC,CAAA","file":"local/appBase/components/sp-rte/quill/QuillLoader.js","sourcesContent":["/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport { IRichTextEditorLoader } from '../rte/IRichTextEditorLoader';\r\nimport QuillInstance = require('QuillInstance');\r\nimport { _TraceLogger, _LogSource } from '@microsoft/sp-client-base';\r\n\r\nexport default class QuillLoader implements IRichTextEditorLoader {\r\n  private static logSource: _LogSource = _LogSource.create('SPRteQuillLoader');\r\n  private static _quillPromise: Promise<QuillInstance>;\r\n  private static _quillModule: QuillInstance;\r\n\r\n  public loadModule(): Promise<QuillInstance> {\r\n    if (!QuillLoader._quillPromise) {\r\n      QuillLoader._quillPromise = new Promise<QuillInstance>(\r\n        (complete?: (result: QuillInstance) => void) => {\r\n          require.ensure(\r\n            ['quill'],\r\n            (require: <T, dummy>(path: string) => T) => {\r\n              const quill: QuillInstance = require('quill') as QuillInstance;\r\n              QuillLoader._quillModule = quill;\r\n              complete(quill);\r\n            },\r\n            'sp-client-preview-quill');\r\n        }\r\n      );\r\n\r\n      QuillLoader._quillPromise.catch((error: Error) => {\r\n        _TraceLogger.logError(QuillLoader.logSource, error);\r\n      });\r\n    }\r\n\r\n    return QuillLoader._quillPromise;\r\n  }\r\n}\r\n"],"sourceRoot":"/src"}