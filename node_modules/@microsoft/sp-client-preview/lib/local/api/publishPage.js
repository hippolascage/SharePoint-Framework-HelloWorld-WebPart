'use strict';
var fs = require('fs');
var path = require('path');
var rootDir = process.cwd();
/* tslint:disable:no-any */
function publishPage(req, res) {
    /* tslint:enable:no-any */
    'use strict';
    /* tslint:disable:no-bitwise */
    var id = req.id ? req.id : 'page-' + (new Date()).getTime() + (Math.random() * 1000000 | 0);
    /* tslint:enable:no-bitwise */
    var folder = path.join(rootDir, 'data', id);
    fs.mkdirSync(folder);
    var file = path.join(folder, 'page.data');
    fs.writeFile(file, req.data, function (err) {
        if (err) {
            throw err;
        }
        console.log("File " + file + " saved");
    });
    res.json({ id: id });
}
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = publishPage;

//# sourceMappingURL=publishPage.js.map
