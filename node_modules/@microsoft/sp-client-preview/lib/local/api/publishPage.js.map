{"version":3,"sources":["local/api/publishPage.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,IAAY,EAAE,WAAM,IAAI,CAAC,CAAA;AACzB,IAAY,IAAI,WAAM,MAAM,CAAC,CAAA;AAE7B,IAAM,OAAO,GAAW,OAAO,CAAC,GAAG,EAAE,CAAC;AAEtC,2BAA2B;AAC3B,qBAAoC,GAAQ,EAAE,GAAQ;IACtD,0BAA0B;IACxB,YAAY,CAAC;IAEb,+BAA+B;IAC/B,IAAM,EAAE,GAAW,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,GAAG,OAAO,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,OAAO,GAAG,CAAC,CAAC,CAAC;IACtG,8BAA8B;IAC9B,IAAM,MAAM,GAAW,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;IACtD,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IACrB,IAAM,IAAI,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;IACpD,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,UAAC,GAAU;QACtC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACR,MAAM,GAAG,CAAC;QACZ,CAAC;QAED,OAAO,CAAC,GAAG,CAAC,UAAQ,IAAI,WAAQ,CAAC,CAAC;IACpC,CAAC,CAAC,CAAC;IAEH,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;AACvB,CAAC;AAnBD;6BAmBC,CAAA","file":"local/api/publishPage.js","sourcesContent":["'use strict';\r\n\r\nimport * as fs from 'fs';\r\nimport * as path from 'path';\r\n\r\nconst rootDir: string = process.cwd();\r\n\r\n/* tslint:disable:no-any */\r\nexport default function publishPage(req: any, res: any): void {\r\n/* tslint:enable:no-any */\r\n  'use strict';\r\n\r\n  /* tslint:disable:no-bitwise */\r\n  const id: number = req.id ? req.id : 'page-' + (new Date()).getTime() + (Math.random() * 1000000 | 0);\r\n  /* tslint:enable:no-bitwise */\r\n  const folder: string = path.join(rootDir, 'data', id);\r\n  fs.mkdirSync(folder);\r\n  const file: string = path.join(folder, 'page.data');\r\n  fs.writeFile(file, req.data, (err: Error) => {\r\n    if (err) {\r\n      throw err;\r\n    }\r\n\r\n    console.log(`File ${file} saved`);\r\n  });\r\n\r\n  res.json({ id: id });\r\n}\r\n"],"sourceRoot":"/src"}