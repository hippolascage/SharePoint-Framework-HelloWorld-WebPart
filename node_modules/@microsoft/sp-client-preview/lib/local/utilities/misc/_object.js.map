{"version":3,"sources":["local/utilities/misc/_object.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;AAEH,IAAY,MAAM,WAAM,6BAA6B,CAAC,CAAA;AAEtD;;;;GAIG;AACH,gCAAgC;AAChC,oBAA2B,GAAW;IACtC,+BAA+B;IAC7B,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACT,MAAM,CAAC,SAAS,CAAC;IACnB,CAAC;IAED,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC1B,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC;IAED,IAAI,KAAK,GAAW,CAAC,CAAC;IACtB,IAAM,IAAI,GAAwB,UAAC,CAAS;QAE1C,mCAAmC;QACnC,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;YAChB,MAAM,CAAC;QACT,CAAC;QAED,IAAM,SAAS,GAAa,MAAM,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;QAE1D,SAAS,CAAC,OAAO,CAAC,UAAC,IAAY;YAC7B,IAAM,IAAI,GAAW,CAAC,CAAC,IAAI,CAAC,CAAC;YAC7B,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,QAAQ,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC5F,IAAI,CAAC,IAAI,CAAC,CAAC;YACb,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;IAEF,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,MAAM,CAAC,GAAG,CAAC;AACb,CAAC;AA9Be,kBAAU,aA8BzB,CAAA","file":"local/utilities/misc/_object.js","sourcesContent":["/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * Utililty code to help manipulate objects.\r\n */\r\n\r\nimport * as lodash from '@microsoft/sp-lodash-subset';\r\n\r\n/**\r\n * To make obj fully immutable, freeze each object in obj.\r\n * @remarks: this works only on pure JSON objects by design.\r\n * @param {obj} object to freeze\r\n */\r\n/* tslint:disable:export-name */\r\nexport function deepFreeze(obj: Object): Object {\r\n/* tslint:enable:export-name */\r\n  if (!obj) {\r\n    return undefined;\r\n  }\r\n\r\n  if (!Object.isFrozen(obj)) {\r\n    Object.freeze(obj);\r\n  }\r\n\r\n  let depth: number = 0;\r\n  const func: (o: Object) => void = (o: Object): void => {\r\n\r\n    // Do not go more than 5 level deep\r\n    if (++depth > 5) {\r\n      return;\r\n    }\r\n\r\n    const propNames: string[] = Object.getOwnPropertyNames(o);\r\n\r\n    propNames.forEach((name: string) => {\r\n      const prop: Object = o[name];\r\n      if (typeof prop === 'object' && !!prop && !lodash.isElement(prop) && !Object.isFrozen(prop)) {\r\n        func(prop);\r\n      }\r\n    });\r\n  };\r\n\r\n  func(obj);\r\n  return obj;\r\n}\r\n"],"sourceRoot":"/src"}