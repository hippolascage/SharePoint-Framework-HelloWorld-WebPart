{"version":3,"sources":["webpack:///../webpack/bootstrap d719877e1c4d0106d05c","webpack:///..//src/local/bundles/index.ts","webpack:///..//src/local/bundles/platform-exports.ts","webpack:///../","webpack:///..//src/local/common/webParts/PropertyPaneDefinitions.ts","webpack:///..//src/local/clientSideWebParts/core/BaseClientSideWebPart.ts","webpack:///../external \"@microsoft/sp-lodash-subset\"","webpack:///..//src/index.ts","webpack:///../../common/~/@ms/odsp-utilities/lib/string/StringHelper.js","webpack:///../../common/~/@ms/odsp-utilities/lib/dateTime/DateTime.js","webpack:///../../common/~/@ms/odsp-utilities/lib/dateTime/DateTime.resx.js","webpack:///../../common/~/@ms/odsp-utilities/lib/locale/Locale.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/EventBase.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/Manager.js","webpack:///../../common/~/@ms/odsp-utilities/lib/object/ObjectUtil.js","webpack:///../../common/~/@ms/odsp-utilities/lib/encoding/UriEncoding.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/CorrelationVector.js","webpack:///../../common/~/@ms/odsp-utilities/lib/guid/Guid.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/Engagement.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/SingleEventBase.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/Nav.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/PLTHttpRequest.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/features/Features.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/Qos.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/PairedEventBase.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/ResultTypeEnum.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/ErrorHelper.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/CaughtError.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/QosError.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/Verbose.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/store/CircularBuffer.js","webpack:///../../common/~/@ms/odsp-utilities/lib/async/Async.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/odb/Beacon.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/BeaconBase.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/EventBatchCache.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/Beacon.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/xhr/XHR.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/odb/BeaconCache.js","webpack:///../../common/~/@ms/odsp-utilities/lib/models/store/BaseDataStore.js","webpack:///../../common/~/@ms/odsp-utilities/lib/models/store/DataStoreCachingType.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/odb/LogProcessor.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/PLT.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/UnhandledError.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/RequireJSError.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/events/RUMOneDataUpload.event.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/odb/DebugPriorityLevel.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/rumone/APICallPerformanceData.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/rumone/ControlPerformanceData.js","webpack:///../../common/~/@ms/odsp-utilities/lib/events/EventGroup.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/rumone/PageTransitionType.js","webpack:///../../common/~/@ms/odsp-utilities/lib/async/Promise.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneLogger.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneSLAPI.js","webpack:///../../common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneErrorsSLAPI.js","webpack:///../../common/~/@ms/odsp-utilities/lib/encoding/HtmlEncoding.js","webpack:///../../common/~/@ms/odsp-utilities/lib/dataSources/acronym/SiteHeaderLogoAcronym.js","webpack:///../../common/~/@ms/odsp-utilities/lib/dataSources/group/GroupDataSource.js","webpack:///../../common/~/@ms/odsp-utilities/lib/dataSources/group/MembersList.js","webpack:///../../common/~/@ms/odsp-utilities/lib/browser/PlatformDetection.js","webpack:///../../common/~/@ms/odsp-utilities/lib/uri/Uri.js","webpack:///..//src/AriaLogger.ts","webpack:///../../common/~/@ms/odsp-utilities/lib/beforeUnload/BeforeUnload.js","webpack:///../../common/~/@ms/odsp-utilities/lib/theming/FabricTheming.js","webpack:///../../common/~/@ms/odsp-utilities/lib/theming/HslColor.js","webpack:///../../common/~/@ms/odsp-utilities/lib/theming/RgbaColor.js","webpack:///../../common/~/@ms/odsp-utilities/lib/theming/Shades.js","webpack:///../../common/~/@ms/odsp-utilities/lib/theming/WebTheme.js","webpack:///../../common/~/@ms/odsp-utilities/lib/theming/ThemeProvider.js","webpack:///../../common/~/@ms/odsp-utilities/lib/theming/ThemeCache.js","webpack:///../external \"@microsoft/sp-client-base\"","webpack:///..//src/local/utilities/misc/Object.ts","webpack:///..//src/local/clientSideWebParts/core/loc/Strings.resx.ts","webpack:///../external \"resx-strings\"","webpack:///..//src/local/clientSideWebParts/core/styles/cswp-base.module.scss.ts","webpack:///.././lib/local/clientSideWebParts/core/styles/cswp-base.module.css?9ec2","webpack:///.././lib/local/clientSideWebParts/core/styles/cswp-base.module.css","webpack:///../../common/~/css-loader/lib/css-base.js","webpack:///..//source/index.ts","webpack:///..//src/local/clientSideWebParts/core/styles/cswp-loading-spinner.scss.ts","webpack:///.././lib/local/clientSideWebParts/core/styles/cswp-loading-spinner.css?2a09","webpack:///.././lib/local/clientSideWebParts/core/styles/cswp-loading-spinner.css","webpack:///..//src/local/clientSideWebParts/core/ReactWebPart.ts","webpack:///../external \"react\"","webpack:///../external \"react-dom\"","webpack:///..//src/local/clientSideWebParts/core/test/WebPartMocks.ts","webpack:///..//src/local/common/events/EventAggregator.ts","webpack:///..//src/local/common/events/ReservedEventNames.ts","webpack:///..//src/local/framework/shell/ClientSideApplication.ts","webpack:///..//src/local/framework/shell/SuiteNavManagerConfiguration.ts","webpack:///..//src/local/common/suiteNav/models/SuiteNavLinkIds.ts","webpack:///..//src/local/framework/pageContext/AppPageContext.ts","webpack:///..//src/local/framework/pageContext/ApplicationContext.ts","webpack:///..//src/local/framework/pageContext/PageContextItem.ts","webpack:///..//src/local/framework/basicTypes/GuidHelpers.ts","webpack:///..//src/local/framework/pageContext/SPWeb.ts","webpack:///..//src/local/framework/basicTypes/url.ts","webpack:///..//src/local/framework/pageContext/SPSite.ts","webpack:///..//src/local/framework/pageContext/SPList.ts","webpack:///..//src/local/framework/pageContext/SPListItem.ts","webpack:///..//src/local/framework/pageContext/SPUser.ts","webpack:///..//src/local/framework/pageContext/SPNavigationNodeCollection.ts","webpack:///..//src/local/framework/pageContext/PageContextCore.ts","webpack:///..//src/local/framework/pageContext/SPNavigationNode.ts","webpack:///..//src/local/appBase/components/sp-canvas/canvas/canvas/Canvas.ts","webpack:///..//src/local/appBase/components/sp-canvas/canvas/canvasComponent/CanvasComponent.tsx","webpack:///..//src/utilities/css.ts","webpack:///..//src/local/appBase/components/sp-canvas/canvas/canvasControl/CanvasControlFactory.ts","webpack:///..//src/local/appBase/components/sp-canvas/canvas/canvasControl/CanvasControlType.ts","webpack:///..//src/local/appBase/components/sp-rte/rte/SPRte.tsx","webpack:///..//src/local/appBase/components/sp-rte/rte/SPRteConfiguration.ts","webpack:///..//src/local/appBase/components/sp-canvas/loc/CanvasStrings.resx.ts","webpack:///..//src/local/appBase/components/sp-rte/formattingbar/SPRteFormattingBar.tsx","webpack:///../external \"office-ui-fabric-react\"","webpack:///..//src/local/appBase/components/sp-rte/formattingbar/SPRteFormattingBar.scss.ts","webpack:///.././lib/local/appBase/components/sp-rte/formattingbar/SPRteFormattingBar.css?1081","webpack:///.././lib/local/appBase/components/sp-rte/formattingbar/SPRteFormattingBar.css","webpack:///..//src/local/appBase/components/sp-rte/formattingbar/SPRteLinkDialog.tsx","webpack:///..//src/local/appBase/components/sp-canvas/a11y/CanvasA11y.ts","webpack:///..//src/local/appBase/components/sp-rte/quill/QuillEditor.ts","webpack:///..//src/local/appBase/components/sp-rte/quill/QuillLoader.ts","webpack:///..//src/local/appBase/components/canvas/canvas/ToolbarButton.tsx","webpack:///..//src/local/appBase/components/canvas/canvas/ToolbarButton.scss.ts","webpack:///.././lib/local/appBase/components/canvas/canvas/ToolbarButton.css?5fdd","webpack:///.././lib/local/appBase/components/canvas/canvas/ToolbarButton.css","webpack:///..//src/local/appBase/components/canvas/canvas/ToolbarSubmenu.tsx","webpack:///..//src/local/appBase/components/canvas/canvas/ToolbarSubmenu.scss.ts","webpack:///.././lib/local/appBase/components/canvas/canvas/ToolbarSubmenu.css?6555","webpack:///.././lib/local/appBase/components/canvas/canvas/ToolbarSubmenu.css","webpack:///..//src/local/appBase/components/sp-rte/rte/SPRte.scss.ts","webpack:///.././lib/local/appBase/components/sp-rte/rte/SPRte.css?a5a1","webpack:///.././lib/local/appBase/components/sp-rte/rte/SPRte.css","webpack:///..//src/local/appBase/components/canvas/sampleCanvasControls/WebPartZone.tsx","webpack:///..//src/local/appBase/components/sp-canvas/canvas/canvasZone/CanvasZone.tsx","webpack:///..//src/local/appBase/components/canvas/canvas/CanvasControlType.ts","webpack:///..//src/local/appBase/components/sp-canvas/canvas/canvasZone/CanvasZone.scss.ts","webpack:///.././lib/local/appBase/components/sp-canvas/canvas/canvasZone/CanvasZone.css?e6e9","webpack:///.././lib/local/appBase/components/sp-canvas/canvas/canvasZone/CanvasZone.css","webpack:///..//src/local/appBase/components/sp-canvas/canvas/canvasToolboxHint/CanvasToolboxHint.tsx","webpack:///..//src/local/appBase/components/sp-canvas/canvas/canvasToolboxHint/CanvasToolboxHint.scss.ts","webpack:///.././lib/local/appBase/components/sp-canvas/canvas/canvasToolboxHint/CanvasToolboxHint.css?32c5","webpack:///.././lib/local/appBase/components/sp-canvas/canvas/canvasToolboxHint/CanvasToolboxHint.css","webpack:///..//src/local/appBase/components/sp-canvas/canvas/confirmationDialog/ConfirmationDialog.tsx","webpack:///..//src/Button.ts","webpack:///..//src/components/Button/index.ts","webpack:///..//src/components/Button/Button.tsx","webpack:///..//src/utilities/object.ts","webpack:///../../common/~/process/browser.js","webpack:///..//src/components/Button/Button.Props.ts","webpack:///..//src/components/Button/Button.scss.ts","webpack:///..//src/Dialog.ts","webpack:///..//src/components/Dialog/index.ts","webpack:///..//src/components/Dialog/Dialog.tsx","webpack:///..//src/components/FocusTrapZone/index.ts","webpack:///..//src/components/FocusTrapZone/FocusTrapZone.tsx","webpack:///..//src/utilities/KeyCodes.ts","webpack:///..//src/utilities/eventGroup/EventGroup.ts","webpack:///..//src/utilities/focus.ts","webpack:///..//src/components/Dialog/Dialog.Props.ts","webpack:///..//src/Overlay.ts","webpack:///..//src/components/Overlay/index.ts","webpack:///..//src/components/Overlay/Overlay.tsx","webpack:///..//src/components/Overlay/Overlay.scss.ts","webpack:///..//src/Layer.ts","webpack:///..//src/components/Layer/index.ts","webpack:///..//src/components/Layer/Layer.tsx","webpack:///..//src/components/Layer/LayerHost.tsx","webpack:///..//src/Fabric.ts","webpack:///..//src/components/Fabric/index.ts","webpack:///..//src/components/Fabric/Fabric.tsx","webpack:///..//src/components/Layer/Layer.scss.ts","webpack:///..//src/components/Dialog/DialogFooter.tsx","webpack:///..//src/components/Dialog/Dialog.scss.ts","webpack:///..//src/components/Popup/index.ts","webpack:///..//src/components/Popup/Popup.tsx","webpack:///..//src/common/BaseComponent.ts","webpack:///..//src/utilities/Async/Async.ts","webpack:///..//src/utilities/decorators/withResponsiveMode.tsx","webpack:///..//src/local/appBase/components/sp-canvas/toolbar/Toolbar.tsx","webpack:///..//src/FocusZone.ts","webpack:///..//src/components/FocusZone/index.ts","webpack:///..//src/components/FocusZone/FocusZone.tsx","webpack:///..//src/components/FocusZone/FocusZone.Props.ts","webpack:///..//src/utilities/rtl.ts","webpack:///..//src/local/appBase/components/sp-canvas/toolbar/Toolbar.scss.ts","webpack:///.././lib/local/appBase/components/sp-canvas/toolbar/Toolbar.css?6090","webpack:///.././lib/local/appBase/components/sp-canvas/toolbar/Toolbar.css","webpack:///..//src/local/appBase/components/sp-canvas/toolbox/toolbox/Toolbox.tsx","webpack:///..//src/local/appBase/components/sp-canvas/toolbox/toolboxGroup/ToolboxGroup.tsx","webpack:///..//src/local/appBase/components/sp-canvas/toolbox/toolboxGroup/ToolboxGroup.scss.ts","webpack:///.././lib/local/appBase/components/sp-canvas/toolbox/toolboxGroup/ToolboxGroup.css?fec4","webpack:///.././lib/local/appBase/components/sp-canvas/toolbox/toolboxGroup/ToolboxGroup.css","webpack:///..//src/local/appBase/components/sp-canvas/toolbox/toolboxItem/ToolboxItem.tsx","webpack:///..//src/local/appBase/components/sp-canvas/toolbox/toolboxItem/ToolboxItem.scss.ts","webpack:///.././lib/local/appBase/components/sp-canvas/toolbox/toolboxItem/ToolboxItem.css?7550","webpack:///.././lib/local/appBase/components/sp-canvas/toolbox/toolboxItem/ToolboxItem.css","webpack:///..//src/local/appBase/components/sp-canvas/toolbox/toolboxItem/ToolBoxItemClassifier.ts","webpack:///..//src/local/appBase/components/sp-canvas/toolbox/toolbox/Toolbox.scss.ts","webpack:///.././lib/local/appBase/components/sp-canvas/toolbox/toolbox/Toolbox.css?c755","webpack:///.././lib/local/appBase/components/sp-canvas/toolbox/toolbox/Toolbox.css","webpack:///..//src/local/appBase/components/sp-canvas/canvas/canvasComponent/CanvasStore.ts","webpack:///..//src/local/appBase/components/canvas/canvas/CanvasWebPartHost.ts","webpack:///..//src/local/clientSideWebParts/core/ClientSideWebPartManager.ts","webpack:///..//src/importableSpModuleLoader.ts","webpack:///..//src/local/clientSideWebParts/core/ClientSideWebPartStatusRenderer.ts","webpack:///..//src/local/utilities/misc/Utils.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneController/PropertyPaneController.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneController/PropertyPaneController.module.scss.ts","webpack:///.././lib/local/clientSideWebParts/propertyPane/propertyPaneController/PropertyPaneController.module.css?f821","webpack:///.././lib/local/clientSideWebParts/propertyPane/propertyPaneController/PropertyPaneController.module.css","webpack:///..//src/local/clientSideWebParts/propertyPane/loc/Strings.resx.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneField/IPropertyPaneField.ts","webpack:///..//src/local/clientSideWebParts/core/WebPartContext.ts","webpack:///..//src/local/clientSideWebParts/core/ClientSideComponentContext.ts","webpack:///..//src/local/appBase/components/sp-canvas/canvas/canvas/Canvas.scss.ts","webpack:///.././lib/local/appBase/components/sp-canvas/canvas/canvas/Canvas.css?370f","webpack:///.././lib/local/appBase/components/sp-canvas/canvas/canvas/Canvas.css","webpack:///..//src/local/framework/shell/_spShell.ts","webpack:///..//src/local/framework/shell/Shell.ts","webpack:///..//src/local/common/suiteNav/SuiteNavManager.ts","webpack:///..//src/local/common/suiteNav/dataAccess/ISuiteNavDataSource.ts","webpack:///..//src/local/common/suiteNav/dataAccess/SPOSuiteNavDataSource.ts","webpack:///..//src/local/common/suiteNav/dataAccess/OnPremSuiteNavDataSource.ts","webpack:///..//src/local/common/suiteNav/O365ShellWrapper.ts","webpack:///..//src/local/common/suiteNav/FlexPaneWrapper.ts","webpack:///..//src/local/common/suiteNav/NavigationWrapper.ts","webpack:///..//src/local/common/spPageChrome/SPPageChrome.ts","webpack:///..//src/local/common/spPageChrome/SPThemeProvider.ts","webpack:///..//src/local/common/spPageChrome/SPWebTemplateIds.ts","webpack:///..//src/local/common/spPageChrome/SPPageChrome.scss.ts","webpack:///.././lib/local/common/spPageChrome/SPPageChrome.css?bc08","webpack:///.././lib/local/common/spPageChrome/SPPageChrome.css","webpack:///..//src/local/framework/shell/PreloadedDataReader.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneCustomField/PropertyPaneCustomField.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneButton/IPropertyPaneButton.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneButton/PropertyPaneButton.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneCheckBox/PropertyPaneCheckbox.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneChoiceGroup/PropertyPaneChoiceGroup.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneDropdown/PropertyPaneDropdown.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneHorizontalRule/PropertyPaneHorizontalRule.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneLabel/PropertyPaneLabel.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneLink/PropertyPaneLink.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneSlider/PropertyPaneSlider.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneTextField/PropertyPaneTextField.ts","webpack:///..//src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneToggle/PropertyPaneToggle.ts","webpack:///..//src/local/clientSideWebParts/core/classicPages/ClassicPageBootstrapper.ts","webpack:///..//src/local/clientSideWebParts/core/classicPages/ClassicPageHost.ts","webpack:///..//src/local/utilities/url/UrlUtilities.ts"],"names":[],"mappings":"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AC9B,sBAAqB,EAAE;AACvB,uBAAsB,KAAK;AAC3B;AACA;AACA,2BAA0B,EAAE;AAC5B;AACA,qBAAoB,EAAE,QAAQ,EAAE;AAChC;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,YAAW,OAAO;AAClB;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,cAAc;AACnE;AACA;AACA;AACA;AACA;AACA,kEAAiE,iCAAiC;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,4BAA4B;AACpE,oDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf;AACA,kLAAiL,EAAE;AACnL;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf;AACA,4KAA2K,EAAE;AAC7K;AACA;AACA,2BAA0B,EAAE;AAC5B,yHAAwH,EAAE;AAC1H,8EAA6E,EAAE;AAC/E;AACA;AACA,cAAa,EAAE;AACf;AACA,yKAAwK,EAAE;AAC1K;AACA;AACA,mEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD;AACnD,uEAAsE;AACtE,wEAAuE,qCAAqC,EAAE;AAC9G;AACA;AACA;AACA;AACA,2BAA0B,EAAE;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,4BAA4B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,EAAE;AACtC;AACA,iCAAgC,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA0E,kBAAkB;AAC5F,2EAA0E,sDAAsD,IAAI;AACpI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA0E,kBAAkB;AAC5F,2EAA0E,yEAAyE,IAAI;AACvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,kBAAkB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC5VA;AACA;AACA,oBAAmB,qPAAqP,EAAE,GAAG,EAAE,6kBAA6kB,EAAE,aAAa,EAAE,sEAAsE,EAAE,aAAa,EAAE,qnBAAqnB,EAAE,0EAA0E,EAAE,6BAA6B,EAAE,KAAK,EAAE,qDAAqD,EAAE,wEAAwE,EAAE,yCAAyC,EAAE,WAAW,EAAE,kEAAkE,EAAE,WAAW,EAAE,sCAAsC,EAAE,YAAY,EAAE,8IAA8I,EAAE,KAAK,EAAE,qCAAqC,EAAE,gBAAgB,EAAE,6CAA6C,EAAE,WAAW,EAAE,kOAAkO,EAAE,cAAc,EAAE,gCAAgC,EAAE,EAAE,EAAE;;;;;;;ACFnhF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,+CAA8C,cAAc;AAC5D;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,0DAA0D;AAC3D;AACA;AACA;AACA,EAAC,kEAAkE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA0E,kBAAkB;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,IAAI;AACnB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,gCAAgC;AACjC,+CAA8C,cAAc;AAC5D;;;;;;;ACvMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,UAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA4D;AAC5D;AACA,sDAAqD;AACrD;AACA;AACA;AACA,sDAAqD;AACrD;AACA;AACA,mDAAkD;AAClD;AACA;AACA;AACA,+DAA8D;AAC9D;AACA,6DAA4D;AAC5D;AACA,sDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,+DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA,oCAAmC,MAAM;AACzC;AACA;AACA;AACA,oCAAmC,aAAa;AAChD;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC3DA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACtEA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACxCA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACrEA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC;AACtC;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA,qBAAoB;AACpB;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AChEA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACtJA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACjKA;AACA;AACA;AACA;AACA;AACA,EAAC,wDAAwD;AACzD;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC5DA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACrFA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACjHA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAgE,gBAAgB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAkE,gBAAgB;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAiE,gBAAgB;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAuE,gBAAgB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtXA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC;AACxC,8BAA6B;AAC7B;AACA,wDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA,+CAA8C;AAC9C;AACA,oDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD;AAChD,mCAAkC;AAClC;AACA;AACA,EAAC,wBAAwB;AACzB,+CAA8C,cAAc;AAC5D;;;;;;;AC9YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA,8BAA6B,qCAAqC;AAClE;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,8BAA6B,sCAAsC;AACnE;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,4BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACzGA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD;AAChD,2CAA0C;AAC1C,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,4BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAA+D,0CAA0C;AACzG;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,kCAAkC;AACnC,+CAA8C,cAAc;AAC5D;;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,0DAA0D;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AClKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,oDAAoD;AACrD,+CAA8C,cAAc;AAC5D;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD,+BAA+B;AACnF;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,0DAAyD,gBAAgB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA,6CAA4C;AAC5C;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,iDAAgD;AAChD;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,iEAAgE;AAChE,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,EAAE;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,oCAAoC;AACrC,+CAA8C,cAAc;AAC5D;;;;;;;ACvaA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;AC/KA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACrHA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACrGA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,gDAAgD;AACjD;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,wDAAwD;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,uBAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,uBAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC/NA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,gDAAgD;AACjD;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,mBAAmB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,4BAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAsE,SAAS;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAsE,SAAS;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,6CAA6C;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,6BAA6B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,sCAAqC,kBAAkB;AACvD,sCAAqC,kBAAkB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D,WAAW,+BAA+B,EAAE,EAAE;AACxG;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,+BAA+B;AAC1D,kBAAiB;AACjB,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D,sBAAsB,cAAc,EAAE,oBAAoB,qBAAqB,cAAc,EAAE;AACzJ;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACt5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,oDAAoD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAA+D,qDAAqD;AACpH,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,kCAAkC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,wBAAwB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA4D,8DAA8D,GAAG;AAC7H,sDAAqD,8FAA8F,GAAG;AACtJ,6DAA4D,4EAA4E,GAAG;AAC3I;AACA,iDAAgD,qCAAqC;AACrF,+CAA8C,8CAA8C;AAC5F,gDAA+C,gDAAgD;AAC/F,gDAA+C,2CAA2C;AAC1F;AACA,gCAA+B,wBAAwB;AACvD;AACA;AACA;AACA;AACA,kBAAiB;AACjB,wFAAuF;AACvF;AACA,wCAAuC,6BAA6B;AACpE;AACA;AACA;AACA;AACA,sBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA,sBAAqB,yBAAyB;AAC9C;AACA,0BAAyB,2DAA2D,EAAE,6DAA6D;AACnJ;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA,8BAA6B;AAC7B;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,oEAAmE;AACnE;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,yBAAyB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,8BAA8B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,sCAAsC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,0BAA0B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,8BAA8B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAuE,wBAAwB,EAAE;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC;AACtC,wCAAuC;AACvC,iCAAgC;AAChC;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACnkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACZA;AACA;AACA;AACA;AACA,eAAc;AACd,eAAc;AACd,gBAAe;AACf,iBAAgB;AAChB,iBAAgB;AAChB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA8E,sBAAsB,EAAE;AACtG;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA,uGAAsG,sDAAsD;AAC5J;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,+BAA+B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAgE,EAAE;AAClE,+EAA8E,EAAE;AAChF,4EAA2E,EAAE,SAAS,EAAE;AACxF;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACnOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B,wBAAuB,yBAAyB;AAChD;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC5KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,gDAAgD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,kBAAkB;AAC7D,+CAA8C,kBAAkB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,0BAA0B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAqE,EAAE,EAAE,EAAE,EAAE,EAAE;AAC/E,sEAAqE,EAAE,EAAE,EAAE,EAAE,EAAE;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C,+BAA8B,8BAA8B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA8E;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;AACA;AACA,8EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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CAAC;iCACxF,CAAC;6BACH,CAAC;6BAAC,IAAI,CAAC,CAAC;iCACN,eAAe,CAAC,WAAW,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;6BAClD,CAAC;yBACH,CAAC;qBACH,CAAC;iBACH,CAAC;aACH,CAAC;aACD,gCAAgC;aAChC,eAAe,CAAC,IAAI,GAAG,SAAS,CAAC;aACjC,eAAe,CAAC,WAAW,CAAC,iBAAiB,EAAE,aAAa,CAAC,CAAC;aAC9D,eAAe,CAAC,WAAW,CAAC,kBAAkB,EAAE,2BAAmB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;aAEtF,GAAG,CAAC,CAAe,UAAc,EAAd,iCAAc,EAAd,4BAAc,EAAd,IAAc,CAAC;iBAA7B,IAAM,MAAI;iBACb,EAAE,CAAC,CAAC,MAAI,CAAC,CAAC,CAAC;qBACP,eAAe,CAAC,WAAW,CAAC,iBAAe,MAAM,EAAE,CAAC,CAAC,CAAC;iBAC1D,CAAC;cACF;aAED,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;SAC/C,CAAC;KACH,CAAC;KACH,iBAAC;AAAD,EAAC;AAvLD;6BAuLC;;;;;;;;AC5ND;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,mCAAmC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,gCAAgC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD,gBAAgB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA;;;;;;;;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,QAAQ;AACvB;AACA;AACA,mCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC/JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC;AACxC;AACA;AACA;AACA,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,wCAAwC;AACzC;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,UAAU;AACrB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,gBAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACjIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,0BAA0B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,oBAAoB,aAAa,EAAE,EAAE;AAC9C;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,iCAAiC;AAC1D,wCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD,sCAAsC;AAC7F;AACA;AACA;AACA;AACA,4DAA2D,wCAAwC;AACnG;AACA,wDAAuD,uCAAuC;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS,EAAE,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AClEA,iD;;;;;;ACAA;;;;IAIG;;AAEH,KAAY,MAAM,uBAAM,CAA6B,CAAC;AAEtD;;;;IAIG;AACH,iCAAgC;AAChC,qBAA2B,GAAW;KACtC,+BAA+B;KAC7B,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;SACT,MAAM,CAAC,SAAS,CAAC;KACnB,CAAC;KAED,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SAC1B,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACrB,CAAC;KAED,IAAI,KAAK,GAAW,CAAC,CAAC;KACtB,IAAM,IAAI,GAAwB,UAAC,CAAS;SAE1C,mCAAmC;SACnC,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,CA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;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;;AC9FtC,YAAY,WAAW;KACrB,wBAAwB;KACxB,iDAAM;KACN,mBAAmB;KACnB,iDAAM;AACR,EAAC,EALW,mBAAW,KAAX,mBAAW,QAKtB;AALD,KAAY,WAAW,GAAX,mBAKX;AAED,YAAY,UAAU;KACpB,+CAAM;KACN,iDAAO;KACP,2CAAI;KACJ,mDAAQ;KACR,iDAAO;KACP,2CAAI;AACN,EAAC,EAPW,kBAAU,KAAV,kBAAU,QAOrB;AAPD,KAAY,UAAU,GAAV,kBAOX;;;;;;;;;AC/ED,gDAA2B,EAAoB,CAAC;AAEhD,gCAAU,CAAC,o+VAAo+V,CAAC,CAAC;;;;;;;;;;;;ACFj/V,8BAAc,GAA2B,CAAC;AAC1C,mCAAkC,GAA2B,CAAC;AAArD,kCAAqD;;;;;;;;;;;;ACD9D,8BAAc,GAAU,CAAC;AACzB,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","file":"sp-client-preview.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp4d5eb168_6729_49a8_aec7_0e397f486b6e\"];\n \twindow[\"webpackJsonp4d5eb168_6729_49a8_aec7_0e397f486b6e\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n \t\twhile(callbacks.length)\n \t\t\tcallbacks.shift().call(null, __webpack_require__);\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// \"0\" means \"already loaded\"\n \t// Array means \"loading\", array contains callbacks\n \tvar installedChunks = {\n \t\t0:0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn callback.call(null, __webpack_require__);\n\n \t\t// an array means \"currently loading\".\n \t\tif(installedChunks[chunkId] !== undefined) {\n \t\t\tinstalledChunks[chunkId].push(callback);\n \t\t} else {\n \t\t\t// start chunk loading\n \t\t\tinstalledChunks[chunkId] = [callback];\n \t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\tvar script = document.createElement('script');\n \t\t\tscript.type = 'text/javascript';\n \t\t\tscript.charset = 'utf-8';\n \t\t\tscript.async = true;\n\n \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({\"1\":\"sp-client-telemetry\",\"2\":\"sp-client-preview-quill\",\"3\":\"sp-client-preview-propertypane\"}[chunkId]||chunkId) + \"_\" + {\"1\":\"e984992cc077a9bc559c\",\"2\":\"dbac8ef61c258f395be0\",\"3\":\"53482bcda2fd60095a7c\"}[chunkId] + \".js\";\n \t\t\thead.appendChild(script);\n \t\t}\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d719877e1c4d0106d05c\n **/","export * from './platform-exports';\n\n\n/** WEBPACK FOOTER **\n ** /src/local/bundles/index.ts\n **/","require('set-webpack-public-path!');\r\n\r\nexport { default as IWebPartContext } from '../clientSideWebParts/core/IWebPartContext';\r\nexport { default as IWebPartData, IHtmlProperties } from '../clientSideWebParts/core/IWebPartData';\r\nexport { default as IWebPartEvent } from '../clientSideWebParts/core/IWebPartEvent';\r\nexport { default as IWebPartHost } from\r\n'../common/webParts/IWebPartHost';\r\nexport { WebPartConfigurationEvent, IWebPartConfigurationEventCallback } from\r\n'../common/webParts/PropertyPaneDefinitions';\r\nexport { default as BaseClientSideWebPart } from '../clientSideWebParts/core/BaseClientSideWebPart';\r\nexport { default as ReactWebPart, IReactWebPartProps } from '../clientSideWebParts/core/ReactWebPart';\r\nexport { MockWebPartContext } from '../clientSideWebParts/core/test/WebPartMocks';\r\nexport { default as ReservedEventNames } from '../common/events/ReservedEventNames';\r\nexport { default as ClientSideApplication } from '../framework/shell/ClientSideApplication';\r\nexport { default as ISuiteNavManagerConfiguration } from '../common/suiteNav/ISuiteNavManagerConfiguration';\r\nexport {\r\n  default as PageContext,\r\n  appPageContextServiceKey as pageContextServiceKey } from '../framework/pageContext/AppPageContext';\r\nexport { default as SPSite } from '../framework/pageContext/SPSite';\r\nexport { default as SPWeb } from '../framework/pageContext/SPWeb';\r\nexport { default as SPList } from '../framework/pageContext/SPList';\r\nexport { default as SPListItem } from '../framework/pageContext/SPListItem';\r\nexport { default as SPNavigationNode } from '../framework/pageContext/SPNavigationNode';\r\nexport { default as SPNavigationNodeCollection } from '../framework/pageContext/SPNavigationNodeCollection';\r\nexport { default as SPUser } from '../framework/pageContext/SPUser';\r\nexport { default as IClientSideWebPartStatusRenderer } from\r\n'../common/webParts/IClientSideWebPartStatusRenderer';\r\nexport { default as Canvas } from '../appBase/components/sp-canvas/canvas/canvas/Canvas';\r\nexport { default as CanvasControlType } from '../appBase/components/canvas/canvas/CanvasControlType';\r\nexport { IShell } from '../framework/shell/Shell';\r\nexport { default as _spShell } from '../framework/shell/_spShell';\r\nexport {\r\n  IPropertyPaneData,\r\n  IPropertyPaneSettings\r\n} from '../clientSideWebParts/propertyPane/propertyPane/IPropertyPane';\r\n\r\nexport {\r\n  IPropertyPanePage,\r\n  IPropertyPanePageHeader\r\n} from '../clientSideWebParts/propertyPane/propertyPanePage/IPropertyPanePage';\r\n\r\nexport { IPropertyPaneGroup } from '../clientSideWebParts/propertyPane/propertyPaneGroup/IPropertyPaneGroup';\r\n\r\nexport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneField/IPropertyPaneField';\r\n\r\nexport {\r\n  IPropertyPaneCustomFieldProps\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneCustomField/IPropertyPaneCustomField';\r\n\r\nexport {\r\n  PropertyPaneCustomField\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneCustomField/PropertyPaneCustomField';\r\n\r\nexport {\r\n  IPropertyPaneButtonProps,\r\n  PropertyPaneButtonType\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneButton/IPropertyPaneButton';\r\n\r\nexport {\r\n  PropertyPaneButton\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneButton/PropertyPaneButton';\r\n\r\nexport {\r\n  IPropertyPaneCheckboxProps\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneCheckBox/IPropertyPaneCheckbox';\r\n\r\nexport {\r\n  PropertyPaneCheckbox\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneCheckBox/PropertyPaneCheckbox';\r\n\r\nexport {\r\n  IPropertyPaneChoiceGroupProps,\r\n  IPropertyPaneChoiceGroupOption\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneChoiceGroup/IPropertyPaneChoiceGroup';\r\n\r\nexport {\r\n  PropertyPaneChoiceGroup\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneChoiceGroup/PropertyPaneChoiceGroup';\r\n\r\nexport {\r\n  IPropertyPaneDropdownProps,\r\n  IPropertyPaneDropdownOption\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneDropDown/IPropertyPaneDropdown';\r\n\r\nexport {\r\n  PropertyPaneDropdown\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneDropDown/PropertyPaneDropDown';\r\n\r\nexport {\r\n  PropertyPaneHorizontalRule\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneHorizontalRule/PropertyPaneHorizontalRule';\r\n\r\nexport {\r\n  IPropertyPaneLabelProps\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneLabel/IPropertyPaneLabel';\r\n\r\nexport {\r\n  PropertyPaneLabel\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneLabel/PropertyPaneLabel';\r\n\r\nexport {\r\n  IPropertyPaneLinkProps\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneLink/IPropertyPaneLink';\r\n\r\nexport {\r\n  PropertyPaneLink\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneLink/PropertyPaneLink';\r\n\r\nexport {\r\n  IPropertyPaneSliderProps\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneSlider/IPropertyPaneSlider';\r\n\r\nexport {\r\n  PropertyPaneSlider\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneSlider/PropertyPaneSlider';\r\n\r\nexport {\r\n  IPropertyPaneTextFieldProps\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneTextField/IPropertyPaneTextField';\r\n\r\nexport {\r\n  PropertyPaneTextField\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/PropertyPaneTextField/PropertyPaneTextField';\r\n\r\nexport {\r\n  IPropertyPaneToggleProps\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneToggle/IPropertyPaneToggle';\r\n\r\nexport {\r\n  PropertyPaneToggle\r\n} from '../clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneToggle/PropertyPaneToggle';\r\n\r\nexport { default as ClassicPageBootstrapper } from '../clientSideWebParts/core/classicPages/ClassicPageBootstrapper';\r\nexport { default as IOdataList } from '../framework/httpClient/odataTypes/IOdataList';\r\nexport { default as IOdataListItem } from '../framework/httpClient/odataTypes/IOdataListItem';\r\nexport { default as IOdataUser, IOdataUserId } from '../framework/httpClient/odataTypes/IOdataUser';\r\nexport { default as GuidHelpers } from '../framework/basicTypes/GuidHelpers';\r\nexport {\r\n  getPathNameFromAbsoluteUrl,\r\n  combineURLPaths } from '../utilities/url/UrlUtilities';\r\nexport { default as EventAggregator } from '../common/events/EventAggregator';\r\nexport { IEvent, IEventAggregator, IEventCallback } from '../common/events/IEvent';\n\n\n/** WEBPACK FOOTER **\n ** /src/local/bundles/platform-exports.ts\n **/","var scripts = document.getElementsByTagName('script');\r\nvar regex = new RegExp('ScriptLoadName-DoNotChange', 'i');\r\nvar found = false;\r\n\r\nif (scripts && scripts.length) {\r\n  for (var i = 0; i < scripts.length; i++) {\r\n    if (!scripts[i]) continue;\r\n    var path = scripts[i].getAttribute('src');\r\n    if (path && path.match(regex)) {\r\n      __webpack_public_path__ = path.substring(0, path.lastIndexOf('/') + 1);\r\n      found = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nif (!found) {\r\n  for (var global in window.__setWebpackPublicPathLoaderSrcRegistry__) {\r\n    if (global && global.match(regex)) {\r\n      __webpack_public_path__ = global.substring(0, global.lastIndexOf('/') + 1);\r\n      break;\r\n    }\r\n  }\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@microsoft/loader-set-webpack-public-path/lib!\n ** module id = 2\n ** module chunks = 0\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPane definitions.\r\n */\r\n\r\n/**\r\n * WebPart PropertyPane configuration events\r\n */\r\nexport enum WebPartConfigurationEvent {\r\n  ConfigurationComplete = 1,\r\n  OpenComplete = 2,\r\n  CloseComplete = 3,\r\n  ApplyClicked = 4,\r\n  LostFocus = 5\r\n}\r\n\r\n/**\r\n * Describes the PropertyPane state.\r\n */\r\nexport enum PropertyPaneState {\r\n\r\n  // PropertyPane's open state.\r\n  Open = 1,\r\n\r\n  // PropertyPane's close state.\r\n  Close = 2,\r\n\r\n  // PropertyPane's Toggle state.\r\n  Toggle = 3,\r\n\r\n  // PropertyPane's default state.\r\n  // if it's Open it remains open with the newly selected web part's context.\r\n  // If it's closed it stays closed.\r\n  Default\r\n}\r\n\r\n/**\r\n * Configuration event callback\r\n */\r\nexport interface IWebPartConfigurationEventCallback {\r\n  /* tslint:disable:no-any */\r\n  // @todo (SPPPLAT VSO#216544): change the any to IWebPartData\r\n  (event: WebPartConfigurationEvent, data?: any): void;\r\n  /* tslint:enable:no-any */\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/webParts/PropertyPaneDefinitions.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Base class for client side web parts.\r\n */\r\n/* tslint:disable:member-ordering */\r\n\r\n'use strict';\r\n\r\nimport * as lodash from '@microsoft/sp-lodash-subset';\r\nimport { StringHelper } from '@ms/odsp-utilities-bundle';\r\nimport {\r\n  DisplayMode,\r\n  Validate,\r\n  _ILogSource,\r\n  _LogSource,\r\n  _PerformanceLogger,\r\n  _TraceLogger,\r\n  _QosMonitor } from '@microsoft/sp-client-base';\r\nimport { IClientSideWebPartManifestInstance } from '@microsoft/sp-module-interfaces';\r\n\r\nimport { PropertyPaneState } from '../../common/webParts/PropertyPaneDefinitions';\r\nimport {\r\n  IPropertyPaneData,\r\n  IPropertyPaneSettings } from '../propertyPane/propertyPane/IPropertyPane';\r\nimport IWebPartContext from './IWebPartContext';\r\nimport IWebPartEvent from './IWebPartEvent';\r\nimport { default as IWebPartData, IHtmlProperties } from './IWebPartData';\r\nimport { deepFreeze } from '../../utilities/misc/Object';\r\n\r\nimport strings from './loc/Strings.resx';\r\n\r\nimport baseStyles from './styles/cswp-base.module.scss';\r\nimport './styles/cswp-loading-spinner.scss';\r\n\r\n/**\r\n * This abstract class implements the the base functionality for a client side web part. Every client side web part\r\n * needs to inherit from this class. Along with the base functionality, this class provides some APIs that can be\r\n * used by the web part. These APIs fall in two catagories.\r\n *\r\n * The first category of APIs provide data and functionality. Example, the web part context (i.e. this.context). This\r\n * API should be used to access contextual data relevant to this web part instance.\r\n *\r\n * The second category of APIs provide a base implementation for the web part lifecycle and can be overridden for an\r\n * updated implementation. The render() API is the only API that is mandatory to be implemented/overridden by a web\r\n * part. All other life cycle APIs have a base implementation and can be overridden based on the needs of the web part.\r\n * Please refer to the documentation of the individual APIs to make the right decision.\r\n */\r\nexport default class BaseClientSideWebPart<TProperties> {\r\n  private _displayMode: DisplayMode;\r\n  private _context: IWebPartContext;\r\n  private _properties: TProperties;\r\n  private _logEntry: string;\r\n  private _initialized: boolean = false;\r\n  private _renderedOnce: boolean;\r\n  private _renderedFromDefaultProperties: boolean;\r\n  private _propertiesBackup: TProperties;\r\n  private _previousState: string;\r\n  private _logSource: _ILogSource = _LogSource.create('BaseClientSideWebPart');\r\n\r\n  // Readonly protected properties. To change these to readonly once TypeScript supports that feature.\r\n\r\n  /**\r\n   * This property is a pointer to the web part context.\r\n   * @see IWebPartContex for more details.\r\n   *\r\n   * @readonly\r\n   */\r\n  protected get context(): IWebPartContext { return this._context; }\r\n\r\n  /**\r\n   * This property is a pointer to the root DOM element of the web part. This is a DIV element and contains the whole\r\n   * DOM subtree of the web part.\r\n   *\r\n   * @readonly\r\n   */\r\n  protected get domElement(): HTMLElement { return this._context.domElement; }\r\n\r\n  /**\r\n   * This property is the current display mode of the web part.\r\n   *\r\n   * @readonly\r\n   */\r\n  protected get displayMode(): DisplayMode { return this._displayMode; }\r\n\r\n  /**\r\n   * This property is the pointer to the custom property bag of the web part.\r\n   *\r\n   * @readonly\r\n   */\r\n  protected get properties(): TProperties { return this._properties; }\r\n\r\n  /**\r\n   * This property indicates whether the web part has been rendered once or not. After the first time rendering,\r\n   * the value of this property is always true. Till a full re-render of the web part happens.\r\n   *\r\n   * @readonly\r\n   */\r\n  protected get renderedOnce(): boolean { return this._renderedOnce; }\r\n\r\n  /**\r\n   * This property indicates whether the web part was rendered from the default properties, as opposed to using\r\n   * serialized state from the last time that the web part was saved.\r\n   *\r\n   * @readonly\r\n   */\r\n  protected get renderedFromDefaultProperties(): boolean { return this._renderedFromDefaultProperties; }\r\n\r\n  /**\r\n   * This property is the pointer to the web part configuration settings. If the web part wants to use the PropertyPane\r\n   * for configuration, this API needs to be overridden and the web part needs to return the set of properties it wants\r\n   * to display in the PropertyPane.\r\n   *\r\n   * @see IPropertyPane and other PropertyPane integration wiki documentation for more details.\r\n   *\r\n   * @readonly\r\n   */\r\n  protected get propertyPaneSettings(): IPropertyPaneSettings { return undefined; }\r\n\r\n  /**\r\n   * This property is used to change the web part's PropertyPane interaction from Reactive to NonReactive. The default\r\n   * behaviour is Reactive. Where,\r\n   * Reactive implies that changes made in the PropertyPane are transmitted to the web part instantly and the user can\r\n   * see instant updates. This helps the page creator get instant feedback and decide if they should keep the new\r\n   * configuration changes or not.\r\n   * NonReactive implies that the configuraiton changes are transmitted to the web part only after 'Apply' PropertyPane\r\n   * button is clicked.\r\n   *\r\n   * @readonly\r\n   */\r\n  protected get disableReactivePropertyChanges(): boolean { return false; }\r\n\r\n  /**\r\n   * This property points to the preview image for the web part. The base implementation returns undefined. Web parts\r\n   * that want to provide a valid preview image url need to override this API. The preview image url can be used to\r\n   * create a preview of the web part or of the page on which the web part is present.\r\n   *\r\n   * @readonly\r\n   */\r\n  protected get previewImageUrl(): string { return undefined; }\r\n\r\n  /**\r\n   * This property points to the accessible title of web part made available to screen readers. The base implementation\r\n   * returns that default title in the manifest. Web parts that want to provide more descriptive title containing\r\n   * contextual information need to override this API.\r\n   *\r\n   * @readonly\r\n   */\r\n  protected get accessibleTitle(): string { return this._getDefaultAccessibleTitle(); }\r\n\r\n  /**\r\n   * Error on attempt to set readonly properties. The following properties will go away when TypeScript supports\r\n   * readonly.\r\n   * @internal\r\n   */\r\n  protected set context(o: IWebPartContext) { this._throwReadOnlyError(); }\r\n  protected set domElement(o: HTMLElement) { this._throwReadOnlyError(); }\r\n  protected set manifest(o: IClientSideWebPartManifestInstance<TProperties>) { this._throwReadOnlyError(); }\r\n  protected set instanceId(o: string) { this._throwReadOnlyError(); }\r\n  protected set displayMode(o: DisplayMode) { this._throwReadOnlyError(); }\r\n  protected set renderedOnce(o: boolean) { this._throwReadOnlyError(); }\r\n  protected set renderedFromDefaultProperties(o: boolean) { this._throwReadOnlyError(); }\r\n  protected set properties(o: TProperties) { this._throwReadOnlyError(); }\r\n  protected set previewImageUrl(o: string) { this._throwReadOnlyError(); }\r\n  protected set accessibleTitle(o: string) { this._throwReadOnlyError(); }\r\n\r\n  /**\r\n   * Constructor for the BaseClientSideWebPart class.\r\n   * If a sub class overrides the constructor, it needs to call super(context) as the first line of its constructor.\r\n   *\r\n   * @param context - web part context.\r\n   *\r\n   * e.g.\r\n   *   constructor(conext: IWebPartContext) {\r\n   *     super(context);\r\n   *     .\r\n   *     . class specific constructor code ..\r\n   *   }\r\n   */\r\n  constructor(ctx: IWebPartContext) {\r\n\r\n    // Disallow instantiation of the base class by itself\r\n    /* tslint:disable:no-string-literal */\r\n    if (this.constructor['name'] === 'BaseClientSideWebPart') {\r\n    /* tslint:enable:no-string-literal */\r\n      throw new Error(strings.BaseConstructError);\r\n    }\r\n\r\n    /* tslint:disable:use-named-parameter */\r\n    const context: IWebPartContext = arguments[0];\r\n    /* tslint:enable:use-named-parameter */\r\n    this._processInputParams(context);\r\n\r\n    _TraceLogger.logVerbose(this._logSource, StringHelper.format(strings.ConstructLog, this.context.instanceId));\r\n    this._initialized = true;\r\n    this._renderedOnce = false;\r\n\r\n    /* tslint:disable:no-string-literal */\r\n    this['__type'] = 'BaseClientSideWebPart';\r\n    /* tslint:enable:no-string-literal */\r\n\r\n    // Bind the callbacks\r\n    this.render = this.render.bind(this);\r\n    this.dispose = this.dispose.bind(this);\r\n    this.renderError = this.renderError.bind(this);\r\n    this.clearError = this.clearError.bind(this);\r\n    this.onPropertyConfigurationComplete = this.onPropertyConfigurationComplete.bind(this);\r\n    this.onPropertyPaneRendered = this.onPropertyPaneRendered.bind(this);\r\n  }\r\n\r\n  /**\r\n   * This API is called once during the lifetime of the web part during the intial render and just before the onInit\r\n   * API call. The purpose of this API is to help a web part developer deserialize the web part data and manage the\r\n   * versioning of their data as the web part code evolves. The web part data may have been persisted with an older\r\n   * or newer version of the web part code. This API gives the web part developer an opportunity to re-structure their\r\n   * data to the appropriate data schema. The persisted data contains the version number information. That information\r\n   * can be used to make decisions on how to re-structure the data.\r\n   *\r\n   * @param data - web part persisted data.\r\n   * @return - web part property bag.\r\n   *\r\n   */\r\n  protected deserialize(data: IWebPartData): TProperties {\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * This API should be overridden to perform long running operations e.g. data fetching from a remote service before\r\n   * the initial rendering of the web part. The loading indicator is displayed during the lifetime of this method.\r\n   * This API is called only once during the lifecycle of a web part.\r\n   */\r\n  protected onInit<T>(): Promise<T> {\r\n    return this._genericAsyncHandler();\r\n  }\r\n\r\n  /**\r\n   * This API is called to render the web part. There is no base implementation of this API and the web part is\r\n   * required to override this API.\r\n   */\r\n  public render(): void {\r\n    throw new Error(strings.MustOverrideRenderError);\r\n  }\r\n\r\n  /**\r\n   * This API is called when the display mode of a web part is changed. The default implementation of this API calls\r\n   * the web part render method to re-render the web part with the new display mode. If a web part developer does not\r\n   * want a full re-render to happen on display mode change, they can override this API and perform specific updates\r\n   * to the web part DOM to switch its display mode.\r\n   *\r\n   * @param oldDisplayMode - The old display mode.\r\n   *\r\n   */\r\n  protected onDisplayModeChanged(oldDisplayMode: DisplayMode): void {\r\n\r\n    // This API should not be called when there was no change in display mode.\r\n    Validate.isTrue(oldDisplayMode !== this.displayMode, strings.OnDisplayModeChangedInvalidInvocation);\r\n    this._renderWithAccessibileTitle();\r\n  }\r\n\r\n  /**\r\n   * This API is called before a web part is serialized. The default implementation is a no-op. A web part developer\r\n   * is expected to override this API when the web part's state is not fully reflected in the property bag i.e.\r\n   * this.properties. In the overridden method, the web part developer is expected to update the state of the web\r\n   * part property bag. This way the web part serialization process will use the upto date state of the web part.\r\n   *\r\n   * @return - reference to searchable properties and properties that need link fixup. Please read\r\n   * the documentation of IHtmlProperties interface for more details.\r\n   */\r\n  protected onBeforeSerialize(): IHtmlProperties {\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * This API is used to receive custom event notifications from the host page or another web part. ReservedEventNames\r\n   * defines some reserved events. Each web part may process web part specific events.\r\n   *\r\n   * @param eventName - Event name, such as \"configure:start\".\r\n   * @param eventObject - object containing event source, destination and property information.\r\n   *\r\n   * @internal\r\n   */\r\n  protected onEvent<T>(eventName: string, eventObject: IWebPartEvent<T>): void {\r\n    /* EMPTY BLOCK */\r\n  }\r\n\r\n  /**\r\n   * This API is called at the end of the web part lifecycle. It should be overridden to dispose any\r\n   * resources that the web part is holding onto.\r\n   */\r\n  protected dispose(): void {\r\n    /* EMPTY BLOCK */\r\n  }\r\n\r\n  /**\r\n   * This API should be used to invoke the PropertyPane to help configure the web part.\r\n   *\r\n   * @param boolean - If specified and true - refresh a PropertyPane that's already been open, but not open\r\n   * if it is not already open.\r\n   */\r\n  protected configureStart(refreshOnly?: boolean): void {\r\n     const state: PropertyPaneState = refreshOnly ? PropertyPaneState.Default : PropertyPaneState.Open;\r\n     this._context.configureStart(this.context.instanceId, state);\r\n  }\r\n\r\n  /**\r\n   * This API is invoked on property changes in the PropertyPane when the PropertyPane is being used in Reactive mode.\r\n   * The base implementation of this API updates the web part property bag and re-render the web part. This API also\r\n   * invokes the web part host's setDirty API.\r\n   *\r\n   * @param propertyPath - JSON path of the property in the property bag.\r\n   * @param newValue - New value of the property.\r\n   */\r\n  /* tslint:disable:no-any */\r\n  protected onPropertyChange(propertyPath: string, newValue: any): void {\r\n  /* tslint:enable:no-any */\r\n    this._updateProperty(propertyPath, newValue);\r\n\r\n    if (this.context.host.setDirty) {\r\n      this.context.host.setDirty(this.context.instanceId);\r\n    }\r\n\r\n    if (!this.disableReactivePropertyChanges) {\r\n        this._renderWithAccessibileTitle();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This API is called when the current web part configuration process is completed. ConfigurationComplete event\r\n   * is fired when user switches between web parts while the PropertyPane is open, and this event handler is called\r\n   * for the previously selected web part.\r\n   *\r\n   */\r\n  protected onPropertyConfigurationComplete(): void {\r\n    /* EMPTY BLOCK */\r\n  }\r\n\r\n  /**\r\n   * This API is involed when the PropertyPane is rendered.\r\n   */\r\n  protected onPropertyPaneRendered(): void {\r\n    /* EMPTY BLOCK */\r\n  }\r\n\r\n  /**\r\n   * this API is invoked when the the changes are applied on the PropertyPane when the PropertyPane is used in\r\n   * Non-Reactive mode. This API is not invoked when the PropertyPane is used in Reactive mode.\r\n   */\r\n  protected onPropertyPaneSave(): void {\r\n\r\n    if (this.disableReactivePropertyChanges) {\r\n        this._renderWithAccessibileTitle();\r\n    }\r\n\r\n    this._propertiesBackup = undefined;\r\n  }\r\n\r\n  /**\r\n   * This API should be used to render an error message in the web part display area. Also logs the error message\r\n   * using the trace logger.\r\n   *\r\n   * @param error - An error object containing the error message to render.\r\n   */\r\n  protected renderError(error: Error): void {\r\n    this.context.statusRenderer.clearLoadingIndicator(this.domElement);\r\n    this.context.statusRenderer.renderError(this.domElement, error);\r\n    _TraceLogger.logError(this._logSource, error);\r\n  }\r\n\r\n  /**\r\n   * This API should be used to clear the error message from the web part display area.\r\n   */\r\n  protected clearError(): void {\r\n    this.context.statusRenderer.clearError(this.domElement);\r\n  }\r\n\r\n  /**\r\n   * Internal base implemenation of the web part data deserialization.\r\n   *\r\n   * @param data - web part data\r\n   */\r\n  private _internalDeserialize(data: IWebPartData): void {\r\n    if (data && data.properties) {\r\n\r\n      // Give the web part an opportunity to deserialize the properties. If the web part\r\n      // returns a valid property bag, use it as is else perform default deserialization.\r\n      const p: TProperties = this.deserialize(data);\r\n      if (p) {\r\n        this._properties = p;\r\n      } else {\r\n        this._properties = data.properties;\r\n        this._renderedFromDefaultProperties = false;\r\n\r\n        // @todo: (SPPPLAT VSO#227730) removing a regression caused by manifest V2 change. The manifest\r\n        // is a part of the properties blob. Which then gets serialized into the page blob.\r\n        /* tslint:disable:no-string-literal */\r\n        delete data.properties['manifest'];\r\n        /* tslint:enable:no-string-literal */\r\n      }\r\n    } else {\r\n      this._renderedFromDefaultProperties = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Internal API for the first time render of the web part. The purpose of this API is to enforce intialization steps\r\n   * before the actual render is called. This API is called only once during the web part loading lifecycle.\r\n   *\r\n   * @return {Promise<void>} The promise indicates the render loop is finished (success or fail).\r\n   */\r\n  /* tslint:disable:no-unused-variable */\r\n  private _internalFirstTimeRender(\r\n    mode: DisplayMode = DisplayMode.Read,\r\n    qosMonitor?: _QosMonitor,\r\n    data?: IWebPartData): Promise<void> {\r\n    /* tslint:enable:no-unused-variable */\r\n    if (!this._initialized) {\r\n      qosMonitor.writeUnexpectedFailure('BaseConstructorNotCalled');\r\n      throw new Error(strings.BaseConstructorNotCalledError);\r\n    }\r\n\r\n    // Set the display mode of the web part\r\n    this._displayMode = mode;\r\n\r\n    // Deserialize the web part data\r\n    this._internalDeserialize(data);\r\n\r\n    // By this point in the lifecycle the web part should have a non-null property bag.\r\n    if (!this._properties) {\r\n      qosMonitor.writeUnexpectedFailure('PropertyBagNull');\r\n      throw new Error(strings.PropertyBagNullError);\r\n    }\r\n\r\n    // Perform web part initialization and then render the web part.\r\n    const promise: Promise<{}> = this.onInit<{}>();\r\n\r\n    if (!promise) {\r\n      throw new Error(strings.OnInitReturnedNullPromise);\r\n    }\r\n\r\n    return promise.then(() => {\r\n      _PerformanceLogger.markComponent(this.context.webPartTag, 'init');\r\n      this.context.statusRenderer.clearLoadingIndicator(this.domElement);\r\n\r\n      this._renderWithAccessibileTitle();\r\n      this._renderedOnce = true;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Internal API to switch the web part's display mode. This API updates the display mode and then re-renders the web\r\n   * part in the new mode.\r\n   */\r\n  /* tslint:disable:no-unused-variable */\r\n  private _internalSetDisplayMode(newDisplayMode: DisplayMode): void {\r\n  /* tslint:enable:no-unused-variable */\r\n    if (this._displayMode !== newDisplayMode) {\r\n      const oldDisplayMode: DisplayMode = this._displayMode;\r\n      this._displayMode = newDisplayMode;\r\n      this.onDisplayModeChanged(oldDisplayMode);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Internal API to get property pane settings.\r\n   *\r\n   * @return Property pane data\r\n   */\r\n  /* tslint:disable:no-unused-variable */\r\n  private _internalGetPropertyPaneSettings(): IPropertyPaneData {\r\n  /* tslint:enable:no-unused-variable */\r\n\r\n    // Keep a copy of the properties to be used for discard\r\n    if (!this._propertiesBackup) {\r\n      this._propertiesBackup = lodash.cloneDeep(this.properties);\r\n    }\r\n\r\n    return {\r\n      webPartId: this.context.instanceId,\r\n      title: this.context.manifest.title.default,\r\n      isReactive: !this.disableReactivePropertyChanges,\r\n      settings: this.propertyPaneSettings,\r\n      properties: lodash.cloneDeep(this.properties),\r\n\r\n      // The following handlers are being overridden in the PropertyPane controller and hence\r\n      // we do not need to bind them here. We still do not want to make them optional because\r\n      // that could lead to unwanted bugs.\r\n      onPropertyChange: undefined,\r\n      onClose: undefined,\r\n      onSave: undefined,\r\n      onConfigurationComplete: this.onPropertyConfigurationComplete,\r\n      onRendered: this.onPropertyPaneRendered,\r\n      onLostFocus: undefined\r\n    } as IPropertyPaneData;\r\n  }\r\n\r\n  /**\r\n   * Internal API to set the dirty bit on the web part host if the web part properties have changed.\r\n   */\r\n  /* tslint:disable:no-unused-variable */\r\n  private _internalSetDirtyBit(): void {\r\n  /* tslint:enable:no-unused-variable */\r\n\r\n    const serializedState: IWebPartData = this._internalSerialize();\r\n    const newState: string = JSON.stringify(serializedState);\r\n\r\n    // Don't set dirty bit the first time because the Canvas\r\n    // would have done it when the webpart got added.\r\n    if (!this._previousState) {\r\n      this._previousState = newState;\r\n    } else if (this._previousState !== newState && this.context.host.setDirty) {\r\n      this.context.host.setDirty(this.context.instanceId, serializedState);\r\n      this._previousState = newState;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Internal API to serialize the web part properties.\r\n   */\r\n  private _internalSerialize(): IWebPartData {\r\n\r\n    const htmlProps: IHtmlProperties = this.onBeforeSerialize();\r\n    const htmlPropsString: string = this._getHtmlProps(htmlProps);\r\n\r\n    return {\r\n      id: this.context.manifest.id,\r\n      instanceId: this.context.instanceId,\r\n      version: this.context.manifest.version,\r\n      title: this.context.manifest.title.default,\r\n      properties: this.properties,\r\n      htmlProperties: htmlPropsString\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Internal API to dispose resources that the web part might be holding on to.\r\n   */\r\n  /* tslint:disable:no-unused-variable */\r\n  private _internalDispose(): void {\r\n  /* tslint:enable:no-unused-variable */\r\n    this.dispose();\r\n    _TraceLogger.logVerbose(this._logSource, StringHelper.format(strings.DisposeLog, this.context.instanceId));\r\n  }\r\n\r\n  /**\r\n   * Update the web part property if it is in the property bag.\r\n   *\r\n   * @param propertyPath - property path as expected by lodash update (https://lodash.com/docs#update).\r\n   *   (e.g. 'o.a.b', 'o[0].a.b[1].c'). These paths are similar to those in the JSONPath spec described by\r\n   *   Stefan Goessner at (http://goessner.net/articles/JsonPath/). Currently we plan to use lodash.get, has\r\n   *   and update APIs which support paths. Some day we may migrate to using actual JSONPath.js. But that\r\n   *   should not be an issue because the path formatting conventions are same in lodash and JSONPath.\r\n   */\r\n  /* tslint:disable:no-any */\r\n  private _updateProperty(propertyPath: string, newValue: any): void {\r\n  /* tslint:enable:no-any */\r\n      // should we check if this is a valid property path. For now maybe not.\r\n      lodash.update(this.properties, propertyPath, () => newValue);\r\n  }\r\n\r\n  private _processInputParams(context: IWebPartContext): void {\r\n    Validate.isNotNullOrUndefined(context, 'webpart context');\r\n    Validate.isNotNullOrUndefined(context.domElement, 'webpart element');\r\n    Validate.isNotNullOrUndefined(context.instanceId, 'webpart instanceId');\r\n    Validate.isNotNullOrUndefined(context.manifest, 'webpart manifest');\r\n    Validate.isNotNullOrUndefined(context.webPartTag, 'webpart tag');\r\n    Validate.isNotNullOrUndefined(context.httpClient, 'webpart httpClient');\r\n    Validate.isNotNullOrUndefined(context.basicHttpClient, 'webpart basicHttpClient');\r\n    Validate.isNotNullOrUndefined(context.pageContext, 'webpart context pageContext');\r\n    Validate.isNotNullOrUndefined(context.eventAggregator, 'webpart context eventAggregator');\r\n    Validate.isNotNullOrUndefined(context.statusRenderer, 'webpart context statusRenderer');\r\n    Validate.isNotNullOrUndefined(context.configureStart, 'webpart context configureStart');\r\n    Validate.isNotNullOrUndefined(context.host, 'webpart host');\r\n    Validate.isNotNullOrUndefined(context.serviceScope, 'webpart service scope');\r\n\r\n    deepFreeze(context.manifest);\r\n    this._context = context;\r\n    this._properties = this._getMergedProperties();\r\n    this._logEntry = 'BaseClientSideWebPart';\r\n  }\r\n\r\n  /**\r\n   * Merge the provided properties with manifest properties and return the merged property bag.\r\n   */\r\n  private _getMergedProperties(p?: TProperties): TProperties {\r\n    return lodash.merge(lodash.clone(this._context.manifest.properties), p);\r\n  }\r\n\r\n  /**\r\n   * A generic NOP async handler.\r\n   */\r\n  private _genericAsyncHandler<T>(): Promise<T> {\r\n    return new Promise<T>((resolve: (args: T) => void, reject: (error: Error) => void) => {\r\n      resolve(undefined);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate an HTML string for searchable, link and imageLink properties from the web part data.\r\n   * The serialized page data needs to be stored in a way (pseudo HTML) that the server can index searchable\r\n   * properties and fix links when links change. The SharePoint server is a semantic HTML parser and processes\r\n   * HTML and not JSON blobs.\r\n   *\r\n   * This function returns multiple HTML tags, one for each searchable and link property. The format of the\r\n   * tags are as follows:\r\n   *\r\n   * Searchable properties: \"<div data-sp-prop-name='prop1'>value1</div>\"\r\n   * Link properties: \"<link data-sp-prop-name='prop2' href='http://www.contoso.com/page1.aspx'>\"\r\n   * Image properties: \"<img data-sp-prop-name='prop2' href='http://www.contoso.com/image.png'>\"\r\n   *\r\n   * @param htmlProps - reference to html properties key/value dictionaries.\r\n   * @return - pseudo HTML string equivalent of the HTML properties.\r\n   */\r\n  private _getHtmlProps(htmlProps: IHtmlProperties): string {\r\n\r\n    let htmlPropsString: string;\r\n    if (htmlProps) {\r\n      htmlPropsString = this._getHtmlPropsString(htmlProps);\r\n    } else {\r\n      htmlPropsString = this._getHtmlPropsStringFromManifest();\r\n    }\r\n    return htmlPropsString;\r\n  }\r\n\r\n  private _getHtmlPropsString(htmlProps: IHtmlProperties): string {\r\n\r\n    let htmlPropsString: string = '';\r\n\r\n    if (htmlProps.searchableProperties) {\r\n      Object.keys(htmlProps.searchableProperties).every((propName: string) => {\r\n        htmlPropsString +=\r\n          this._getHtmlPropString(propName, 'search', htmlProps.searchableProperties[propName]);\r\n        return true;\r\n      });\r\n    }\r\n\r\n    if (htmlProps.linkProperties) {\r\n      Object.keys(htmlProps.linkProperties).every((propName: string) => {\r\n        htmlPropsString +=\r\n          this._getHtmlPropString(propName, 'link', htmlProps.linkProperties[propName]);\r\n        return true;\r\n      });\r\n    }\r\n\r\n    if (htmlProps.imageLinkProperties) {\r\n      Object.keys(htmlProps.imageLinkProperties).every((propName: string) => {\r\n        htmlPropsString +=\r\n          this._getHtmlPropString(propName, 'imageLink', htmlProps.imageLinkProperties[propName]);\r\n        return true;\r\n      });\r\n    }\r\n\r\n    return htmlPropsString;\r\n  }\r\n\r\n  /**\r\n   * Generate the HTML string from the property names provided in the manifest.\r\n   */\r\n  private _getHtmlPropsStringFromManifest(): string {\r\n\r\n    let htmlPropsString: string = '';\r\n\r\n    if (this.context.manifest.searchablePropertyNames) {\r\n      this.context.manifest.searchablePropertyNames.forEach((propName: string) => {\r\n        htmlPropsString +=\r\n          this._getHtmlPropString(propName, 'search', lodash.get(this._properties, propName) as string);\r\n      });\r\n    }\r\n\r\n    if (this.context.manifest.linkPropertyNames) {\r\n      this.context.manifest.linkPropertyNames.forEach((propName: string) => {\r\n        htmlPropsString +=\r\n          this._getHtmlPropString(propName, 'link', lodash.get(this._properties, propName) as string);\r\n      });\r\n    }\r\n\r\n    if (this.context.manifest.imageLinkPropertyNames) {\r\n      this.context.manifest.imageLinkPropertyNames.forEach((propName: string) => {\r\n        htmlPropsString +=\r\n          this._getHtmlPropString(propName, 'imageLink', lodash.get(this._properties, propName) as string);\r\n      });\r\n    }\r\n\r\n    return htmlPropsString;\r\n  }\r\n\r\n  /**\r\n   * Get the HTML props string.\r\n   */\r\n  private _getHtmlPropString(propName: string, propType: string, propValue: string): string {\r\n    let htmlPropString: string = '';\r\n    if (propName) {\r\n      if (typeof propValue === 'string' && propValue) {\r\n        switch (propType) {\r\n          /* tslint:disable:max-line-length */\r\n          case 'search':\r\n            htmlPropString += `<div data-sp-prop-name='${lodash.escape(propName)}'>${lodash.escape(propValue)}</div>`;\r\n            break;\r\n\r\n          case 'link':\r\n            htmlPropString += `<link data-sp-prop-name='${lodash.escape(propName)}' href='${lodash.escape(propValue)}'/>`;\r\n            break;\r\n\r\n          case 'imageLink':\r\n            htmlPropString += `<img data-sp-prop-name='${lodash.escape(propName)}' src='${lodash.escape(propValue)}'/>`;\r\n            break;\r\n          /* tslint:enable:max-line-length */\r\n        }\r\n      }\r\n    }\r\n    return htmlPropString;\r\n  }\r\n\r\n  /**\r\n   * Throw an error indicating that this property is readonly and cannot be set.\r\n   */\r\n  private _throwReadOnlyError(): void {\r\n    throw new Error(strings.ReadOnlyPropertyError);\r\n  }\r\n\r\n  /**\r\n   * Wraps render to ensure any type of rendering has access to the latest context\r\n   * to provide the most accurate accessible info to screen readers.\r\n   */\r\n  private _renderWithAccessibileTitle(): void {\r\n    this.render();\r\n\r\n    // Render the accessible description after and associate by ID to avoid re-rendering the whole zone\r\n    // when webpart updates contextual info.\r\n    const accessibleContext: string = this.accessibleTitle || this._getDefaultAccessibleTitle();\r\n    if (accessibleContext) {\r\n      // Keep ID in sync with CanvasZone.render\r\n      const contextualLabelId: string = `cswpAccessibleLabelContextual_${this.context.instanceId}`;\r\n      let accessibleDiv: HTMLDivElement = this.domElement.querySelector(`#${contextualLabelId}`) as HTMLDivElement;\r\n      const isNewLabelElement: boolean = !accessibleDiv;\r\n      if (isNewLabelElement) {\r\n        accessibleDiv = document.createElement('div');\r\n\r\n        accessibleDiv.id = contextualLabelId;\r\n        accessibleDiv.className = baseStyles.screenReaderOnly;\r\n      }\r\n      accessibleDiv.textContent = accessibleContext;\r\n\r\n      if (isNewLabelElement) {\r\n        this.domElement.appendChild(accessibleDiv);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets default accessible title in the format \"{Web part name} web part\", such as \"Image web part\".\r\n   * Note: pulled into own method because TypeScript doesn't allow derived classes to call super protected properties.\r\n   */\r\n  private _getDefaultAccessibleTitle(): string {\r\n    return StringHelper.format(strings.GenericAccessibleLabelTemplate, this.context.manifest.title.default);\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/BaseClientSideWebPart.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"@microsoft/sp-lodash-subset\"\n ** module id = 5\n ** module chunks = 0\n **/","require('set-webpack-public-path!');\r\n\r\n/* tslint:disable:max-line-length */\r\n\r\n// Case 1: export multiple functions from the file.\r\nimport * as StringHelper from '@ms/odsp-utilities/lib/string/StringHelper';\r\nexport { StringHelper };\r\nimport * as DateTime from '@ms/odsp-utilities/lib/dateTime/DateTime';\r\nexport { DateTime };\r\n\r\n// Case 2: export a named class from the file.\r\nexport { ClonedEventType } from '@ms/odsp-utilities/lib/logging/EventBase';\r\nexport { Engagement } from '@ms/odsp-utilities/lib/logging/events/Engagement.event';\r\nexport { IEventMetadata } from '@ms/odsp-utilities/lib/logging/IEvent';\r\nexport { Nav } from '@ms/odsp-utilities/lib/logging/events/Nav.event';\r\nexport { PLTHttpRequest } from '@ms/odsp-utilities/lib/logging/events/PLTHttpRequest.event';\r\nexport { Qos } from '@ms/odsp-utilities/lib/logging/events/Qos.event';\r\nexport { ResultTypeEnum } from '@ms/odsp-utilities/lib/logging/events/Qos.event';\r\n\r\n// Case 3: export a class as default from the file.\r\nexport { default as Beacon } from '@ms/odsp-utilities/lib/logging/odb/Beacon';\r\nexport { default as APICallPerformanceData } from '@ms/odsp-utilities/lib/logging/rumone/APICallPerformanceData';\r\nexport { default as BeaconCache } from '@ms/odsp-utilities/lib/logging/odb/BeaconCache';\r\nexport { default as ControlPerformanceData } from '@ms/odsp-utilities/lib/logging/rumone/ControlPerformanceData';\r\nexport { default as CorrelationVector } from '@ms/odsp-utilities/lib/logging/CorrelationVector';\r\nexport { default as ErrorHelper } from '@ms/odsp-utilities/lib/logging/ErrorHelper';\r\nexport { default as EventGroup } from '@ms/odsp-utilities/lib/events/EventGroup';\r\nexport { default as IBeaconHandlers } from '@ms/odsp-utilities/lib/logging/odb/IBeaconHandlers';\r\nexport { default as IClonedEvent } from '@ms/odsp-utilities/lib/logging/IClonedEvent';\r\nexport { default as PageTransitionType } from '@ms/odsp-utilities/lib/logging/rumone/PageTransitionType';\r\nexport { default as Promise } from '@ms/odsp-utilities/lib/async/Promise';\r\nexport { default as RumOneLogger } from '@ms/odsp-utilities/lib/logging/rumone/RUMOneLogger';\r\nexport { default as RumOneSLAPI } from '@ms/odsp-utilities/lib/logging/rumone/RUMOneSLAPI';\r\nexport { default as UriEncoding } from '@ms/odsp-utilities/lib/encoding/UriEncoding';\r\nexport { default as HtmlEncoding } from '@ms/odsp-utilities/lib/encoding/HtmlEncoding';\r\nexport { default as SiteHeaderLogoAcronym, IAcronymColor } from '@ms/odsp-utilities/lib/dataSources/acronym/SiteHeaderLogoAcronym';\r\nexport { default as GroupDataSource, IGroup } from '@ms/odsp-utilities/lib/dataSources/group/GroupDataSource';\r\nexport { default as PlatformDetection} from '@ms/odsp-utilities/lib/browser/PlatformDetection';\r\nexport { default as DataStore } from '@ms/odsp-utilities/lib/models/store/BaseDataStore';\r\nexport { default as DataStoreCachingType } from '@ms/odsp-utilities/lib/models/store/DataStoreCachingType';\r\nexport { default as Locale } from '@ms/odsp-utilities/lib/locale/Locale';\r\nexport { default as Uri } from '@ms/odsp-utilities/lib/uri/Uri';\r\nexport { default as AriaLogger } from './AriaLogger';\r\nexport { default as Async } from '@ms/odsp-utilities/lib/async/Async';\r\nexport { default as FabricTheming } from '@ms/odsp-utilities/lib/theming/FabricTheming';\r\nexport { default as RgbaColor } from '@ms/odsp-utilities/lib/theming/RgbaColor';\r\nexport { default as WebTheme } from '@ms/odsp-utilities/lib/theming/WebTheme';\r\nexport { default as ThemeProvider } from '@ms/odsp-utilities/lib/theming/ThemeProvider';\r\nexport { default as IThemeData } from '@ms/odsp-utilities/lib/theming/IThemeData';\r\nexport { default as IThemeDataRaw } from '@ms/odsp-utilities/lib/theming/IThemeDataRaw';\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/index.ts\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n// Regex that finds { and } so they can be removed on a lookup for string format\nvar FORMAT_ARGS_REGEX = /[\\{\\}]/g;\n// Regex that finds {#} so it can be replaced by the arguments in string format\nvar FORMAT_REGEX = /\\{\\d+\\}/g;\n/**\n * String Format is like C# string format.\n * Usage Example: \"hello {0}!\".format(\"mike\") will return \"hello mike!\"\n * Calling format on a string with less arguments than specified in the format is invalid\n * Example \"I love {0} every {1}\".format(\"CXP\") will result in a Debug Exception.\n */\nfunction format(s) {\n    'use strict';\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    var args = values;\n    // Callback match function\n    function replace_func(match) {\n        // looks up in the args\n        var replacement = args[match.replace(FORMAT_ARGS_REGEX, \"\")];\n        // catches undefined in nondebug and null in debug and nondebug\n        if (replacement === null) {\n            replacement = '';\n        }\n        return replacement;\n    }\n    return (s.replace(FORMAT_REGEX, replace_func));\n}\nexports.format = format;\n/**\n * Returns true if s ends with suffix.\n */\nfunction doesStringEndWith(s, suffix) {\n    'use strict';\n    return s.substr(s.length - suffix.length) === suffix;\n}\nexports.doesStringEndWith = doesStringEndWith;\n/**\n * Returns true if s starts with prefix.\n */\nfunction doesStringStartWith(s, prefix) {\n    'use strict';\n    return s.substr(0, prefix.length) === prefix;\n}\nexports.doesStringStartWith = doesStringStartWith;\n/**\n * Return a string of the given length, using 0s to pad in from the right.\n */\nfunction rightPad(data, length) {\n    'use strict';\n    var result = data.toString();\n    while (result.length < length) {\n        result = result + \"0\";\n    }\n    return result;\n}\nexports.rightPad = rightPad;\n/**\n * Look for any of the chars in searchValues in str.\n * Returns the index of the char found or -1 if nothing is found.\n */\nfunction findOneOf(str, searchValues) {\n    'use strict';\n    for (var idx = 0; idx < str.length; idx++) {\n        var ch = str[idx];\n        if (searchValues.indexOf(ch) !== -1) {\n            return idx;\n        }\n    }\n    return -1; //none of the searchValues exist in string\n}\nexports.findOneOf = findOneOf;\n/**\n * Determines if two strings are equal when both converted to lowercase.\n */\nfunction equalsCaseInsensitive(a, b) {\n    'use strict';\n    if (a && b) {\n        return a.toLowerCase() === b.toLowerCase();\n    }\n    return a === b;\n}\nexports.equalsCaseInsensitive = equalsCaseInsensitive;\n/**\n * Capitalizes the first letter of str.\n */\nfunction capitalize(str) {\n    'use strict';\n    if (str) {\n        return str[0].toUpperCase() + str.substr(1);\n    }\n    return str;\n}\nexports.capitalize = capitalize;\n/**\n * De-capitalizes the first letter of str.\n */\nfunction decapitalize(str) {\n    'use strict';\n    if (str) {\n        return str[0].toLowerCase() + str.substr(1);\n    }\n    return str;\n}\nexports.decapitalize = decapitalize;\n/**\n * Selects a string based on plurality.\n *\n * @param count - The value to base selection on\n * @param single - The string to select when it's a singular value\n * @param multiple - The string to select when it's a plural value\n *\n * @deprecated This method does NOT give accurate results for many languages!!\n *             Use getLocalizedCountValue instead.\n */\nfunction pluralSelect(count, single, plural) {\n    'use strict';\n    return count === 1 ? single : plural;\n}\nexports.pluralSelect = pluralSelect;\n/**\n * Given a specially formatted localized text, a set of intervals, and a count,\n * return the localized text which corresponds to the first interval the\n * count falls into.\n *\n * Please see https://microsoft.sharepoint.com/teams/OISGPortal/LocKits/_layouts/15/start.aspx#/Lockit%20Instructions/SharePoint%20Core%20Localization.aspx\n * for more details.\n *\n * @param {string} locText - || deliminated blocks of localized texts, representing\n *  the various singular and plural forms of the string  being localized\n * @param {string} intervals - || deliminated blocks of numeric intervals, defining the ranges\n *  of that interval. Has special support for , * and -.\n * @param {number} count - The count used to determine which interval to return.\n *\n * @return\n * The localized block which corresponds to the first interval the count falls into.\n *\n * @example\n * StringHelper.getLocalizedCountValue('items||item||items', '0||1||2-', 0)\n *   returns items\n * StringHelper.getLocalizedCountValue('items||item||items', '0||1||2-', 1)\n *   returns item\n * StringHelper.getLocalizedCountValue('items||item||items', '0||1||2-', 2)\n *   returns items\n */\nfunction getLocalizedCountValue(locText, intervals, count) {\n    'use strict';\n    count = Number(count); // defensively make sure count is a number\n    // !!!IMPORTANT!!! changes in this function need to be in sync with\n    // the methods with the same name located at:\n    // otools/inc/sts/stsom/utilities/SPLocUtility.cs\n    // sts/Client/Script/Init/LocUtility.cs\n    if (locText === undefined || intervals === undefined || count === undefined) {\n        return null;\n    }\n    var ret = '';\n    var locIndex = -1;\n    var intervalsArray = intervals.split('||');\n    for (var i = 0, length_1 = intervalsArray.length; i < length_1; i++) {\n        var interval = intervalsArray[i];\n        if (!interval) {\n            continue;\n        }\n        var subIntervalsArray = interval.split(',');\n        for (var _i = 0, subIntervalsArray_1 = subIntervalsArray; _i < subIntervalsArray_1.length; _i++) {\n            var subInterval = subIntervalsArray_1[_i];\n            if (!subInterval) {\n                continue;\n            }\n            // there are three possiblities, wildcard, interval, or number\n            if (isNaN(Number(subInterval))) {\n                if (subInterval.indexOf('-') !== -1) {\n                    // if it's an interval the format is Number-Number\n                    var range = subInterval.split('-');\n                    if (range.length !== 2) {\n                        continue;\n                    }\n                    var min = void 0, max = void 0;\n                    if (range[0] === '') {\n                        min = 0;\n                    }\n                    else {\n                        if (isNaN(Number(range[0]))) {\n                            continue;\n                        }\n                        else {\n                            min = parseInt(range[0], 10);\n                        }\n                    }\n                    if (count >= min) {\n                        if (range[1] === '') {\n                            locIndex = i;\n                            break;\n                        }\n                        else {\n                            if (isNaN(Number(range[1]))) {\n                                continue;\n                            }\n                            else {\n                                max = parseInt(range[1], 10);\n                            }\n                        }\n                        if (count <= max) {\n                            locIndex = i;\n                            break;\n                        }\n                    }\n                }\n                else if (subInterval.indexOf('*') !== -1) {\n                    // Wildcard\n                    var regexExpr = subInterval.trim().replace(/\\*/g, '[0-9]*');\n                    var regex = new RegExp(\"^\" + regexExpr + \"$\");\n                    if (regex.test(count.toString())) {\n                        locIndex = i;\n                        break;\n                    }\n                }\n            }\n            else {\n                var exactNumber = parseInt(subInterval, 10);\n                if (count === exactNumber) {\n                    locIndex = i;\n                    break;\n                }\n            }\n        }\n        if (locIndex !== -1) {\n            break;\n        }\n    }\n    if (locIndex !== -1) {\n        var locValues = locText.split('||');\n        if (locValues[locIndex]) {\n            ret = locValues[locIndex];\n        }\n    }\n    return ret;\n}\nexports.getLocalizedCountValue = getLocalizedCountValue;\n/**\n * Format the locText with the localized count value.\n */\nfunction formatWithLocalizedCountValue(locText, intervals, count) {\n    'use strict';\n    var template = getLocalizedCountValue(locText, intervals, count);\n    var result = format(template, count.toString());\n    return result;\n}\nexports.formatWithLocalizedCountValue = formatWithLocalizedCountValue;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/string/StringHelper.js\n ** module id = 7\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar DatetimeResx = require('./DateTime.resx');\nvar Locale_1 = require('../locale/Locale');\nvar StringHelper_1 = require('../string/StringHelper');\n// this is the difference between the .net ticks and the javascript Date ticks\nvar TICKS_CONVERSION_CONSTANT = 62135596800000;\n// number of milliseconds for the given timespan\n// copied from SPRelativeDateTime, including 32 days to a month\nvar ONE_SECOND = 1000;\nvar ONE_MINUTE = 60 * ONE_SECOND;\nvar TWO_MINUTES = 2 * ONE_MINUTE;\nvar ONE_HOUR = 60 * ONE_MINUTE;\nvar TWO_HOURS = 2 * ONE_HOUR;\nvar ONE_DAY = 24 * ONE_HOUR;\nvar TWO_DAYS = 2 * ONE_DAY;\nvar ONE_WEEK = 7 * ONE_DAY;\nvar ONE_MONTH = 32 * ONE_DAY;\nvar validLocale;\nvar supportsTimeZoneDateOptions;\n/**\n * Convert a date-time string to a JavaScript Date object, for IE8 compat.\n *  Modern browsers and IE9+ can just take the string directly to the Date constructor.\n *  Format is: 1999-12-31T12:34:56.0000000Z\n *  Trailing Z indicates UTC timezone, otherwise it uses the browser's time zone.\n */\nfunction iso8601DateTimeToJsDate(dateTime) {\n    'use strict';\n    // note that Date.parse() doesn't work for this format in IE8 either\n    var isUTC = false;\n    if (dateTime.toUpperCase().indexOf('Z') === dateTime.length - 1) {\n        isUTC = true;\n    }\n    var timeValues = dateTime.split(/[^0-9]/);\n    if (timeValues.length < 6) {\n        return; // error\n    }\n    // note that Date 0-indexes months\n    if (!isUTC) {\n        return new Date(Number(timeValues[0]), Number(timeValues[1]) - 1, Number(timeValues[2]), Number(timeValues[3]), Number(timeValues[4]), Number(timeValues[5]));\n    }\n    else {\n        return new Date(Date.UTC(Number(timeValues[0]), Number(timeValues[1]) - 1, Number(timeValues[2]), Number(timeValues[3]), Number(timeValues[4]), Number(timeValues[5])));\n    }\n}\nexports.iso8601DateTimeToJsDate = iso8601DateTimeToJsDate;\n/**\n * Get a string like \"X minutes ago\" that reflects the time elapsed since the input time.\n * Only works for past times, future times just return a browser-determined localized time string.\n */\nfunction getRelativeDateTimeStringPast(pastTime, startWithLowerCase) {\n    'use strict';\n    if (startWithLowerCase === void 0) { startWithLowerCase = false; }\n    var timespan = Date.now() - pastTime.getTime(); // time elapsed in ms\n    if (timespan < -5 * ONE_MINUTE) {\n        return pastTime.toLocaleDateString(Locale_1.default.language);\n    }\n    else if (timespan < ONE_MINUTE) {\n        // \"Less than a minute ago\"\n        return startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_LessThanAMinute_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_LessThanAMinute;\n    }\n    else if (timespan < TWO_MINUTES) {\n        // \"About a minute ago\"\n        return startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAMinute_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAMinute;\n    }\n    else if (timespan < ONE_HOUR) {\n        // \"{0} minutes ago\"\n        var minutes = Math.floor(timespan / ONE_MINUTE);\n        return StringHelper_1.getLocalizedCountValue(DatetimeResx.strings.RelativeDateTime_XMinutes, DatetimeResx.strings.RelativeDateTime_XMinutesIntervals, minutes).replace(\"{0}\", String(minutes));\n    }\n    else if (timespan < TWO_HOURS) {\n        // \"About an hour ago\"\n        return startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAnHour_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAnHour;\n    }\n    else if (timespan < ONE_DAY) {\n        // \"{0} hours ago\"\n        var hours = Math.floor(timespan / ONE_HOUR);\n        return StringHelper_1.getLocalizedCountValue(DatetimeResx.strings.RelativeDateTime_XHours, DatetimeResx.strings.RelativeDateTime_XHoursIntervals, hours).replace(\"{0}\", String(hours));\n    }\n    else if (timespan < TWO_DAYS) {\n        // \"Yesterday at {0}\"\n        return startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_YesterdayAndTime_StartWithLowerCase.replace(\"{0}\", pastTime.toLocaleTimeString(Locale_1.default.language)) :\n            DatetimeResx.strings.RelativeDateTime_YesterdayAndTime.replace(\"{0}\", pastTime.toLocaleTimeString(Locale_1.default.language));\n    }\n    else if (timespan < ONE_MONTH) {\n        // \"{0} days ago\" (in the past month-ish)\n        var days = Math.floor(timespan / ONE_DAY);\n        return StringHelper_1.getLocalizedCountValue(DatetimeResx.strings.RelativeDateTime_XDays, DatetimeResx.strings.RelativeDateTime_XDaysIntervals, days).replace(\"{0}\", String(days));\n    }\n    // Any other time, just return the regular full original time\n    return pastTime.toLocaleDateString(Locale_1.default.language); // browser-determined localized date (no time)\n}\nexports.getRelativeDateTimeStringPast = getRelativeDateTimeStringPast;\n/**\n * This is a modified implementation of DateTime.GetRelativeDateTimeStringPast(...).\n * The differences here are as follows:\n *      (1) The time string for yesterday does not include the seconds\n *      (2) Instead of showing 'X days ago' for dates older than a month, default to showing the full date\n *      (3) The full date will also include the time (also without seconds)\n */\nfunction getRelativeDateTimeStringPastWithHourMinute(pastTime) {\n    'use strict';\n    var timespan = Date.now() - pastTime.getTime(); // time elapsed in ms\n    var date = pastTime.toLocaleDateString(Locale_1.default.language); // browser-determined localized date\n    var time = pastTime.toLocaleTimeString(Locale_1.default.language, { hour: 'numeric', minute: '2-digit' }); //time without seconds\n    if (timespan < ONE_DAY) {\n        return getRelativeDateTimeStringPast(pastTime);\n    }\n    else if (timespan < TWO_DAYS) {\n        // \"Yesterday at {0}\" without seconds\n        return StringHelper_1.format(DatetimeResx.strings.RelativeDateTime_YesterdayAndTime, time);\n    }\n    // Any other time, just return the regular full original date with time, without seconds\n    return StringHelper_1.format(DatetimeResx.strings.DateTime_DateAndTime, date, time);\n}\nexports.getRelativeDateTimeStringPastWithHourMinute = getRelativeDateTimeStringPastWithHourMinute;\n/**\n * True if the date is on or between the first and last day of the current week. This uses the Date function getDay()\n * which returns the day of the week for the specified date according to local time, where 0 represents Sunday.\n */\nfunction isThisWeek(pastTime) {\n    'use strict';\n    var today = new Date();\n    var start = new Date(today.getTime() - today.getDay() * ONE_DAY);\n    var end = new Date(start.getTime() + ONE_WEEK - ONE_DAY);\n    var isThisWeek = (start.getTime() <= pastTime.getTime() && pastTime.getTime() <= end.getTime());\n    return isThisWeek;\n}\nexports.isThisWeek = isThisWeek;\n/**\n * True if the date is on or between the first and last day of the previous week. This uses the Date function getDay()\n * which returns the day of the week for the specified date according to local time, where 0 represents Sunday.\n */\nfunction isLastWeek(pastTime) {\n    'use strict';\n    var today = new Date();\n    var start = new Date(today.getTime() - today.getDay() * ONE_DAY - ONE_WEEK);\n    var end = new Date(start.getTime() + ONE_WEEK - ONE_DAY);\n    var isLastWeek = (start.getTime() <= pastTime.getTime() && pastTime.getTime() <= end.getTime());\n    return isLastWeek;\n}\nexports.isLastWeek = isLastWeek;\n// for use with lists' server-processed date value\n/**\n * @param relativeDateTimeJSString: list server-processed date value string\n * @startWithLowerCase: use this option when the return string is not at beginning of the sentence.\n */\nfunction getRelativeDateTimeStringForLists(relativeDateTimeJSString, startWithLowerCase) {\n    'use strict';\n    if (startWithLowerCase === void 0) { startWithLowerCase = false; }\n    var ret = null;\n    var retTemplate = null;\n    var codes = relativeDateTimeJSString.split('|');\n    // Passthrough case\n    if (codes[0] === \"0\") {\n        return relativeDateTimeJSString.substring(2);\n    }\n    var bFuture = codes[1] === \"1\";\n    var timeBucket = codes[2];\n    var timeValue = codes.length >= 4 ? codes[3] : null;\n    var timeValue2 = codes.length >= 5 ? codes[4] : null;\n    switch (timeBucket) {\n        // a few seconds\n        case \"1\":\n            ret = bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AFewSecondsFuture_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AFewSecondsFuture) :\n                (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AFewSeconds_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AFewSeconds);\n            break;\n        // about a minute\n        case \"2\":\n            ret = bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAMinuteFuture_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAMinuteFuture) :\n                (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAMinute_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAMinute);\n            break;\n        // x minutes\n        case \"3\":\n            retTemplate = StringHelper_1.getLocalizedCountValue(bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_XMinutesFuture_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_XMinutesFuture)\n                : DatetimeResx.strings.RelativeDateTime_XMinutes, bFuture ? DatetimeResx.strings.RelativeDateTime_XMinutesFutureIntervals : DatetimeResx.strings.RelativeDateTime_XMinutesIntervals, Number(timeValue));\n            break;\n        // about an hour\n        case \"4\":\n            ret = bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAnHourFuture_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAnHourFuture)\n                : (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_AboutAnHour_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_AboutAnHour);\n            break;\n        // yesterday / tomorrow\n        case \"5\":\n            if (timeValue == null) {\n                ret = bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_Tomorrow_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_Tomorrow)\n                    : (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_Yesterday_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_Yesterday);\n            }\n            else {\n                retTemplate = bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_TomorrowAndTime_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_TomorrowAndTime)\n                    : (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_YesterdayAndTime_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_YesterdayAndTime);\n            }\n            break;\n        // x hours\n        case \"6\":\n            retTemplate = StringHelper_1.getLocalizedCountValue(bFuture ? (startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_XHoursFuture_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_XHoursFuture)\n                : DatetimeResx.strings.RelativeDateTime_XHours, bFuture ? DatetimeResx.strings.RelativeDateTime_XHoursFutureIntervals : DatetimeResx.strings.RelativeDateTime_XHoursIntervals, Number(timeValue));\n            break;\n        // day and time\n        case \"7\":\n            if (timeValue2 === null) {\n                ret = timeValue;\n            }\n            else {\n                retTemplate = DatetimeResx.strings.RelativeDateTime_DayAndTime;\n            }\n            break;\n        // <Days> days\n        case \"8\":\n            retTemplate = StringHelper_1.getLocalizedCountValue(bFuture ? DatetimeResx.strings.RelativeDateTime_XDaysFuture : DatetimeResx.strings.RelativeDateTime_XDays, bFuture ? DatetimeResx.strings.RelativeDateTime_XDaysFutureIntervals : DatetimeResx.strings.RelativeDateTime_XDaysIntervals, Number(timeValue));\n            break;\n        // today\n        case \"9\":\n            ret = startWithLowerCase ? DatetimeResx.strings.RelativeDateTime_Today_StartWithLowerCase : DatetimeResx.strings.RelativeDateTime_Today;\n            break;\n    }\n    if (retTemplate !== null) {\n        ret = retTemplate.replace(\"{0}\", timeValue);\n        if (timeValue2 !== null) {\n            ret = ret.replace(\"{1}\", timeValue2);\n        }\n    }\n    return ret;\n}\nexports.getRelativeDateTimeStringForLists = getRelativeDateTimeStringForLists;\n/**\n * Converts a given date string into its UTC/ISO standard format\n */\nfunction convertDateToISOString(expiration) {\n    'use strict';\n    var expirationDate = new Date(expiration);\n    // For more info on the time zone offset and its signage, see:\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getTimezoneOffset\n    var isOffsetNegative = (expirationDate.getTimezoneOffset() < 0) ? true : false;\n    var year = expirationDate.getFullYear().toString();\n    var month = _padStringWithZeroes((expirationDate.getMonth() + 1).toString(), 2); //zero based month\n    var day = _padStringWithZeroes(expirationDate.getDate().toString(), 2);\n    var hours = _padStringWithZeroes(expirationDate.getHours().toString(), 2);\n    var minutes = _padStringWithZeroes(expirationDate.getMinutes().toString(), 2);\n    var seconds = _padStringWithZeroes(expirationDate.getSeconds().toString(), 2);\n    var offsetHours = _padStringWithZeroes((isOffsetNegative ? Math.ceil(expirationDate.getTimezoneOffset() / 60).toString().replace(\"-\", \"\") : Math.floor(expirationDate.getTimezoneOffset() / 60).toString()), 2);\n    var offsetMinutes = _padStringWithZeroes((expirationDate.getTimezoneOffset() % 60).toString().replace(\"-\", \"\"), 2);\n    var expirationString = year + month + day + 'T' + hours + minutes + seconds + (isOffsetNegative ? '+' : '-') + offsetHours + offsetMinutes;\n    return expirationString;\n}\nexports.convertDateToISOString = convertDateToISOString;\n/**\n * get the last day of the month based on the input date\n */\nfunction getLastDayOfMonth(date) {\n    'use strict';\n    var lastDay = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), 1, 0, 0, 0, 0));\n    // To get the last day of the month we will increment the month\n    lastDay.setUTCMonth(lastDay.getUTCMonth() + 1);\n    // Then subtract a day\n    lastDay.setUTCDate(lastDay.getUTCDate() - 1);\n    // Then set the time to be the last second of the day\n    lastDay.setUTCHours(23, 59, 59, 999);\n    return lastDay;\n}\nexports.getLastDayOfMonth = getLastDayOfMonth;\n/**\n * Given the .Net ticks of a date, convert it to a Date\n */\nfunction getDateFromDotNetTicks(dotNetTicks) {\n    'use strict';\n    if (!dotNetTicks) {\n        return null;\n    }\n    var ticksInMilliseconds = (dotNetTicks / 10000) - TICKS_CONVERSION_CONSTANT;\n    return new Date(ticksInMilliseconds);\n}\nexports.getDateFromDotNetTicks = getDateFromDotNetTicks;\n/**\n * Returns a short version of a date to display (e.g. 11:45 PM if today, or 11/2/2015 if not today)\n */\nfunction getShortDisplayDate(date, useUTCTimezone) {\n    'use strict';\n    if (!date) {\n        return '';\n    }\n    var dateOptions = useUTCTimezone && _supportsTimeZoneDateOptions() ? { timeZone: 'UTC' } : {};\n    var timeOptions = useUTCTimezone && _supportsTimeZoneDateOptions() ? { hour: '2-digit', minute: '2-digit', timeZone: 'UTC' } : { hour: '2-digit', minute: '2-digit' };\n    var locale = _getLocale();\n    var isToday = date.toLocaleDateString() === new Date().toLocaleDateString();\n    return isToday ? date.toLocaleTimeString(locale, timeOptions) : date.toLocaleDateString(locale, dateOptions);\n}\nexports.getShortDisplayDate = getShortDisplayDate;\n/**\n * Returns a full version of a date to display (e.g. 11/2/2015 11:45 PM)\n * useUTCTimezone defaults to false\n * useHour12 defaults to true. Determine if display date should use 12hr or 24hr format.\n */\nfunction getFullDisplayDate(date, useUTCTimezone, useHour12) {\n    'use strict';\n    if (typeof useHour12 === void 0) {\n        useHour12 = true;\n    }\n    var dateOptions = useUTCTimezone && _supportsTimeZoneDateOptions() ? { timeZone: 'UTC' } : {};\n    var timeOptions = useUTCTimezone && _supportsTimeZoneDateOptions() ? { hour: '2-digit', minute: '2-digit', timeZone: 'UTC', hour12: useHour12 } : { hour: '2-digit', minute: '2-digit', hour12: useHour12 };\n    var locale = _getLocale();\n    return StringHelper_1.format(DatetimeResx.strings.DateAndTime, date.toLocaleDateString(locale, dateOptions), date.toLocaleTimeString(locale, timeOptions));\n}\nexports.getFullDisplayDate = getFullDisplayDate;\nfunction _getLocale() {\n    'use strict';\n    if (!validLocale) {\n        try {\n            new Date().toLocaleDateString(Locale_1.default.language);\n            validLocale = Locale_1.default.language;\n        }\n        catch (e) {\n            try {\n                new Date().toLocaleDateString(navigator.language);\n                validLocale = navigator.language;\n            }\n            catch (e) {\n                validLocale = 'en';\n            }\n        }\n    }\n    return validLocale;\n}\nfunction _supportsTimeZoneDateOptions() {\n    'use strict';\n    if (supportsTimeZoneDateOptions === undefined) {\n        try {\n            var locale = _getLocale();\n            (new Date()).toLocaleDateString(locale, { timeZone: 'UTC' });\n            supportsTimeZoneDateOptions = true;\n        }\n        catch (E) {\n            // We know of some versions of IE 11 that fail when date options with a timezone is specified.\n            supportsTimeZoneDateOptions = false;\n        }\n    }\n    return supportsTimeZoneDateOptions;\n}\n/**\n * Pads a date string with the request number of '0' characters\n */\nfunction _padStringWithZeroes(toPad, numDigits) {\n    'use strict';\n    var paddedString = toPad;\n    while (paddedString.length < numDigits) {\n        paddedString = '0' + paddedString;\n    }\n    return paddedString;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/dateTime/DateTime.js\n ** module id = 8\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nexports.strings = { \"RelativeDateTime_AFewSeconds\": \"A few seconds ago\", \"RelativeDateTime_AFewSeconds_StartWithLowerCase\": \"a few seconds ago\", \"RelativeDateTime_Format_DateTimeFormattingString_Override\": \"\", \"RelativeDateTime_Format_DateTimeFormattingString\": \"{0}, {1}\", \"RelativeDateTime_AFewSecondsFuture\": \"In a few seconds\", \"RelativeDateTime_AFewSecondsFuture_StartWithLowerCase\": \"in a few seconds\", \"RelativeDateTime_AboutAMinuteFuture\": \"In about a minute\", \"RelativeDateTime_AboutAMinuteFuture_StartWithLowerCase\": \"in about a minute\", \"RelativeDateTime_LessThanAMinute\": \"Less than a minute ago\", \"RelativeDateTime_LessThanAMinute_StartWithLowerCase\": \"less than a minute ago\", \"RelativeDateTime_AboutAMinute\": \"About a minute ago\", \"RelativeDateTime_AboutAMinute_StartWithLowerCase\": \"about a minute ago\", \"RelativeDateTime_XMinutesFuture\": \"In {0} minute||In {0} minutes\", \"RelativeDateTime_XMinutesFuture_StartWithLowerCase\": \"in {0} minute||in {0} minutes\", \"RelativeDateTime_XMinutesFutureIntervals\": \"1||2-\", \"RelativeDateTime_XMinutesIntervals\": \"1||2-\", \"RelativeDateTime_AboutAnHourFuture\": \"In about an hour\", \"RelativeDateTime_AboutAnHourFuture_StartWithLowerCase\": \"in about an hour\", \"RelativeDateTime_AboutAnHour\": \"About an hour ago\", \"RelativeDateTime_AboutAnHour_StartWithLowerCase\": \"about an hour ago\", \"RelativeDateTime_Tomorrow\": \"Tomorrow\", \"RelativeDateTime_Tomorrow_StartWithLowerCase\": \"tomorrow\", \"RelativeDateTime_Yesterday\": \"Yesterday\", \"RelativeDateTime_Yesterday_StartWithLowerCase\": \"yesterday\", \"RelativeDateTime_YesterdayAndTime\": \"Yesterday at {0}\", \"RelativeDateTime_YesterdayAndTime_StartWithLowerCase\": \"yesterday at {0}\", \"DateTime_DateAndTime\": \"{0} at {1}\", \"RelativeDateTime_TomorrowAndTime\": \"Tomorrow at {0}\", \"RelativeDateTime_TomorrowAndTime_StartWithLowerCase\": \"tomorrow at {0}\", \"RelativeDateTime_XHoursFuture\": \"In {0} hour||In {0} hours\", \"RelativeDateTime_XHoursFuture_StartWithLowerCase\": \"in {0} hour||in {0} hours\", \"RelativeDateTime_XHours\": \"{0} hour ago||{0} hours ago\", \"RelativeDateTime_XHoursFutureIntervals\": \"1||2-\", \"RelativeDateTime_XHoursIntervals\": \"1||2-\", \"RelativeDateTime_DayAndTime\": \"{0} at {1}\", \"RelativeDateTime_XDaysFuture\": \"{0} day from now||{0} days from now\", \"RelativeDateTime_XDays\": \"{0} day ago||{0} days ago\", \"RelativeDateTime_XDaysFutureIntervals\": \"1||2-\", \"RelativeDateTime_XDaysIntervals\": \"1||2-\", \"RelativeDateTime_Today\": \"Today\", \"RelativeDateTime_Today_StartWithLowerCase\": \"today\", \"RelativeDateTime_XMinutes\": \"{0} minute ago||{0} minutes ago\", \"DateAndTime\": \"{0} {1}\" };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/dateTime/DateTime.resx.js\n ** module id = 9\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar Locale = (function () {\n    function Locale() {\n    }\n    Locale.invalidate = function () {\n        Locale.isRightToLeft = (document.documentElement.getAttribute('dir') === 'rtl');\n        Locale.safeLeft = Locale.isRightToLeft ? 'right' : 'left';\n        Locale.safeRight = Locale.isRightToLeft ? 'left' : 'right';\n        /** Robert Chen has the detailed explanation here : The most magic thing here is that OneDrive page and teamsite page has exactly the same line of code with regard to html tag Lang attribute.\n         * <SharePoint:SPHtmlTag lang=\"<%$Resources:wss,language_value%>\" dir=\"<%$Resources:wss,multipages_direction_dir_value%>\" ID=\"SPHtmlTag\" runat=\"server\">\n         * And in teamsite doclib, this lang gets executed to the current user locale. And that is actually already a magic------What happens here is the in order to get the doclib page in ContentDB, we had a standard MondoSproc call which gets the page and the SPWeb. In constructing the web, SP *  * code has smart logic to set Thread.CurrentThread.CurrentUICulture to match the MUI language! And with that magic, =\"<%$Resources:wss,language_value%> actually gets sets properly to the user language, not the pre-defined web language.\n         * For OneDrive.aspx which lives inside _layouts folder, the order of code execution changes. We must have executed this line of ASPX code first =\"<%$Resources:wss,language_value%> before SPWeb was opened and did the magic to set Thread.CurrentThread.CurrentUICulture.\n         * So the Thread.CurrentThread.CurrentUICulture affecting =\"<%$Resources:wss,language_value%> with SPWeb magic end up not working in Onedrive.aspx! And theres really nothing that we can do about it unless we rewrite the page!\n         * So the conclusion is that the lang attribute is by design (of implementation) different from the regular team site pages which live inside content db.\n         */\n        var language = window[\"_spPageContextInfo\"] && window[\"_spPageContextInfo\"].currentCultureName;\n        // fallback of xml:lang for IE9\n        Locale.language = language ||\n            document.documentElement.getAttribute('lang') ||\n            document.documentElement.getAttribute('xml:lang') ||\n            'en-us';\n    };\n    return Locale;\n}());\nLocale.invalidate();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Locale;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/locale/Locale.js\n ** module id = 10\n ** module chunks = 0\n **/","// OneDrive:CoverageThreshold(96)\n\"use strict\";\nvar Manager_1 = require('./Manager');\nvar CorrelationVector_1 = require('./CorrelationVector');\nvar _id = 0;\n(function (ClonedEventType) {\n    ClonedEventType[ClonedEventType[\"Single\"] = 0] = \"Single\";\n    ClonedEventType[ClonedEventType[\"Start\"] = 1] = \"Start\";\n    ClonedEventType[ClonedEventType[\"End\"] = 2] = \"End\";\n})(exports.ClonedEventType || (exports.ClonedEventType = {}));\nvar ClonedEventType = exports.ClonedEventType;\n(function (ValidationErrorType) {\n    ValidationErrorType[ValidationErrorType[\"NoParent\"] = 1] = \"NoParent\";\n})(exports.ValidationErrorType || (exports.ValidationErrorType = {}));\nvar ValidationErrorType = exports.ValidationErrorType;\nvar EventBase = (function () {\n    function EventBase(eventName, shortEventName, parent) {\n        this.eventName = eventName;\n        this.shortEventName = shortEventName;\n        this.validationErrors = 0;\n        this.id = _id++;\n        this.enabled = this.isEnabled();\n        this.critical = this.isCritical();\n        // Set the parent id if needed\n        if (parent) {\n            this.parentId = parent.id;\n        }\n        else if (this.requiresParent()) {\n            this.addValidationError(ValidationErrorType.NoParent);\n        }\n        // Set the start time\n        this.startTime = Manager_1.Manager.getTime();\n        if (parent) {\n            this.vector = new CorrelationVector_1.default(parent.vector);\n        }\n        else {\n            this.vector = new CorrelationVector_1.default(CorrelationVector_1.default.RootVector);\n        }\n    }\n    /**\n     * This will return true if the event is of this type\n     * @param event {IEvent} The event to compare\n     */\n    EventBase.isTypeOf = function (event) {\n        return event.eventName.indexOf(this.shortName + this.eventNameDelimeter) >= 0;\n    };\n    /** This is called on all string data to clean it */\n    EventBase.prototype.cleanString = function (str) {\n        return Manager_1.Manager.cleanString(str);\n    };\n    EventBase.prototype.isEnabled = function () {\n        // All events are enabled by default\n        return true;\n    };\n    EventBase.prototype.requiresParent = function () {\n        // All events require parents by default\n        return true;\n    };\n    EventBase.prototype.isCritical = function () {\n        // All events are not critical by default\n        return false;\n    };\n    EventBase.prototype._logEvent = function (eventType) {\n        Manager_1.Manager.logEvent(this, eventType);\n    };\n    EventBase.prototype.addValidationError = function (type) {\n        this.validationErrors = this.validationErrors | type;\n        Manager_1.Manager.logValidationError(this, type);\n    };\n    EventBase.eventNameDelimeter = ',';\n    EventBase.fullName = 'EventBase,';\n    EventBase.shortName = 'EventBase';\n    return EventBase;\n}());\nexports.EventBase = EventBase;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/EventBase.js\n ** module id = 11\n ** module chunks = 0\n **/","// OneDrive:CoverageThreshold(75)\n\"use strict\";\nvar ObjectUtil_1 = require(\"../object/ObjectUtil\");\nvar handlers = [];\nvar buffer = [];\nvar maxBufferSize = 100;\nfunction getStartDate() {\n    'use strict';\n    if (window.performance && window.performance.timing && window.performance.timing.navigationStart) {\n        return new Date(window.performance.timing.navigationStart);\n    }\n    else {\n        return new Date();\n    }\n}\nvar startDate = getStartDate();\nvar Manager = (function () {\n    function Manager() {\n    }\n    Manager.getTime = function () {\n        return (new Date()).getTime();\n    };\n    /** This is the overrideable clean string function */\n    Manager.cleanString = function (str) {\n        return str;\n    };\n    Manager.addLogHandler = function (handler) {\n        handlers.push(handler);\n        // Return the buffer so the handler can get missed events\n        return buffer;\n    };\n    Manager.removeLogHandler = function (handler) {\n        for (var x = 0; x < handlers.length; x++) {\n            if (handlers[x] === handler) {\n                // Remove the handler\n                handlers.splice(x, 1);\n                break;\n            }\n        }\n    };\n    Manager.logEvent = function (event, eventType) {\n        // Clone the object (do it natively because the browser can mark it as a type)\n        var clonedEvent = Object.freeze({\n            data: ObjectUtil_1.default.deepCopy(event.data),\n            id: event.id,\n            enabled: event.enabled,\n            critical: event.critical,\n            endTime: event.endTime,\n            eventName: event.eventName,\n            shortEventName: event.shortEventName,\n            parentId: event.parentId,\n            startTime: event.startTime,\n            eventType: eventType,\n            metadata: event.metadata,\n            vector: event.vector,\n            validationErrors: event.validationErrors\n        });\n        // Add to the buffer\n        buffer.push(clonedEvent);\n        if (buffer.length > maxBufferSize) {\n            buffer = buffer.slice(1);\n            // Make sure we have a handler before the buffer is overrun\n            if (handlers.length === 0) {\n                this.handleBaseLoggingError(new Error(\"Logging buffer overflow hit before any logging handler was registered\"));\n            }\n        }\n        // Let handlers know the log event has completed\n        for (var x = 0; x < handlers.length; x++) {\n            try {\n                handlers[x](clonedEvent);\n            }\n            catch (e) {\n                this.handleBaseLoggingError(e);\n            }\n        }\n    };\n    Manager.logValidationError = function (event, type) {\n        // Do nothing so that we can intialize around circular reference issue\n    };\n    Manager.getStack = function () {\n        var error;\n        try {\n            var w = window;\n            w[\"______ExpectedError______\"]();\n        }\n        catch (e) {\n            error = e;\n        }\n        return error.stack;\n    };\n    Manager.handleBaseLoggingError = function (error) {\n        // TODO: Log somewhere\n    };\n    Manager.startDate = startDate;\n    Manager.startTime = startDate.getTime();\n    return Manager;\n}());\nexports.Manager = Manager;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Manager;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/Manager.js\n ** module id = 12\n ** module chunks = 0\n **/","\"use strict\";\nvar UriEncoding_1 = require('../encoding/UriEncoding');\nvar ObjectUtil;\n(function (ObjectUtil) {\n    \"use strict\";\n    ObjectUtil.DEFAULT_DELIMITER = '&';\n    ObjectUtil.KEYVALUE_DELIMITER = '=';\n    // Returns a copy of the specified object by deeply cloning all of its properties.\n    function deepCopy(object) {\n        var refsCopied = [];\n        var copyRecurse = function (obj) {\n            var result = null;\n            if (obj) {\n                if (Array.isArray(obj)) {\n                    result = [];\n                }\n                else {\n                    // create clone of the object with same prototype chain\n                    result = Object.create(Object.getPrototypeOf(obj));\n                }\n                // iterate over all the properties in the object\n                Object.keys(obj).forEach(function (key) {\n                    // recursively copy the object's properties if the property is an object\n                    var value = obj[key];\n                    if (typeof value === \"object\") {\n                        if (refsCopied.indexOf(value) !== -1) {\n                            throw new Error(\"Cannot perform DeepCopy() because a circular reference was encountered, object: \" + String(obj) + \", property: \" + String(key));\n                        }\n                        refsCopied.push(value);\n                        result[key] = copyRecurse(value);\n                        refsCopied.pop();\n                    }\n                    else {\n                        result[key] = value;\n                    }\n                });\n            }\n            return result;\n        };\n        return copyRecurse(object);\n    }\n    ObjectUtil.deepCopy = deepCopy;\n    // Deeply compares the objects by recursively comparing all their properties, objects with circular references are not supported, prototype members and functions are ignored\n    function deepCompare(objA, objB, equivalent) {\n        // keep track of references that have been compared to find circular references while walking down either object\n        var refsComparedA = [];\n        var refsComparedB = [];\n        var compare = Boolean(equivalent) ? equivalent : function (a, b) { return (a === b); };\n        var equals = function (a, b) {\n            // try a simple equality test first\n            if (a === b) {\n                return true;\n            }\n            if ((a === null) || (b === null)) {\n                return false;\n            }\n            // if both are objects, then further comparison is required\n            if ((typeof (a) === \"object\") && (typeof (b) === \"object\")) {\n                // perform deep comparison over object's properties\n                var aKeys = Object.keys(a).sort();\n                var bKeys_1 = Object.keys(b).sort();\n                // does one object have a different number of properties?\n                if (aKeys.length !== bKeys_1.length) {\n                    return false;\n                }\n                var keysMatch = aKeys.every(function (key, index) {\n                    // key names should match\n                    if (key !== bKeys_1[index]) {\n                        return false;\n                    }\n                    else if (typeof (a[key]) === 'function' || typeof (b[key]) === 'function') {\n                        //skip comparison of function properties\n                        return true;\n                    }\n                    else if (!compare(a[key], b[key])) {\n                        // if this is an Object then recursive testing is needed on its properties\n                        if (typeof a[key] === \"object\") {\n                            // if this property was encountered before then we're going in circles, give up\n                            if (refsComparedA.indexOf(a[key]) !== -1) {\n                                throw new Error(\"Cannot perform DeepCompare() because a circular reference was encountered, object: \" + String(a) + \", property: \" + key);\n                            }\n                            refsComparedA.push(a[key]);\n                            if (refsComparedB.indexOf(b[key]) !== -1) {\n                                throw new Error(\"Cannot perform DeepCompare() because a circular reference was encountered, object: \" + String(b) + \", property: \" + key);\n                            }\n                            refsComparedB.push(b[key]);\n                            // recursive compare object's properties\n                            if (!equals(a[key], b[key])) {\n                                return false;\n                            }\n                            refsComparedA.pop();\n                            refsComparedB.pop();\n                            return true;\n                        }\n                        else {\n                            // properties don't match\n                            return false;\n                        }\n                    }\n                    else {\n                        return true;\n                    }\n                });\n                if (!keysMatch) {\n                    return false;\n                }\n            }\n            else {\n                // parameters aren't equal, and at least one is not an Object\n                return false;\n            }\n            // everything is equal\n            return true;\n        };\n        return equals(objA, objB);\n    }\n    ObjectUtil.deepCompare = deepCompare;\n    /**\n     * This is a function you can call to safely serialize anything to JSON.\n     * The built-in JSON.stringify() throws an exception for circular references and can't handle\n     * many built-ins such as HTMLElements and the global window object.\n     */\n    function safeSerialize(obj) {\n        var str;\n        try {\n            var seenObjects_1 = [];\n            str = JSON.stringify(obj, function (key, value) {\n                if (value === window) {\n                    return \"[window]\";\n                }\n                else if (value instanceof HTMLElement) {\n                    return \"[HTMLElement]\";\n                }\n                else if (typeof value === \"function\") {\n                    return \"[function]\";\n                }\n                else if (typeof value === \"object\") {\n                    if (value === null) {\n                        return value;\n                    }\n                    else if (seenObjects_1.indexOf(value) === -1) {\n                        seenObjects_1.push(value);\n                        return value;\n                    }\n                    else {\n                        return \"[circular]\";\n                    }\n                }\n                else {\n                    return value;\n                }\n            });\n        }\n        catch (err) {\n            // Note: we make this be a JSON string, so that consumers\n            // can always call JSON.parse.\n            str = JSON.stringify(\"[object]\");\n        }\n        return str;\n    }\n    ObjectUtil.safeSerialize = safeSerialize;\n    /**\n     * Serializes the object Name Values Pairs (Depth of 1).\n     * Used for Query Strings and Cookie Values\n     * @param {any} obj Object with name value pairs\n     * @param {string} delimeter  Delimiter seperates the pairs\n     * @param {boolean} skipEncoding True to skip encoding\n     */\n    function serialize(obj, delimiter, skipEncoding) {\n        delimiter = delimiter || ObjectUtil.DEFAULT_DELIMITER;\n        var values = Object.keys(obj).map(function (name) {\n            // Get the value and convert it to a string\n            var value = obj[name];\n            value = value ? value.toString() : \"\";\n            if (!skipEncoding) {\n                value = UriEncoding_1.default.encodeURIComponent(value);\n            }\n            // Add the encoded value to the array\n            return name + ObjectUtil.KEYVALUE_DELIMITER + value;\n        });\n        return values.join(delimiter);\n    }\n    ObjectUtil.serialize = serialize;\n    /**\n     * Copy the values of all enumerable own properties from one or more source objects to a target object.\n     */\n    function extend(target, source) {\n        if (source) {\n            for (var prop in source) {\n                if (source.hasOwnProperty(prop)) {\n                    target[prop] = source[prop];\n                }\n            }\n        }\n        return target;\n    }\n    ObjectUtil.extend = extend;\n})(ObjectUtil || (ObjectUtil = {}));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ObjectUtil;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/object/ObjectUtil.js\n ** module id = 13\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar UriEncoding = (function () {\n    function UriEncoding() {\n    }\n    /////////////////////////////\n    // This file is more clean of all unneeded pollutants. It only contains the minimum amount of code required for someone to use the URI class.\n    // You should think twice before adding anything else into this file because you will be causing unneeded bloat from someone else.\n    /////////////////////////////\n    /**\n     * This function performs an aggressive unicode URL-encoding.\n     * Convert non alphanum character into UTF-8 code string in format %XX%XX%XX.\n     *\n     * Escape unsafe characters\n     *   CTL | SP | <\"> | \"#\" | \"%\" | \"<\" | \">\" | \"'\" | \"&\"\n     * in the URL path (before \"?\", \"#\")\n     * No encoding on query string.\n     *\n     * @param {string} str - String to encode\n     * @param {boolean} bAsUrl - Encode in the same way as the code in unmanaged (Url::UrlEncode) code and\n     *                           SP OM (SPHttpUtility.UrlKeyValueEncode and SPHttpUtility.UrlPathEncode).\n     * @param {boolean} bForFilterQuery\n     * @param {boolean} bForCallback - Only escape the characters after 0x7F to workaround bug O12: 452191\n     */\n    UriEncoding.encodeURIComponent = function (str, bAsUrl, bForFilterQuery, bForCallback) {\n        var strOut = \"\";\n        var strByte;\n        var ix = 0;\n        var strEscaped = \" \\\"%<>\\'&\";\n        if (!str) {\n            return \"\";\n        }\n        var len = str.length;\n        for (ix = 0; ix < len; ix++) {\n            var charCode = str.charCodeAt(ix);\n            var curChar = str.charAt(ix);\n            if (bAsUrl && (curChar === '#' || curChar === '?')) {\n                strOut += str.substr(ix);\n                break;\n            }\n            if (bForFilterQuery && curChar === '&') {\n                strOut += curChar;\n                continue;\n            }\n            if (charCode <= 0x7f) {\n                if (bForCallback) {\n                    strOut += curChar;\n                }\n                else {\n                    if ((charCode >= 97 && charCode <= 122) ||\n                        (charCode >= 65 && charCode <= 90) ||\n                        (charCode >= 48 && charCode <= 57) ||\n                        (bAsUrl && (charCode >= 32 && charCode <= 95) && strEscaped.indexOf(curChar) < 0)) {\n                        strOut += curChar;\n                    }\n                    else if (charCode <= 0x0f) {\n                        strOut += \"%0\" + charCode.toString(16).toUpperCase();\n                    }\n                    else if (charCode <= 0x7f) {\n                        strOut += \"%\" + charCode.toString(16).toUpperCase();\n                    }\n                }\n            }\n            else if (charCode <= 0x07ff) {\n                strByte = 0xc0 | (charCode >> 6);\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | (charCode & 0x003f);\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n            }\n            else if ((charCode & 0xFC00) !== 0xD800) {\n                strByte = 0xe0 | (charCode >> 12);\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | ((charCode & 0x0fc0) >> 6); // middle 6 bits\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | (charCode & 0x003f); // lower 6 bits\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n            }\n            else if (ix < str.length - 1) {\n                charCode = (charCode & 0x03FF) << 10; // lower 10 bits of first char\n                ix++;\n                var nextCharCode = str.charCodeAt(ix);\n                charCode |= nextCharCode & 0x03FF; // lower 10 bits of second char\n                charCode += 0x10000;\n                strByte = 0xf0 | (charCode >> 18);\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | ((charCode & 0x3f000) >> 12); // upper 6 bits\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | ((charCode & 0x0fc0) >> 6); // middle 6 bits\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n                strByte = 0x80 | (charCode & 0x003f); // lower 6 bits\n                strOut += \"%\" + strByte.toString(16).toUpperCase();\n            }\n        }\n        return strOut;\n    };\n    /**\n     * Callbacks do not work if a #bookmark is in the URL. If there is a bookmark then we need to remove it. We also need to\n     * deal with the scenario where there is not a bookmark but there is an unencoded # as a part of a name/value after the '?'.\n     * This is how things should work here:\n     * .../foo.aspx -> .../foo.aspx (unchanged)\n     * .../foo.aspx#bookmark -> .../foo.aspx (bookmark is removed)\n     * .../foo.aspx#bookmark?name=value -> .../foo.aspx?name=value (bookmark is removed)\n     * .../foo.aspx#bookmark?name1=value#extra1&name2=value2 -> .../foo.aspx?name1=value#extra1&name2=value2 (only the bookmark # is removed)\n     * .../foo.aspx?name1=value#extra1&name2=value2 -> .../foo.aspx?name1=value#extra1&name2=value2 (unchanged)\n     */\n    UriEncoding.escapeUrlForCallback = function (str) {\n        var iPound = str.indexOf(\"#\");\n        var iQues = str.indexOf(\"?\");\n        if ((iPound > 0) && ((iQues === -1) || (iPound < iQues))) {\n            var strNew = str.substr(0, iPound);\n            if (iQues > 0) {\n                strNew += str.substr(iQues); // Need to include the '?' along with the \"name=value\" pairs.\n            }\n            str = strNew;\n        }\n        return UriEncoding.encodeURIComponent(str, true, false, true);\n    };\n    /**\n     * SharePoint REST processor expect single quote ' to be escaped to '' in tokens (this applies to %27 too).\n     * See example for usage.\n     * @example\n     * \"getFolderByServerRelativeUrl('\"+encodeRestUriStringToken(\"don't know.txt\")+\"')\" should became \"getFolderByServerRelativeUrl('don''t know.txt')\"\"\n     */\n    UriEncoding.encodeRestUriStringToken = function (stringToken) {\n        if (stringToken) {\n            stringToken = stringToken.replace(/'/g, \"''\");\n            stringToken = stringToken.replace(/%27/g, \"%27%27\");\n            stringToken = UriEncoding.encodeURIComponent(stringToken);\n        }\n        return stringToken;\n    };\n    return UriEncoding;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = UriEncoding;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/encoding/UriEncoding.js\n ** module id = 14\n ** module chunks = 0\n **/","\"use strict\";\nvar Guid_1 = require('../guid/Guid');\nvar CorrelationVector = (function () {\n    function CorrelationVector(parent, current) {\n        if (parent) {\n            this.root = parent.root;\n            this.parent = parent.current;\n        }\n        else {\n            this.root = this.parent = Guid_1.default.Empty;\n        }\n        if (current) {\n            this.current = current;\n        }\n        else {\n            this.current = Guid_1.default.generate();\n        }\n    }\n    CorrelationVector.prototype.toString = function () {\n        return this.root + \"#\" + this.parent + \"#\" + this.current;\n    };\n    CorrelationVector.RootVector = window['rootVector'] || new CorrelationVector();\n    return CorrelationVector;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = CorrelationVector;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/CorrelationVector.js\n ** module id = 15\n ** module chunks = 0\n **/","\"use strict\";\nfunction generateUuidPart(length) {\n    \"use strict\";\n    var str = '';\n    while (str.length < length) {\n        var num = Math.random() * 16;\n        num = num | 0; // clear decimal\n        str += num.toString(16);\n    }\n    return str;\n}\nvar Guid = (function () {\n    function Guid() {\n    }\n    /**\n     * Return a v4 UUID as specified by RFC 4122 http://tools.ietf.org/html/rfc4122\n     */\n    Guid.generate = function () {\n        var parts = [];\n        parts.push(generateUuidPart(8));\n        parts.push(generateUuidPart(4));\n        // first digit must be 4 since we are using pseudorandom numbers\n        var timeHighAndVersion = '4' + generateUuidPart(3);\n        parts.push(timeHighAndVersion);\n        // first digit must have first two bits set to 10\n        var clockSeqHiAndReserved = generateUuidPart(4);\n        var intVal = parseInt(clockSeqHiAndReserved[0], 10);\n        intVal = intVal & 3; // clear out first two bits\n        intVal = intVal | 8; // set first bit to 1\n        clockSeqHiAndReserved = intVal.toString(16) + clockSeqHiAndReserved.substr(1);\n        parts.push(clockSeqHiAndReserved);\n        parts.push(generateUuidPart(12));\n        return parts.join('-');\n    };\n    /**\n     * Normalizes a GUID to lowercase. Returns '' if guid is not given.\n     * @param includeBrackets - if true, add or keep brackets; if false, strip brackets\n     */\n    Guid.normalizeLower = function (guid, includeBrackets) {\n        return guid ? Guid._normalizeBrackets(guid.toLowerCase(), includeBrackets) : '';\n    };\n    /**\n     * Normalizes a GUID to uppercase. Returns '' if guid is not given.\n     * @param includeBrackets - if true, add or keep brackets; if false, strip brackets\n     */\n    Guid.normalizeUpper = function (guid, includeBrackets) {\n        return guid ? Guid._normalizeBrackets(guid.toUpperCase(), includeBrackets) : '';\n    };\n    Guid._normalizeBrackets = function (guid, includeBrackets) {\n        var match = guid.match(/^\\{(.*)\\}$/);\n        if (match) {\n            return includeBrackets ? match[0] : match[1];\n        }\n        return includeBrackets ? '{' + guid + '}' : guid;\n    };\n    Guid.Empty = \"00000000-0000-0000-0000-000000000000\";\n    return Guid;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Guid;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/guid/Guid.js\n ** module id = 16\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar Engagement = (function (_super) {\n    __extends(Engagement, _super);\n    /**\n     * The Engagement event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function Engagement(parent) {\n        _super.call(this, 'Engagement,', 'Engagement', parent);\n    }\n    /**\n     * This is true if the Engagement event is enabled\n     */\n    Engagement.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single Engagement event\n     * @param data {IEngagementSingleSchema}\n     * -required name - This is the name of the engagement event\n     * -optional extraData - This is the random extra data for the engagement event\n     * @param parent {IEvent} The optional parent for this event\n     */\n    Engagement.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(Engagement, data, parent);\n    };\n    Engagement.prototype.setSingleData = function (data) {\n        this.data.name = this.cleanString(data.name);\n        if (typeof data.extraData !== \"undefined\") {\n            this.data.extraData = data.extraData;\n        }\n    };\n    /**\n     * The name of the Engagement event\n     */\n    Engagement.fullName = 'Engagement,';\n    /**\n     * The short name of the Engagement event\n     */\n    Engagement.shortName = 'Engagement';\n    /**\n     * This is true if the Engagement event is enabled\n     */\n    Engagement.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"Engagement\",\n            definedInFullName: \"Engagement,\",\n            isKey: true,\n            isMetric: false\n        },\n        extraData: {\n            type: \"Object\",\n            definedInName: \"Engagement\",\n            definedInFullName: \"Engagement,\",\n            isMetric: false\n        }\n    };\n    return Engagement;\n}(SingleEventBase_1.SingleEventBase));\nexports.Engagement = Engagement;\nEngagement.prototype.metadata = Engagement.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Engagement;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/Engagement.event.js\n ** module id = 17\n ** module chunks = 0\n **/","// OneDrive:CoverageThreshold(80)\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar EventBase_1 = require('./EventBase');\nvar callingFromInside = false;\nvar SingleEventBase = (function (_super) {\n    __extends(SingleEventBase, _super);\n    function SingleEventBase(eventName, shortEventName, parent) {\n        if (!callingFromInside) {\n            throw \"Use logData method for single events\";\n        }\n        _super.call(this, eventName, shortEventName, parent);\n        // Make sure data has a value\n        if (!this.data) {\n            this.data = {};\n        }\n    }\n    SingleEventBase._logData = function (eventConstructor, data, parent) {\n        callingFromInside = true;\n        try {\n            var event = new eventConstructor(parent);\n            event.setSingleData(data);\n            event._logEvent(EventBase_1.ClonedEventType.Single);\n        }\n        finally {\n            callingFromInside = false;\n        }\n        return event;\n    };\n    SingleEventBase.prototype.setSingleData = function (data) {\n        // The single event to copy data that will be overridden\n    };\n    SingleEventBase.fullName = 'SingleEventBase,';\n    SingleEventBase.shortName = 'SingleEventBase';\n    return SingleEventBase;\n}(EventBase_1.EventBase));\nexports.SingleEventBase = SingleEventBase;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/SingleEventBase.js\n ** module id = 18\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar Nav = (function (_super) {\n    __extends(Nav, _super);\n    /**\n     * The Nav event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function Nav(parent) {\n        _super.call(this, 'Nav,', 'Nav', parent);\n    }\n    /**\n     * This is true if the Nav event is enabled\n     */\n    Nav.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single Nav event\n     * @param data {INavSingleSchema}\n     * -required viewParams - The view params associated with the navigation\n     * -optional url - The url associated with the navigation. This is not sanitized (i.e. could contain authkeys)\n     * @param parent {IEvent} The optional parent for this event\n     */\n    Nav.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(Nav, data, parent);\n    };\n    Nav.prototype.setSingleData = function (data) {\n        this.data.viewParams = data.viewParams;\n        if (typeof data.url !== \"undefined\") {\n            this.data.url = this.cleanString(data.url);\n        }\n    };\n    /**\n     * The name of the Nav event\n     */\n    Nav.fullName = 'Nav,';\n    /**\n     * The short name of the Nav event\n     */\n    Nav.shortName = 'Nav';\n    /**\n     * This is true if the Nav event is enabled\n     */\n    Nav.metadata = {\n        viewParams: {\n            type: \"Object\",\n            definedInName: \"Nav\",\n            definedInFullName: \"Nav,\",\n            isMetric: false\n        },\n        url: {\n            type: \"String\",\n            definedInName: \"Nav\",\n            definedInFullName: \"Nav,\",\n            isMetric: false\n        }\n    };\n    return Nav;\n}(SingleEventBase_1.SingleEventBase));\nexports.Nav = Nav;\nNav.prototype.metadata = Nav.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Nav;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/Nav.event.js\n ** module id = 19\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar Features_1 = require('../../features/Features');\nvar PLTHttpRequest = (function (_super) {\n    __extends(PLTHttpRequest, _super);\n    /**\n     * The PLTHttpRequest event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function PLTHttpRequest(parent) {\n        _super.call(this, 'PLTHttpRequest,', 'PLTHttpRequest', parent);\n    }\n    /**\n     * This is true if the PLTHttpRequest event is enabled\n     */\n    PLTHttpRequest.enabled = function () {\n        return Features_1.default.isFeatureEnabled(PLTHttpRequest.samplingFeature);\n    };\n    /**\n     * This will create a single PLTHttpRequest event\n     * @param data {IPLTHttpRequestSingleSchema}\n     * -required startTime - The start time of the request\n     * -required url - The url for the request\n     * -required duration - Time it takes for the request to complete\n     * @param parent {IEvent} The optional parent for this event\n     */\n    PLTHttpRequest.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(PLTHttpRequest, data, parent);\n    };\n    /**\n     * This is true when PLTHttpRequest event is enabled\n     */\n    PLTHttpRequest.prototype.isEnabled = function () {\n        return Features_1.default.isFeatureEnabled(PLTHttpRequest.samplingFeature);\n    };\n    PLTHttpRequest.prototype.setSingleData = function (data) {\n        this.data.startTime = data.startTime;\n        this.data.url = this.cleanString(data.url);\n        this.data.duration = data.duration;\n    };\n    /**\n     * The name of the PLTHttpRequest event\n     */\n    PLTHttpRequest.fullName = 'PLTHttpRequest,';\n    /**\n     * The short name of the PLTHttpRequest event\n     */\n    PLTHttpRequest.shortName = 'PLTHttpRequest';\n    /**\n     * This is true if the PLTHttpRequest event is enabled\n     */\n    PLTHttpRequest.metadata = {\n        startTime: {\n            type: \"Number\",\n            definedInName: \"PLTHttpRequest\",\n            definedInFullName: \"PLTHttpRequest,\",\n            isMetric: true\n        },\n        url: {\n            type: \"String\",\n            definedInName: \"PLTHttpRequest\",\n            definedInFullName: \"PLTHttpRequest,\",\n            isMetric: false\n        },\n        duration: {\n            type: \"Number\",\n            definedInName: \"PLTHttpRequest\",\n            definedInFullName: \"PLTHttpRequest,\",\n            isMetric: true\n        }\n    };\n    /**\n     * The sampling feature for the PLTHttpRequest event\n     */\n    PLTHttpRequest.samplingFeature = { ODB: true, ODC: 'PLTHttpRequestSampling', Fallback: false };\n    return PLTHttpRequest;\n}(SingleEventBase_1.SingleEventBase));\nexports.PLTHttpRequest = PLTHttpRequest;\nPLTHttpRequest.prototype.metadata = PLTHttpRequest.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = PLTHttpRequest;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/PLTHttpRequest.event.js\n ** module id = 20\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n/**\n * This file contains the known list of features (a.k.a. flights or ramps).\n * The signature of one entry is:\n *  static FeatureName: IFlight = { ODB: 100, ODC: \"foo\", Fallback: true };\n * ODB            Is the numerical value of the flight from the ExpFeature enumeration.\n *                Use -1 if the flight does not have a correspondent in ODB.\n * ODC            Is the string identifier in ODC.\n *                Use null if the flight does not have a correspondent ramp in ODC.\n * Fallback       The state of the flight, true = on false = off.\n *                The fallback is used only when the ODB or ODC flight is not applicable.\n *                For example: The Flight is an ODB flight with no ODC counterpart and the app runs in ODC mode.\n *                The fallback also allows declaring app only switches that are not known to the backend.\n */\nvar Features = (function () {\n    function Features() {\n    }\n    //You should not add features here but in your own file\n    /**\n     * This function will return true when the feature is enabled and\n     * will check the proper config for ODB and ODC to determine this\n     */\n    Features.isFeatureEnabled = function (feature) {\n        var result = feature.Fallback;\n        var _spPageContextInfo = window['_spPageContextInfo'];\n        var _odcFlightInfo = window['Flight'];\n        var _odcConfig = window['FilesConfig'];\n        var Flighting = window['Flighting']; // Old SharePoint pages use this.\n        if (Boolean(_spPageContextInfo)) {\n            if (!Boolean(_spPageContextInfo.ExpFeatures) &&\n                Boolean(Flighting) && Boolean(Flighting.ExpFeatures)) {\n                _spPageContextInfo.ExpFeatures = Flighting.ExpFeatures;\n            }\n            if (typeof feature.ODB === 'boolean') {\n                result = feature.ODB;\n            }\n            else if (Boolean(_spPageContextInfo.ExpFeatures) && feature.ODB > 0) {\n                var elem = Math.floor(feature.ODB / 32);\n                var mask = 1 << (feature.ODB % 32);\n                result = (elem < _spPageContextInfo.ExpFeatures.length) &&\n                    (_spPageContextInfo.ExpFeatures[elem] & mask) !== 0;\n            }\n        }\n        if (feature.ODC !== null && !!_odcConfig) {\n            if (typeof feature.ODC === 'boolean') {\n                result = feature.ODC;\n            }\n            else if (_odcFlightInfo && _odcFlightInfo.Ramps && _odcFlightInfo.Ramps[feature.ODC]) {\n                result = true;\n            }\n            else if (_odcConfig && _odcConfig[feature.ODC]) {\n                result = true;\n            }\n        }\n        return result;\n    };\n    /* This feature is always on */\n    Features.On = { ODB: -1, ODC: null, Fallback: true };\n    /* This feature is always off */\n    Features.Off = { ODB: -1, ODC: null, Fallback: false };\n    return Features;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Features;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/features/Features.js\n ** module id = 21\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar PairedEventBase_1 = require('../PairedEventBase');\nvar ResultTypeEnum_1 = require('./ResultTypeEnum');\nvar ResultTypeEnum_2 = require('./ResultTypeEnum');\nexports.ResultTypeEnum = ResultTypeEnum_2.ResultTypeEnum;\nvar Qos = (function (_super) {\n    __extends(Qos, _super);\n    /**\n     * The Qos event constructor\n     * @param data {IQosStartSchema}\n     * -required name - This is the name of the qos event\n     * -optional resultCode - This is result code for the qos event\n     * -optional resultType - This is the result type enum\n     * -optional error - This is the error message to be logged with failed result\n     * -optional extraData - This is the random extra data for the qos event\n     * -optional extraMetrics - Extra data for the qos event that should be logged as aggregatable metrics\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function Qos(data, parent) {\n        _super.call(this, 'Qos,', 'Qos', data, parent);\n    }\n    /**\n     * This is true if the Qos event is enabled\n     */\n    Qos.enabled = function () {\n        return true;\n    };\n    Qos.instrumentPromise = function (startSchema, createPromise, getCompleteSchema, getErrorSchema, timeoutMs, timeoutSchema, parent) {\n        return PairedEventBase_1.PairedEventBase._instrumentPromise(Qos, startSchema, createPromise, getCompleteSchema, getErrorSchema, timeoutMs, timeoutSchema, parent);\n    };\n    Qos.prototype.setStartData = function (data) {\n        this.data.name = this.cleanString(data.name);\n        if (typeof data.resultCode !== \"undefined\") {\n            this.data.resultCode = this.cleanString(data.resultCode);\n        }\n        if (typeof data.resultType !== \"undefined\") {\n            this.data.resultType = data.resultType;\n        }\n        if (typeof data.error !== \"undefined\") {\n            this.data.error = this.cleanString(data.error);\n        }\n        if (typeof data.extraData !== \"undefined\") {\n            this.data.extraData = data.extraData;\n        }\n        if (typeof data.extraMetrics !== \"undefined\") {\n            this.data.extraMetrics = data.extraMetrics;\n        }\n    };\n    Qos.prototype.setEndData = function (data) {\n        if (typeof data.resultCode !== \"undefined\") {\n            this.data.resultCode = this.cleanString(data.resultCode);\n        }\n        this.data.resultType = data.resultType;\n        if (typeof data.error !== \"undefined\") {\n            this.data.error = this.cleanString(data.error);\n        }\n        if (typeof data.extraData !== \"undefined\") {\n            this.data.extraData = data.extraData;\n        }\n        if (typeof data.extraMetrics !== \"undefined\") {\n            this.data.extraMetrics = data.extraMetrics;\n        }\n    };\n    /**\n     * This will end the Qos event\n     * @param data {IQosEndSchema}\n     * -optional resultCode - This is result code for the qos event\n     * -required resultType - This is the result type enum\n     * -optional error - This is the error message to be logged with failed result\n     * -optional extraData - This is the random extra data for the qos event\n     * -optional extraMetrics - Extra data for the qos event that should be logged as aggregatable metrics\n     */\n    Qos.prototype.end = function (data) {\n        return this._end(data);\n    };\n    /**\n     * This writes verbose logs to memory to be uploaded if event ends with failure\n     */\n    Qos.prototype.verbose = function (message) {\n        return this._verbose(message);\n    };\n    /**\n     * Sets a time limit for the scenario. A timeout result will be logged if no end happens in desired timeframe\n     */\n    Qos.prototype.setTimeout = function (ms, data) {\n        return this._setTimeout(ms, data);\n    };\n    /**\n     * The name of the Qos event\n     */\n    Qos.fullName = 'Qos,';\n    /**\n     * The short name of the Qos event\n     */\n    Qos.shortName = 'Qos';\n    /**\n     * This is true if the Qos event is enabled\n     */\n    Qos.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            isKey: true,\n            isMetric: false\n        },\n        resultCode: {\n            type: \"String\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            isMetric: false\n        },\n        resultType: {\n            type: \"ResultTypeEnum\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            baseType: \"Enum\",\n            typeRef: ResultTypeEnum_1.ResultTypeEnum,\n            isMetric: false\n        },\n        error: {\n            type: \"String\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            isMetric: false\n        },\n        extraData: {\n            type: \"Object\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            isMetric: false\n        },\n        extraMetrics: {\n            type: \"Object\",\n            definedInName: \"Qos\",\n            definedInFullName: \"Qos,\",\n            isMetric: false\n        }\n    };\n    return Qos;\n}(PairedEventBase_1.PairedEventBase));\nexports.Qos = Qos;\nQos.prototype.metadata = Qos.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Qos;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/Qos.event.js\n ** module id = 22\n ** module chunks = 0\n **/","// OneDrive:CoverageThreshold(75)\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar EventBase_1 = require('./EventBase');\nvar Manager_1 = require(\"./Manager\");\nvar ResultTypeEnum_1 = require('./events/ResultTypeEnum');\nvar ErrorHelper_1 = require(\"./ErrorHelper\");\nvar Async_1 = require(\"../async/Async\");\nvar ObjectUtil_1 = require(\"../object/ObjectUtil\");\nvar PairedEventBase = (function (_super) {\n    __extends(PairedEventBase, _super);\n    function PairedEventBase(eventName, shortEventName, data, parent) {\n        _super.call(this, eventName, shortEventName, parent);\n        // Make sure data has a value\n        if (!this.data) {\n            this.data = {};\n        }\n        // Set the data if we have it\n        if (data) {\n            this.setStartData(data);\n        }\n        // Send the start event\n        this._logEvent(EventBase_1.ClonedEventType.Start);\n    }\n    PairedEventBase._instrumentPromise = function (eventConstructor, startSchema, createPromise, getCompleteSchema, getErrorSchema, timeoutMs, timeoutSchema, parent) {\n        var _this = this;\n        var _promise;\n        var _event = new eventConstructor(startSchema, parent);\n        if (timeoutMs) {\n            _event._setTimeout(timeoutMs, timeoutSchema);\n        }\n        var _onComplete = function (result) {\n            var schema;\n            if (getCompleteSchema) {\n                try {\n                    schema = getCompleteSchema(result);\n                }\n                catch (e) {\n                    schema = _event._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Failure, _this.schemaExceptionErrorCode, e.toString());\n                }\n            }\n            else {\n                schema = _event._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Success);\n            }\n            _event._end(schema);\n        };\n        var _onError = function (errorArgs) {\n            var schema;\n            if (getErrorSchema) {\n                try {\n                    schema = getErrorSchema(errorArgs);\n                }\n                catch (e) {\n                    schema = _event._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Failure, _this.schemaExceptionErrorCode, e.toString());\n                }\n            }\n            else {\n                if (errorArgs) {\n                    var failureResultType = (errorArgs instanceof Error && errorArgs.name === \"Canceled\") ?\n                        ResultTypeEnum_1.ResultTypeEnum.ExpectedFailure : ResultTypeEnum_1.ResultTypeEnum.Failure;\n                    schema = _event._generateQosResult(failureResultType, null, ObjectUtil_1.default.safeSerialize(errorArgs));\n                }\n                else {\n                    schema = _event._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Failure);\n                }\n            }\n            _event._end(schema);\n        };\n        try {\n            _promise = createPromise();\n        }\n        catch (e) {\n            _event._end(_event._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Failure, this.promiseCreationFailureErrorCode, e.toString()));\n            throw e;\n        }\n        _promise.then(_onComplete, _onError);\n        return _promise;\n    };\n    PairedEventBase.prototype.setStartData = function (data) {\n        // The start event to copy data that will be overridden\n    };\n    PairedEventBase.prototype.setEndData = function (data) {\n        // The end event to copy data that will be overridden\n    };\n    PairedEventBase.prototype._setTimeout = function (ms, data) {\n        if (!this.async) {\n            this.async = new Async_1.default(this);\n        }\n        this._clearTimeout();\n        if (!data) {\n            data = this._generateQosResult(ResultTypeEnum_1.ResultTypeEnum.Failure, PairedEventBase.timeoutErrorCode);\n        }\n        this.async.setTimeout(this._end.bind(this, data), ms);\n    };\n    PairedEventBase.prototype._verbose = function (message) {\n        if (this.endTime) {\n            // event already ended, no need to log anymore\n            return;\n        }\n        if (this._isQosEvent) {\n            var qosSchema = this.data;\n            ErrorHelper_1.default.verbose(message, qosSchema.name);\n        }\n    };\n    PairedEventBase.prototype._end = function (data) {\n        // Make sure end can only be called once\n        if (!this.endTime) {\n            if (data) {\n                this.setEndData(data);\n            }\n            // Set the end time\n            this.endTime = Manager_1.Manager.getTime();\n            // Log the event end\n            this._logEvent(EventBase_1.ClonedEventType.End);\n            // If this is a QOS event log and contains an error message trigger the upload of logs by calling\n            // the ErrorHelper\n            if (this._isQosEvent) {\n                var qosSchema = this.data;\n                if (qosSchema.error) {\n                    ErrorHelper_1.default.log(qosSchema.error, qosSchema.name, qosSchema.resultCode, qosSchema.resultType);\n                }\n            }\n            this._clearTimeout();\n        }\n    };\n    PairedEventBase.prototype._clearTimeout = function () {\n        if (this.async && this.timeoutId) {\n            this.async.clearTimeout(this.timeoutId);\n            this.timeoutId = null;\n        }\n    };\n    Object.defineProperty(PairedEventBase.prototype, \"_isQosEvent\", {\n        get: function () {\n            return this.eventName.indexOf('Qos,') >= 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PairedEventBase.prototype._generateQosResult = function (resultType, resultCode, error) {\n        var schema = {\n            resultType: resultType\n        };\n        if (resultCode) {\n            schema.resultCode = resultCode;\n        }\n        if (error) {\n            schema.error = error;\n        }\n        return schema;\n    };\n    PairedEventBase.fullName = 'PairedEventBase,';\n    PairedEventBase.shortName = 'PairedEventBase';\n    PairedEventBase.schemaExceptionErrorCode = 'GetSchemaException';\n    PairedEventBase.promiseCreationFailureErrorCode = 'PromiseCreationFailed';\n    PairedEventBase.timeoutErrorCode = 'Timeout';\n    return PairedEventBase;\n}(EventBase_1.EventBase));\nexports.PairedEventBase = PairedEventBase;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/PairedEventBase.js\n ** module id = 23\n ** module chunks = 0\n **/","\"use strict\";\n(function (ResultTypeEnum) {\n    ResultTypeEnum[ResultTypeEnum[\"Success\"] = 0] = \"Success\";\n    ResultTypeEnum[ResultTypeEnum[\"Failure\"] = 1] = \"Failure\";\n    ResultTypeEnum[ResultTypeEnum[\"ExpectedFailure\"] = 2] = \"ExpectedFailure\";\n})(exports.ResultTypeEnum || (exports.ResultTypeEnum = {}));\nvar ResultTypeEnum = exports.ResultTypeEnum;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/ResultTypeEnum.js\n ** module id = 24\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar CaughtError_event_1 = require(\"./events/CaughtError.event\");\nvar QosError_event_1 = require(\"./events/QosError.event\");\nvar Verbose_event_1 = require(\"./events/Verbose.event\");\nvar CircularBuffer_1 = require(\"../store/CircularBuffer\");\nvar ObjectUtil_1 = require('../object/ObjectUtil');\nvar MAX_VERBOSE_LOGS = 50;\nvar ErrorHelper = (function () {\n    function ErrorHelper() {\n    }\n    ErrorHelper.verbose = function (message, eventName) {\n        ErrorHelper._verboseLogs.push({\n            name: eventName,\n            message: message\n        });\n    };\n    ErrorHelper.log = function (error, eventName, resultCode, resultType) {\n        var message = \"\";\n        if (error) {\n            if (error.message) {\n                message = error.message;\n            }\n            else if (error.description) {\n                message = error.description;\n            }\n            else if (typeof (error) === 'object') {\n                message = ObjectUtil_1.default.safeSerialize(error);\n            }\n            else if (error.toString) {\n                message = error.toString();\n            }\n        }\n        var stack = error && error.stack ? error.stack : \"\";\n        var schema;\n        while (Boolean(schema = ErrorHelper._verboseLogs.popOldest())) {\n            Verbose_event_1.Verbose.logData(schema);\n        }\n        if (error && !error._handled) {\n            if (eventName) {\n                QosError_event_1.QosError.logData({\n                    name: eventName,\n                    resultCode: resultCode,\n                    resultType: resultType,\n                    message: message,\n                    stack: stack\n                });\n            }\n            else {\n                CaughtError_event_1.CaughtError.logData({\n                    message: message,\n                    stack: stack\n                });\n            }\n        }\n    };\n    ErrorHelper._verboseLogs = new CircularBuffer_1.default(MAX_VERBOSE_LOGS);\n    return ErrorHelper;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ErrorHelper;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/ErrorHelper.js\n ** module id = 25\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar CaughtError = (function (_super) {\n    __extends(CaughtError, _super);\n    /**\n     * The CaughtError event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function CaughtError(parent) {\n        _super.call(this, 'CaughtError,', 'CaughtError', parent);\n    }\n    /**\n     * This is true if the CaughtError event is enabled\n     */\n    CaughtError.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single CaughtError event\n     * @param data {ICaughtErrorSingleSchema}\n     * -required message - This is the error message returned during the window.onerror handler\n     * -required stack - This is the stack trace of the error returned during the window.onerror handler\n     * @param parent {IEvent} The optional parent for this event\n     */\n    CaughtError.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(CaughtError, data, parent);\n    };\n    /**\n     * This is false when CaughtError event does not require a parent event\n     */\n    CaughtError.prototype.requiresParent = function () {\n        return false;\n    };\n    /**\n     * This is true when CaughtError event is a critical event\n     */\n    CaughtError.prototype.isCritical = function () {\n        return true;\n    };\n    CaughtError.prototype.setSingleData = function (data) {\n        this.data.message = this.cleanString(data.message);\n        this.data.stack = this.cleanString(data.stack);\n    };\n    /**\n     * The name of the CaughtError event\n     */\n    CaughtError.fullName = 'CaughtError,';\n    /**\n     * The short name of the CaughtError event\n     */\n    CaughtError.shortName = 'CaughtError';\n    /**\n     * This is true if the CaughtError event is enabled\n     */\n    CaughtError.metadata = {\n        message: {\n            type: \"String\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        },\n        stack: {\n            type: \"String\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        },\n        unMinStack: {\n            type: \"Object\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        }\n    };\n    return CaughtError;\n}(SingleEventBase_1.SingleEventBase));\nexports.CaughtError = CaughtError;\nCaughtError.prototype.metadata = CaughtError.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = CaughtError;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/CaughtError.event.js\n ** module id = 26\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar ResultTypeEnum_1 = require('./ResultTypeEnum');\nvar ResultTypeEnum_2 = require('./ResultTypeEnum');\nexports.ResultTypeEnum = ResultTypeEnum_2.ResultTypeEnum;\nvar QosError = (function (_super) {\n    __extends(QosError, _super);\n    /**\n     * The QosError event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function QosError(parent) {\n        _super.call(this, 'QosError,CaughtError,', 'QosError', parent);\n    }\n    /**\n     * This is true if the QosError event is enabled\n     */\n    QosError.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single QosError event\n     * @param data {IQosErrorSingleSchema}\n     * -required name - Qos event name\n     * -optional resultCode - Qos event result code\n     * -optional resultType - This is the result type enum\n     * -required message - This is the error message returned during the window.onerror handler\n     * -required stack - This is the stack trace of the error returned during the window.onerror handler\n     * @param parent {IEvent} The optional parent for this event\n     */\n    QosError.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(QosError, data, parent);\n    };\n    /**\n     * This is true when QosError event is a critical event\n     */\n    QosError.prototype.isCritical = function () {\n        return true;\n    };\n    QosError.prototype.setSingleData = function (data) {\n        this.data.name = this.cleanString(data.name);\n        if (typeof data.resultCode !== \"undefined\") {\n            this.data.resultCode = this.cleanString(data.resultCode);\n        }\n        if (typeof data.resultType !== \"undefined\") {\n            this.data.resultType = data.resultType;\n        }\n        this.data.message = this.cleanString(data.message);\n        this.data.stack = this.cleanString(data.stack);\n    };\n    /**\n     * The name of the QosError event\n     */\n    QosError.fullName = 'QosError,CaughtError,';\n    /**\n     * The short name of the QosError event\n     */\n    QosError.shortName = 'QosError';\n    /**\n     * This is true if the QosError event is enabled\n     */\n    QosError.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"QosError\",\n            definedInFullName: \"QosError,\",\n            isKey: true,\n            isMetric: false\n        },\n        resultCode: {\n            type: \"String\",\n            definedInName: \"QosError\",\n            definedInFullName: \"QosError,\",\n            isMetric: false\n        },\n        resultType: {\n            type: \"ResultTypeEnum\",\n            definedInName: \"QosError\",\n            definedInFullName: \"QosError,\",\n            baseType: \"Enum\",\n            typeRef: ResultTypeEnum_1.ResultTypeEnum,\n            isMetric: false\n        },\n        message: {\n            type: \"String\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        },\n        stack: {\n            type: \"String\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        },\n        unMinStack: {\n            type: \"Object\",\n            definedInName: \"CaughtError\",\n            definedInFullName: \"CaughtError,\",\n            isMetric: false\n        }\n    };\n    return QosError;\n}(SingleEventBase_1.SingleEventBase));\nexports.QosError = QosError;\nQosError.prototype.metadata = QosError.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = QosError;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/QosError.event.js\n ** module id = 27\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar Verbose = (function (_super) {\n    __extends(Verbose, _super);\n    /**\n     * The Verbose event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function Verbose(parent) {\n        _super.call(this, 'Verbose,', 'Verbose', parent);\n    }\n    /**\n     * This is true if the Verbose event is enabled\n     */\n    Verbose.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single Verbose event\n     * @param data {IVerboseSingleSchema}\n     * -optional name - This is the name of the qos event this verbose log correlates with\n     * -required message - This is the verbose message\n     * @param parent {IEvent} The optional parent for this event\n     */\n    Verbose.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(Verbose, data, parent);\n    };\n    /**\n     * This is false when Verbose event does not require a parent event\n     */\n    Verbose.prototype.requiresParent = function () {\n        return false;\n    };\n    Verbose.prototype.setSingleData = function (data) {\n        if (typeof data.name !== \"undefined\") {\n            this.data.name = this.cleanString(data.name);\n        }\n        this.data.message = this.cleanString(data.message);\n    };\n    /**\n     * The name of the Verbose event\n     */\n    Verbose.fullName = 'Verbose,';\n    /**\n     * The short name of the Verbose event\n     */\n    Verbose.shortName = 'Verbose';\n    /**\n     * This is true if the Verbose event is enabled\n     */\n    Verbose.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"Verbose\",\n            definedInFullName: \"Verbose,\",\n            isKey: true,\n            isMetric: false\n        },\n        message: {\n            type: \"String\",\n            definedInName: \"Verbose\",\n            definedInFullName: \"Verbose,\",\n            isMetric: false\n        }\n    };\n    return Verbose;\n}(SingleEventBase_1.SingleEventBase));\nexports.Verbose = Verbose;\nVerbose.prototype.metadata = Verbose.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Verbose;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/Verbose.event.js\n ** module id = 28\n ** module chunks = 0\n **/","// OneDrive:CoverageThreshold(100)\n\"use strict\";\nvar CircularBuffer = (function () {\n    function CircularBuffer(size) {\n        this._length = 0;\n        this._head = -1;\n        if (size <= 0) {\n            throw new Error(\"Size must be positive\");\n        }\n        this._size = size;\n        this._buffer = new Array(size);\n    }\n    CircularBuffer.prototype.push = function (item) {\n        if (this._length < this._size) {\n            this._length++;\n        }\n        this._head++;\n        if (this._head === this._size) {\n            this._head = 0;\n        }\n        this._buffer[this._head] = item;\n    };\n    CircularBuffer.prototype.popOldest = function () {\n        if (this._length === 0) {\n            return null;\n        }\n        var tail = (this._head - this._length + 1 + this._size) % this._size;\n        this._length--;\n        return this._buffer[tail];\n    };\n    return CircularBuffer;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = CircularBuffer;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/store/CircularBuffer.js\n ** module id = 29\n ** module chunks = 0\n **/","/**\n * Bugs often appear in async code when stuff gets disposed, but async operations don't get canceled.\n * This Async helper class solves these issues by tying async code to the lifetime of a disposable object.\n *\n * Usage: Anything class extending from BaseModel can access this helper via this.async. Otherwise create a\n * new instance of the class and remember to call dispose() during your code's dispose handler.\n */\n\"use strict\";\nfunction noop() {\n    'use strict';\n    // Do nothing.\n}\nvar Async = (function () {\n    function Async(parent, onError) {\n        this._isDisposed = false;\n        this._parent = parent || null;\n        this._onErrorHandler = onError;\n        this._timeoutIds = null;\n        this._immediateIds = null;\n        this._animationFrameIds = null;\n        this._intervalIds = null;\n    }\n    /**\n     * Dispose function, clears all async operations.\n     */\n    Async.prototype.dispose = function () {\n        if (this._isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        this._parent = null;\n        // Clear timeouts.\n        if (this._timeoutIds) {\n            for (var _i = 0, _a = Object.keys(this._timeoutIds); _i < _a.length; _i++) {\n                var id = _a[_i];\n                this.clearTimeout(Number(id));\n            }\n            this._timeoutIds = null;\n        }\n        // Clear immediates.\n        if (this._immediateIds) {\n            for (var _b = 0, _c = Object.keys(this._immediateIds); _b < _c.length; _b++) {\n                var id = _c[_b];\n                this.clearImmediate(Number(id));\n            }\n            this._immediateIds = null;\n        }\n        // Clear intervals.\n        if (this._intervalIds) {\n            for (var _d = 0, _e = Object.keys(this._intervalIds); _d < _e.length; _d++) {\n                var id = _e[_d];\n                this.clearInterval(Number(id));\n            }\n            this._intervalIds = null;\n        }\n        // Clear animation frames.\n        if (this._animationFrameIds) {\n            for (var _f = 0, _g = Object.keys(this._animationFrameIds); _f < _g.length; _f++) {\n                var id = _g[_f];\n                this.cancelAnimationFrame(Number(id));\n            }\n            this._animationFrameIds = null;\n        }\n    };\n    /**\n     * SetTimeout override, which will auto cancel the timeout during dispose.\n     * @param callback Callback to execute.\n     * @param duration Duration in milliseconds.\n     * @return The setTimeout id.\n     */\n    Async.prototype.setTimeout = function (callback, duration) {\n        var _this = this;\n        var timeoutId = 0;\n        if (!this._isDisposed) {\n            if (!this._timeoutIds) {\n                this._timeoutIds = {};\n            }\n            /* tslint:disable:ban-native-functions */\n            timeoutId = setTimeout(function () {\n                // Time to execute the timeout, enqueue it as a foreground task to be executed.\n                try {\n                    // Now delete the record and call the callback.\n                    delete _this._timeoutIds[timeoutId];\n                    callback.apply(_this._parent);\n                }\n                catch (e) {\n                    if (_this._onErrorHandler) {\n                        _this._onErrorHandler(e);\n                    }\n                }\n            }, duration);\n            /* tslint:enable:ban-native-functions */\n            this._timeoutIds[timeoutId] = true;\n        }\n        return timeoutId;\n    };\n    /**\n     * Clears the timeout.\n     * @param id Id to cancel.\n     */\n    Async.prototype.clearTimeout = function (id) {\n        if (this._timeoutIds && this._timeoutIds[id]) {\n            /* tslint:disable:ban-native-functions */\n            clearTimeout(id);\n            delete this._timeoutIds[id];\n        }\n    };\n    /**\n     * SetImmediate override, which will auto cancel the immediate during dispose.\n     * @param callback Callback to execute.\n     * @return The setTimeout id.\n     */\n    Async.prototype.setImmediate = function (callback) {\n        var _this = this;\n        var immediateId = 0;\n        if (!this._isDisposed) {\n            if (!this._immediateIds) {\n                this._immediateIds = {};\n            }\n            /* tslint:disable:ban-native-functions */\n            var setImmediateCallback = function () {\n                // Time to execute the timeout, enqueue it as a foreground task to be executed.\n                try {\n                    // Now delete the record and call the callback.\n                    delete _this._immediateIds[immediateId];\n                    callback.apply(_this._parent);\n                }\n                catch (e) {\n                    _this._logError(e);\n                }\n            };\n            immediateId = window.setImmediate ? window.setImmediate(setImmediateCallback) : window.setTimeout(setImmediateCallback, 0);\n            /* tslint:enable:ban-native-functions */\n            this._immediateIds[immediateId] = true;\n        }\n        return immediateId;\n    };\n    /**\n     * Clears the immediate.\n     * @param id Id to cancel.\n     */\n    Async.prototype.clearImmediate = function (id) {\n        if (this._immediateIds && this._immediateIds[id]) {\n            /* tslint:disable:ban-native-functions */\n            window.clearImmediate ? window.clearImmediate(id) : window.clearTimeout(id);\n            delete this._immediateIds[id];\n        }\n    };\n    /**\n     * SetInterval override, which will auto cancel the timeout during dispose.\n     * @param callback Callback to execute.\n     * @param duration Duration in milliseconds.\n     * @return The setTimeout id.\n     */\n    Async.prototype.setInterval = function (callback, duration) {\n        var _this = this;\n        var intervalId = 0;\n        if (!this._isDisposed) {\n            if (!this._intervalIds) {\n                this._intervalIds = {};\n            }\n            /* tslint:disable:ban-native-functions */\n            intervalId = setInterval(function () {\n                // Time to execute the interval callback, enqueue it as a foreground task to be executed.\n                try {\n                    callback.apply(_this._parent);\n                }\n                catch (e) {\n                    _this._logError(e);\n                }\n            }, duration);\n            /* tslint:enable:ban-native-functions */\n            this._intervalIds[intervalId] = true;\n        }\n        return intervalId;\n    };\n    /**\n     * Clears the interval.\n     * @param id Id to cancel.\n     */\n    Async.prototype.clearInterval = function (id) {\n        if (this._intervalIds && this._intervalIds[id]) {\n            /* tslint:disable:ban-native-functions */\n            clearInterval(id);\n            delete this._intervalIds[id];\n        }\n    };\n    /**\n     * Creates a function that, when executed, will only call the func function at most once per\n     * every wait milliseconds. Provide an options object to indicate that func should be invoked\n     * on the leading and/or trailing edge of the wait timeout. Subsequent calls to the throttled\n     * function will return the result of the last func call.\n     *\n     * Note: If leading and trailing options are true func will be called on the trailing edge of\n     * the timeout only if the the throttled function is invoked more than once during the wait timeout.\n     *\n     * @param func The function to throttle.\n     * @param wait The number of milliseconds to throttle executions to. Defaults to 0.\n     * @param options The options object.\n     * @param options.leading Specify execution on the leading edge of the timeout.\n     * @param options.trailing Specify execution on the trailing edge of the timeout.\n     * @return The new throttled function.\n     */\n    Async.prototype.throttle = function (func, wait, options) {\n        var _this = this;\n        if (this._isDisposed) {\n            return noop;\n        }\n        var waitMS = wait || 0;\n        var leading = true;\n        var trailing = true;\n        var lastExecuteTime = 0;\n        var lastResult;\n        var lastArgs;\n        var timeoutId = null;\n        if (options && typeof (options.leading) === 'boolean') {\n            leading = options.leading;\n        }\n        if (options && typeof (options.trailing) === 'boolean') {\n            trailing = options.trailing;\n        }\n        var callback = function (userCall) {\n            var now = (new Date()).getTime();\n            var delta = now - lastExecuteTime;\n            var waitLength = leading ? waitMS - delta : waitMS;\n            if (delta >= waitMS && (!userCall || leading)) {\n                lastExecuteTime = now;\n                if (timeoutId) {\n                    _this.clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                lastResult = func.apply(_this._parent, lastArgs);\n            }\n            else if (timeoutId === null && trailing) {\n                timeoutId = _this.setTimeout(callback, waitLength);\n            }\n            return lastResult;\n        };\n        var resultFunction = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            lastArgs = args;\n            return callback(true);\n        };\n        return resultFunction;\n    };\n    /**\n     * Creates a function that will delay the execution of func until after wait milliseconds have\n     * elapsed since the last time it was invoked. Provide an options object to indicate that func\n     * should be invoked on the leading and/or trailing edge of the wait timeout. Subsequent calls\n     * to the debounced function will return the result of the last func call.\n     *\n     * Note: If leading and trailing options are true func will be called on the trailing edge of\n     * the timeout only if the the debounced function is invoked more than once during the wait\n     * timeout.\n     *\n     * @param func The function to debounce.\n     * @param wait The number of milliseconds to delay.\n     * @param options The options object.\n     * @param options.leading Specify execution on the leading edge of the timeout.\n     * @param options.maxWait The maximum time func is allowed to be delayed before it's called.\n     * @param options.trailing Specify execution on the trailing edge of the timeout.\n     * @return The new debounced function.\n     */\n    Async.prototype.debounce = function (func, wait, options) {\n        var _this = this;\n        if (this._isDisposed) {\n            return noop;\n        }\n        var waitMS = wait || 0;\n        var leading = false;\n        var trailing = true;\n        var maxWait = null;\n        var lastCallTime = 0;\n        var lastExecuteTime = (new Date()).getTime();\n        var lastResult;\n        var lastArgs;\n        var timeoutId = null;\n        if (options && typeof (options.leading) === 'boolean') {\n            leading = options.leading;\n        }\n        if (options && typeof (options.trailing) === 'boolean') {\n            trailing = options.trailing;\n        }\n        if (options && typeof (options.maxWait) === 'number' && !isNaN(options.maxWait)) {\n            maxWait = options.maxWait;\n        }\n        var callback = function (userCall) {\n            var now = (new Date()).getTime();\n            var executeImmediately = false;\n            if (userCall) {\n                if (leading && now - lastCallTime >= waitMS) {\n                    executeImmediately = true;\n                }\n                lastCallTime = now;\n            }\n            var delta = now - lastCallTime;\n            var waitLength = waitMS - delta;\n            var maxWaitDelta = now - lastExecuteTime;\n            var maxWaitExpired = false;\n            if (maxWait !== null) {\n                // maxWait only matters when there is a pending callback\n                if (maxWaitDelta >= maxWait && timeoutId) {\n                    maxWaitExpired = true;\n                }\n                else {\n                    waitLength = Math.min(waitLength, maxWait - maxWaitDelta);\n                }\n            }\n            if (delta >= waitMS || maxWaitExpired || executeImmediately) {\n                if (timeoutId) {\n                    _this.clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                lastExecuteTime = now;\n                lastResult = func.apply(_this._parent, lastArgs);\n            }\n            else if ((timeoutId === null || !userCall) && trailing) {\n                timeoutId = _this.setTimeout(callback, waitLength);\n            }\n            return lastResult;\n        };\n        var resultFunction = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            lastArgs = args;\n            return callback(true);\n        };\n        return resultFunction;\n    };\n    Async.prototype.requestAnimationFrame = function (callback) {\n        var _this = this;\n        var animationFrameId = 0;\n        if (!this._isDisposed) {\n            if (!this._animationFrameIds) {\n                this._animationFrameIds = {};\n            }\n            /* tslint:disable:ban-native-functions */\n            var animationFrameCallback = function () {\n                try {\n                    // Now delete the record and call the callback.\n                    delete _this._animationFrameIds[animationFrameId];\n                    callback.apply(_this._parent);\n                }\n                catch (e) {\n                    _this._logError(e);\n                }\n            };\n            animationFrameId = window.requestAnimationFrame ? window.requestAnimationFrame(animationFrameCallback) : window.setTimeout(animationFrameCallback, 0);\n            /* tslint:enable:ban-native-functions */\n            this._animationFrameIds[animationFrameId] = true;\n        }\n        return animationFrameId;\n    };\n    Async.prototype.cancelAnimationFrame = function (id) {\n        if (this._animationFrameIds && this._animationFrameIds[id]) {\n            /* tslint:disable:ban-native-functions */\n            window.cancelAnimationFrame ? window.cancelAnimationFrame(id) : window.clearTimeout(id);\n            /* tslint:enable:ban-native-functions */\n            delete this._animationFrameIds[id];\n        }\n    };\n    Async.prototype._logError = function (e) {\n        if (this._onErrorHandler) {\n            this._onErrorHandler(e);\n        }\n    };\n    return Async;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Async;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/async/Async.js\n ** module id = 30\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar ErrorHelper_1 = require(\"../ErrorHelper\");\nvar BeaconBase_1 = require(\"../BeaconBase\");\nvar BeaconCache_1 = require(\"./BeaconCache\");\nvar BaseDataStore_1 = require(\"../../models/store/BaseDataStore\");\nvar DataStoreCachingType_1 = require(\"../../models/store/DataStoreCachingType\");\nvar LogProcessor_1 = require(\"./LogProcessor\");\nvar Beacon;\n(function (Beacon) {\n    \"use strict\";\n    var LOGGING_REQUEST_TIMEOUT = 10000; // 10 seconds\n    var FLUSH_TIMEOUT = 5000; // 5 seconds\n    var BEACON_BATCH_SIZE = 100;\n    var BEACON_MAX_CRITICAL_FLUSH_INTERVAL_SIZE = 5000; // 5 seconds\n    // SLAPI\n    var SLAPI_STREAM_ID = 1234;\n    var SLAPI_JSON_VERSION = \"V1\";\n    var SLAPI_IDX_VERSION = 0;\n    var SLAPI_IDX_EVENTNAME = 1;\n    var SLAPI_IDX_PROPERTY_START = 2;\n    // BSQM Constants\n    var SLAPI_MAX_DATA_SIZE = 64 * 1024;\n    var SLAPI_MAX_ROWS_IN_STREAM = 1000;\n    var SLAPI_SIZE_DWORD = 4;\n    var SLAPI_SIZE_DATAPOINT_ENTRY = 3 * 4;\n    var SLAPI_SIZE_STREAM_ENTRY = 3 * 4;\n    var SLAPI_MS_BTN_EPOCHS = 11644473600000; // Milliseconds between 1/1/1070 and 1/1/1601\n    var SLAPI_MAX_INT32 = 0xFFFFFFFF;\n    var SLAPI_MAX_SQM_DATAID = 0x7FFFFFFF;\n    var SLAPI_DATAKEY_SESSION_NORMAL = 0;\n    var SLAPI_DATAKEY_SESSION_CONTINUATION = 1;\n    var SLAPI_FLAG_BSQM_ENABLED = 0x00000010;\n    // const SLAPI_FLAG_QOS_ENABLED = 0x00000020;\n    // SQM Datapoints\n    var SLAPI_DATAID_BSQM_MAXSTREAMROWSSTREAMID = 8048;\n    var SLAPI_DATAID_BSQM_MAXSTREAMROWS = 7993;\n    var SLAPI_DATAID_SESSION_TYPE = 60;\n    var WSAStreamRow = (function () {\n        function WSAStreamRow(values) {\n            this.Tic = 0;\n            this.Vals = null;\n            var _this = this;\n            _this.Tic = _getTicks32();\n            var numValues = values.length;\n            _this.Vals = new Array(numValues);\n            for (var i = 0; i < numValues; i++) {\n                _this.Vals[i] = values[i];\n            }\n        }\n        return WSAStreamRow;\n    }());\n    var WSADatapoint = (function () {\n        function WSADatapoint(id, value) {\n            var _this = this;\n            _this.Id = id;\n            _this.Val = value;\n            _this.Tic = _getTicks32();\n        }\n        return WSADatapoint;\n    }());\n    var WSAStream = (function () {\n        function WSAStream(id, width) {\n            var _this = this;\n            _this.Id = id;\n            _this.Width = width;\n            _this.Rows = new Array(0);\n        }\n        return WSAStream;\n    }());\n    var WSAData = (function () {\n        function WSAData() {\n            this.StartTime = null;\n            this.EndTime = null;\n            this.Flags = 0;\n            this.wsaDatapoints = null;\n            this.wsaStreams = null;\n            var _this = this;\n            _this.StartTime = _getTicks64();\n            _this.EndTime = null;\n            _this.CorrelationId = null;\n            _this.Flags = SLAPI_FLAG_BSQM_ENABLED;\n            _this.wsaDatapoints = new Array(0);\n            _this.wsaStreams = new Array(0);\n        }\n        return WSAData;\n    }());\n    var _startTicks = 0;\n    var _wsaData = null;\n    var _numDatapoints = 0;\n    var _numStreams = 0;\n    var _numStreamBytes = 0;\n    var _dictStreams = null;\n    var _dictDatapoints = null;\n    var _streamRowCount = 0;\n    var _isDataAvailableForUpload = false;\n    var _isContinuation = false;\n    var _isInitialized = false;\n    var _emptyCorrelationId = '00000000-0000-0000-0000-000000000000';\n    var _eventNamePrefix = \"\";\n    var _store = null;\n    var _storeSize = null;\n    var _instance = null;\n    var _handlers = null;\n    if (DEBUG) {\n        try {\n            console.log(\"Beacon: To disable logging to the console set \\\"window.disableBeaconLogToConsole = true\\\" in the debug window\");\n        }\n        catch (error) {\n        }\n    }\n    var OdbBeacon = (function (_super) {\n        __extends(OdbBeacon, _super);\n        function OdbBeacon(eventNamePrefix, handlers, cacheEnabled) {\n            _super.call(this, '/_layouts/15/WsaUpload.ashx', BEACON_BATCH_SIZE, [FLUSH_TIMEOUT], true, /* useSlidingWindow */ BEACON_MAX_CRITICAL_FLUSH_INTERVAL_SIZE, BeaconBase_1.default.DEFAULT_TOTAL_RETRIES, BeaconBase_1.default.DEFAULT_RESET_TOTAL_RETRIES_AFTER, cacheEnabled /* ignorePreviousEvents */);\n            _eventNamePrefix = eventNamePrefix;\n            _handlers = handlers;\n            _store = new BaseDataStore_1.default(LogProcessor_1.default.STORE_KEY, DEBUG ? DataStoreCachingType_1.default.sharedMemory : DataStoreCachingType_1.default.session);\n            _storeSize = _store.getValue(LogProcessor_1.default.STORE_SIZE_KEY);\n            if (!_storeSize) {\n                _storeSize = 0;\n            }\n        }\n        OdbBeacon.prototype.beacon = function () {\n            if (!DEBUG && location.hostname !== \"localhost\") {\n                var json = _getUploadData();\n                if (json != null && json.length > 0) {\n                    var headers = {};\n                    headers[\"Content-Type\"] = \"application/json\";\n                    this.sendBeacon(json, headers, LOGGING_REQUEST_TIMEOUT);\n                }\n            }\n            else if (!window[\"disableBeaconLogToConsole\"]) {\n                try {\n                    console.log(\"Beacon: Uploaded to COSMOS (To disable logging to the console set \\\"window.disableBeaconLogToConsole = true\\\" in the debug window)\");\n                }\n                catch (error) {\n                }\n            }\n            // Set session storage size to zero instead of clearing\n            _storeSize = 0;\n            _store.setValue(LogProcessor_1.default.STORE_SIZE_KEY, _storeSize);\n        };\n        OdbBeacon.prototype._createBeaconRequest = function (events) {\n            // grab the CorrelationId\n            var spPageContextInfo = window['_spPageContextInfo'];\n            //TODO: decide if we want to generate unique correlationid\n            // or keep setting it to server correlationid\n            if (spPageContextInfo !== undefined && spPageContextInfo !== null) {\n                _SetCorrelationId(spPageContextInfo.CorrelationId);\n            }\n            else {\n                _SetCorrelationId(_emptyCorrelationId);\n            }\n            // Converts to SP logging format\n            for (var x = 0; x < events.length; x++) {\n                var event = events[x];\n                LogProcessor_1.default.processAndLogEvent({\n                    event: event,\n                    logFunc: function (streamName, dictProperties) {\n                        _WriteLog(streamName, dictProperties);\n                    },\n                    eventNamePrefix: _eventNamePrefix,\n                    handlers: _handlers\n                });\n            }\n            this.beacon();\n        };\n        OdbBeacon.prototype._onNewEvent = function (event) {\n            // BeaconCache puts every new event to the session storage so that Sharepoint can upload it for us\n            // if user navigates away before Beacon event. So we do nothing here.\n        };\n        return OdbBeacon;\n    }(BeaconBase_1.default));\n    function addToLoggingManager(eventNamePrefix, handlers) {\n        if (!_instance) {\n            var cacheEnabled = false;\n            if (BeaconCache_1.default.instance) {\n                eventNamePrefix = BeaconCache_1.default.eventNamePrefix;\n                handlers = BeaconCache_1.default.handlers;\n                cacheEnabled = true;\n            }\n            if (!eventNamePrefix || !handlers) {\n                throw new Error(\"You have to pass in eventNamePrefix and IBeaconHandlers object if no BeaconCache present.\");\n            }\n            _instance = new OdbBeacon(eventNamePrefix, handlers, cacheEnabled);\n            // read any events Sharepoint (or BeaconCache) put into session storage but haven't uploaded\n            for (var i = 0; i < _storeSize; i++) {\n                var item = _store.getValue(i.toString());\n                if (!item || !item['name'] || !item['props']) {\n                    continue;\n                }\n                _WriteLog(item['name'], item['props']);\n            }\n        }\n        else {\n            throw new Error(\"The beacon has already been added to the logging manager with event name prefix \" + _eventNamePrefix + \".\");\n        }\n    }\n    Beacon.addToLoggingManager = addToLoggingManager;\n    function _initialize() {\n        if (_isInitialized) {\n            return;\n        }\n        _wsaData = new WSAData();\n        _dictStreams = new Array(0);\n        _dictDatapoints = new Array(0);\n        _createStream(SLAPI_STREAM_ID, 1);\n        _isInitialized = true;\n    }\n    function _createStream(streamId, width) {\n        if (!Boolean(_dictStreams[streamId])) {\n            var wsaStream = new WSAStream(streamId, width);\n            var idxStream = _numStreams;\n            _wsaData.wsaStreams[idxStream] = wsaStream;\n            _numStreams++;\n            _numStreamBytes += SLAPI_SIZE_STREAM_ENTRY;\n            _dictStreams[streamId] = idxStream;\n        }\n    }\n    function _addToStream(streamId, dictValues) {\n        try {\n            var wsaStreamRow = new WSAStreamRow(dictValues);\n            if (_isMaxSizeReachedCheck()) {\n                return;\n            }\n            _isDataAvailableForUpload = true;\n            _setDatapoint(SLAPI_DATAID_BSQM_MAXSTREAMROWSSTREAMID, streamId);\n            var wsaStream = _wsaData.wsaStreams[_dictStreams[streamId]];\n            if (Boolean(wsaStream)) {\n                if (_streamRowCount < SLAPI_MAX_ROWS_IN_STREAM) {\n                    wsaStream.Rows[_streamRowCount++] = wsaStreamRow;\n                    _numStreamBytes += _getTotalBytesForRow(wsaStreamRow);\n                    _setDatapoint(SLAPI_DATAID_BSQM_MAXSTREAMROWS, _streamRowCount); // update row count datapoint\n                }\n                else {\n                    throw (\"Beacon: MAX_ROWS_IN_STREAM exceeded for stream ID \" + String(streamId));\n                }\n            }\n        }\n        catch (e) {\n            ErrorHelper_1.default.log(e);\n        }\n    }\n    function _getTotalBytesForRow(row) {\n        var numTotalBytes = SLAPI_SIZE_DWORD;\n        for (var i = 0; i < row.Vals.length; i++) {\n            var value = String(row.Vals[i]);\n            numTotalBytes += value.length * 2; // A JavaScript char is 16 bit 2 byte\n        }\n        numTotalBytes += (row.Vals.length - 1) * 6; // plus the commas and quotes when serialized\n        return numTotalBytes;\n    }\n    function _setDatapoint(datapointId, datapointValue) {\n        if (datapointId < 1 || datapointId > SLAPI_MAX_SQM_DATAID) {\n            return;\n        }\n        if (datapointValue < 0 || datapointValue > SLAPI_MAX_INT32) {\n            return;\n        }\n        var savedDatapoint = null;\n        var idxDP = _dictDatapoints[datapointId];\n        if (Boolean(idxDP)) {\n            savedDatapoint = _wsaData.wsaDatapoints[idxDP];\n        }\n        if (savedDatapoint == null) {\n            var datapoint = new WSADatapoint(datapointId, datapointValue);\n            var idxDatapoint = _numDatapoints;\n            _wsaData.wsaDatapoints[idxDatapoint] = datapoint;\n            _dictDatapoints[datapointId] = idxDatapoint;\n            _numDatapoints++;\n        }\n        else {\n            savedDatapoint.Val = datapointValue;\n        }\n    }\n    function _uploadData() {\n        if (_wsaData == null) {\n            return \"\";\n        }\n        try {\n            if (_isDataAvailableForUpload) {\n                // Add final datapoints\n                if (Boolean(_isContinuation)) {\n                    _setDatapoint(SLAPI_DATAID_SESSION_TYPE, SLAPI_DATAKEY_SESSION_CONTINUATION);\n                }\n                else {\n                    _setDatapoint(SLAPI_DATAID_SESSION_TYPE, SLAPI_DATAKEY_SESSION_NORMAL);\n                    _isContinuation = true;\n                }\n                _wsaData.EndTime = _getTicks64();\n                var jsonString = null;\n                try {\n                    jsonString = JSON.stringify(_wsaData);\n                }\n                catch (e) {\n                    ErrorHelper_1.default.log(e);\n                }\n                // Initialize the session data for continuation session\n                _initContinuationSession();\n                return jsonString;\n            }\n        }\n        catch (e) {\n            ErrorHelper_1.default.log(e);\n            return \"\";\n        }\n    }\n    function _initContinuationSession() {\n        _dictStreams = new Array(0);\n        _dictDatapoints = new Array(0);\n        _numDatapoints = 0;\n        _numStreams = 0;\n        _streamRowCount = 0;\n        _numStreamBytes = 0;\n        _numDatapoints = 0;\n        var sessID = _wsaData.CorrelationId;\n        _wsaData = new WSAData();\n        _wsaData.CorrelationId = sessID;\n        _createStream(SLAPI_STREAM_ID, 1);\n        _isDataAvailableForUpload = false;\n    }\n    function _isMaxSizeReachedCheck() {\n        var size = _numDatapoints * SLAPI_SIZE_DATAPOINT_ENTRY + _numStreamBytes;\n        if (size >= SLAPI_MAX_DATA_SIZE) {\n            _instance.beacon();\n            size = _numDatapoints * SLAPI_SIZE_DATAPOINT_ENTRY + _numStreamBytes;\n            return size >= SLAPI_MAX_DATA_SIZE;\n        }\n        return false;\n    }\n    function _SetCorrelationId(correlationId) {\n        _initialize();\n        if (Boolean(_wsaData)) {\n            if (correlationId !== null && correlationId !== undefined) {\n                _wsaData.CorrelationId = correlationId;\n            }\n            else {\n                _wsaData.CorrelationId = _emptyCorrelationId;\n            }\n        }\n    }\n    function _WriteLog(eventName, dictProperties) {\n        _initialize();\n        if ((!Boolean(eventName)) || (!Boolean(dictProperties))) {\n            return;\n        }\n        if (!DEBUG) {\n            var values = new Array(SLAPI_IDX_PROPERTY_START + 1);\n            values[SLAPI_IDX_VERSION] = SLAPI_JSON_VERSION;\n            values[SLAPI_IDX_EVENTNAME] = eventName;\n            var index = SLAPI_IDX_PROPERTY_START;\n            for (var key in dictProperties) {\n                var propVal = dictProperties[key];\n                if (propVal !== undefined && propVal !== null) {\n                    if (propVal instanceof Date) {\n                        propVal = propVal.getTime();\n                    }\n                    values[index++] = key;\n                    values[index++] = propVal;\n                }\n            }\n            _addToStream(SLAPI_STREAM_ID, values);\n        }\n        else if (!window[\"disableBeaconLogToConsole\"]) {\n            try {\n                console.log(\"Beacon: Logged to \" + eventName + \" with properties: \" + JSON.stringify(dictProperties));\n            }\n            catch (error) {\n            }\n        }\n    }\n    function _getUploadData() {\n        _initialize();\n        return _uploadData();\n    }\n    function _getTicks32() {\n        var timeNow = new Date();\n        var ticks64 = timeNow.getTime();\n        if (_startTicks === 0) {\n            _startTicks = ticks64;\n        }\n        return ((1 + ticks64 - _startTicks) & 0x7FFFFFFF);\n    }\n    function _getTicks64() {\n        var timeNow = new Date();\n        var ticks64 = timeNow.getTime();\n        ticks64 = ticks64 + SLAPI_MS_BTN_EPOCHS; // Epoch change from 1/1/1070 to 1/1/1601\n        ticks64 = ticks64 * 10000; // 1ms to 100ns resolution\n        return ticks64;\n    }\n})(Beacon || (Beacon = {}));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Beacon;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/odb/Beacon.js\n ** module id = 31\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar Manager_1 = require(\"../logging/Manager\");\nvar EventBatchCache_1 = require(\"./EventBatchCache\");\nvar XHR_1 = require(\"../xhr/XHR\");\nvar Beacon_event_1 = require(\"./events/Beacon.event\");\nvar BeaconBase = (function () {\n    function BeaconBase(endPointUrl, batchSize, flushTimeouts, useSlidingWindow, maxCriticalFlushInterval, totalRetries, resetTotalRetriesAfter, ignorePreviousEvents) {\n        var _this = this;\n        this._lastSendBeacon = 0;\n        this._endPointUrl = endPointUrl;\n        this._maxCriticalFlushInterval = maxCriticalFlushInterval;\n        this._totalRetries = totalRetries === undefined ? BeaconBase.DEFAULT_TOTAL_RETRIES : totalRetries;\n        this._totalRetriesStartValue = this._totalRetries;\n        this._resetTotalRetriesAfter = resetTotalRetriesAfter === undefined ? BeaconBase.DEFAULT_RESET_TOTAL_RETRIES_AFTER : resetTotalRetriesAfter;\n        this._ignorePreviousEvents = ignorePreviousEvents === undefined ? false : ignorePreviousEvents;\n        this._eventBatchCache = new EventBatchCache_1.default(batchSize, flushTimeouts, function (event) {\n            if (_this._onNewEvent) {\n                _this._onNewEvent(event);\n            }\n        }, function (events) {\n            // Create the beacon request\n            _this._createBeaconRequest(events);\n        }, useSlidingWindow);\n        this.init();\n    }\n    BeaconBase.prototype.sendBeacon = function (json, headers, requestTimeoutInMS) {\n        this._sendBeacon(json, headers, requestTimeoutInMS, 0);\n    };\n    BeaconBase.prototype._sendBeacon = function (json, headers, requestTimeoutInMS, retryCount) {\n        var _this = this;\n        if (retryCount === 0) {\n            this._lastSendBeacon = Manager_1.Manager.getTime();\n        }\n        var xhr = new XHR_1.default({\n            url: this._endPointUrl,\n            json: json,\n            headers: headers,\n            requestTimeoutInMS: requestTimeoutInMS\n        });\n        var beaconEvent = new Beacon_event_1.Beacon({\n            retryCount: retryCount,\n            totalRetries: this._totalRetries\n        });\n        xhr.start(function (xhr, status) {\n            beaconEvent.end({ status: status + '', success: true });\n            if (++_this._successfulLogRequests >= _this._resetTotalRetriesAfter) {\n                _this._successfulLogRequests = _this._resetTotalRetriesAfter;\n                _this._totalRetries = _this._totalRetriesStartValue;\n            }\n        }, function (xhr, status, timeout) {\n            _this._successfulLogRequests = 0;\n            beaconEvent.end({ status: status + '', success: false });\n            // Retry if we timed out since we failed\n            if (status === XHR_1.default.TIMEOUT_STATUS && _this._totalRetries > 0) {\n                _this._totalRetries--;\n                _this._sendBeacon(json, headers, requestTimeoutInMS, retryCount + 1);\n            }\n        });\n    };\n    BeaconBase.prototype.init = function () {\n        var _this = this;\n        var bufferedEvents = Manager_1.Manager.addLogHandler(function (event) {\n            _this.addEvent(event);\n        });\n        if (!this._ignorePreviousEvents) {\n            for (var x = 0; x < bufferedEvents.length; x++) {\n                this.addEvent(bufferedEvents[x]);\n            }\n        }\n    };\n    BeaconBase.prototype.addEvent = function (event) {\n        if (event.enabled) {\n            this._eventBatchCache.addEvent(event);\n            if (event.critical &&\n                (!this._lastSendBeacon ||\n                    Manager_1.Manager.getTime() - this._lastSendBeacon > this._maxCriticalFlushInterval)) {\n                this._eventBatchCache.flush();\n            }\n        }\n    };\n    BeaconBase.DEFAULT_TOTAL_RETRIES = 3;\n    BeaconBase.DEFAULT_RESET_TOTAL_RETRIES_AFTER = 3;\n    return BeaconBase;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = BeaconBase;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/BeaconBase.js\n ** module id = 32\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar Async_1 = require(\"../async/Async\");\nvar Beacon_event_1 = require(\"./events/Beacon.event\");\nvar ErrorHelper_1 = require(\"../logging/ErrorHelper\");\nvar EventBatchCache = (function () {\n    function EventBatchCache(maxSize, maxFlushTimes, newEventHandler, flushHandler, useSlidingWindow) {\n        this._events = [];\n        this._flushCount = 0;\n        this._async = new Async_1.default(this);\n        this._maxSize = maxSize;\n        this._newEventHandler = newEventHandler;\n        this._flushHandler = flushHandler;\n        this._maxFlushTimes = maxFlushTimes;\n        this._useSlidingWindow = useSlidingWindow;\n    }\n    EventBatchCache.prototype.addEvent = function (event) {\n        this._events.push(event);\n        if (this._newEventHandler) {\n            try {\n                this._newEventHandler(event);\n            }\n            catch (e) {\n                ErrorHelper_1.default.log(e);\n            }\n        }\n        // Dont create a timer for events that are of type beacon\n        if (Beacon_event_1.Beacon.isTypeOf(event)) {\n            return;\n        }\n        if (this._events.length >= this._maxSize) {\n            this.flush();\n        }\n        else {\n            this._setFlushTimeout(false);\n        }\n    };\n    EventBatchCache.prototype.flush = function () {\n        this._setFlushTimeout(true);\n    };\n    EventBatchCache.prototype._handleFlush = function () {\n        this._clearFlushTimeout();\n        if (this._events.length) {\n            this._flushHandler(this._events);\n            // Reset the events array\n            this._events = [];\n        }\n    };\n    EventBatchCache.prototype._clearFlushTimeout = function () {\n        if (this._flushTimeoutId) {\n            this._async.clearTimeout(this._flushTimeoutId);\n            this._flushTimeoutId = null;\n        }\n        if (this._immediateflushTimeoutId) {\n            this._async.clearTimeout(this._immediateflushTimeoutId);\n            this._immediateflushTimeoutId = null;\n        }\n    };\n    EventBatchCache.prototype._setFlushTimeout = function (immediate) {\n        var _this = this;\n        // if another immediate flush is already queued, disregard\n        if (!!this._immediateflushTimeoutId) {\n            return;\n        }\n        if (this._useSlidingWindow) {\n            this._clearFlushTimeout();\n            if (immediate) {\n                this._immediateflushTimeoutId = this._async.setTimeout(function () {\n                    _this._handleFlush();\n                }, 0);\n            }\n            else {\n                this._flushTimeoutId = this._async.setTimeout(function () {\n                    _this._handleFlush();\n                }, this._getFlushTime());\n            }\n        }\n        else {\n            if (immediate) {\n                if (!this._immediateflushTimeoutId) {\n                    this._immediateflushTimeoutId = this._async.setTimeout(function () {\n                        _this._handleFlush();\n                    }, 0);\n                }\n            }\n            else if (!this._flushTimeoutId) {\n                this._flushTimeoutId = this._async.setTimeout(function () {\n                    _this._handleFlush();\n                }, this._getFlushTime());\n            }\n        }\n    };\n    EventBatchCache.prototype._getFlushTime = function () {\n        if (this._flushCount < this._maxFlushTimes.length) {\n            var flushCount = this._flushCount;\n            this._flushCount++;\n            return this._maxFlushTimes[flushCount];\n        }\n        else {\n            return this._maxFlushTimes[this._maxFlushTimes.length - 1];\n        }\n    };\n    return EventBatchCache;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = EventBatchCache;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/EventBatchCache.js\n ** module id = 33\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar PairedEventBase_1 = require('../PairedEventBase');\nvar Beacon = (function (_super) {\n    __extends(Beacon, _super);\n    /**\n     * The Beacon event constructor\n     * @param data {IBeaconStartSchema}\n     * -optional name - This is the status code returned\n     * -optional status - This is the status code returned\n     * -optional success - This is if the request was successful or not\n     * -required retryCount - This is the retry count for this request\n     * -required totalRetries - This is the number of total retries left\n     * -optional eventCount - This is the number of total events sent\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function Beacon(data, parent) {\n        _super.call(this, 'Beacon,', 'Beacon', data, parent);\n    }\n    /**\n     * This is true if the Beacon event is enabled\n     */\n    Beacon.enabled = function () {\n        return true;\n    };\n    /**\n     * This is false when Beacon event does not require a parent event\n     */\n    Beacon.prototype.requiresParent = function () {\n        return false;\n    };\n    Beacon.prototype.setStartData = function (data) {\n        if (typeof data.name !== \"undefined\") {\n            this.data.name = this.cleanString(data.name);\n        }\n        if (typeof data.status !== \"undefined\") {\n            this.data.status = this.cleanString(data.status);\n        }\n        if (typeof data.success !== \"undefined\") {\n            this.data.success = data.success;\n        }\n        this.data.retryCount = data.retryCount;\n        this.data.totalRetries = data.totalRetries;\n        if (typeof data.eventCount !== \"undefined\") {\n            this.data.eventCount = data.eventCount;\n        }\n    };\n    Beacon.prototype.setEndData = function (data) {\n        if (typeof data.name !== \"undefined\") {\n            this.data.name = this.cleanString(data.name);\n        }\n        if (typeof data.status !== \"undefined\") {\n            this.data.status = this.cleanString(data.status);\n        }\n        this.data.success = data.success;\n        if (typeof data.eventCount !== \"undefined\") {\n            this.data.eventCount = data.eventCount;\n        }\n    };\n    /**\n     * This will end the Beacon event\n     * @param data {IBeaconEndSchema}\n     * -optional name - This is the status code returned\n     * -optional status - This is the status code returned\n     * -required success - This is if the request was successful or not\n     * -optional eventCount - This is the number of total events sent\n     */\n    Beacon.prototype.end = function (data) {\n        return this._end(data);\n    };\n    /**\n     * This writes verbose logs to memory to be uploaded if event ends with failure\n     */\n    Beacon.prototype.verbose = function (message) {\n        return this._verbose(message);\n    };\n    /**\n     * Sets a time limit for the scenario. A timeout result will be logged if no end happens in desired timeframe\n     */\n    Beacon.prototype.setTimeout = function (ms, data) {\n        return this._setTimeout(ms, data);\n    };\n    /**\n     * The name of the Beacon event\n     */\n    Beacon.fullName = 'Beacon,';\n    /**\n     * The short name of the Beacon event\n     */\n    Beacon.shortName = 'Beacon';\n    /**\n     * This is true if the Beacon event is enabled\n     */\n    Beacon.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: false\n        },\n        status: {\n            type: \"String\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: false\n        },\n        success: {\n            type: \"Boolean\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: false\n        },\n        retryCount: {\n            type: \"Number\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: true\n        },\n        totalRetries: {\n            type: \"Number\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: true\n        },\n        eventCount: {\n            type: \"Number\",\n            definedInName: \"Beacon\",\n            definedInFullName: \"Beacon,\",\n            isMetric: true\n        }\n    };\n    return Beacon;\n}(PairedEventBase_1.PairedEventBase));\nexports.Beacon = Beacon;\nBeacon.prototype.metadata = Beacon.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Beacon;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/Beacon.event.js\n ** module id = 34\n ** module chunks = 0\n **/","\"use strict\";\nvar Async_1 = require('../async/Async');\nvar ErrorHelper_1 = require('../logging/ErrorHelper');\nvar XHR = (function () {\n    function XHR(options) {\n        this._async = new Async_1.default(this);\n        this._url = options.url;\n        this._requestTimeoutInMS = options.requestTimeoutInMS || XHR.DEFAULT_TIMEOUT_MS;\n        this._json = options.json;\n        this._headers = options.headers || {};\n        this._method = options.method;\n        this._withCredentials = options.withCredentials || false;\n        this._needsCors = options.needsCors;\n    }\n    XHR.prototype.abort = function (isCancelled) {\n        var aborted = this._abortRequest();\n        if (aborted && !isCancelled) {\n            this._callFailureCallback(this._request, XHR.ABORT_STATUS, false);\n        }\n    };\n    XHR.prototype.start = function (successCallback, failureCallback) {\n        var _this = this;\n        try {\n            this._successCallback = successCallback;\n            this._failureCallback = failureCallback;\n            this._request = this._getRequest();\n            this._async.setTimeout(function () {\n                // Check if we havent logged this event already\n                if (!_this._completed) {\n                    _this._timeoutCallback();\n                }\n            }, this._requestTimeoutInMS);\n            // Report Qos on the actual qos calls\n            this._request.onreadystatechange = function () {\n                // Check if we havent logged this event in a timeout\n                if (!_this._completed) {\n                    var DONE = 4; // Default done readystate\n                    try {\n                        DONE = _this._request.DONE || 4;\n                    }\n                    catch (e) {\n                    }\n                    if (_this._request.readyState === DONE) {\n                        _this._requestEndCallback();\n                    }\n                }\n            };\n            if (!this._method) {\n                this._method = this._json ? 'POST' : 'GET';\n            }\n            this._request.open(this._method, this._url, true);\n            if (\"withCredentials\" in this._request) {\n                this._request.withCredentials = this._withCredentials;\n            }\n            // Headers have to be set after open is called\n            for (var x in this._headers) {\n                this._request.setRequestHeader(x, this._headers[x]);\n            }\n            this._request.send(this._json);\n        }\n        catch (e) {\n            if (e && e.message && document) {\n                // Attach domain to any error for additional debugging\n                e.message += ' - ' + document.domain;\n            }\n            ErrorHelper_1.default.log(e);\n            // abort the request and set the exception status code\n            this._abortRequest();\n            this._callFailureCallback(this._request, XHR.EXCEPTION_STATUS, false);\n        }\n    };\n    XHR.prototype._getRequest = function () {\n        var _this = this;\n        if (!this._needsCors || !window['XDomainRequest']) {\n            return new XMLHttpRequest();\n        }\n        // This is only needed for IE 9 to support CORS requests\n        // Note: we can not set headers on XDomainRequest\n        var request = new XDomainRequest();\n        request.status = 200;\n        request.setRequestHeader = function () { };\n        request.onprogress = function () { };\n        request.ontimeout = function () { };\n        request.onload = function () {\n            _this._requestEndCallback();\n        };\n        return request;\n    };\n    XHR.prototype._abortRequest = function () {\n        var actuallyAborted = false;\n        if (!this._completed) {\n            this._completed = true;\n            // Clear the timeout for the request\n            this._async.dispose();\n            // Cancel the request\n            try {\n                if (this._request) {\n                    this._request.abort();\n                }\n            }\n            catch (e) {\n            }\n            actuallyAborted = true;\n        }\n        return actuallyAborted;\n    };\n    XHR.prototype._timeoutCallback = function () {\n        if (!this._completed) {\n            this._abortRequest();\n            this._callFailureCallback(this._request, XHR.TIMEOUT_STATUS, true);\n        }\n    };\n    XHR.prototype._callSuccessCallback = function (xhr, statusCode) {\n        try {\n            if (this._successCallback) {\n                this._successCallback(xhr, statusCode);\n            }\n        }\n        catch (e) {\n            ErrorHelper_1.default.log(e);\n        }\n    };\n    XHR.prototype._callFailureCallback = function (xhr, statusCode, timeout) {\n        try {\n            if (this._failureCallback) {\n                this._failureCallback(xhr, statusCode, timeout);\n            }\n        }\n        catch (e) {\n            ErrorHelper_1.default.log(e);\n        }\n    };\n    XHR.prototype._requestEndCallback = function () {\n        if (!this._completed) {\n            this._completed = true;\n            var status = XHR.EXCEPTION_STATUS;\n            try {\n                // Clear the timeout for the request\n                this._async.dispose();\n                try {\n                    status = this._request.status;\n                }\n                catch (e) {\n                }\n            }\n            catch (e) {\n                status = XHR.EXCEPTION_STATUS;\n                ErrorHelper_1.default.log(e);\n            }\n            if (status < 400 && status > 0) {\n                this._callSuccessCallback(this._request, status);\n            }\n            else {\n                this._callFailureCallback(this._request, status, false);\n            }\n        }\n    };\n    XHR.EXCEPTION_STATUS = -1;\n    XHR.TIMEOUT_STATUS = -2;\n    XHR.ABORT_STATUS = -3;\n    XHR.DEFAULT_TIMEOUT_MS = 30000;\n    return XHR;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XHR;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/xhr/XHR.js\n ** module id = 35\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar BaseDataStore_1 = require(\"../../models/store/BaseDataStore\");\nvar DataStoreCachingType_1 = require(\"../../models/store/DataStoreCachingType\");\nvar Manager_1 = require(\"../Manager\");\nvar LogProcessor_1 = require(\"./LogProcessor\");\nvar BeaconCache;\n(function (BeaconCache) {\n    \"use strict\";\n    var _store = new BaseDataStore_1.default(LogProcessor_1.default.STORE_KEY, DEBUG ? DataStoreCachingType_1.default.sharedMemory : DataStoreCachingType_1.default.session);\n    BeaconCache.eventNamePrefix = \"\";\n    BeaconCache.instance = null;\n    BeaconCache.handlers = null;\n    if (DEBUG) {\n        try {\n            console.log(\"Beacon: To disable logging to the console set \\\"window.disableBeaconLogToConsole = true\\\" in the debug window\");\n        }\n        catch (error) {\n        }\n    }\n    var OdbBeaconCache = (function () {\n        function OdbBeaconCache(eventNamePrefix, handlers) {\n            var _this = this;\n            BeaconCache.eventNamePrefix = eventNamePrefix;\n            BeaconCache.handlers = handlers;\n            var bufferedEvents = Manager_1.Manager.addLogHandler(function (event) {\n                _this.addEvent(event);\n            });\n            // Add bufferred events to local store\n            for (var x = 0; x < bufferedEvents.length; x++) {\n                this.addEvent(bufferedEvents[x]);\n            }\n        }\n        OdbBeaconCache.prototype.addEvent = function (event) {\n            if (event.enabled) {\n                // put every new event to the session storage so that Sharepoint can upload it for us\n                // if user navigates away before Beacon event\n                LogProcessor_1.default.processAndLogEvent({\n                    event: event,\n                    logFunc: function (streamName, dictProperties) {\n                        var storeSize = _store.getValue(LogProcessor_1.default.STORE_SIZE_KEY);\n                        if (!storeSize) {\n                            storeSize = 0;\n                        }\n                        _store.setValue(storeSize.toString(), { name: streamName, props: dictProperties });\n                        _store.setValue(LogProcessor_1.default.STORE_SIZE_KEY, ++storeSize);\n                    },\n                    eventNamePrefix: BeaconCache.eventNamePrefix,\n                    handlers: BeaconCache.handlers\n                });\n            }\n        };\n        return OdbBeaconCache;\n    }());\n    function addToLoggingManager(eventNamePrefix, handlers) {\n        if (!BeaconCache.instance) {\n            BeaconCache.instance = new OdbBeaconCache(eventNamePrefix, handlers);\n        }\n        else {\n            throw new Error(\"The beaconCache has already been added to the logging manager with event name prefix \" + eventNamePrefix + \".\");\n        }\n    }\n    BeaconCache.addToLoggingManager = addToLoggingManager;\n})(BeaconCache || (BeaconCache = {}));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = BeaconCache;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/odb/BeaconCache.js\n ** module id = 36\n ** module chunks = 0\n **/","\"use strict\";\nvar DataStoreCachingType_1 = require('./DataStoreCachingType');\n// DataStore class is used for transparent caching of data in memory and/or browser storage\n// - Parameter defaultCachingType defines whether you want to use browser storage for all operations\n// and which type of storage - session or local\n// - Parameter dataStoreKey is used to prefix every key in browser storage. Actual key for browser storage\n// will be dataStoreKey + key used in setValue method.\n// - If DataStore is instantiated with some type of browser caching enabled - it will test if browser storage\n// is available and use it. If it's not it will fall back to in-memory cache.\n// - If DataStore is instantiated from two different places with same dataStoreKey and some type of\n// browser storage caching, the memory storage will be shared as well as browser storage.\nvar DataStore = (function () {\n    function DataStore(dataStoreKey, defaultCachingType) {\n        if (defaultCachingType === void 0) { defaultCachingType = DataStoreCachingType_1.default.none; }\n        DataStore.init();\n        this.dataStoreKey = dataStoreKey;\n        this.defaultCachingType = defaultCachingType;\n        if (defaultCachingType === DataStoreCachingType_1.default.none) {\n            this.dataStore = {};\n        }\n        else {\n            var store = DataStore._dataStore[this.dataStoreKey];\n            if (store === undefined) {\n                DataStore._dataStore[this.dataStoreKey] = {};\n            }\n            this.dataStore = DataStore._dataStore[this.dataStoreKey];\n        }\n    }\n    DataStore.hasStorageType = function (storageType) {\n        DataStore.init();\n        switch (storageType) {\n            case DataStoreCachingType_1.default.none: return true;\n            case DataStoreCachingType_1.default.sharedMemory: return true;\n            case DataStoreCachingType_1.default.session: return !!DataStore._sessionStorage;\n            case DataStoreCachingType_1.default.local: return !!DataStore._localStorage;\n        }\n        return false;\n    };\n    DataStore.init = function () {\n        if (DataStore._initialized) {\n            return;\n        }\n        // Need a try/catch since window.localStorage can throw.\n        try {\n            if ('localStorage' in window && window.localStorage && DataStore.testStorage(window.localStorage)) {\n                DataStore._localStorage = window.localStorage;\n            }\n        }\n        catch (exUsingLocalStorage) {\n        }\n        try {\n            if ('sessionStorage' in window && window.sessionStorage && DataStore.testStorage(window.sessionStorage)) {\n                DataStore._sessionStorage = window.sessionStorage;\n            }\n        }\n        catch (exUsingSessionStorage) {\n        }\n        // Fallback logic\n        if (DataStore._localStorage == null) {\n            DataStore._localStorage = DataStore._sessionStorage;\n        }\n        DataStore._initialized = true;\n    };\n    /** Need to check whether the value in localStorage is of the correct type.\n     * In Private Browsing in Safari, for example, localStorage is accessible,\n     * but all of the non-built-in properties return undefined, and setting\n     * such a property causes an exception.\n     */\n    DataStore.testStorage = function (storage) {\n        var _testKey = \"BrowserStorageTest\";\n        var _testValue = \"1\";\n        var result = false;\n        try {\n            storage.setItem(_testKey, _testValue);\n            if (storage.getItem(_testKey) === _testValue) {\n                result = true;\n            }\n            storage.removeItem(_testKey);\n        }\n        catch (e) { }\n        return result;\n    };\n    DataStore.prototype.setValue = function (key, value, cachingTypeOverride) {\n        key = this.normalizeKey(key);\n        this.dataStore[key] = value;\n        var storage = this.getStorage(cachingTypeOverride);\n        if (storage) {\n            try {\n                var objectsFound = [];\n                var s = JSON.stringify(value, function (key, value) {\n                    if (typeof value === 'object' && value !== null) {\n                        if (objectsFound.indexOf(value) !== -1) {\n                            // discard the key if circular dependency was found\n                            return;\n                        }\n                        if (key[0] === '_') {\n                            // discard private objects\n                            return;\n                        }\n                        // Otherwise store value in the cache\n                        objectsFound.push(value);\n                    }\n                    return value;\n                });\n                // empty cache\n                objectsFound = null;\n                storage.setItem(this.dataStoreKey + key, s);\n            }\n            catch (e) {\n            }\n        }\n    };\n    DataStore.prototype.getValue = function (key, cachingTypeOverride) {\n        key = this.normalizeKey(key);\n        var value = this.dataStore[key];\n        var storage = this.getStorage(cachingTypeOverride);\n        if (value === undefined && storage) {\n            var s = storage.getItem(this.dataStoreKey + key);\n            if (s) {\n                try {\n                    value = JSON.parse(s);\n                    this.dataStore[key] = value;\n                }\n                catch (e) {\n                    value = undefined;\n                }\n            }\n        }\n        return value;\n    };\n    DataStore.prototype.remove = function (key, cachingTypeOverride) {\n        key = this.normalizeKey(key);\n        var storage = this.getStorage(cachingTypeOverride);\n        if (storage) {\n            storage.removeItem(this.dataStoreKey + key);\n        }\n        delete this.dataStore[key];\n    };\n    DataStore.prototype.getStorage = function (cachingTypeOverride) {\n        var cachingType = cachingTypeOverride ? cachingTypeOverride : this.defaultCachingType;\n        switch (cachingType) {\n            case DataStoreCachingType_1.default.none:\n                return null;\n            case DataStoreCachingType_1.default.sharedMemory:\n                return null;\n            case DataStoreCachingType_1.default.session:\n                return DataStore._sessionStorage;\n            case DataStoreCachingType_1.default.local:\n                return DataStore._localStorage;\n        }\n        return null;\n    };\n    DataStore.prototype.normalizeKey = function (key) {\n        return key && key.toLowerCase() || '';\n    };\n    DataStore._sessionStorage = null;\n    DataStore._localStorage = null;\n    DataStore._dataStore = {};\n    DataStore._initialized = false;\n    return DataStore;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = DataStore;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/models/store/BaseDataStore.js\n ** module id = 37\n ** module chunks = 0\n **/","\"use strict\";\nvar DataStoreCachingType;\n(function (DataStoreCachingType) {\n    DataStoreCachingType[DataStoreCachingType[\"none\"] = 0] = \"none\";\n    DataStoreCachingType[DataStoreCachingType[\"session\"] = 1] = \"session\";\n    DataStoreCachingType[DataStoreCachingType[\"local\"] = 2] = \"local\";\n    DataStoreCachingType[DataStoreCachingType[\"sharedMemory\"] = 3] = \"sharedMemory\";\n})(DataStoreCachingType || (DataStoreCachingType = {}));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = DataStoreCachingType;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/models/store/DataStoreCachingType.js\n ** module id = 38\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar Qos_event_1 = require(\"../events/Qos.event\");\nvar PLT_event_1 = require(\"../events/PLT.event\");\nvar Beacon_event_1 = require(\"../events/Beacon.event\");\nvar UnhandledError_event_1 = require(\"../events/UnhandledError.event\");\nvar RequireJSError_event_1 = require(\"../events/RequireJSError.event\");\nvar CaughtError_event_1 = require(\"../events/CaughtError.event\");\nvar QosError_event_1 = require(\"../events/QosError.event\");\nvar Verbose_event_1 = require(\"../events/Verbose.event\");\nvar Engagement_event_1 = require(\"../events/Engagement.event\");\nvar EventBase_1 = require(\"../EventBase\");\nvar RUMOneDataUpload_event_1 = require(\"../events/RUMOneDataUpload.event\");\nvar DebugPriorityLevel_1 = require(\"./DebugPriorityLevel\");\nvar LogProcessor;\n(function (LogProcessor) {\n    \"use strict\";\n    LogProcessor.STORE_KEY = \"SPCacheLogger\";\n    LogProcessor.STORE_SIZE_KEY = \"Size\";\n    var SOURCE_V2_Engagement = \"ClientV2Engagement\";\n    var DEBUG_LOG_STREAM = \"ReliabilityLog\";\n    var USER_ENGAGEMENT_STREAM = \"UserEngagement\";\n    var SOURCE_V2_Reliability = \"ClientV2Reliability\";\n    // regex for SLAPI event names\n    var SLAPI_EVENT_NAME_ALLOW = /[^a-z0-9\\.\\_\\-\\+]+/ig;\n    var _spModuleLink = window['_spModuleLink'];\n    var _appVersion = _spModuleLink ? _spModuleLink.buildNumber : \"\";\n    function processAndLogEvent(params) {\n        // Ignored events\n        if (params.handlers.ignoredEventsHandler && params.handlers.ignoredEventsHandler(params.event)) {\n            return;\n        }\n        // Get the data to log\n        var logDataArray = Engagement_event_1.Engagement.isTypeOf(params.event) ? _processEngagementEvent(params.event) :\n            Qos_event_1.Qos.isTypeOf(params.event) ? _processQosEvent(params.event, params.handlers.qosEventNameHandler || null, params.handlers.qosEventExtraDataHandler || null) :\n                PLT_event_1.PLT.isTypeOf(params.event) ? _processPLTEvent(params.event) :\n                    UnhandledError_event_1.UnhandledError.isTypeOf(params.event) ? _processUnhandledErrorEvent(params.event) :\n                        RequireJSError_event_1.RequireJSError.isTypeOf(params.event) ? _processRequireJSErrorEvent(params.event) :\n                            CaughtError_event_1.CaughtError.isTypeOf(params.event) ? _processCaughtErrorEvent(params.event) :\n                                Verbose_event_1.Verbose.isTypeOf(params.event) ? _processVerboseEvent(params.event) :\n                                    Beacon_event_1.Beacon.isTypeOf(params.event) ? _processBeaconEvent(params.event) :\n                                        RUMOneDataUpload_event_1.RUMOneDataUpload.isTypeOf(params.event) ? _processRUMOneDataUploadEvent(params.event) :\n                                            null;\n        // If the log data array is not defined the event was unhandled, log\n        // the event name so is easy to discover and fix\n        if (!logDataArray) {\n            logDataArray = [{\n                    userEngagementData: {\n                        EngagementName: \"UnknownEvent\",\n                        Duration: 0,\n                        LogType: 0,\n                        Properties: JSON.stringify({ name: params.event.eventName }),\n                        ClientTime: params.event.eventType === EventBase_1.ClonedEventType.End ? params.event.endTime : params.event.startTime,\n                        Source: SOURCE_V2_Engagement\n                    }\n                }];\n        }\n        // Log all the data in the array adding the event prefix to the tag/name\n        for (var index = 0, length = logDataArray.length; index < length; index++) {\n            var logData = logDataArray[index];\n            if (logData.debugData) {\n                logData.debugData.Tag = _addEventPrefix(logData.debugData.Tag, params.eventNamePrefix).replace(SLAPI_EVENT_NAME_ALLOW, \"\");\n                params.logFunc(DEBUG_LOG_STREAM, logData.debugData);\n            }\n            if (logData.userEngagementData) {\n                // SPList: special case for Engagement events\n                // set prefix to the name of the list type\n                // to be able to track usage/engagement by list type\n                var prefix = params.eventNamePrefix;\n                if (Engagement_event_1.Engagement.isTypeOf(params.event) && prefix === 'SPList') {\n                    // prefix will be set to a list type based on list base template\n                    // if list type not found, [refix will be set back to generic SPList\n                    prefix = _getScenarioNameFromListType();\n                }\n                logData.userEngagementData.EngagementName = _addEventPrefix(logData.userEngagementData.EngagementName, prefix).replace(SLAPI_EVENT_NAME_ALLOW, \"\");\n                // SPList: special case for Qos events; add listBaseTemplate ID to the property bag\n                if (Qos_event_1.Qos.isTypeOf(params.event) && params.eventNamePrefix === 'SPList') {\n                    params.event.data.extraData[\"ListBaseTemplate\"] = _getListBaseTemplate();\n                }\n                params.logFunc(USER_ENGAGEMENT_STREAM, logData.userEngagementData);\n            }\n            if (logData.rumOneData) {\n                params.logFunc(logData.rumOneData.streamName, logData.rumOneData.dictionary);\n            }\n        }\n    }\n    LogProcessor.processAndLogEvent = processAndLogEvent;\n    // get the list base template id\n    function _getListBaseTemplate() {\n        var listTemplate = -1;\n        var spPageContextInfo = window['_spPageContextInfo'];\n        if (spPageContextInfo !== undefined && spPageContextInfo !== null) {\n            listTemplate = spPageContextInfo.listBaseTemplate;\n        }\n        return listTemplate;\n    }\n    // get the name of the listType; it's SPList for the unrecognized\n    // list templates; TODO: add all templates\n    function _getScenarioNameFromListType() {\n        var scenarioName = \"\";\n        var listTemplate = _getListBaseTemplate();\n        switch (listTemplate) {\n            case 100:\n                scenarioName = \"ListNext\";\n                break;\n            case 101:\n                scenarioName = \"DocsNext\";\n                break;\n            case 102:\n                scenarioName = \"SurveyNext\";\n                break;\n            case 103:\n                scenarioName = \"LinksNext\";\n                break;\n            case 104:\n                scenarioName = \"AnnouncementsNext\";\n                break;\n            case 107:\n                scenarioName = \"TasksNext\";\n                break;\n            case 109:\n                scenarioName = \"PicLibNext\";\n                break;\n            default:\n                scenarioName = \"SPList\";\n                break;\n        }\n        return scenarioName;\n    }\n    // string examples: \"{\\\"w3cResponseEnd\\\":2\", \"\\\"appStart\\\":750\"\n    function _cleanString(dataPLT) {\n        var cleanString = dataPLT;\n        cleanString = cleanString.replace(\"{\", \"\");\n        cleanString = cleanString.replace(/\\\"/gi, \"\");\n        cleanString = cleanString.replace(\"}\", \"\");\n        return cleanString;\n    }\n    function _addEventPrefix(eventName, prefix) {\n        if (!prefix) {\n            return eventName;\n        }\n        return prefix + '.' + eventName;\n    }\n    function _getResultTypeSuffix(resultType) {\n        if (resultType === Qos_event_1.ResultTypeEnum.Success) {\n            return \".Success\";\n        }\n        else if (resultType === Qos_event_1.ResultTypeEnum.Failure) {\n            return \".Failure\";\n        }\n        else if (resultType === Qos_event_1.ResultTypeEnum.ExpectedFailure) {\n            return \".ExpectedFailure\";\n        }\n        return \"\";\n    }\n    function _processRUMOneDataUploadEvent(event) {\n        if (!event.data) {\n            return [{\n                    userEngagementData: {\n                        EngagementName: \"RUMOne.no_EventData\",\n                        Duration: 0,\n                        LogType: 0,\n                        ClientTime: event.startTime,\n                        Source: SOURCE_V2_Engagement\n                    }\n                }];\n        }\n        var rumOneDataUpdateEventData = event.data;\n        return [{\n                rumOneData: {\n                    streamName: rumOneDataUpdateEventData.streamName,\n                    dictionary: rumOneDataUpdateEventData.dictionary\n                }\n            }];\n    }\n    function _processEngagementEvent(event) {\n        var logData = {};\n        // if the event has not data we will get this in COSMOS\n        // if it's a start we have only the name and append \".Start\" to it\n        // else we look for resultCode and append it to data.name with result type\n        // if resultCode is not present than we append only the result type to the name\n        // i.e. serverDataGetValue.Start OR serverDataGetValue.ResponseText.GetAuth.ExpectedFailure\n        var name = \"no_EngagementName\";\n        var properties = \"\";\n        if (event.data) {\n            var engagementData = event.data;\n            if (engagementData.name) {\n                name = engagementData.name;\n            }\n            properties = engagementData.extraData ? JSON.stringify(engagementData.extraData) : \"\";\n        }\n        logData.userEngagementData = {\n            EngagementName: name,\n            Properties: properties,\n            Duration: 0,\n            LogType: 0,\n            ClientTime: event.startTime,\n            Source: SOURCE_V2_Engagement\n        };\n        return [logData];\n    }\n    function _processQosEvent(event, qoSEventNameHandler, qosEventExtraDataHandler) {\n        var logData = {};\n        // if the event has not data we will get this in COSMOS\n        // if it's a start we have only the name and append \".Start\" to it\n        // else we look for resultCode and append it to data.name with result type\n        // if resultCode is not present than we append only the result type to the name\n        // i.e. serverDataGetValue.ResponseText.Success OR serverDataGetValue.ResponseText.GetAuth.ExpectedFailure\n        var name = \"no_QosName\";\n        var qosData = event.data ? event.data : null;\n        if (qosData) {\n            if (qosData.name) {\n                name = qosData.name;\n            }\n            if (qoSEventNameHandler != null) {\n                name = qoSEventNameHandler(event, name);\n            }\n            qosData.extraData = qosData.extraData || {};\n            if (qosEventExtraDataHandler != null) {\n                qosEventExtraDataHandler(event, qosData);\n            }\n            qosData.extraData[\"appver\"] = _appVersion;\n        }\n        // Duration is calculated only when we have an END event\n        var durationTime;\n        if (event.eventType === EventBase_1.ClonedEventType.End && event.startTime && event.endTime) {\n            durationTime = event.endTime - event.startTime;\n        }\n        else {\n            durationTime = 0;\n        }\n        logData.userEngagementData = {\n            EngagementName: name,\n            Properties: qosData && qosData.extraData ? JSON.stringify(qosData.extraData) : \"\",\n            Duration: durationTime,\n            LogType: 0,\n            ClientTime: event.eventType === EventBase_1.ClonedEventType.End ? event.endTime : event.startTime,\n            Source: SOURCE_V2_Reliability\n        };\n        return [logData];\n    }\n    function _processBeaconEvent(event) {\n        var logData = {};\n        var durationTime;\n        if (event.eventType === EventBase_1.ClonedEventType.End && event.startTime && event.endTime) {\n            durationTime = event.endTime - event.startTime;\n        }\n        else {\n            durationTime = 0;\n        }\n        logData.userEngagementData = {\n            EngagementName: \"Beacon\",\n            Properties: event.data ? JSON.stringify(event.data) : \"no_EventData\",\n            Duration: durationTime,\n            LogType: 0,\n            ClientTime: event.eventType === EventBase_1.ClonedEventType.End ? event.endTime : event.startTime,\n            Source: SOURCE_V2_Reliability\n        };\n        return [logData];\n    }\n    function _processPLTEvent(event) {\n        if (!event.data) {\n            return [{\n                    userEngagementData: {\n                        EngagementName: \"PLT.no_EventData\",\n                        Duration: 0,\n                        LogType: 0,\n                        ClientTime: event.startTime,\n                        Source: SOURCE_V2_Engagement\n                    }\n                }];\n        }\n        var logDataList = [];\n        //get the data for this event\n        var pltData = event.data;\n        // this will be the prefix for the tags; i.e. PLT.SetView-Files.w3cResponseEnd\n        var name = \"PLT.\" + pltData.name.replace(\" \", \"\");\n        // break down the PLT data and log each one as a separate record in the stream\n        //{\"name\":\"SetView-Files\",\"w3cResponseEnd\":424,\"appStart\":254,\"preRender\":20,\"dataFetch\":310,\"postRender\":327,\"render\":347,\"plt\":1335}\n        var dataPLT = JSON.stringify(pltData).split(',');\n        var duration = 0;\n        // iterate through data and extract each type\n        // create tags like this: PLT.<pagename>.w3cResponseEnd; PLT.<pagename>.appStart\n        for (var i = 0; i < dataPLT.length; i++) {\n            var cleanedPLTString = _cleanString(dataPLT[i]);\n            // split the string and get the name and duration\n            // special case for duration when appCacheHit is a boolean\n            var subDataPLTs = cleanedPLTString.split(':');\n            // skip the 'name' key-value pair\n            if (_cleanString(subDataPLTs[1]) !== pltData.name) {\n                if (subDataPLTs[1] === 'true') {\n                    duration = 1;\n                }\n                else if (subDataPLTs[1] === 'false' || subDataPLTs[1] === 'null') {\n                    duration = 0;\n                }\n                else {\n                    duration = parseInt(subDataPLTs[1], 10);\n                }\n                logDataList.push({ userEngagementData: {\n                        EngagementName: name + \".\" + subDataPLTs[0],\n                        Properties: (subDataPLTs[0] === 'appCacheHit') ? JSON.stringify(event.data) : \"\",\n                        Duration: duration,\n                        LogType: 0,\n                        ClientTime: event.startTime,\n                        Source: SOURCE_V2_Engagement\n                    } });\n            }\n        }\n        return logDataList;\n    }\n    function _processUnhandledErrorEvent(event) {\n        return [{\n                userEngagementData: {\n                    EngagementName: \"UnhandledError\",\n                    Duration: 0,\n                    LogType: 0,\n                    ClientTime: event.startTime,\n                    Source: SOURCE_V2_Engagement\n                },\n                debugData: {\n                    Tag: \"UnhandledError\",\n                    Level: DebugPriorityLevel_1.default.Normal,\n                    Message: event.data ? JSON.stringify(event.data) : \"no_EventData\",\n                    Misc: \"\",\n                    ClientTime: event.startTime\n                }\n            }];\n    }\n    function _processRequireJSErrorEvent(event) {\n        var logData = {};\n        var name = \"RequireJSError\";\n        var errorData;\n        var errorMessage;\n        if (event.data) {\n            // clone all properties so that we can omit 'message' in JSON\n            errorData = {};\n            for (var key in event.data) {\n                if (key !== \"message\") {\n                    errorData[key] = event.data[key];\n                }\n                else {\n                    errorMessage = event.data[key];\n                }\n            }\n        }\n        logData.userEngagementData = {\n            EngagementName: name,\n            Duration: 0,\n            LogType: 0,\n            ClientTime: event.startTime,\n            Source: SOURCE_V2_Engagement\n        };\n        logData.debugData = {\n            Tag: name,\n            Level: DebugPriorityLevel_1.default.Normal,\n            Message: errorMessage ? errorMessage : \"no_ErrorMessage\",\n            Misc: errorData ? JSON.stringify(errorData) : \"no_ErrorData\",\n            ClientTime: event.startTime\n        };\n        return [logData];\n    }\n    function _processCaughtErrorEvent(event) {\n        var logData = {};\n        var name = \"CaughtError\";\n        if (QosError_event_1.QosError.isTypeOf(event)) {\n            if (event.data) {\n                var qosErrorData = event.data;\n                name = qosErrorData.name;\n                if (qosErrorData.resultCode) {\n                    name += \".\" + qosErrorData.resultCode;\n                }\n                name += _getResultTypeSuffix(qosErrorData.resultType);\n            }\n            else {\n                name = \"QosErrorEvent.no_EventData\";\n            }\n        }\n        else {\n            // log it once in the UserEngagement stream to count the hits\n            logData.userEngagementData = {\n                EngagementName: name,\n                Duration: 0,\n                LogType: 0,\n                ClientTime: event.startTime,\n                Source: SOURCE_V2_Engagement\n            };\n        }\n        // log it again in ReliabilityLog stream with data for debugging\n        var caughtErrorData = event.data ? event.data : null;\n        logData.debugData = {\n            Tag: name,\n            Level: DebugPriorityLevel_1.default.Normal,\n            Message: caughtErrorData && caughtErrorData.message ? caughtErrorData.message : \"\",\n            Misc: caughtErrorData && caughtErrorData.stack ? JSON.stringify(caughtErrorData.stack) : \"\",\n            ClientTime: event.startTime\n        };\n        return [logData];\n    }\n    function _processVerboseEvent(event) {\n        var logData = {};\n        var name = \"Verbose\";\n        if (event.data) {\n            var verboseData = event.data;\n            if (verboseData.name) {\n                name = verboseData.name + \".Verbose\";\n            }\n        }\n        else {\n            name += \".no_EventData\";\n        }\n        // log it in ReliabilityLog stream with data for debugging\n        logData.debugData = {\n            Tag: name,\n            Level: DebugPriorityLevel_1.default.Low,\n            Message: verboseData.message,\n            Misc: \"\",\n            ClientTime: event.startTime\n        };\n        return [logData];\n    }\n})(LogProcessor || (LogProcessor = {}));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = LogProcessor;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/odb/LogProcessor.js\n ** module id = 39\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar Features_1 = require('../../features/Features');\nvar PLT = (function (_super) {\n    __extends(PLT, _super);\n    /**\n     * The PLT event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function PLT(parent) {\n        _super.call(this, 'PLT,', 'PLT', parent);\n    }\n    /**\n     * This is true if the PLT event is enabled\n     */\n    PLT.enabled = function () {\n        return Features_1.default.isFeatureEnabled(PLT.samplingFeature);\n    };\n    /**\n     * This will create a single PLT event\n     * @param data {IPLTSingleSchema}\n     * -required name - The name of the PLT event\n     * -required w3cResponseEnd - Time to get the aspx from the server\n     * -required prefetchStart - Time it takes for our app to *start* prefetching\n     * -required deferredListDataRender - Time it takes for defered list data render from server\n     * -required appStart - Time it takes for our app to *start* running\n     * -required preRender - Time it takes for our app to make the relevant data fetch for this view\n     * -required dataFetch - Time it takes for our app to get data back from the server\n     * -required dataFetchServerTime - time the datafetch request spent on the server\n     * -required postRender - Time it takes from appDataFetchEnd to PLT\n     * -required render - Post render plus pre render\n     * -required plt - Time from fetchStart to plt\n     * -required pltWithUnload - Time from navigationStart to plt\n     * -required httpRequests - The count of http request till plt\n     * -required appCacheHit - Whether this page load is served from appCache\n     * @param parent {IEvent} The optional parent for this event\n     */\n    PLT.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(PLT, data, parent);\n    };\n    /**\n     * This is true when PLT event is enabled\n     */\n    PLT.prototype.isEnabled = function () {\n        return Features_1.default.isFeatureEnabled(PLT.samplingFeature);\n    };\n    PLT.prototype.setSingleData = function (data) {\n        this.data.name = this.cleanString(data.name);\n        this.data.w3cResponseEnd = data.w3cResponseEnd;\n        this.data.prefetchStart = data.prefetchStart;\n        this.data.deferredListDataRender = data.deferredListDataRender;\n        this.data.appStart = data.appStart;\n        this.data.preRender = data.preRender;\n        this.data.dataFetch = data.dataFetch;\n        this.data.dataFetchServerTime = data.dataFetchServerTime;\n        this.data.postRender = data.postRender;\n        this.data.render = data.render;\n        this.data.plt = data.plt;\n        this.data.pltWithUnload = data.pltWithUnload;\n        this.data.httpRequests = data.httpRequests;\n        this.data.appCacheHit = data.appCacheHit;\n    };\n    /**\n     * The name of the PLT event\n     */\n    PLT.fullName = 'PLT,';\n    /**\n     * The short name of the PLT event\n     */\n    PLT.shortName = 'PLT';\n    /**\n     * This is true if the PLT event is enabled\n     */\n    PLT.metadata = {\n        name: {\n            type: \"String\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isKey: true,\n            isMetric: false\n        },\n        w3cResponseEnd: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        prefetchStart: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        deferredListDataRender: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        appStart: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        preRender: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        dataFetch: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        dataFetchServerTime: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        postRender: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        render: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        plt: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        pltWithUnload: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        httpRequests: {\n            type: \"Number\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: true\n        },\n        appCacheHit: {\n            type: \"Boolean\",\n            definedInName: \"PLT\",\n            definedInFullName: \"PLT,\",\n            isMetric: false\n        }\n    };\n    /**\n     * The sampling feature for the PLT event\n     */\n    PLT.samplingFeature = { ODB: true, ODC: 'PLTLoggingSampling', Fallback: false };\n    return PLT;\n}(SingleEventBase_1.SingleEventBase));\nexports.PLT = PLT;\nPLT.prototype.metadata = PLT.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = PLT;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/PLT.event.js\n ** module id = 40\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar UnhandledError = (function (_super) {\n    __extends(UnhandledError, _super);\n    /**\n     * The UnhandledError event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function UnhandledError(parent) {\n        _super.call(this, 'UnhandledError,', 'UnhandledError', parent);\n    }\n    /**\n     * This is true if the UnhandledError event is enabled\n     */\n    UnhandledError.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single UnhandledError event\n     * @param data {IUnhandledErrorSingleSchema}\n     * -required message - This is the error message returned during the window.onerror handler\n     * -required stack - This is the stack trace of the error returned during the window.onerror handler, this is not available in all browsers and may only show up in certain ones (IEs)\n     * -required builtStack - This is the manually built stack trace of the unhandled exception\n     * -required line - This is the js line the unhandled exception happened on\n     * -required col - This is the js column the unhandled exception happened on\n     * -required url - This url of the js file that errored\n     * @param parent {IEvent} The optional parent for this event\n     */\n    UnhandledError.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(UnhandledError, data, parent);\n    };\n    /**\n     * This is false when UnhandledError event does not require a parent event\n     */\n    UnhandledError.prototype.requiresParent = function () {\n        return false;\n    };\n    /**\n     * This is true when UnhandledError event is a critical event\n     */\n    UnhandledError.prototype.isCritical = function () {\n        return true;\n    };\n    UnhandledError.prototype.setSingleData = function (data) {\n        this.data.message = this.cleanString(data.message);\n        this.data.stack = this.cleanString(data.stack);\n        this.data.builtStack = this.cleanString(data.builtStack);\n        this.data.line = data.line;\n        this.data.col = data.col;\n        this.data.url = this.cleanString(data.url);\n    };\n    /**\n     * The name of the UnhandledError event\n     */\n    UnhandledError.fullName = 'UnhandledError,';\n    /**\n     * The short name of the UnhandledError event\n     */\n    UnhandledError.shortName = 'UnhandledError';\n    /**\n     * This is true if the UnhandledError event is enabled\n     */\n    UnhandledError.metadata = {\n        message: {\n            type: \"String\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: false\n        },\n        stack: {\n            type: \"String\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: false\n        },\n        builtStack: {\n            type: \"String\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: false\n        },\n        line: {\n            type: \"Number\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: true\n        },\n        col: {\n            type: \"Number\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: true\n        },\n        url: {\n            type: \"String\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: false\n        },\n        unMinStack: {\n            type: \"Object\",\n            definedInName: \"UnhandledError\",\n            definedInFullName: \"UnhandledError,\",\n            isMetric: false\n        }\n    };\n    return UnhandledError;\n}(SingleEventBase_1.SingleEventBase));\nexports.UnhandledError = UnhandledError;\nUnhandledError.prototype.metadata = UnhandledError.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = UnhandledError;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/UnhandledError.event.js\n ** module id = 41\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar RequireJSError = (function (_super) {\n    __extends(RequireJSError, _super);\n    /**\n     * The RequireJSError event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function RequireJSError(parent) {\n        _super.call(this, 'RequireJSError,', 'RequireJSError', parent);\n    }\n    /**\n     * This is true if the RequireJSError event is enabled\n     */\n    RequireJSError.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single RequireJSError event\n     * @param data {IRequireJSErrorSingleSchema}\n     * -required message - This is the error message returned during the window.onerror handler\n     * -required requireModules - This is the array of required modules\n     * -required requireType - This is the require error type\n     * -required stack - This is the stack trace of the error returned during the window.onerror handler\n     * @param parent {IEvent} The optional parent for this event\n     */\n    RequireJSError.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(RequireJSError, data, parent);\n    };\n    /**\n     * This is false when RequireJSError event does not require a parent event\n     */\n    RequireJSError.prototype.requiresParent = function () {\n        return false;\n    };\n    /**\n     * This is true when RequireJSError event is a critical event\n     */\n    RequireJSError.prototype.isCritical = function () {\n        return true;\n    };\n    RequireJSError.prototype.setSingleData = function (data) {\n        this.data.message = this.cleanString(data.message);\n        this.data.requireModules = data.requireModules;\n        this.data.requireType = this.cleanString(data.requireType);\n        this.data.stack = this.cleanString(data.stack);\n    };\n    /**\n     * The name of the RequireJSError event\n     */\n    RequireJSError.fullName = 'RequireJSError,';\n    /**\n     * The short name of the RequireJSError event\n     */\n    RequireJSError.shortName = 'RequireJSError';\n    /**\n     * This is true if the RequireJSError event is enabled\n     */\n    RequireJSError.metadata = {\n        message: {\n            type: \"String\",\n            definedInName: \"RequireJSError\",\n            definedInFullName: \"RequireJSError,\",\n            isMetric: false\n        },\n        requireModules: {\n            type: \"Array\",\n            definedInName: \"RequireJSError\",\n            definedInFullName: \"RequireJSError,\",\n            isMetric: false\n        },\n        requireType: {\n            type: \"String\",\n            definedInName: \"RequireJSError\",\n            definedInFullName: \"RequireJSError,\",\n            isMetric: false\n        },\n        stack: {\n            type: \"String\",\n            definedInName: \"RequireJSError\",\n            definedInFullName: \"RequireJSError,\",\n            isMetric: false\n        },\n        unMinStack: {\n            type: \"Object\",\n            definedInName: \"RequireJSError\",\n            definedInFullName: \"RequireJSError,\",\n            isMetric: false\n        }\n    };\n    return RequireJSError;\n}(SingleEventBase_1.SingleEventBase));\nexports.RequireJSError = RequireJSError;\nRequireJSError.prototype.metadata = RequireJSError.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RequireJSError;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/RequireJSError.event.js\n ** module id = 42\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar SingleEventBase_1 = require('../SingleEventBase');\nvar RUMOneDataUpload = (function (_super) {\n    __extends(RUMOneDataUpload, _super);\n    /**\n     * The RUMOneDataUpload event constructor\n     * @param parent {IEvent} The optional parent for this event\n     */\n    function RUMOneDataUpload(parent) {\n        _super.call(this, 'RUMOneDataUpload,', 'RUMOneDataUpload', parent);\n    }\n    /**\n     * This is true if the RUMOneDataUpload event is enabled\n     */\n    RUMOneDataUpload.enabled = function () {\n        return true;\n    };\n    /**\n     * This will create a single RUMOneDataUpload event\n     * @param data {IRUMOneDataUploadSingleSchema}\n     * -required streamName - SLAPI stream name the data will be logged to, must be either RUMOne or RUMOneErrors\n     * -required dictionary - Data of the RUMOne or RUMOneErrors\n     * @param parent {IEvent} The optional parent for this event\n     */\n    RUMOneDataUpload.logData = function (data, parent) {\n        return SingleEventBase_1.SingleEventBase._logData(RUMOneDataUpload, data, parent);\n    };\n    RUMOneDataUpload.prototype.setSingleData = function (data) {\n        this.data.streamName = this.cleanString(data.streamName);\n        this.data.dictionary = data.dictionary;\n    };\n    /**\n     * The name of the RUMOneDataUpload event\n     */\n    RUMOneDataUpload.fullName = 'RUMOneDataUpload,';\n    /**\n     * The short name of the RUMOneDataUpload event\n     */\n    RUMOneDataUpload.shortName = 'RUMOneDataUpload';\n    /**\n     * This is true if the RUMOneDataUpload event is enabled\n     */\n    RUMOneDataUpload.metadata = {\n        streamName: {\n            type: \"String\",\n            definedInName: \"RUMOneDataUpload\",\n            definedInFullName: \"RUMOneDataUpload,\",\n            isMetric: false\n        },\n        dictionary: {\n            type: \"Object\",\n            definedInName: \"RUMOneDataUpload\",\n            definedInFullName: \"RUMOneDataUpload,\",\n            isMetric: false\n        }\n    };\n    return RUMOneDataUpload;\n}(SingleEventBase_1.SingleEventBase));\nexports.RUMOneDataUpload = RUMOneDataUpload;\nRUMOneDataUpload.prototype.metadata = RUMOneDataUpload.metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RUMOneDataUpload;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/events/RUMOneDataUpload.event.js\n ** module id = 43\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar DebugPriorityLevel;\n(function (DebugPriorityLevel) {\n    DebugPriorityLevel[DebugPriorityLevel[\"Low\"] = 0] = \"Low\";\n    DebugPriorityLevel[DebugPriorityLevel[\"Normal\"] = 1] = \"Normal\";\n})(DebugPriorityLevel || (DebugPriorityLevel = {}));\n;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = DebugPriorityLevel;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/odb/DebugPriorityLevel.js\n ** module id = 44\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar APICallPerformanceData = (function () {\n    function APICallPerformanceData(url, duration, correlationid, status, startTime, endTime, name) {\n        this.url = url;\n        this.duration = duration;\n        this.correlationId = correlationid;\n        this.status = status;\n        this.startTime = startTime;\n        this.endTime = endTime;\n        this.name = name;\n    }\n    return APICallPerformanceData;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = APICallPerformanceData;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/rumone/APICallPerformanceData.js\n ** module id = 45\n ** module chunks = 0\n **/","\"use strict\";\nvar ControlPerformanceData = (function () {\n    function ControlPerformanceData(controlId, startTime, endTime, renderTimeCalculator, renderTimeRequiredDataChecker) {\n        this.controlId = controlId;\n        this.startTime = startTime;\n        this.endTime = endTime;\n        this.renderTimeCalculator = renderTimeCalculator;\n        this.renderTimeRequiredDataChecker = renderTimeRequiredDataChecker;\n    }\n    return ControlPerformanceData;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ControlPerformanceData;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/rumone/ControlPerformanceData.js\n ** module id = 46\n ** module chunks = 0\n **/","\"use strict\";\nvar ErrorHelper_1 = require(\"../logging/ErrorHelper\");\n/** An instance of EventGroup allows anything with a handle to it to trigger events on it.\n *  If the target is an HTMLElement, the event will be attached to the element and can be\n *  triggered as usual (like clicking for onclick).\n *  The event can be triggered by calling EventGroup.raise() here. If the target is an\n *  HTMLElement, the event gets raised and is handled by the browser. Otherwise, it gets\n *  handled here in EventGroup, and the handler is called in the context of the parent\n *  (which is passed in in the constructor).\n */\nvar EventGroup = (function () {\n    /** parent: the context in which events attached to non-HTMLElements are called */\n    function EventGroup(parent) {\n        this._id = EventGroup._uniqueId++;\n        this._parent = parent;\n        this._eventRecords = [];\n    }\n    /** For IE8, bubbleEvent is ignored here and must be dealt with by the handler.\n     *  Events raised here by default have bubbling set to false and cancelable set to true.\n     *  This applies also to built-in events being raised manually here on HTMLElements,\n     *  which may lead to unexpected behavior if it differs from the defaults.\n     */\n    EventGroup.raise = function (target, eventName, eventArgs, bubbleEvent) {\n        var retVal;\n        if (EventGroup._isElement(target)) {\n            if (document.createEvent) {\n                var ev = document.createEvent('HTMLEvents');\n                ev.initEvent(eventName, bubbleEvent, true);\n                ev['args'] = eventArgs;\n                retVal = target.dispatchEvent(ev);\n            }\n            else if (document['createEventObject']) {\n                var evObj = document['createEventObject'](eventArgs);\n                // cannot set cancelBubble on evObj, fireEvent will overwrite it\n                target.fireEvent(\"on\" + eventName, evObj);\n            }\n        }\n        else {\n            while (target && retVal !== false) {\n                var events = target.__events__;\n                var eventRecords = events ? events[eventName] : null;\n                for (var id in eventRecords) {\n                    var eventRecordList = eventRecords[id];\n                    for (var listIndex = 0; retVal !== false && listIndex < eventRecordList.length; listIndex++) {\n                        var record = eventRecordList[listIndex];\n                        if (record.objectCallback) {\n                            retVal = record.objectCallback.call(record.parent, eventArgs);\n                        }\n                    }\n                }\n                // If the target has a parent, bubble the event up.\n                target = bubbleEvent ? target.parent : null;\n            }\n        }\n        return retVal;\n    };\n    EventGroup.isObserved = function (target, eventName) {\n        var events = target && target.__events__;\n        return !!events && !!events[eventName];\n    };\n    /** Check to see if the target has declared support of the given event. */\n    EventGroup.isDeclared = function (target, eventName) {\n        var declaredEvents = target && target.__declaredEvents;\n        return !!declaredEvents && !!declaredEvents[eventName];\n    };\n    EventGroup.stopPropagation = function (event) {\n        if (event.stopPropagation) {\n            event.stopPropagation();\n        }\n        else {\n            event.cancelBubble = true;\n        }\n    };\n    EventGroup._isElement = function (target) {\n        return !!target && (target instanceof HTMLElement || target.addEventListener);\n    };\n    EventGroup.prototype.dispose = function () {\n        if (!this._isDisposed) {\n            this._isDisposed = true;\n            this.off();\n            this._parent = null;\n        }\n    };\n    /** On the target, attach a set of events, where the events object is a name to function mapping. */\n    EventGroup.prototype.onAll = function (target, events, useCapture) {\n        for (var eventName in events) {\n            this.on(target, eventName, events[eventName], useCapture);\n        }\n    };\n    /** On the target, attach an event whose handler will be called in the context of the parent\n     * of this instance of EventGroup.\n     */\n    EventGroup.prototype.on = function (target, eventName, callback, useCapture) {\n        var _this = this;\n        if (eventName.indexOf(',') > -1) {\n            var events = eventName.split(/[ ,]+/);\n            for (var i = 0; i < events.length; i++) {\n                this.on(target, events[i], callback, useCapture);\n            }\n        }\n        else {\n            var parent = this._parent;\n            var eventRecord = {\n                target: target,\n                eventName: eventName,\n                parent: parent,\n                callback: callback,\n                objectCallback: null,\n                elementCallback: null,\n                useCapture: useCapture\n            };\n            // Initialize and wire up the record on the target, so that it can call the callback if the event fires.\n            var events_1 = (target.__events__ = target.__events__ || {});\n            events_1[eventName] = events_1[eventName] || {\n                count: 0\n            };\n            events_1[eventName][this._id] = events_1[eventName][this._id] || [];\n            events_1[eventName][this._id].push(eventRecord);\n            events_1[eventName].count++;\n            if (EventGroup._isElement(target)) {\n                var processElementEvent = function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i - 0] = arguments[_i];\n                    }\n                    if (_this._isDisposed) {\n                        return;\n                    }\n                    try {\n                        var result = callback.apply(parent, args);\n                        if (result === false && args[0] && args[0].preventDefault) {\n                            var e = args[0];\n                            e.preventDefault();\n                            e.cancelBubble = true;\n                        }\n                    }\n                    catch (e) {\n                        ErrorHelper_1.default.log(e);\n                    }\n                    return result;\n                };\n                eventRecord.elementCallback = processElementEvent;\n                if (target.addEventListener) {\n                    /* tslint:disable:ban-native-functions */\n                    target.addEventListener(eventName, processElementEvent, useCapture);\n                }\n                else if (target.attachEvent) {\n                    target.attachEvent(\"on\" + eventName, processElementEvent);\n                }\n            }\n            else {\n                var processObjectEvent = function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i - 0] = arguments[_i];\n                    }\n                    if (_this._isDisposed) {\n                        return;\n                    }\n                    return callback.apply(parent, args);\n                };\n                eventRecord.objectCallback = processObjectEvent;\n            }\n            // Remember the record locally, so that it can be removed.\n            this._eventRecords.push(eventRecord);\n        }\n    };\n    EventGroup.prototype.off = function (target, eventName, callback, useCapture) {\n        for (var i = 0; i < this._eventRecords.length; i++) {\n            var eventRecord = this._eventRecords[i];\n            if ((!target || target === eventRecord.target) &&\n                (!eventName || eventName === eventRecord.eventName) &&\n                (!callback || callback === eventRecord.callback) &&\n                ((typeof useCapture !== 'boolean') || useCapture === eventRecord.useCapture)) {\n                var events = eventRecord.target.__events__;\n                var targetArrayLookup = events[eventRecord.eventName];\n                var targetArray = targetArrayLookup ? targetArrayLookup[this._id] : null;\n                // We may have already target's entries, so check for null.\n                if (targetArray) {\n                    if (targetArray.length === 1 || !callback) {\n                        targetArrayLookup.count -= targetArray.length;\n                        delete events[eventRecord.eventName][this._id];\n                    }\n                    else {\n                        targetArrayLookup.count--;\n                        targetArray.splice(targetArray.indexOf(eventRecord), 1);\n                    }\n                    if (!targetArrayLookup.count) {\n                        delete events[eventRecord.eventName];\n                    }\n                }\n                if (eventRecord.elementCallback) {\n                    if (eventRecord.target.removeEventListener) {\n                        eventRecord.target.removeEventListener(eventRecord.eventName, eventRecord.elementCallback, eventRecord.useCapture);\n                    }\n                    else if (eventRecord.target.detachEvent) {\n                        eventRecord.target.detachEvent(\"on\" + eventRecord.eventName, eventRecord.elementCallback);\n                    }\n                }\n                this._eventRecords.splice(i--, 1);\n            }\n        }\n    };\n    /** Trigger the given event in the context of this instance of EventGroup. */\n    EventGroup.prototype.raise = function (eventName, eventArgs, bubbleEvent) {\n        return EventGroup.raise(this._parent, eventName, eventArgs, bubbleEvent);\n    };\n    /** Declare an event as being supported by this instance of EventGroup. */\n    EventGroup.prototype.declare = function (event) {\n        var declaredEvents = this._parent.__declaredEvents = this._parent.__declaredEvents || {};\n        if (typeof event === 'string') {\n            declaredEvents[event] = true;\n        }\n        else {\n            for (var i = 0; i < event.length; i++) {\n                declaredEvents[event[i]] = true;\n            }\n        }\n    };\n    EventGroup._uniqueId = 0;\n    return EventGroup;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = EventGroup;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/events/EventGroup.js\n ** module id = 47\n ** module chunks = 0\n **/","\"use strict\";\n// OneDrive:IgnoreCodeCoverage\nvar PageTransitionType;\n(function (PageTransitionType) {\n    PageTransitionType[PageTransitionType[\"none\"] = 0] = \"none\";\n    PageTransitionType[PageTransitionType[\"fullPageLoad\"] = 4] = \"fullPageLoad\";\n})(PageTransitionType || (PageTransitionType = {}));\n;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = PageTransitionType;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/rumone/PageTransitionType.js\n ** module id = 48\n ** module chunks = 0\n **/","/**\n * This file was originally ported from WinJS.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Async_1 = require('./Async');\nvar EventGroup_1 = require('../events/EventGroup');\nvar async = new Async_1.default();\nfunction doneHandler(value) {\n    \"use strict\";\n    async.setImmediate(function () {\n        throw value;\n    });\n}\nvar errorET = \"error\";\nvar canceledName = \"Canceled\";\nvar events;\n//\n// Global error counter, for each error which enters the system we increment this once and then\n// the error number travels with the error as it traverses the tree of potential handlers.\n//\n// When someone has registered to be told about error [using EventGroup.on(Promise, 'error')] promises\n// which are in error will get tagged with a ._errorId field. This tagged field is the\n// contract by which nested promises with errors will be identified as chaining for the\n// purposes of the callonerror semantics. If a nested promise in error is encountered without\n// a ._errorId it will be assumed to be foreign and treated as an interop boundary and\n// a new error id will be minted.\n//\nvar error_number = 1;\n;\nvar state_created, // -> working\nstate_working, // -> error | error_notify | success | success_notify | canceled | waiting\nstate_waiting, // -> error | error_notify | success | success_notify | waiting_canceled\nstate_waiting_canceled, // -> error | error_notify | success | success_notify | canceling\nstate_canceled, // -> error | error_notify | success | success_notify | canceling\nstate_canceling, // -> error_notify\nstate_success_notify, // -> success\nstate_success, // -> .\nstate_error_notify, // -> error\nstate_error; // -> .\n// Noop function, used in the various states to indicate that they don't support a given\n// message. Named with the somewhat cute name '_' because it reads really well in the states.\nfunction _() {\n    \"use strict\";\n}\n// Initial state\n//\nstate_created = {\n    name: \"created\",\n    enter: function (promise) {\n        promise._setState(state_working);\n    },\n    cancel: _,\n    done: _,\n    then: _,\n    _completed: _,\n    _error: _,\n    _notify: _,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n// Ready state, waiting for a message (completed/error), able to be canceled\n//\nstate_working = {\n    name: \"working\",\n    enter: _,\n    cancel: function (promise) {\n        promise._setState(state_canceled);\n    },\n    done: done,\n    then: then,\n    _completed: completed,\n    _error: error,\n    _notify: _,\n    _setCompleteValue: setCompleteValue,\n    _setErrorValue: setErrorValue\n};\n// Waiting state, if a promise is completed with a value which is itself a promise\n// (has a then() method) it signs up to be informed when that child promise is\n// fulfilled at which point it will be fulfilled with that value.\n//\nstate_waiting = {\n    name: \"waiting\",\n    enter: function (promise) {\n        var waitedUpon = promise._value;\n        // We can special case our own intermediate promises which are not in a\n        //  terminal state by just pushing this promise as a listener without\n        //  having to create new indirection functions\n        if (waitedUpon instanceof ThenPromise &&\n            waitedUpon._state !== state_error &&\n            waitedUpon._state !== state_success) {\n            pushListener(waitedUpon, { promise: promise });\n        }\n        else {\n            var error_1 = function (value) {\n                if (waitedUpon._errorId) {\n                    promise._chainedError(value, waitedUpon);\n                }\n                else {\n                    // Because this is an interop boundary we want to indicate that this\n                    //  error has been handled by the promise infrastructure before we\n                    //  begin a new handling chain.\n                    //\n                    callonerror(promise, value, detailsForHandledError, waitedUpon, error_1);\n                    promise._error(value);\n                }\n            };\n            error_1.handlesOnError = true;\n            waitedUpon.then(promise._completed.bind(promise), error_1);\n        }\n    },\n    cancel: function (promise) {\n        promise._setState(state_waiting_canceled);\n    },\n    done: done,\n    then: then,\n    _completed: completed,\n    _error: error,\n    _notify: _,\n    _setCompleteValue: setCompleteValue,\n    _setErrorValue: setErrorValue\n};\n// Waiting canceled state, when a promise has been in a waiting state and receives a\n// request to cancel its pending work it will forward that request to the child promise\n// and then waits to be informed of the result. This promise moves itself into the\n// canceling state but understands that the child promise may instead push it to a\n// different state.\n//\nstate_waiting_canceled = {\n    name: \"waiting_canceled\",\n    enter: function (promise) {\n        // Initiate a transition to canceling. Triggering a cancel on the promise\n        // that we are waiting upon may result in a different state transition\n        // before the state machine pump runs again.\n        promise._setState(state_canceling);\n        var waitedUpon = promise._value;\n        if (waitedUpon.cancel) {\n            waitedUpon.cancel();\n        }\n    },\n    cancel: _,\n    done: done,\n    then: then,\n    _completed: completed,\n    _error: error,\n    _notify: _,\n    _setCompleteValue: setCompleteValue,\n    _setErrorValue: setErrorValue\n};\n// Canceled state, moves to the canceling state and then tells the promise to do\n// whatever it might need to do on cancelation.\n//\nstate_canceled = {\n    name: \"canceled\",\n    enter: function (promise) {\n        // Initiate a transition to canceling. The _cancelAction may change the state\n        // before the state machine pump runs again.\n        promise._setState(state_canceling);\n        promise._cancelAction();\n    },\n    cancel: _,\n    done: done,\n    then: then,\n    _completed: completed,\n    _error: error,\n    _notify: _,\n    _setCompleteValue: setCompleteValue,\n    _setErrorValue: setErrorValue\n};\n// Canceling state, commits to the promise moving to an error state with an error\n// object whose 'name' and 'message' properties contain the string \"Canceled\"\n//\nstate_canceling = {\n    name: \"canceling\",\n    enter: function (promise) {\n        var error = new Error(canceledName);\n        error.name = error.message;\n        error[\"_handled\"] = true;\n        promise._value = error;\n        promise._setState(state_error_notify);\n    },\n    cancel: _,\n    done: _,\n    then: _,\n    _completed: _,\n    _error: _,\n    _notify: _,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n// Success notify state, moves a promise to the success state and notifies all children\n//\nstate_success_notify = {\n    name: \"complete_notify\",\n    enter: function (promise) {\n        promise.done = CompletePromise.prototype.done;\n        promise.then = CompletePromise.prototype.then;\n        if (promise._listeners) {\n            var queue = [promise];\n            var p = void 0;\n            while (queue.length) {\n                p = queue.shift();\n                p._state._notify(p, queue);\n            }\n        }\n        promise._setState(state_success);\n    },\n    cancel: _,\n    done: null,\n    then: null,\n    _completed: _,\n    _error: _,\n    _notify: notifySuccess,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n// Success state, moves a promise to the success state and does NOT notify any children.\n// Some upstream promise is owning the notification pass.\n//\nstate_success = {\n    name: \"success\",\n    enter: function (promise) {\n        promise.done = CompletePromise.prototype.done;\n        promise.then = CompletePromise.prototype.then;\n        promise._cleanupAction();\n    },\n    cancel: _,\n    done: null,\n    then: null,\n    _completed: _,\n    _error: _,\n    _notify: notifySuccess,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n// Error notify state, moves a promise to the error state and notifies all children\n//\nstate_error_notify = {\n    name: \"error_notify\",\n    enter: function (promise) {\n        promise.done = ErrorPromise.prototype.done;\n        promise.then = ErrorPromise.prototype.then;\n        if (promise._listeners) {\n            var queue = [promise];\n            var p = void 0;\n            while (queue.length) {\n                p = queue.shift();\n                p._state._notify(p, queue);\n            }\n        }\n        promise._setState(state_error);\n    },\n    cancel: _,\n    done: null,\n    then: null,\n    _completed: _,\n    _error: _,\n    _notify: notifyError,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n// Error state, moves a promise to the error state and does NOT notify any children.\n// Some upstream promise is owning the notification pass.\n//\nstate_error = {\n    name: \"error\",\n    enter: function (promise) {\n        promise.done = ErrorPromise.prototype.done;\n        promise.then = ErrorPromise.prototype.then;\n        promise._cleanupAction();\n    },\n    cancel: _,\n    done: null,\n    then: null,\n    _completed: _,\n    _error: _,\n    _notify: notifyError,\n    _setCompleteValue: _,\n    _setErrorValue: _\n};\n//\n// The statemachine implementation follows a very particular pattern, the states are specified\n// as static stateless bags of functions which are then indirected through the state machine\n// instance (a Promise). As such all of the functions on each state have the promise instance\n// passed to them explicitly as a parameter and the Promise instance members do a little\n// dance where they indirect through the state and insert themselves in the argument list.\n//\n// We could instead call directly through the promise states however then every caller\n// would have to remember to do things like pumping the state machine to catch state transitions.\n//\n//\n// Implementations of shared state machine code.\n//\nfunction completed(promise, value) {\n    \"use strict\";\n    var targetState;\n    if (value && typeof value === \"object\" && typeof value.then === \"function\") {\n        targetState = state_waiting;\n    }\n    else {\n        targetState = state_success_notify;\n    }\n    promise._value = value;\n    promise._setState(targetState);\n}\nfunction createErrorDetails(exception, error, promise, id, parent, handler) {\n    \"use strict\";\n    return {\n        exception: exception,\n        error: error,\n        promise: promise,\n        handler: handler,\n        id: id,\n        parent: parent\n    };\n}\nfunction detailsForHandledError(promise, errorValue, context, handler) {\n    \"use strict\";\n    var exception = context._isException;\n    var errorId = context._errorId;\n    return createErrorDetails(exception ? errorValue : null, exception ? null : errorValue, promise, errorId, context, handler);\n}\nfunction detailsForChainedError(promise, errorValue, context) {\n    \"use strict\";\n    var exception = context._isException;\n    var errorId = context._errorId;\n    setErrorInfo(promise, errorId, exception);\n    return createErrorDetails(exception ? errorValue : null, exception ? null : errorValue, promise, errorId, context);\n}\nfunction detailsForError(promise, errorValue) {\n    \"use strict\";\n    var errorId = ++error_number;\n    setErrorInfo(promise, errorId);\n    return createErrorDetails(null, errorValue, promise, errorId);\n}\nfunction detailsForException(promise, exceptionValue) {\n    \"use strict\";\n    var errorId = ++error_number;\n    setErrorInfo(promise, errorId, true);\n    return createErrorDetails(exceptionValue, null, promise, errorId);\n}\nfunction done(promise, onComplete, onError) {\n    \"use strict\";\n    pushListener(promise, { c: onComplete, e: onError });\n}\nfunction error(promise, value, onerrorDetails, context) {\n    \"use strict\";\n    promise._value = value;\n    callonerror(promise, value, onerrorDetails, context);\n    promise._setState(state_error_notify);\n}\nfunction notifySuccess(promise, queue) {\n    \"use strict\";\n    var value = promise._value;\n    var listeners = promise._listeners;\n    if (!listeners) {\n        return;\n    }\n    promise._listeners = null;\n    var i, len;\n    for (i = 0, len = Array.isArray(listeners) ? listeners.length : 1; i < len; i++) {\n        var listener = len === 1 ? listeners : listeners[i];\n        var onComplete = listener.c;\n        var target = listener.promise;\n        if (target) {\n            try {\n                target._setCompleteValue(onComplete ? onComplete(value) : value);\n            }\n            catch (ex) {\n                target._setExceptionValue(ex);\n            }\n            if (target._state !== state_waiting && target._listeners) {\n                queue.push(target);\n            }\n        }\n        else {\n            CompletePromise.prototype.done.call(promise, onComplete);\n        }\n    }\n}\nfunction notifyError(promise, queue) {\n    \"use strict\";\n    var value = promise._value;\n    var listeners = promise._listeners;\n    if (!listeners) {\n        return;\n    }\n    promise._listeners = null;\n    var i, len;\n    for (i = 0, len = Array.isArray(listeners) ? listeners.length : 1; i < len; i++) {\n        var listener = len === 1 ? listeners : listeners[i];\n        var onError = listener.e;\n        var target = listener.promise;\n        if (target) {\n            var asyncCallbackStarted = false;\n            try {\n                if (onError) {\n                    asyncCallbackStarted = true;\n                    if (!onError.handlesOnError) {\n                        callonerror(target, value, detailsForHandledError, promise, onError);\n                    }\n                    target._setCompleteValue(onError(value));\n                }\n                else {\n                    target._setChainedErrorValue(value, promise);\n                }\n            }\n            catch (ex) {\n                target._setExceptionValue(ex);\n            }\n            if (target._state !== state_waiting && target._listeners) {\n                queue.push(target);\n            }\n        }\n        else {\n            ErrorPromise.prototype.done.call(promise, null, onError);\n        }\n    }\n}\nfunction callonerror(promise, value, onerrorDetailsGenerator, context, handler) {\n    \"use strict\";\n    if (value instanceof Error && value.message === canceledName) {\n        return;\n    }\n    events.raise(errorET, onerrorDetailsGenerator(promise, value, context, handler));\n}\nfunction pushListener(promise, listener) {\n    \"use strict\";\n    var listeners = promise._listeners;\n    if (listeners) {\n        // We may have either a single listener (which will never be wrapped in an array)\n        // or 2+ listeners (which will be wrapped). Since we are now adding one more listener\n        // we may have to wrap the single listener before adding the second.\n        listeners = Array.isArray(listeners) ? listeners : [listeners];\n        listeners.push(listener);\n    }\n    else {\n        listeners = listener;\n    }\n    promise._listeners = listeners;\n}\n// The difference beween setCompleteValue()/setErrorValue() and complete()/error() is that setXXXValue() moves\n// a promise directly to the success/error state without starting another notification pass (because one\n// is already ongoing).\nfunction setErrorInfo(promise, errorId, isException) {\n    \"use strict\";\n    promise._isException = isException || false;\n    promise._errorId = errorId;\n}\nfunction setErrorValue(promise, value, onerrorDetails, context) {\n    \"use strict\";\n    promise._value = value;\n    callonerror(promise, value, onerrorDetails, context);\n    promise._setState(state_error);\n}\nfunction setCompleteValue(promise, value) {\n    \"use strict\";\n    var targetState;\n    if (value && typeof value === \"object\" && typeof value.then === \"function\") {\n        targetState = state_waiting;\n    }\n    else {\n        targetState = state_success;\n    }\n    promise._value = value;\n    promise._setState(targetState);\n}\nfunction then(promise, onComplete, onError) {\n    \"use strict\";\n    var result = new ThenPromise(promise);\n    pushListener(promise, { promise: result, c: onComplete, e: onError });\n    return result;\n}\n//\n// Slim promise implementations for already completed promises, these are created\n// under the hood on synchronous completion paths as well as by Promise.wrap\n// and Promise.wrapError.\n//\nvar ErrorPromise = (function () {\n    function ErrorPromise(value, errorFunc) {\n        if (errorFunc === void 0) { errorFunc = detailsForError; }\n        this._value = value;\n        callonerror(this, value, errorFunc);\n    }\n    ErrorPromise.prototype.cancel = function () {\n        /* No-op */\n    };\n    ErrorPromise.prototype.done = function (unused, onError) {\n        var value = this._value;\n        if (onError) {\n            try {\n                if (!onError.handlesOnError) {\n                    callonerror(null, value, detailsForHandledError, this, onError);\n                }\n                var result = onError(value);\n                if (result && typeof result === \"object\" && typeof result.done === \"function\") {\n                    // If a promise is returned we need to wait on it.\n                    result.done();\n                }\n                return;\n            }\n            catch (ex) {\n                value = ex;\n            }\n        }\n        if (value instanceof Error && value.message === canceledName) {\n            // suppress cancel\n            return;\n        }\n        // force the exception to be thrown asyncronously to avoid any try/catch blocks\n        //\n        doneHandler(value);\n    };\n    ErrorPromise.prototype.then = function (unused, onError) {\n        // If the promise is already in a error state and no error handler is provided\n        // we optimize by simply returning the promise instead of creating a new one.\n        //\n        if (!onError) {\n            return this;\n        }\n        var result;\n        var value = this._value;\n        try {\n            if (!onError.handlesOnError) {\n                callonerror(null, value, detailsForHandledError, this, onError);\n            }\n            result = new CompletePromise(onError(value));\n        }\n        catch (ex) {\n            // If the value throw from the error handler is the same as the value\n            // provided to the error handler then there is no need for a new promise.\n            //\n            if (ex === value) {\n                result = this;\n            }\n            else {\n                result = new ExceptionPromise(ex);\n            }\n        }\n        return result;\n    };\n    return ErrorPromise;\n}());\nvar ExceptionPromise = (function (_super) {\n    __extends(ExceptionPromise, _super);\n    function ExceptionPromise(value) {\n        _super.call(this, value, detailsForException);\n    }\n    return ExceptionPromise;\n}(ErrorPromise));\nvar CompletePromise = (function () {\n    function CompletePromise(value) {\n        if (value && typeof value === \"object\" && typeof value.then === \"function\") {\n            var result = new ThenPromise(null);\n            result._setCompleteValue(value);\n            return result;\n        }\n        this._value = value;\n    }\n    CompletePromise.prototype.cancel = function () {\n        /* No-op */\n    };\n    CompletePromise.prototype.done = function (onComplete) {\n        if (!onComplete) {\n            return;\n        }\n        try {\n            var result = onComplete(this._value);\n            if (result && typeof result === \"object\" && typeof result.done === \"function\") {\n                result.done();\n            }\n        }\n        catch (ex) {\n            // force the exception to be thrown asynchronously to avoid any try/catch blocks\n            doneHandler(ex);\n        }\n    };\n    CompletePromise.prototype.then = function (onComplete) {\n        var resultPromise;\n        try {\n            // If the value returned from the completion handler is the same as the value\n            // provided to the completion handler then there is no need for a new promise.\n            //\n            var newValue = onComplete ? onComplete(this._value) : this._value;\n            resultPromise = newValue === this._value ? this : new CompletePromise(newValue);\n        }\n        catch (ex) {\n            resultPromise = new ExceptionPromise(ex);\n        }\n        return resultPromise;\n    };\n    return CompletePromise;\n}());\nfunction timeout(timeoutMS) {\n    \"use strict\";\n    var id;\n    return new Promise(function (c) {\n        if (timeoutMS) {\n            id = async.setTimeout(c, timeoutMS);\n        }\n        else {\n            async.setImmediate(c);\n        }\n    }, function () {\n        if (id) {\n            async.clearTimeout(id);\n        }\n    });\n}\nfunction timeoutWithPromise(timeout, promise) {\n    \"use strict\";\n    var cancelPromise = function () { promise.cancel(); };\n    var cancelTimeout = function () { timeout.cancel(); };\n    timeout.then(cancelPromise);\n    promise.then(cancelTimeout, cancelTimeout);\n    return promise;\n}\nvar staticCanceledPromise;\nvar Promise = (function () {\n    function Promise(init, oncancel) {\n        this._init(init, oncancel);\n    }\n    /**\n     * Returns a promise that is fulfilled when one of the input promises\n     * has been fulfilled.\n     */\n    Promise.any = function (values) {\n        return new Promise(function (complete, error) {\n            var keys = Object.keys(values);\n            if (keys.length === 0) {\n                complete();\n            }\n            var canceled = 0;\n            keys.forEach(function (key) {\n                Promise.as(values[key]).then(function () { complete({ key: key, value: values[key] }); }, function (e) {\n                    if (e instanceof Error && e.name === canceledName) {\n                        if ((++canceled) === keys.length) {\n                            complete(Promise.cancel);\n                        }\n                        return;\n                    }\n                    error({ key: key, value: values[key] });\n                });\n            });\n        }, function () {\n            var keys = Object.keys(values);\n            keys.forEach(function (key) {\n                var promise = Promise.as(values[key]);\n                if (typeof promise.cancel === \"function\") {\n                    promise.cancel();\n                }\n            });\n        });\n    };\n    Promise.as = function (value) {\n        var returnValue;\n        if (value && typeof value === \"object\" && typeof value.then === \"function\") {\n            returnValue = value;\n        }\n        else {\n            returnValue = new CompletePromise(value);\n        }\n        return returnValue;\n    };\n    Object.defineProperty(Promise, \"cancel\", {\n        get: function () {\n            return (staticCanceledPromise = staticCanceledPromise || new ErrorPromise(canceledName));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Determines whether a value fulfills the promise contract.\n     */\n    Promise.is = function (value) {\n        return value && typeof value === \"object\" && typeof value.then === \"function\";\n    };\n    /**\n     * Determines whether an error value represents a promise cancellation.\n     */\n    Promise.isCanceled = function (e) {\n        return (e instanceof Error && e.name === canceledName);\n    };\n    Promise.all = function (values) {\n        return new Promise(function (complete, error) {\n            var keys = Object.keys(values);\n            var errors = Array.isArray(values) ? [] : {};\n            var results = Array.isArray(values) ? [] : {};\n            var undefineds = 0;\n            var pending = keys.length;\n            var argDone = function (key) {\n                if ((--pending) === 0) {\n                    var errorCount = Object.keys(errors).length;\n                    if (errorCount === 0) {\n                        complete(results);\n                    }\n                    else {\n                        var canceledCount_1 = 0;\n                        keys.forEach(function (key) {\n                            var e = errors[key];\n                            if (e instanceof Error && e.name === canceledName) {\n                                canceledCount_1++;\n                            }\n                        });\n                        if (canceledCount_1 === errorCount) {\n                            complete(Promise.cancel);\n                        }\n                        else {\n                            error(errors);\n                        }\n                    }\n                }\n            };\n            keys.forEach(function (key) {\n                var value = values[key];\n                if (value === undefined) {\n                    undefineds++;\n                }\n                else {\n                    Promise.then(value, function (value) { results[key] = value; argDone(key); }, function (value) { errors[key] = value; argDone(key); });\n                }\n            });\n            pending -= undefineds;\n            if (pending === 0) {\n                complete(results);\n                return;\n            }\n        }, function () {\n            Object.keys(values).forEach(function (key) {\n                var promise = Promise.as(values[key]);\n                if (typeof promise.cancel === \"function\") {\n                    promise.cancel();\n                }\n            });\n        });\n    };\n    Promise.then = function (value, onComplete, onError) {\n        return Promise.as(value).then(onComplete, onError);\n    };\n    Promise.thenEach = function (values, onComplete, onError) {\n        var result = Array.isArray(values) ? [] : {};\n        Object.keys(values).forEach(function (key) {\n            result[key] = Promise.as(values[key]).then(onComplete, onError);\n        });\n        return Promise.all(result);\n    };\n    Promise.serial = function (tasks) {\n        return tasks.reduce(function (previous, task) {\n            return previous.then(task);\n        }, Promise.wrap());\n    };\n    Promise.timeout = function (time, promise) {\n        var to = timeout(time);\n        return promise ? timeoutWithPromise(to, promise) : to;\n    };\n    Promise.wrap = function (value) {\n        var cp = new CompletePromise(value);\n        return cp;\n    };\n    /**\n     * Wraps a non-promise error value in a promise. You can use this function if you need\n     * to pass an error to a function that requires a promise.\n     */\n    Promise.wrapError = function (error) {\n        var ep = new ErrorPromise(error);\n        return ep;\n    };\n    /**\n     * Attempts to cancel the fulfillment of a promised value. If the promise hasn't\n     * already been fulfilled and cancellation is supported, the promise enters\n     * the error state with a value of Error(\"Canceled\").\n     */\n    Promise.prototype.cancel = function () {\n        this._state.cancel(this);\n        this._run();\n    };\n    /**\n     * Allows you to specify the work to be done on the fulfillment of the promised value,\n     * the error handling to be performed if the promise fails to fulfill\n     * a value.\n     *\n     * After the handlers have finished executing, this function throws any error that would have been returned\n     * from then() as a promise in the error state.\n     *\n     * @param onComplete The function to be called if the promise is fulfilled successfully with a value. The fulfilled value is passed as the single argument. If the value is null, the fulfilled value is returned. The value returned from the function becomes the fulfilled value of the promise returned by then. If an exception is thrown while executing the function, the promise returned by then moves into the error state.\n     * @param onError The function to be called if the promise is fulfilled with an error. The error is passed as the single argument. If it is null, the error is forwarded. The value returned from the function is the fulfilled value of the promise returned by then.\n     */\n    Promise.prototype.done = function (onComplete, onError) {\n        this._state.done(this, onComplete, onError);\n    };\n    Promise.prototype.then = function (onComplete, onError) {\n        return this._state.then(this, onComplete, onError);\n    };\n    Promise.prototype._init = function (init, oncancel) {\n        this._oncancel = oncancel;\n        this._setState(state_created);\n        this._run();\n        try {\n            var complete = this._completed.bind(this);\n            var error_2 = this._error.bind(this);\n            init(complete, error_2);\n        }\n        catch (ex) {\n            this._setExceptionValue(ex);\n        }\n    };\n    Promise.prototype._cancelAction = function () {\n        if (this._oncancel) {\n            try {\n                this._oncancel();\n            }\n            catch (ex) { }\n        }\n    };\n    Promise.prototype._cleanupAction = function () {\n        this._oncancel = null;\n    };\n    Promise.prototype._chainedError = function (value, context) {\n        var result = this._state._error(this, value, detailsForChainedError, context);\n        this._run();\n        return result;\n    };\n    Promise.prototype._completed = function (value) {\n        var result = this._state._completed(this, value);\n        this._run();\n        return result;\n    };\n    Promise.prototype._error = function (value) {\n        var result = this._state._error(this, value, detailsForError);\n        this._run();\n        return result;\n    };\n    Promise.prototype._setState = function (state) {\n        this._nextState = state;\n    };\n    Promise.prototype._setCompleteValue = function (value) {\n        this._state._setCompleteValue(this, value);\n        this._run();\n    };\n    Promise.prototype._setChainedErrorValue = function (value, context) {\n        var result = this._state._setErrorValue(this, value, detailsForChainedError, context);\n        this._run();\n        return result;\n    };\n    Promise.prototype._setExceptionValue = function (value) {\n        var result = this._state._setErrorValue(this, value, detailsForException);\n        this._run();\n        return result;\n    };\n    Promise.prototype._run = function () {\n        while (this._nextState) {\n            this._state = this._nextState;\n            this._nextState = null;\n            this._state.enter(this);\n        }\n    };\n    return Promise;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Promise;\nevents = new EventGroup_1.default(Promise);\nevents.declare(errorET);\n//\n// Internal implementation detail promise, ThenPromise is created when a promise needs\n// to be returned from a then() method.\n//\nvar ThenPromise = (function (_super) {\n    __extends(ThenPromise, _super);\n    function ThenPromise(creator) {\n        _super.call(this);\n        this._creator = creator;\n        this._initThen();\n    }\n    ThenPromise.prototype._init = function () {\n        // Override to do nothing.\n    };\n    ThenPromise.prototype._cancelAction = function () {\n        if (this._creator) {\n            this._creator.cancel();\n        }\n    };\n    ThenPromise.prototype._cleanupAction = function () {\n        this._creator = null;\n    };\n    ThenPromise.prototype._initThen = function () {\n        this._setState(state_created);\n        this._run();\n    };\n    return ThenPromise;\n}(Promise));\nvar SignalPromise = (function (_super) {\n    __extends(SignalPromise, _super);\n    function SignalPromise(cancel) {\n        _super.call(this);\n        this._oncancel = cancel;\n        this._initSignal();\n    }\n    SignalPromise.prototype._init = function () {\n        // Override to do nothing.\n    };\n    SignalPromise.prototype._cancelAction = function () {\n        if (this._oncancel) {\n            this._oncancel();\n        }\n    };\n    SignalPromise.prototype._cleanupAction = function () {\n        this._oncancel = null;\n    };\n    SignalPromise.prototype._initSignal = function () {\n        this._setState(state_created);\n        this._run();\n    };\n    return SignalPromise;\n}(Promise));\nexports.SignalPromise = SignalPromise;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/async/Promise.js\n ** module id = 49\n ** module chunks = 0\n **/","\"use strict\";\nvar Async_1 = require('../../async/Async');\nvar PageTransitionType_1 = require('./PageTransitionType');\nvar RUMOneSLAPI_1 = require('./RUMOneSLAPI');\nvar RUMOneErrorsSLAPI_1 = require('./RUMOneErrorsSLAPI');\nvar RUMOneDataUpload_event_1 = require('../events/RUMOneDataUpload.event');\nvar PerformanceDataState;\n(function (PerformanceDataState) {\n    PerformanceDataState[PerformanceDataState[\"Incomplete\"] = 1] = \"Incomplete\";\n    PerformanceDataState[PerformanceDataState[\"ReadyToUpload\"] = 2] = \"ReadyToUpload\";\n    PerformanceDataState[PerformanceDataState[\"Uploaded\"] = 3] = \"Uploaded\";\n    PerformanceDataState[PerformanceDataState[\"TimeOut\"] = 4] = \"TimeOut\";\n})(PerformanceDataState || (PerformanceDataState = {}));\nvar MARKER_PREFIX = \"EUPL.\";\n/**\n * It is a new client side perf instrumentation, it logs more metrics, like scenario, api data, server request id, duration, etc in 1 single schema.\n * It has server side usage DB and cosmos supports.\n */\nvar RUMOneLogger = (function () {\n    function RUMOneLogger(logFunc) {\n        this.async = new Async_1.default(this);\n        this.dataStartTime = Number((new Date()).getTime());\n        this.performanceData = null;\n        this.dataState = PerformanceDataState.Incomplete;\n        this.controls = [];\n        this.apis = [];\n        this.perfDataTimer = null;\n        this.expectedControls = [];\n        this.euplBreakDown = {};\n        this.serverMetrics = {};\n        this.isW3cTimingCollected = false;\n        this.isW3cResourceTimingCollected = false;\n        this.tempData = {};\n        this.markerIndex = 0;\n        this.performanceData = null;\n        this.loggingFunc = logFunc;\n        this.getPerformanceData();\n        this.setPerfDataTimer();\n    }\n    RUMOneLogger.isNullOrUndefined = function (item) {\n        return item === null || item === undefined;\n    };\n    /**\n     * RUMOneLogger.getRUMOneLogger: Use this method to get a singleton reference of RUMOneLogger\n     * with default parameters.\n     */\n    RUMOneLogger.getRUMOneLogger = function (logFunc) {\n        var loggingFunc = logFunc || (function (streamName, dictProperties) {\n            RUMOneDataUpload_event_1.RUMOneDataUpload.logData({ streamName: streamName, dictionary: dictProperties });\n        });\n        if (!RUMOneLogger.rumOneLogger) {\n            try {\n                RUMOneLogger.rumOneLogger = new RUMOneLogger(loggingFunc);\n            }\n            catch (e) {\n                // If RUMOneLogger fails, don't block UX\n                RUMOneLogger.rumOneLogger = null;\n            }\n        }\n        return RUMOneLogger.rumOneLogger;\n    };\n    RUMOneLogger.prototype.getPerformanceData = function () {\n        if (!this.performanceData) {\n            this.performanceData = new RUMOneSLAPI_1.default();\n            this.logMessageInConsole(\"RUMOne object initiated!\");\n        }\n        return this.performanceData;\n    };\n    RUMOneLogger.prototype.resetLogger = function () {\n        this.dataStartTime = (new Date()).getTime();\n        this.dataState = PerformanceDataState.Incomplete;\n        this.isW3cTimingCollected = false;\n        this.isW3cResourceTimingCollected = false;\n        this.expectedControls = [];\n        this.controls = [];\n        this.apis = [];\n        this.tempData = {};\n        this.performanceData = null;\n        this.getPerformanceData();\n        this.clearPerfDataTimer();\n        this.setPerfDataTimer();\n        this.euplBreakDown = {};\n        this.serverMetrics = {};\n        this.logMessageInConsole(\"Reset performance Logger Done\");\n        this.clearResourceTimings();\n        this.clearMarks();\n    };\n    RUMOneLogger.prototype.logPerformanceData = function (key, value) {\n        if (!key || !this.performanceData || !this.verifyPropertyMatchingSchema(key)) {\n            return;\n        }\n        this.getPerformanceData();\n        this.performanceData[key] = value;\n    };\n    RUMOneLogger.prototype.getPerformanceDataPropertyValue = function (key) {\n        if (!this.performanceData || !key || !this.verifyPropertyMatchingSchema(key)) {\n            return null;\n        }\n        return this.performanceData[key];\n    };\n    RUMOneLogger.prototype.verifyPropertyMatchingSchema = function (propertyName) {\n        var properties = this.getRUMOnePropertyNames(this.performanceData);\n        return properties.join().indexOf(propertyName) !== -1;\n    };\n    RUMOneLogger.prototype.addExpectedControl = function (control) {\n        if (this.expectedControls.indexOf(control) === -1) {\n            this.expectedControls.push(control);\n        }\n    };\n    RUMOneLogger.prototype.expectingControl = function (control) {\n        return this.expectedControls.indexOf(control) >= 0;\n    };\n    RUMOneLogger.prototype.writeServerCorrelationId = function (correlationId) {\n        if (!this.isCollected('ServerCorrelationId')) {\n            this.logPerformanceData('ServerCorrelationId', correlationId);\n        }\n    };\n    RUMOneLogger.prototype.writeServerUrl = function (url) {\n        if (!this.isCollected('ServerUrl')) {\n            var serverUrl = url || window.location.href;\n            this.logPerformanceData('ServerUrl', serverUrl);\n        }\n    };\n    RUMOneLogger.prototype.writeServerSideLatency = function (duration, iisLatency) {\n        if (!this.isCollected('ServerRequestDuration')) {\n            this.logPerformanceData('ServerRequestDuration', duration);\n            this.logPerformanceData('IISLatency', iisLatency);\n        }\n    };\n    RUMOneLogger.prototype.writeControlPerformanceData = function (controlData) {\n        if (controlData) {\n            var foundControl = this.controls.filter(function (control) {\n                return control.controlId === controlData.controlId;\n            });\n            if (foundControl.length === 0) {\n                this.controls.push(controlData);\n            }\n        }\n    };\n    RUMOneLogger.prototype.writeAPICallPerformanceData = function (apiData) {\n        if (apiData) {\n            this.apis.push(apiData);\n        }\n    };\n    RUMOneLogger.prototype.readAPICallPerformanceData = function () {\n        return this.apis;\n    };\n    RUMOneLogger.prototype.writeAppCache = function (appCache) {\n        if (!this.isCollected('AppCache')) {\n            this.logPerformanceData('AppCache', appCache);\n        }\n    };\n    RUMOneLogger.prototype.writePageTransitionType = function (pageTransitionType, overwrite) {\n        if ((!this.isCollected('PageTransitionType') || overwrite) && !RUMOneLogger.isNullOrUndefined(pageTransitionType) && (pageTransitionType === PageTransitionType_1.default.fullPageLoad || pageTransitionType === PageTransitionType_1.default.none)) {\n            this.logPerformanceData('PageTransitionType', pageTransitionType);\n        }\n    };\n    RUMOneLogger.prototype.writeScenarioId = function (scenarioId, overwrite) {\n        if (!this.isCollected('ScenarioId') || overwrite) {\n            this.logPerformanceData('ScenarioId', scenarioId);\n        }\n    };\n    RUMOneLogger.prototype.collectW3CPerfTimings = function () {\n        if (!this.isW3cTimingCollected) {\n            var w3cTimeStampNames = ['navigationStart', 'unloadEventStart', 'unloadEventEnd', 'fetchStart', 'redirectStart', 'redirectEnd', 'domainLookupStart', 'domainLookupEnd', 'connectStart', 'secureConnectionStart', 'connectEnd', 'requestStart', 'responseStart', 'responseEnd', 'domLoading', 'domComplete', 'loadEventStart', 'loadEventEnd'];\n            var perfTimingObject = this.getWindowPerfTimingObject();\n            if (perfTimingObject) {\n                for (var index = 0; index < w3cTimeStampNames.length; index++) {\n                    var w3cObject = perfTimingObject[w3cTimeStampNames[index]];\n                    if (w3cObject) {\n                        this.logPerformanceData(this.getW3cTimingName(w3cTimeStampNames[index]), Number(w3cObject));\n                    }\n                }\n                this.isW3cTimingCollected = true;\n            }\n        }\n    };\n    RUMOneLogger.prototype.collectW3cResourceTimings = function () {\n        if (!this.isW3cResourceTimingCollected && window.performance && window.performance.getEntriesByType) {\n            var allRequests = performance.getEntriesByType(\"resource\");\n            var iFrames = document.getElementsByTagName(\"iframe\");\n            for (var index = 0; index < iFrames.length; index++) {\n                var iFramePerformance = null;\n                try {\n                    iFramePerformance = iFrames[index].contentWindow.performance;\n                }\n                catch (e) {\n                }\n                if (iFramePerformance && iFramePerformance.getEntriesByType) {\n                    allRequests.concat(iFramePerformance.getEntriesByType(\"resource\"));\n                }\n            }\n            var fromSources = {};\n            fromSources[\"SharePoint\"] = function (element) { return /\\.sharepoint\\.com|\\.spoppe\\.com/i.test(element.name); }; //matching sharepoint.com or spoppe.com\n            fromSources[\"CDN\"] = function (element) { return /(cdn(ppe)?|static(ppe)?)\\.sharepointonline\\.com|\\.akamaihd\\.net/i.test(element.name); }; //matching cdn(ppe)sharepointonline.com or adamaihd.net\n            fromSources[\"ThirdParty\"] = function (element) { return !fromSources[\"SharePoint\"](element) && !fromSources[\"CDN\"](element); }; // all requests other than sharepoint requests or cdn requests\n            var types = {};\n            types[\"ASPX\"] = function (element) { return /\\.aspx/i.test(element.name); };\n            types[\"JS\"] = function (element) { return /script/i.test(element.initiatorType); };\n            types[\"CSS\"] = function (element) { return /link|css/i.test(element.initiatorType); };\n            types[\"IMG\"] = function (element) { return /img/i.test(element.initiatorType); };\n            var sources = Object.keys(fromSources);\n            for (var index = 0; index < sources.length; index++) {\n                var source = sources[index];\n                var requests = this.categorizeResourceRequests(allRequests, {\n                    from: fromSources[source],\n                    requestType: null //match any type to get total request count for this source\n                });\n                this.logPerformanceData(source + \"RequestCountTotal\", requests.length); //SharePoint|CDN|ThirdParty resource request count\n                var typeKeys = Object.keys(types);\n                for (var typeIndex = 0; typeIndex < typeKeys.length; typeIndex++) {\n                    var type = typeKeys[typeIndex];\n                    this.logPerformanceData(source + \"RequestCount\" + type, this.categorizeResourceRequests(requests, {\n                        from: null,\n                        requestType: types[type]\n                    }).length); //SharePoint|CDN|ThirdParty ASPX resource request count\n                }\n                if (requests.length > 0) {\n                    this.logPerformanceData(source + \"RequestDownloadTime\", Math.round(requests.reduce(function (sum, currentVal) {\n                        return sum + currentVal.duration;\n                    }, 0) / requests.length)); //SharePoint|CDN|ThirdParty resource request average duration\n                    // log the file names of all resource requests in a JSON string. The output after processing will looks like:\n                    // [{name: \"require-db6c47e2.js\", startTime: 500, duration: 100},{name: \"RenderListDataAsStream\", startTime: 200, duration: 10}]\n                    // The raw resource name before this processing is \"https://msft.spoppe.com/teams/SPGroups/_api/web/GetList(@listUrl)/RenderListDataAsStream?Paged=TRUE&p_FileLeafRef=test%2eurl&p_ID=213&PageFirstRow=121&View=6eab4254-2f2f-4086-91c0-549ae900cc93&@listUrl=%27%2Fteams%2FSPGroups%2FVNextDocLib%27\"\n                    var files = JSON.stringify(requests.map(function (timing) {\n                        return {\n                            name: timing.name.split(\"/\").map(function (urlToken) {\n                                return urlToken.split(\"?\")[0];\n                            }).filter(function (urlToken) {\n                                return urlToken && urlToken.length > 0;\n                            }).slice(-1)[0].replace(/\\(.*?\\)/g, '()'),\n                            startTime: Math.round(timing.startTime),\n                            duration: Math.round(timing.duration)\n                        };\n                    }));\n                    this.logPerformanceData(source + \"RequestNames\", files);\n                }\n            }\n            this.isW3cResourceTimingCollected = true;\n        }\n    };\n    RUMOneLogger.prototype.saveTempData = function (key, value) {\n        this.tempData[key] = value;\n    };\n    RUMOneLogger.prototype.readTempData = function (key) {\n        return this.tempData[key];\n    };\n    RUMOneLogger.prototype.writeRenderTime = function (renderTime, overwrite) {\n        if (!this.isCollected('RenderTime') || overwrite) {\n            this.logPerformanceData('RenderTime', renderTime);\n        }\n    };\n    RUMOneLogger.prototype.writePreRenderTime = function (preRender) {\n        if (!this.isCollected('PreRender')) {\n            this.logPerformanceData('PreRender', preRender);\n        }\n    };\n    RUMOneLogger.prototype.writePostRenderTime = function (postRender) {\n        if (!this.isCollected('PostRender')) {\n            this.logPerformanceData('PostRender', postRender);\n        }\n    };\n    RUMOneLogger.prototype.writeDataFetchTime = function (dataFetch, overwrite) {\n        if (!this.isCollected('DataFetch') || overwrite) {\n            this.logPerformanceData('DataFetch', dataFetch);\n        }\n    };\n    RUMOneLogger.prototype.isRunning = function () {\n        return !(this.dataState === PerformanceDataState.Uploaded || this.dataState === PerformanceDataState.TimeOut);\n    };\n    RUMOneLogger.prototype.writeEUPLBreakdown = function (euplBreakdown, overwrite) {\n        if (euplBreakdown) {\n            try {\n                var breakdown = JSON.parse(euplBreakdown);\n                for (var key in breakdown) {\n                    if (!breakdown.hasOwnProperty(key)) {\n                        continue;\n                    }\n                    this.addEUPLBreakdown(key, breakdown[key], overwrite);\n                }\n            }\n            catch (e) {\n                // in case the euplBreakdown is invalid JSON\n                this.logMessageInConsole(\"Failed to write EUPL breakdown data:\" + e.toString());\n            }\n        }\n    };\n    RUMOneLogger.prototype.addEUPLBreakdown = function (name, value, overwrite) {\n        if (name && !RUMOneLogger.isNullOrUndefined(value)) {\n            if (RUMOneLogger.isNullOrUndefined(this.euplBreakDown[name]) || overwrite) {\n                this.euplBreakDown[name] = value;\n            }\n        }\n    };\n    RUMOneLogger.prototype.addServerMetrics = function (metric, overwrite) {\n        if (metric) {\n            for (var key in metric) {\n                if (key && !RUMOneLogger.isNullOrUndefined(metric[key]) &&\n                    (RUMOneLogger.isNullOrUndefined(this.serverMetrics[key]) || overwrite)) {\n                    this.serverMetrics[key] = metric[key];\n                }\n            }\n        }\n    };\n    RUMOneLogger.prototype.readControlPerformanceData = function () {\n        return this.controls;\n    };\n    RUMOneLogger.prototype.mark = function (name) {\n        if (window.performance && window.performance.mark) {\n            window.performance.mark(MARKER_PREFIX + name);\n        }\n    };\n    RUMOneLogger.prototype.clearResourceTimings = function () {\n        var perfObject = window.self[\"performance\"];\n        if (perfObject && perfObject.clearResourceTimings) {\n            perfObject.clearResourceTimings();\n        }\n    };\n    RUMOneLogger.prototype.collectMarks = function () {\n        var _this = this;\n        if (window.performance && window.performance.getEntriesByType) {\n            var marks_1 = {};\n            window.performance.getEntriesByType(\"mark\").filter(function (mark) {\n                return mark.name.lastIndexOf(MARKER_PREFIX, 0) === 0;\n            }).forEach(function (mark) {\n                if (_this.markerIndex < RUMOneLogger.MAX_MARKS) {\n                    var markName = mark.name.substr(MARKER_PREFIX.length) + (\".mark\" + _this.markerIndex++);\n                    marks_1[markName] = Math.round(mark.startTime); // covert to rumone collected marks to object and merge to EUPL Breakdown\n                }\n            });\n            this.writeEUPLBreakdown(JSON.stringify(marks_1));\n        }\n    };\n    RUMOneLogger.prototype.clearMarks = function () {\n        if (window.performance && window.performance.getEntriesByType && window.performance.clearMarks) {\n            window.performance.getEntriesByType(\"mark\").filter(function (mark) {\n                return mark.name.lastIndexOf(MARKER_PREFIX, 0) === 0;\n            }).forEach(function (mark) {\n                window.performance.clearMarks(mark.name);\n            });\n        }\n        this.markerIndex = 0;\n    };\n    RUMOneLogger.prototype.logMessageInConsole = function (message) {\n        try {\n            if ('sessionStorage' in window && window.sessionStorage) {\n                var debugStr = window.sessionStorage[\"enableRUMOneDebugging\"];\n                var debug = debugStr && debugStr.toLowerCase() === \"true\";\n            }\n        }\n        catch (e) {\n        }\n        if (debug && typeof console !== \"undefined\" && console) {\n            console.log(message);\n        }\n    };\n    RUMOneLogger.prototype.logObjectForDebugging = function (propertyName, dictProperties) {\n        var logMessageText = propertyName + \" : \" + JSON.stringify(dictProperties);\n        this.logMessageInConsole(logMessageText);\n    };\n    RUMOneLogger.prototype.isCollected = function (name) {\n        return !RUMOneLogger.isNullOrUndefined(this.getPerformanceDataPropertyValue(name));\n    };\n    RUMOneLogger.prototype.getRUMOnePropertyNames = function (obj) {\n        var names = [];\n        var index = 0;\n        if (!RUMOneLogger.isNullOrUndefined(obj)) {\n            for (var property in obj) {\n                if (obj.hasOwnProperty(property)) {\n                    names[index++] = property;\n                }\n            }\n        }\n        return names;\n    };\n    RUMOneLogger.prototype.setPerfDataTimer = function () {\n        this.perfDataTimer = this.async.setTimeout(this.loopForDataCompleteness, RUMOneLogger.CHECK_INTERVAL);\n    };\n    RUMOneLogger.prototype.clearPerfDataTimer = function () {\n        if (!RUMOneLogger.isNullOrUndefined(this.perfDataTimer)) {\n            this.async.clearTimeout(this.perfDataTimer);\n            this.perfDataTimer = null;\n        }\n    };\n    RUMOneLogger.prototype.categorizeResourceRequests = function (requests, categorizer) {\n        var ret = [];\n        for (var index = 0; index < requests.length; index++) {\n            var request = requests[index];\n            if ((!categorizer.from || categorizer.from(request)) && (!categorizer.requestType || categorizer.requestType(request))) {\n                ret.push(request);\n            }\n        }\n        return ret;\n    };\n    RUMOneLogger.prototype.collectSupplementaryData = function () {\n        this.setAPIDataToRUMOne();\n        this.collectMarks();\n        this.writeServerUrl(null);\n        this.setReferrer();\n        this.logPerformanceData('ServerMetrics', JSON.stringify(this.serverMetrics));\n        this.logPerformanceData('EUPLBreakdown', JSON.stringify(this.euplBreakDown));\n    };\n    RUMOneLogger.prototype.loopForDataCompleteness = function () {\n        this.clearPerfDataTimer();\n        this.logObjectForDebugging(\"RUMONE: \", this.performanceData);\n        this.logObjectForDebugging(\"RUMOne DataState: \", String(this.getReadableDataState(this.dataState)));\n        this.logObjectForDebugging(\"Control Performance Data: \", this.controls);\n        this.logObjectForDebugging(\"API Performance Data: \", this.apis);\n        this.logObjectForDebugging(\"Temp Data: \", this.tempData);\n        this.logObjectForDebugging(\"EUPLBreakdown: \", this.euplBreakDown);\n        this.logObjectForDebugging(\"ServerMetrics: \", this.serverMetrics);\n        this.logMessageInConsole(\"====================================================================\");\n        if (!this.isRunning()) {\n            return;\n        }\n        var collected = true;\n        var missedKeyMetrics = [];\n        for (var i = 0; i < RUMOneLogger.KeyMetrics.length; i++) {\n            var keyMetricValue = this.getPerformanceDataPropertyValue(RUMOneLogger.KeyMetrics[i]);\n            if (RUMOneLogger.isNullOrUndefined(keyMetricValue)) {\n                collected = false;\n                missedKeyMetrics.push(RUMOneLogger.KeyMetrics[i]);\n            }\n        }\n        this.dataState = collected ? PerformanceDataState.ReadyToUpload : PerformanceDataState.Incomplete;\n        if (this.dataState === PerformanceDataState.Incomplete) {\n            if (Number((new Date()).getTime()) - Number(this.dataStartTime) > RUMOneLogger.ERROR_TIMEOUT) {\n                this.dataState = PerformanceDataState.TimeOut;\n                this.collectSupplementaryData();\n                this.uploadPerfData();\n                this.reportErrors('TimeOut', 'Did not get key perf metrics in ' + String(RUMOneLogger.ERROR_TIMEOUT) + ' milliseconds. Missed metrics: ' + missedKeyMetrics.join() + '.');\n            }\n            else {\n                this.processControlPerfData();\n                if (this.readyToComputeEUPL()) {\n                    this.setEUPL();\n                }\n            }\n        }\n        else {\n            this.collectSupplementaryData();\n            try {\n                this.uploadPerfData();\n            }\n            catch (e) {\n                (function (errorText) {\n                    if (typeof console !== \"undefined\" && Boolean(console)) {\n                        console.error(errorText);\n                    }\n                })(\"PerformanceLogger error writing RUMOne data: \" + String(e));\n            }\n            this.dataState = PerformanceDataState.Uploaded;\n        }\n        this.setPerfDataTimer();\n    };\n    RUMOneLogger.prototype.getReadableDataState = function (_dataState) {\n        for (var key in PerformanceDataState) {\n            if (_dataState === Number(PerformanceDataState[key])) {\n                return key;\n            }\n        }\n        return 'NaN';\n    };\n    RUMOneLogger.prototype.writeControlDataToRUMOne = function (controlData) {\n        var _this = this;\n        if (controlData) {\n            var indexes = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].filter(function (index) {\n                return !_this.isCollected(\"Control\" + index + \"Id\");\n            });\n            var index = indexes.length > 0 ? indexes[0] : -1;\n            if (index > 0) {\n                this.logPerformanceData(\"Control\" + index + \"Id\", controlData.controlId);\n                this.logPerformanceData(\"Control\" + index + \"RenderTime\", controlData.renderTime);\n            }\n        }\n    };\n    RUMOneLogger.prototype.processControlPerfData = function () {\n        for (var index = 0; index < this.controls.length; index++) {\n            var control = this.controls[index];\n            var that = this;\n            if (!Boolean(control.renderTime) && control.renderTimeRequiredDataChecker(that, control)) {\n                control.renderTime = control.renderTimeCalculator(that, control);\n                this.writeControlDataToRUMOne(control);\n            }\n        }\n    };\n    RUMOneLogger.prototype.readyToComputeEUPL = function () {\n        var readyControls = 0;\n        for (var index = 0; index < this.expectedControls.length; index++) {\n            var keyControl = this.lookUpControls(this.expectedControls[index], this.controls);\n            if (keyControl && Boolean(keyControl.renderTime)) {\n                readyControls++;\n            }\n        }\n        return this.expectedControls.length > 0 && this.expectedControls.length === readyControls;\n    };\n    RUMOneLogger.prototype.lookUpControls = function (_controlId, _controls) {\n        if (_controls) {\n            for (var index = 0; index < _controls.length; index++) {\n                if (_controlId === _controls[index].controlId) {\n                    return _controls[index];\n                }\n            }\n        }\n        return null;\n    };\n    RUMOneLogger.prototype.setEUPL = function () {\n        if (!this.isCollected('EUPL')) {\n            var eupl = 0;\n            for (var index = 0; index < this.controls.length; index++) {\n                var controlData = this.controls[index];\n                if (Boolean(controlData.renderTime) && eupl < controlData.renderTime) {\n                    eupl = controlData.renderTime;\n                }\n            }\n            this.logPerformanceData('EUPL', eupl);\n        }\n    };\n    RUMOneLogger.prototype.setAPIDataToRUMOne = function () {\n        var calls = 0;\n        var durationSum = 0;\n        for (var index = 0; index < this.apis.length; index++) {\n            var apiData = this.apis[index];\n            if (apiData) {\n                calls++;\n                durationSum += apiData.duration;\n                // only take the function part of the API url to avoid cosmos data scrubber\n                // url before processing: /teams/SPGroups/_api/web/GetList(@listUrl)/RenderListDataAsStream?Paged=TRUE&p_FileLeafRef=test%2eurl&p_ID=213&PageFirstRow=121&View=6eab4254-2f2f-4086-91c0-549ae900cc93&@listUrl=%27%2Fteams%2FSPGroups%2FVNextDocLib%27\"\n                // url after processing: RenderListDataAsStream\n                apiData.url = apiData.url.split(\"/\").map(function (s) { return s.split(\"?\")[0]; }).slice(-1)[0].replace(/\\(.*?\\)/g, '()');\n            }\n        }\n        this.logPerformanceData('APICallCount', calls);\n        this.logPerformanceData('APICallDurationSum', durationSum);\n        this.logPerformanceData('APICalls', JSON.stringify(this.apis));\n    };\n    RUMOneLogger.prototype.setReferrer = function () {\n        if (!this.isCollected('Referrer')) {\n            this.logPerformanceData('Referrer', document.referrer);\n        }\n    };\n    RUMOneLogger.prototype.getW3cTimingName = function (timingName) {\n        if (timingName !== 'secureConnectionStart') {\n            return 'W3c' + timingName.charAt(0).toUpperCase() + timingName.slice(1);\n        }\n        else {\n            return 'W3csecureConnectStart'; // to workaround a RUMOne schema issue W3csecureConnectStart should be W3csecureConnectionStart\n        }\n    };\n    RUMOneLogger.prototype.getWindowPerfTimingObject = function () {\n        var perfObject = window.self[\"performance\"];\n        if (!RUMOneLogger.isNullOrUndefined(perfObject) && !RUMOneLogger.isNullOrUndefined(perfObject.timing)) {\n            return perfObject.timing;\n        }\n        return null;\n    };\n    RUMOneLogger.prototype.uploadPerfData = function () {\n        if (this.performanceData && this.loggingFunc &&\n            (this.dataState === PerformanceDataState.ReadyToUpload ||\n                this.dataState === PerformanceDataState.TimeOut)) {\n            this.loggingFunc(\"RUMOne\", this.getPerformanceData());\n        }\n    };\n    RUMOneLogger.prototype.reportErrors = function (reason, message) {\n        var errorObj = new RUMOneErrorsSLAPI_1.default();\n        errorObj.Reason = reason;\n        errorObj.Message = message;\n        if (this.loggingFunc) {\n            this.loggingFunc(\"RUMOneErrors\", errorObj);\n        }\n    };\n    RUMOneLogger.rumOneLogger = null;\n    RUMOneLogger.CHECK_INTERVAL = 100; // in milliseconds\n    RUMOneLogger.ERROR_TIMEOUT = 30000; // in milliseconds\n    RUMOneLogger.MAX_MARKS = 50; // suppport maximum 50 perf markers\n    RUMOneLogger.KeyMetrics = ['EUPL', 'ScenarioId'];\n    return RUMOneLogger;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RUMOneLogger;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneLogger.js\n ** module id = 50\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n//Intentionally Override the normal camel casing style to title casing style because the schema has to match exactly the server side schema which is Title casing.\n//Please do not change back to camel casing.\nvar RUMOneSLAPI = (function () {\n    function RUMOneSLAPI() {\n        this.ServerCorrelationId = null;\n        this.ScenarioId = null;\n        this.EUPL = undefined;\n        this.ServerUrl = null;\n        this.Browser = null;\n        this.ClientIP = null;\n        this.UserAgent = null;\n        this.Flights = null;\n        this.PageTransitionType = undefined;\n        this.AppCache = undefined;\n        this.FolderNav = undefined;\n        this.InitiationTimeOffset = undefined;\n        this.ServerRequestDuration = undefined;\n        this.IISLatency = undefined;\n        this.TTFB = undefined;\n        this.TTLB = undefined;\n        this.ParseTime = undefined;\n        this.RenderTime = undefined;\n        this.Control1Id = null;\n        this.Control1RenderTime = undefined;\n        this.Control2Id = null;\n        this.Control2RenderTime = undefined;\n        this.Control3Id = null;\n        this.Control3RenderTime = undefined;\n        this.Control4Id = null;\n        this.Control4RenderTime = undefined;\n        this.SharePointRequestCountTotal = undefined;\n        this.SharePointRequestCountASPX = undefined;\n        this.SharePointRequestCountJS = undefined;\n        this.SharePointRequestCountCSS = undefined;\n        this.SharePointRequestCountIMG = undefined;\n        this.SharePointRequestCountNoneCached = undefined;\n        this.SharePointRequestBytes = undefined;\n        this.SharePointRequestDownloadTime = undefined;\n        this.CDNRequestCountTotal = undefined;\n        this.CDNRequestCountASPX = undefined;\n        this.CDNRequestCountJS = undefined;\n        this.CDNRequestCountCSS = undefined;\n        this.CDNRequestCountIMG = undefined;\n        this.CDNRequestCountNoneCached = undefined;\n        this.CDNRequestBytes = undefined;\n        this.CDNRequestDownloadTime = undefined;\n        this.ThirdPartyRequestCountTotal = undefined;\n        this.ThirdPartyRequestCountASPX = undefined;\n        this.ThirdPartyRequestCountJS = undefined;\n        this.ThirdPartyRequestCountCSS = undefined;\n        this.ThirdPartyRequestCountIMG = undefined;\n        this.ThirdPartyRequestCountNoneCached = undefined;\n        this.ThirdPartyRequestBytes = undefined;\n        this.ThirdPartyRequestDownloadTime = undefined;\n        this.FromEdge = undefined;\n        this.APICallCount = undefined;\n        this.APICallDurationSum = undefined;\n        this.PreRender = undefined;\n        this.DataFetch = undefined;\n        this.PostRender = undefined;\n        this.W3cNavigationStart = undefined;\n        this.W3cUnloadEventStart = undefined;\n        this.W3cUnloadEventEnd = undefined;\n        this.W3cFetchStart = undefined;\n        this.W3cRedirectStart = undefined;\n        this.W3cRedirectEnd = undefined;\n        this.W3cDomainLookupStart = undefined;\n        this.W3cDomainLookupEnd = undefined;\n        this.W3cConnectStart = undefined;\n        this.W3cSecureConnectStart = undefined;\n        this.W3cConnectEnd = undefined;\n        this.W3cRequestStart = undefined;\n        this.W3cResponseStart = undefined;\n        this.W3cResponseEnd = undefined;\n        this.W3cDomLoading = undefined;\n        this.W3cDomLoadEnd = undefined;\n        this.W3cLoadEventStart = undefined;\n        this.W3cLoadEventEnd = undefined;\n        this.MDSDownloadStart = undefined;\n        this.MDSParseDeltaStart = undefined;\n        this.MDSParseDeltaEnd = undefined;\n        this.MDSGCStart = undefined;\n        this.MDSGCEnd = undefined;\n        this.MDSCSSStart = undefined;\n        this.MDSCSSEnd = undefined;\n        this.MDSInnerHTMLStart = undefined;\n        this.MDSScriptLoaderStart = undefined;\n        this.MDSScriptLoaderEnd = undefined;\n        this.MDSAnimationStart = undefined;\n        this.MDSAnimationEnd = undefined;\n        this.MDSParallelDownloadStart = undefined;\n        this.MDSParallelDownloadEnd = undefined;\n        this.APICalls = undefined;\n        this.SharePointRequestNames = undefined;\n        this.CDNRequestNames = undefined;\n        this.ThirdPartyRequestNames = undefined;\n        this.EUPLBreakdown = undefined;\n        this.Control5Id = null;\n        this.Control5RenderTime = undefined;\n        this.Control6Id = null;\n        this.Control6RenderTime = undefined;\n        this.Control7Id = null;\n        this.Control7RenderTime = undefined;\n        this.Control8Id = null;\n        this.Control8RenderTime = undefined;\n        this.Control9Id = null;\n        this.Control9RenderTime = undefined;\n        this.Control10Id = null;\n        this.Control10RenderTime = undefined;\n        this.ServerMetrics = null;\n        this.Referrer = null;\n    }\n    return RUMOneSLAPI;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RUMOneSLAPI;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneSLAPI.js\n ** module id = 51\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n//Intentionally Override the normal camel casing style to title casing style because the schema has to match exactly the server side schema which is Title casing.\n//Please do not change back to camel casing.\n\"use strict\";\nvar RUMOneErrorsSLAPI = (function () {\n    function RUMOneErrorsSLAPI() {\n        this.Reason = null;\n        this.Message = null;\n    }\n    return RUMOneErrorsSLAPI;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RUMOneErrorsSLAPI;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/logging/rumone/RUMOneErrorsSLAPI.js\n ** module id = 52\n ** module chunks = 0\n **/","\"use strict\";\n// encode <>&'\"\nvar ENCODE_HTML_TEXT_REGEX = /[<>&'\"\\\\]/g;\nvar CODES = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '&': '&amp;',\n    '\"': '&quot;',\n    '\\'': '&#39;',\n    '\\\\': '&#92;'\n};\nvar HtmlEncoding = (function () {\n    function HtmlEncoding() {\n    }\n    /**\n     * Encodes a string for use in HTML text. Not recommended for attribute values\n     * or anything that might be used in a URL.\n     */\n    HtmlEncoding.encodeText = function (inputString) {\n        if (!inputString) {\n            return \"\";\n        }\n        return inputString.replace(ENCODE_HTML_TEXT_REGEX, function (_match) { return CODES[_match]; });\n    };\n    return HtmlEncoding;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = HtmlEncoding;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/encoding/HtmlEncoding.js\n ** module id = 53\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n/**\n * This datasource makes a call to the Acronyms and Colors service and returns an IAcronymColor object.\n */\nvar SiteHeaderLogoAcronym = (function () {\n    /**\n     * @constructor\n     */\n    function SiteHeaderLogoAcronym(hostSettings) {\n        this._hostSettings = hostSettings;\n    }\n    /**\n     * Given a site name, return an URL to a REST endpoint where the site logo acronym and color information can be retrieved from.\n     * The REST endpoint is through the GetAcronymsAndColors API.\n     * Note: API takes in additional optional arguments like lcid, which as of this writing this method doesn't support.\n     *       Please extend as appropriate.\n     *\n     * @param {string} siteName Name of the site.\n     * @returns { string} the REST endpoint relative URL.\n     */\n    SiteHeaderLogoAcronym.prototype.getAcronymRESTUrl = function (siteName) {\n        return this._hostSettings.webServerRelativeUrl + (\"/_api/sphome/GetAcronymsAndColors?labels=[{Text:\" + encodeURIComponent('\"' + siteName + '\"') + \"}]\");\n    };\n    SiteHeaderLogoAcronym.prototype.getAcronymColor = function (responseText) {\n        //parse the responseText\n        var rtnObj = { acronym: undefined, color: undefined };\n        try {\n            var response = JSON.parse(responseText);\n            var responseResult = response.d.GetAcronymsAndColors.results[0];\n            rtnObj.acronym = responseResult.Acronym;\n            rtnObj.color = responseResult.Color;\n        }\n        catch (e) {\n            // try xml parsing\n            var parser = this._parseFn();\n            var elements = void 0;\n            var xmlDoc = parser(responseText);\n            if (elements = xmlDoc.getElementsByTagName(\"element\")) {\n                var element = elements[0];\n                for (var i = 0; i < element.childNodes.length; i++) {\n                    switch (element.childNodes[i].nodeName) {\n                        case 'Acronym':\n                            rtnObj.acronym = element.childNodes[i].nodeValue;\n                            break;\n                        case 'Color':\n                            rtnObj.color = element.childNodes[i].nodeValue;\n                            break;\n                    }\n                }\n            }\n        }\n        return rtnObj;\n    };\n    /**\n     * Returns an XML parser.\n     */\n    SiteHeaderLogoAcronym.prototype._parseFn = function () {\n        var parseXml;\n        if (DOMParser) {\n            parseXml = function (xmlStr) {\n                return (new DOMParser()).parseFromString(xmlStr, \"text/xml\");\n            };\n        }\n        else if (ActiveXObject &&\n            new ActiveXObject(\"Microsoft.XMLDOM\")) {\n            parseXml = function (xmlStr) {\n                var xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = \"false\";\n                xmlDoc.loadXML(xmlStr);\n                return xmlDoc;\n            };\n        }\n        else {\n            throw new Error(\"No XML parser found\");\n        }\n        return parseXml;\n    };\n    return SiteHeaderLogoAcronym;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = SiteHeaderLogoAcronym;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/dataSources/acronym/SiteHeaderLogoAcronym.js\n ** module id = 54\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar StringHelper_1 = require('../../string/StringHelper');\nvar MembersList_1 = require('./MembersList');\n/**\n * This datasource makes server call to get group related information.\n */\nvar GroupDataSource = (function () {\n    /**\n     * @constructor\n     */\n    function GroupDataSource(hostSettings) {\n        this._hostSettings = hostSettings;\n    }\n    /**\n     * Get REST Url to get group properties\n     * @param {string} Id (Guid) of the group\n     * @returns the REST url that can be used to get group basic properties\n     */\n    GroupDataSource.prototype.getGroupBasicPropertiesRESTUrl = function (groupId, withMembership) {\n        return this._getRESTUrl(StringHelper_1.format(withMembership ? GroupDataSource.groupBasicPropertiesWithMembershipUrlTemplate : GroupDataSource.groupBasicPropertiesUrlTemplate, groupId), 'SP.Directory.DirectorySession');\n    };\n    GroupDataSource.prototype.getGroupBasicProperties = function (responseText) {\n        var group = {};\n        try {\n            var response = JSON.parse(responseText);\n            if (response.d) {\n                group = this._copyGroup(response.d);\n                this._calculateMissingGroupProperties(group, group.id);\n            }\n        }\n        catch (e) {\n            group = {};\n        }\n        return group;\n    };\n    GroupDataSource.prototype._getRESTUrl = function (op, ns) {\n        return this._hostSettings.webServerRelativeUrl + '/_api/' + ns + '/' + op;\n    };\n    /**\n     * Given response from the server convert it into a group\n     */\n    GroupDataSource.prototype._copyGroup = function (src) {\n        var groupInfo = {};\n        if (src.description) {\n            groupInfo.description = src.description;\n        }\n        if (src.alias) {\n            groupInfo.alias = src.alias;\n        }\n        if (src.displayName) {\n            groupInfo.name = src.displayName;\n        }\n        if (src.principalName) {\n            groupInfo.principalName = src.principalName;\n        }\n        if (src.creationTime) {\n            groupInfo.creationTime = src.creationTime;\n        }\n        if (src.pictureUrl) {\n            groupInfo.pictureUrl = src.pictureUrl;\n        }\n        if (src.inboxUrl) {\n            groupInfo.inboxUrl = src.inboxUrl;\n        }\n        if (src.calendarUrl) {\n            groupInfo.calendarUrl = src.calendarUrl;\n        }\n        if (src.documentsUrl) {\n            groupInfo.filesUrl = src.documentsUrl;\n        }\n        if (src.siteUrl) {\n            groupInfo.sharePointUrl = src.siteUrl;\n        }\n        if (src.editGroupUrl) {\n            groupInfo.editUrl = src.editGroupUrl;\n        }\n        if (src.peopleUrl) {\n            groupInfo.membersUrl = src.peopleUrl;\n        }\n        if (src.notebookUrl) {\n            groupInfo.notebookUrl = src.notebookUrl;\n        }\n        if (src.isPublic) {\n            groupInfo.isPublic = src.isPublic;\n        }\n        if (src.mail) {\n            groupInfo.mail = src.mail;\n        }\n        // TODO: remove this once all branches get lowerCamelCase changelist\n        if (src.Description) {\n            groupInfo.description = src.Description;\n        }\n        if (src.Alias) {\n            groupInfo.alias = src.Alias;\n        }\n        if (src.DisplayName) {\n            groupInfo.name = src.DisplayName;\n        }\n        if (src.PrincipalName) {\n            groupInfo.principalName = src.PrincipalName;\n        }\n        if (src.CreationTime) {\n            groupInfo.creationTime = src.CreationTime;\n        }\n        if (src.PictureUrl) {\n            groupInfo.pictureUrl = src.PictureUrl;\n        }\n        if (src.InboxUrl) {\n            groupInfo.inboxUrl = src.InboxUrl;\n        }\n        if (src.CalendarUrl) {\n            groupInfo.calendarUrl = src.CalendarUrl;\n        }\n        if (src.DocumentsUrl) {\n            groupInfo.filesUrl = src.DocumentsUrl;\n        }\n        if (src.SiteUrl) {\n            groupInfo.sharePointUrl = src.SiteUrl;\n        }\n        if (src.EditGroupUrl) {\n            groupInfo.editUrl = src.EditGroupUrl;\n        }\n        if (src.PeopleUrl) {\n            groupInfo.membersUrl = src.PeopleUrl;\n        }\n        if (src.NotebookUrl) {\n            groupInfo.notebookUrl = src.NotebookUrl;\n        }\n        if (src.IsPublic) {\n            groupInfo.isPublic = src.IsPublic;\n        }\n        if (src.Mail) {\n            groupInfo.mail = src.Mail;\n        }\n        if (src.members || src.owners) {\n            this._copyMembership(src);\n        }\n        return groupInfo;\n    };\n    /**\n     *  Remove once federated directory makes appropriate fixes\n     */\n    GroupDataSource.prototype._calculateMissingGroupProperties = function (group, groupId) {\n        if (!group.creationTime) {\n            group.creationTime = Date.now();\n        }\n        if (!group.pictureUrl) {\n            group.pictureUrl = group.pictureUrl.replace(\"EWS/Exchange.asmx/s/GetUserPhoto\", \"OWA/service.svc/s/GetPersonaPhoto\");\n        }\n        if (!group.profileUrl) {\n            group.profileUrl = this._getProfileUrl(groupId);\n        }\n        if (!group.notebookUrl && groupId) {\n            group.notebookUrl = this._getGroupStatusNotebookUrl(groupId);\n        }\n    };\n    GroupDataSource.prototype._getProfileUrl = function (id) {\n        return this._hostSettings.siteAbsoluteUrl + StringHelper_1.format(GroupDataSource.groupStatusPageTemplate, id, 'profile');\n    };\n    GroupDataSource.prototype._getGroupStatusNotebookUrl = function (id) {\n        return this._hostSettings.siteAbsoluteUrl + StringHelper_1.format(GroupDataSource.groupStatusPageTemplate, id, 'notebook');\n    };\n    GroupDataSource.prototype._copyMembership = function (src) {\n        var membershipInfo = {};\n        if (src.members && src.members.results) {\n            var membersList = this._copyMembers(src.members.results);\n            membershipInfo.membersList = membersList;\n        }\n        if (src.owners && src.owners.results) {\n            var ownersList = this._copyMembers(src.owners.results);\n            membershipInfo.ownersList = ownersList;\n        }\n        return membershipInfo;\n    };\n    /**\n     * Copy from member list json to memberList object\n     */\n    GroupDataSource.prototype._copyMembers = function (src) {\n        var membersList = new MembersList_1.default();\n        var members = new Array();\n        for (var i = 0; i < src.length; i++) {\n            var member = this._copyMember(src[i]);\n            members.push(member);\n        }\n        membersList.members = members;\n        membersList.totalCount = members.length;\n        return membersList;\n    };\n    /**\n     * Copy from json to IPerson object\n     */\n    GroupDataSource.prototype._copyMember = function (src) {\n        var user = {};\n        if (src.alias) {\n            user.sip = src.alias;\n        }\n        if (src.id) {\n            user.userId = src.id;\n        }\n        if (src.principalName) {\n            user.email = src.principalName;\n        }\n        if (src.displayName) {\n            user.name = src.displayName;\n        }\n        if (src.title) {\n            user.job = src.title;\n        }\n        if (src.pictureUrl) {\n            user.image = src.pictureUrl;\n        }\n        if (src.profilePage) {\n            user.profilePage = src.profilePage;\n        }\n        return user;\n    };\n    /**\n     * Static members\n     */\n    // Url templates\n    GroupDataSource.groupBasicPropertiesUrlTemplate = 'Group(\\'{0}\\')?$select=PrincipalName,DisplayName,Alias,Description,InboxUrl,CalendarUrl,DocumentsUrl,SiteUrl,EditGroupUrl,PictureUrl,PeopleUrl,NotebookUrl,Mail,IsPublic,CreationTime';\n    GroupDataSource.groupBasicPropertiesWithMembershipUrlTemplate = 'Group(\\'{0}\\')?$expand=Members,Owners&$select=PrincipalName,DisplayName,Alias,Description,InboxUrl,CalendarUrl,DocumentsUrl,SiteUrl,EditGroupUrl,PictureUrl,PeopleUrl,NotebookUrl,Mail,IsPublic,CreationTime,Members/PrincipalName,Members/Id,Members/DisplayName,Members/PictureUrl,Owners/PrincipalName,Owners/Id,Owners/DisplayName,Owners/PictureUrl';\n    GroupDataSource.groupStatusPageTemplate = '_layouts/15/groupstatus?id={0}&target={1}';\n    return GroupDataSource;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = GroupDataSource;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/dataSources/group/GroupDataSource.js\n ** module id = 55\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n;\nvar MembersList = (function () {\n    function MembersList() {\n        this.totalCount = 0;\n        this.members = new Array();\n    }\n    /**\n     * Add given user to the members list of the group\n     */\n    MembersList.prototype.addUserToList = function (user) {\n        this.members.unshift(user);\n        this.totalCount++;\n    };\n    /**\n     * Remove user from members list of a group\n     */\n    MembersList.prototype.removeUserFromList = function (user) {\n        var indexToRemove = -1; // not found by default\n        for (var i = 0; i < this.members.length; i++) {\n            if (this.members[i].userId === user.userId) {\n                indexToRemove = i; // find the index\n            }\n        }\n        // If user exists in members list then remove it\n        if (indexToRemove >= 0) {\n            this.members.splice(indexToRemove, 1);\n            this.totalCount--;\n        }\n    };\n    return MembersList;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = MembersList;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/dataSources/group/MembersList.js\n ** module id = 56\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\n/**\n * Use PlatformDetection to evaluate which user experience makes sense for the user's\n * platform. NOTE: This class is NOT COMPLETE! Meaning not all values are parsed out of\n * the user agent. If something is missing that you need, add it and add unit tests.\n * WARNING: Avoid using browser checks when you can use detection techniques for caps checking.\n */\nvar PlatformDetection = (function () {\n    function PlatformDetection(agent) {\n        // OS checks\n        this.isWindows = false;\n        this.isWinPhone = false;\n        this.isMac = false;\n        this.isIOS = false;\n        this.isAndroid = false;\n        this.isWindows81 = false;\n        // Check to see if we are definitely on a mobile device.\n        this.isMobile = false;\n        // Browser boolean checks\n        this.isChrome = false;\n        this.isIE = false;\n        this.isIE9 = false;\n        this.isEdge = false;\n        this.isFirefox = false;\n        this.isSafari = false;\n        // Device information\n        this.isIPad = false;\n        this.browserMinor = '0';\n        this.browserMajor = 0;\n        this.areCSS3TransitionsSupported = true;\n        this.isHtml5FileUploadSupported = false;\n        this.isFolderUploadSupported = false;\n        this.isRetinaSupported = false;\n        this.isUnlimitedStyleSheetsSupported = false;\n        this.areTouchEventsSupported = false;\n        this.isWebDavSupported = false;\n        agent = agent || (window && window.navigator && navigator.userAgent) || '';\n        this.userAgent = agent;\n        agent = agent.toLowerCase();\n        // We want to figure out which ONE browser the user is most likely on.\n        // The order of the checks is important so we're not deceived by (for example)\n        // Chrome saying that it's Safari.\n        // (Each regular expression captures the version number so we can parse it later.)\n        var match;\n        if (match = /msie (\\d+)([\\d.]*)/.exec(agent)) {\n            // IE <= 10 has something like \"MSIE 9\" in the user agent.\n            // This is also what newer versions do in compatibility mode.\n            this.isIE = true;\n            if (/msie 9/.exec(agent)) {\n                this.isIE9 = true;\n            }\n        }\n        else if (match = /trident.*rv:(\\d+)([\\d.]*)/.exec(agent)) {\n            // This is IE 11. Sample user agent contains:\n            // Trident/7.0; other stuff... rv:11.0\n            this.isIE = true;\n        }\n        else if (match = /edge\\/(\\d+)([\\d.]*)/.exec(agent)) {\n            // This is Edge (it pretends to be Chrome and Safari).\n            this.isEdge = true;\n        }\n        else if (match = /firefox\\/(\\d+)([\\d.]*)/.exec(agent)) {\n            this.isFirefox = true;\n        }\n        else if (match = /(?:chrome|crios)\\/(\\d+)([\\d.]*)/.exec(agent)) {\n            // Note: lots of random browsers say they're Chrome and will end up in this bucket\n            this.isChrome = true;\n        }\n        else if (match = /safari\\/(\\d+)/.exec(agent)) {\n            this.isSafari = true;\n            match = /version\\/(\\d+)([\\d.]*)/.exec(agent);\n        }\n        // Some other browser categories:\n        //   IE Mobile: /iemobile\\/(\\d+)/\n        //   IE Mobile in desktop mode: contains WPDesktop; get version from Trident version\n        //   Opera (currently goes into Chrome bucket): /opr\\/(\\d+)/\n        // Parse the captured version number for user's browser.\n        if (match) {\n            this.browserMajor = parseInt(match[1], 10) || 0;\n            var browserMinorVersion = match[2];\n            if (browserMinorVersion) {\n                var minorStart = browserMinorVersion.indexOf('.');\n                if (minorStart >= 0 && minorStart < browserMinorVersion.length - 1) {\n                    this.browserMinor = browserMinorVersion.substr(minorStart + 1);\n                }\n            }\n        }\n        // Parse device which gives hints about os / mobile state.\n        // Windows Phone IE sometimes pretends to be Android, so explicitly check for Windows Phone first.\n        // (wpdesktop is used by Windows Phone in desktop mode.)\n        var deviceMatch = agent.match(/windows phone|wpdesktop/) || agent.match(/ipad|iphone|ipod|android/);\n        if (deviceMatch) {\n            var device = deviceMatch[0];\n            this.isWinPhone = device === 'windows phone' || device === 'wpdesktop';\n            this.isAndroid = device === 'android';\n            this.isIOS = device === 'ipad' || device === 'ipod' || device === 'iphone';\n            this.isIPad = device === 'ipad';\n            this.isMobile = this.isWinPhone || this.isAndroid || this.isIOS;\n        }\n        else {\n            this.isMac = agent.indexOf('macintosh') !== -1;\n            this.isWindows = agent.indexOf('windows nt') !== -1;\n            this.isWindows81 = /(windows 8\\.1|windows nt 6\\.3)/.test(agent) && !this.isWinPhone;\n        }\n        // Other operating systems:\n        //   Chrome OS: /cros/\n        //   Linux: /linux/ (Android can also say it's Linux, so check for Android first)\n        // WARNING: Avoid using browser checks when you can use detection techniques for caps checking.\n        this.isRetinaSupported = !!(window['devicePixelRatio'] && window.devicePixelRatio > 1);\n        var input = document.createElement(\"input\");\n        input.type = \"file\";\n        this.isFolderUploadSupported = \"webkitdirectory\" in input;\n        this.isHtml5FileUploadSupported = !!(window['File'] && (window['File'].prototype.slice || window['File'].prototype.mozSlice || window['File'].prototype.webkitSlice));\n        this.isUnlimitedStyleSheetsSupported = !this._shouldUseCssText();\n        this.areTouchEventsSupported = 'ontouchstart' in window;\n        this.isWebDavSupported = 'addBehavior' in document.createElement('div');\n        if (this.isIE && this.browserMajor <= 9) {\n            this.areCSS3TransitionsSupported = false;\n        }\n        var osVersionMatch = /[\\s\\(](os|os x|windows phone|windows nt|android) ([\\d._]+)/.exec(agent);\n        this.osVersion = osVersionMatch ? osVersionMatch[2] : \"NA\";\n        // Set browser name\n        if (this.isIE) {\n            this.browserName = \"IE\";\n        }\n        else if (this.isEdge) {\n            this.browserName = \"Edge\";\n        }\n        else if (this.isChrome) {\n            this.browserName = \"Chrome\";\n        }\n        else if (this.isFirefox) {\n            this.browserName = \"Firefox\";\n        }\n        else if (this.isSafari) {\n            this.browserName = \"Safari\";\n        }\n        else {\n            this.browserName = \"NA\";\n        }\n        if (this.isWindows) {\n            this.osName = \"Windows\";\n        }\n        else if (this.isWinPhone) {\n            this.osName = \"Windows Phone\";\n        }\n        else if (this.isMac) {\n            this.osName = \"OSX\";\n        }\n        else if (this.isIOS) {\n            this.osName = \"IOS\";\n        }\n        else if (this.isAndroid) {\n            this.osName = \"Android\";\n        }\n        else {\n            this.osName = \"NA\";\n        }\n    }\n    /**\n     * Checks to see if styleSheet exists as a property off of a style element.\n     * This will determine if style registration should be done via cssText (<= IE9) or not\n     */\n    PlatformDetection.prototype._shouldUseCssText = function () {\n        var emptyStyle = document.createElement(\"style\");\n        emptyStyle.type = \"text/css\";\n        return !!emptyStyle[\"styleSheet\"];\n    };\n    return PlatformDetection;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = PlatformDetection;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/browser/PlatformDetection.js\n ** module id = 57\n ** module chunks = 0\n **/","\"use strict\";\nvar ObjectUtil_1 = require('../object/ObjectUtil');\nvar StringHelper_1 = require('../string/StringHelper');\n(function (UriPartial) {\n    /** The scheme segment of the URI */\n    UriPartial[UriPartial[\"scheme\"] = 0] = \"scheme\";\n    /** The scheme and authority segments of the URI */\n    UriPartial[UriPartial[\"authority\"] = 1] = \"authority\";\n    /** The scheme, authority, and path segments of the URI */\n    UriPartial[UriPartial[\"path\"] = 2] = \"path\";\n    /** The scheme, authority, path, and query segments of the URI */\n    UriPartial[UriPartial[\"query\"] = 3] = \"query\";\n})(exports.UriPartial || (exports.UriPartial = {}));\nvar UriPartial = exports.UriPartial;\n/**\n * Partial port of groove\\Misc\\URI.cpp, which was based on RFC2396 and RFC3986 (http://www.ietf.org/rfc/rfc2396.txt).\n * There are a few differences between this implementation and the RFC:\n *  - Implementation does not support parameters (we don't use them, and partial implementation was incorrect)\n *  - Implementation supports some relative URIs at a glance but more investigation required\n *\n *   foo://example.com:8042/over/there?name=ferret#nose\n *   \\_/   \\______________/\\_________/ \\_________/ \\__/\n *    |           |            |            |        |\n * scheme     authority       path        query   fragment\n *\n * Possible improvements:\n *  - Support path parameters\n *  - Fully support and test relative URLs based on RFC\n *  - Allow changing/removing remaining URI components (i.e. user, host, port, parameters)\n *  - URI.equals could allow ?foo=1&bar=2 equals ?bar=2&foo=1\n *  - URI.parseURI should have better error handling rather than just setting it as path\n *  - URI.getQueryAsObject should have better error handling for query of \"a=1&a=2\"\n */\nvar Uri = (function () {\n    function Uri(uriString, options) {\n        this._queryCaseInsensitive = false;\n        this._pathCaseInsensitive = false;\n        // All of these are decoded (if relevant) unless specified as encoded.\n        this._scheme = \"\";\n        this._user = \"\";\n        this._host = \"\";\n        this._port = \"\";\n        this._path = \"\";\n        this._pathSegments = [];\n        this._pathEncoded = \"\";\n        this._query = {};\n        this._fragment = \"\";\n        if (Boolean(options)) {\n            this._queryCaseInsensitive = Boolean(options.queryCaseInsensitive);\n            this._pathCaseInsensitive = Boolean(options.pathCaseInsensitive);\n        }\n        this._parseURI(uriString);\n    }\n    Uri.concatenate = function () {\n        var uriParts = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            uriParts[_i - 0] = arguments[_i];\n        }\n        var result = '';\n        for (var i = 0; i < uriParts.length; i++) {\n            var part = uriParts[i];\n            if (i > 0) {\n                part = Uri.ensureNoPrecedingSlash(part);\n            }\n            if (i < uriParts.length - 1) {\n                part = Uri.ensureTrailingSlash(part);\n            }\n            result += part;\n        }\n        return result;\n    };\n    Uri.ensureNoPrecedingSlash = function (part) {\n        return part[0] === \"/\" ? part.substr(1) : part;\n    };\n    Uri.ensureTrailingSlash = function (part) {\n        return part[part.length - 1] !== \"/\" ? (part + \"/\") : part;\n    };\n    Uri.prototype.getScheme = function () {\n        return this._scheme;\n    };\n    Uri.prototype.setScheme = function (scheme) {\n        this._scheme = scheme;\n    };\n    Uri.prototype.getAuthority = function () {\n        return this._getAuthority(false);\n    };\n    Uri.prototype.setAuthority = function (authority) {\n        this._parseAuthority(authority);\n    };\n    Uri.prototype.getUser = function () {\n        return this._user;\n    };\n    Uri.prototype.getHost = function () {\n        return this._host;\n    };\n    Uri.prototype.getPort = function () {\n        return this._port;\n    };\n    Uri.prototype.getPath = function (trimTrailingSlash) {\n        var retPath = this._path;\n        if (Boolean(trimTrailingSlash)) {\n            // If the last character is a slash\n            if (retPath !== null && retPath.lastIndexOf(\"/\") === (retPath.length - 1)) {\n                retPath = retPath.slice(0, -1); //trim last character\n            }\n        }\n        return retPath;\n    };\n    /**\n     * Returns a string containing the leftmost portion of the URI string, ending with the portion specified by part\n     */\n    Uri.prototype.getLeftPart = function (part) {\n        var ret = this._scheme + \"://\"; // default value is UriPartial.scheme\n        if (part === UriPartial.authority) {\n            ret += this.getAuthority();\n        }\n        if (part === UriPartial.path) {\n            ret += this.getPath();\n        }\n        if (part === UriPartial.query) {\n            ret += this.getQuery();\n        }\n        return ret;\n    };\n    Uri.prototype.setPath = function (path) {\n        if (path && path[0] !== \"/\") {\n            path = \"/\" + path;\n        }\n        this._parsePath(path);\n    };\n    Uri.prototype.getPathSegments = function () {\n        return this._pathSegments;\n    };\n    Uri.prototype.getLastPathSegment = function () {\n        if (this._pathSegments.length === 0) {\n            return \"\";\n        }\n        return this._pathSegments[this._pathSegments.length - 1];\n    };\n    Uri.prototype.getQuery = function (encoded) {\n        return this._serializeQuery(encoded);\n    };\n    /**\n     * Query is not well-defined but is commonly formatted as key=value and delimited with & or ;\n     * (http://www.w3.org/TR/REC-html40/appendix/notes.html#h-B.2.2)\n     *  - URI with query \"a=1&b=2\" or \"a=1;b=2\" will return {a: \"1\", b: \"2\"}\n     *  - Mixed-mode will also work: \"a=1&b=2;c=3\" will return {a: \"1\", b: \"2\", c: \"3\"}\n     *  - Assumes that parameters will be unique (i.e. \"a=1&a=2\" is not allowed and will produce unexpected results)\n     */\n    Uri.prototype.setQuery = function (query) {\n        var queryObject = this._deserializeQuery(query);\n        this.setQueryFromObject(queryObject);\n    };\n    Uri.prototype.getQueryAsObject = function () {\n        return this._query;\n    };\n    Uri.prototype.setQueryFromObject = function (queryObj) {\n        this._query = {};\n        for (var queryKey in queryObj) {\n            if (queryObj.hasOwnProperty(queryKey)) {\n                this.setQueryParameter(queryKey, queryObj[queryKey]);\n            }\n        }\n    };\n    Uri.prototype.getQueryParameter = function (queryKey) {\n        var ret = null;\n        var query = this._query;\n        if (this._queryCaseInsensitive) {\n            queryKey = queryKey.toLowerCase();\n            for (var key in query) {\n                if (this._query.hasOwnProperty(key) && key.toLowerCase() === queryKey) {\n                    ret = query[key];\n                }\n            }\n        }\n        else {\n            ret = query[queryKey];\n        }\n        return ret || null;\n    };\n    /**\n     * Adds query parameter to the end if queryKey does not exist, or\n     * overwrites existing query value if queryKey already exists.\n     */\n    Uri.prototype.setQueryParameter = function (queryKey, queryValue, ignoreEmptyValues) {\n        if (ignoreEmptyValues === void 0) { ignoreEmptyValues = true; }\n        var queryKeyDecoded = this._decodeQueryString(queryKey);\n        var queryValueDecoded = this._decodeQueryString(queryValue);\n        // there is no point adding undefined or modifying existing values to undefined or null.\n        if (!!queryValueDecoded || ignoreEmptyValues) {\n            this._query[queryKeyDecoded] = queryValueDecoded;\n        }\n    };\n    Uri.prototype.removeQueryParameter = function (queryKey) {\n        var queryKeyDecoded = this._decodeQueryString(queryKey);\n        delete this._query[queryKeyDecoded];\n    };\n    Uri.prototype.getFragment = function () {\n        return this._fragment;\n    };\n    Uri.prototype.setFragment = function (fragment) {\n        if (fragment[0] === \"#\") {\n            fragment = fragment.substring(1);\n        }\n        // Treat the fragment as a query string (decode + as space) because we pass in\n        // query parameters using the fragment on page load.\n        this._fragment = this._decodeQueryString(fragment);\n    };\n    /**\n     * Does a strict equality check of URIs (including same query parameters\n     * in the same order, and most comparisons case-sensitive).\n     * According to RFC3986: scheme and host should be case-insensitive.\n     * Note: This does not follow RFC2616's URI Comparison since it is not HTTP-specific.\n     *\n     * KNOWN ISSUE: Depending on your definition of \"incorrect,\" this could return\n     * incorrect results for URI parts that get decoded.\n     * For example: http://somewhere/my%2fpath and http://somewhere/my/path\n     * will compare as equal because the comparisons are done to decoded versions.\n     */\n    Uri.prototype.equals = function (uri) {\n        return StringHelper_1.equalsCaseInsensitive(this._scheme, uri.getScheme()) &&\n            this._user === uri.getUser() &&\n            StringHelper_1.equalsCaseInsensitive(this._host, uri.getHost()) &&\n            this._port === uri.getPort() &&\n            this._fragment === uri.getFragment() &&\n            this._equalsCaseAppropriate(this.getPath(/*trimTrailingSlash*/ true), uri.getPath(true), this._pathCaseInsensitive) &&\n            this._equalsCaseAppropriate(this.getQuery(), uri.getQuery(), this._queryCaseInsensitive);\n    };\n    /**\n     * Does an equivalence check of two URIs. Checks to see if the URIs are\n     * equivalent, but they may not be exact! Strings are compared case\n     * insensitive and query parameters can be in any order.\n     *\n     * KNOWN ISSUE: Depending on your definition of \"incorrect,\" this could return\n     * incorrect results for URI parts that get decoded.\n     * For example: http://somewhere/my%2fpath and http://somewhere/my/path\n     * will compare as equal because the comparisons are done to decoded versions.\n     */\n    Uri.prototype.equivalent = function (uri) {\n        var queryToLower = function (queryObj) {\n            var newQuery = {};\n            for (var key in queryObj) {\n                if (queryObj.hasOwnProperty(key)) {\n                    newQuery[key.toLowerCase()] = queryObj[key].toLowerCase();\n                }\n            }\n            return newQuery;\n        };\n        return StringHelper_1.equalsCaseInsensitive(this._scheme, uri.getScheme()) &&\n            StringHelper_1.equalsCaseInsensitive(this._user, uri.getUser()) &&\n            StringHelper_1.equalsCaseInsensitive(this._host, uri.getHost()) &&\n            StringHelper_1.equalsCaseInsensitive(this._port, uri.getPort()) &&\n            StringHelper_1.equalsCaseInsensitive(this.getPath(/*trimTrailingSlash*/ true), uri.getPath(true)) &&\n            ObjectUtil_1.default.deepCompare(queryToLower(this.getQueryAsObject()), queryToLower(uri.getQueryAsObject())) &&\n            StringHelper_1.equalsCaseInsensitive(this._fragment, uri.getFragment());\n    };\n    /**\n     * Note that this returns the URL encoded/escaped while the getXXX() methods\n     * for the individual components return the unescaped strings. Returning a\n     * concatenation of the decoded components would change the semantics of the\n     * URL. See section 2.4.2 of RFC 2396 (http://www.ietf.org/rfc/rfc2396.txt).\n     *\n     * Use doNotPercentEncodeHost to indicate that the output should not have a\n     * percent-encoded host, such as when passing to the url parameter of\n     * XmlHttpRequest.open(). Section 3.2.2 of RFC 2396 only allows alphanumeric\n     * characters and hyphen in the host of a URL, so percent-encoded hosts are\n     * not allowed. While section 3.2.2 of RFC 3986 does not restrict the host\n     * character set anymore, not all browsers can handle a percent-encoded host\n     * - DNS lookup fails.  But, they will convert the unencoded Unicode to the\n     * IDNA encoding (punycode), so leaving the host as-is in this case is preferred.\n     */\n    Uri.prototype.toString = function (outputOptions) {\n        return this._getStringInternal(/*encoded*/ true, outputOptions);\n    };\n    /**\n     * This method should be used to obtain a string for display purposes only,\n     * because as mentioned above, a decoded URL may have different semantics than\n     * the encoded version.\n     */\n    Uri.prototype.getDecodedStringForDisplay = function () {\n        return this._getStringInternal(/*encoded*/ false);\n    };\n    /*\n     * Input URI of \"foo://user:pass@host.com/alpha/beta/gamma/delta;p;a;r;a;m;s?q=1&u=2&e=3&r=4&y=5#fragment\"\n     * would return \"foo://user:pass@host.com/alpha/beta/gamma/delta;p;a;r;a;m;s\";\n     */\n    Uri.prototype.getStringWithoutQueryAndFragment = function () {\n        return this._getStringWithoutQueryAndFragmentInternal(/*encoded=*/ true);\n    };\n    Uri.prototype._equalsCaseAppropriate = function (a, b, isCaseInsensitive) {\n        if (isCaseInsensitive) {\n            return StringHelper_1.equalsCaseInsensitive(a, b);\n        }\n        return a === b;\n    };\n    Uri.prototype._getStringInternal = function (encoded, outputOptions) {\n        var ret = this._getStringWithoutQueryAndFragmentInternal(encoded, outputOptions);\n        var query = this.getQuery(encoded);\n        if (query) {\n            ret += \"?\" + query;\n        }\n        if (this._fragment) {\n            ret += \"#\" + (encoded ? encodeURIComponent(this._fragment) : this._fragment);\n        }\n        return ret;\n    };\n    Uri.prototype._getStringWithoutQueryAndFragmentInternal = function (encoded, outputOptions) {\n        var ret = \"\";\n        if (this._scheme) {\n            ret += (encoded ? encodeURIComponent(this._scheme) : this._scheme) + \":\";\n        }\n        // Authority includes user, host, and port\n        var authority = this._getAuthority(/*encoded=*/ encoded, outputOptions);\n        if (authority) {\n            ret += \"//\" + authority;\n        }\n        if (this._pathEncoded) {\n            ret += (encoded ? this._pathEncoded : this._path);\n        }\n        return ret;\n    };\n    Uri.prototype._deserializeQuery = function (queryStr) {\n        var queryObj = {};\n        if (queryStr.indexOf(\"?\") === 0) {\n            queryStr = queryStr.substring(1);\n        }\n        var queryParts = queryStr.split(/[;&]+/);\n        for (var queryIdx = 0; queryIdx < queryParts.length; queryIdx++) {\n            var queryPart = queryParts[queryIdx];\n            var queryPartSegments = queryPart.split(\"=\");\n            if (queryPartSegments.length > 0) {\n                var queryKey = queryPartSegments[0];\n                if (queryKey.length > 0) {\n                    var queryValue = queryPartSegments.slice(1).join('=');\n                    queryObj[queryKey] = queryValue;\n                }\n            }\n        }\n        return queryObj;\n    };\n    Uri.prototype._serializeQuery = function (encoded) {\n        encoded = Boolean(encoded);\n        var queryStr = \"\";\n        for (var queryKey in this._query) {\n            if (this._query.hasOwnProperty(queryKey)) {\n                var key = queryKey;\n                var value = this._query[queryKey];\n                if (encoded) {\n                    key = encodeURIComponent(key);\n                    value = encodeURIComponent(value);\n                }\n                if (value === null || value === \"\") {\n                    queryStr += key + \"=&\";\n                }\n                else {\n                    queryStr += key + \"=\" + value + \"&\";\n                }\n            }\n        }\n        if (queryStr !== \"\") {\n            queryStr = queryStr.slice(0, -1); //trim extra & at the end\n        }\n        return queryStr;\n    };\n    Uri.prototype._parseURI = function (uriString) {\n        var remainingString = uriString;\n        // Find fragment\n        var fragmentBeginPos = remainingString.indexOf(\"#\");\n        if (fragmentBeginPos >= 0) {\n            var fragment = remainingString.substring(fragmentBeginPos + 1);\n            this.setFragment(fragment);\n            remainingString = remainingString.substring(0, fragmentBeginPos); //remove fragment\n        }\n        // Find scheme\n        var schemeEndPos = StringHelper_1.findOneOf(remainingString, Uri.DELIMITERS);\n        if (schemeEndPos >= 0) {\n            var firstColonPos = remainingString.indexOf(\":\");\n            if (firstColonPos >= 0 && firstColonPos === schemeEndPos) {\n                this.setScheme(remainingString.substring(0, schemeEndPos));\n                remainingString = remainingString.substring(schemeEndPos + 1); //remove scheme\n            }\n        }\n        else {\n            this.setPath(remainingString);\n            return;\n        }\n        // Find authority\n        var authority = \"\";\n        var doubleSlashPos = remainingString.indexOf(\"//\");\n        if (doubleSlashPos >= 0 && doubleSlashPos === 0) {\n            remainingString = remainingString.substring(2); //skip the //\n            var authorityEndPos = StringHelper_1.findOneOf(remainingString, Uri.AUTHORITY_TERMINATORS);\n            if (authorityEndPos >= 0) {\n                authority = remainingString.substring(0, authorityEndPos);\n                remainingString = remainingString.substring(authorityEndPos); //remove authority\n            }\n            else {\n                authority = remainingString;\n                remainingString = null;\n            }\n            this.setAuthority(authority);\n            if (!remainingString) {\n                this.setPath(\"\");\n                return;\n            }\n        }\n        // Find query\n        var queryBeginPos = remainingString.indexOf(\"?\");\n        if (queryBeginPos >= 0) {\n            this.setQuery(remainingString.substring(queryBeginPos + 1));\n            remainingString = remainingString.substring(0, queryBeginPos);\n        }\n        this.setPath(remainingString);\n    };\n    Uri.prototype._parseAuthority = function (authority) {\n        this._host = authority;\n        var userNameEndPos = authority.lastIndexOf(\"@\");\n        if (userNameEndPos >= 0) {\n            this._host = this._host.substring(userNameEndPos + 1);\n        }\n        var hostPortSeparatorPos = this._host.indexOf(\":\");\n        if (userNameEndPos < 0 && hostPortSeparatorPos < 0) {\n            return;\n        }\n        var authorityComponents = authority;\n        if (userNameEndPos < 0) {\n            this._host = authorityComponents;\n        }\n        else {\n            this._user = authorityComponents.substring(0, userNameEndPos);\n            this._host = authorityComponents.substring(userNameEndPos + 1);\n        }\n        if (hostPortSeparatorPos >= 0) {\n            this._port = this._host.substring(hostPortSeparatorPos + 1);\n            this._host = this._host.substring(0, hostPortSeparatorPos);\n        }\n        this._user = decodeURIComponent(this._user);\n        this._host = decodeURIComponent(this._host);\n    };\n    Uri.prototype._parsePath = function (remainingString) {\n        this._path = decodeURIComponent(remainingString);\n        this._pathSegments = [];\n        this._pathEncoded = remainingString;\n        // We have to split the path BEFORE decoding so that encoded / characters\n        // don't get interpreted as path separators.\n        var encodedPathSegments = remainingString.split(\"/\");\n        for (var i = 0; i < encodedPathSegments.length; ++i) {\n            var decodedSegment = decodeURIComponent(encodedPathSegments[i]);\n            this._pathSegments[i] = decodedSegment;\n        }\n        // Trims first/last element if empty\n        if (this._pathSegments[0] === \"\") {\n            this._pathSegments.shift(); // remove first element\n        }\n        if (this._pathSegments[this._pathSegments.length - 1] === \"\") {\n            this._pathSegments.pop(); // remove last element\n        }\n    };\n    Uri.prototype._getAuthority = function (encoded, outputOptions) {\n        if (outputOptions === void 0) { outputOptions = {}; }\n        // Note that if encoded is false, doNotPercentEncodeHost doesn't matter - the whole URI (including host) will not be encoded.\n        var doNotPercentEncodeHost = outputOptions && outputOptions.doNotPercentEncodeHost;\n        var authority = \"\";\n        var user;\n        var host;\n        var port;\n        if (encoded) {\n            // While technically a reserved character, ':' is commonly used in the\n            // username to denote username:password, so we special case not encoding\n            // the first occurence of this character.\n            user = encodeURIComponent(this._user).replace(\"%3A\", \":\");\n            if (doNotPercentEncodeHost) {\n                host = this._host;\n            }\n            else {\n                host = encodeURIComponent(this._host);\n            }\n            port = encodeURIComponent(this._port);\n        }\n        else {\n            user = this._user;\n            host = this._host;\n            port = this._port;\n        }\n        if (user !== \"\") {\n            authority = user + \"@\";\n        }\n        if (this._host !== \"\") {\n            authority += host;\n        }\n        if (this._port !== \"\") {\n            authority += \":\" + port;\n        }\n        return authority;\n    };\n    Uri.prototype._decodeQueryString = function (component) {\n        // For query strings only, \"+\" is a valid substitute for a space, but decodeURIComponent\n        // doesn't take this into account. (Note that replace(\"+\", \" \") only replaces one +.)\n        var result = component;\n        try {\n            result = decodeURIComponent(component.replace(/\\+/g, \" \"));\n        }\n        catch (e) {\n        }\n        return result;\n    };\n    Uri.DELIMITERS = \";/?:@&=$,\";\n    Uri.AUTHORITY_TERMINATORS = \"/?\";\n    return Uri;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Uri;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/uri/Uri.js\n ** module id = 58\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\r\n/**\r\n * This file was copied from\r\n * https://onedrive.visualstudio.com/OneDriveWeb/_git/odsp-utilities?path=%2Fsrc%2Flocal%2Faria%2FAriaLogger.ts\r\n * odsp has some special requirejs configuration to indicate how the aria is loaded and\r\n * that config comes from server side. We use exports loader to tell webpack how to load aria.\r\n * To make life easier, we choose to copy this file instead of complicated loading logic.\r\n * Some refactoring was done to make the code better, but the logic is the same.\r\n */\r\n\r\nimport { ClonedEventType as ClonedEventTypeEnum } from '@ms/odsp-utilities/lib/logging/EventBase';\r\nimport { default as IClonedEvent } from '@ms/odsp-utilities/lib/logging/IClonedEvent';\r\nimport { Manager } from '@ms/odsp-utilities/lib/logging/Manager';\r\nimport { IBeaconStartSchema } from '@ms/odsp-utilities/lib/logging/events/Beacon.event';\r\nimport { default as BeforeUnload } from '@ms/odsp-utilities/lib/beforeUnload/BeforeUnload';\r\nimport { default as BeaconEvent } from '@ms/odsp-utilities/lib/logging/events/Beacon.event';\r\nimport { default as ErrorHelper } from '@ms/odsp-utilities/lib/logging/ErrorHelper';\r\nimport { default as PlatformDetection } from '@ms/odsp-utilities/lib/browser/PlatformDetection';\r\nimport { IEventMetadata } from '@ms/odsp-utilities/lib/logging/IEvent';\r\n\r\nconst ARIA_QOS_NAME: string = 'AriaBeacon';\r\n\r\nexport interface IPageContextData {\r\n    isAuthenticated: boolean;\r\n    market: string;\r\n    userId: string;\r\n    userMsaId?: string;\r\n    userANID?: string;\r\n    version: string;\r\n    manifest: string;\r\n    session: string;\r\n    environment?: string;\r\n    workload?: string;\r\n    siteSubscriptionId?: string;\r\n    farmLabel?: string;\r\n}\r\n\r\nexport default class AriaLogger {\r\n    private static _ariaTelemtry: typeof microsoft.applications.telemetry;\r\n    private static _logger: microsoft.applications.telemetry.Logger;\r\n\r\n  public static initialize(\r\n    tenantToken: string,\r\n    context: IPageContextData): void {\r\n    require.ensure(['exports?microsoft.applications.telemetry!@ms/aria-private'],\r\n    (require: (path: string) => typeof microsoft.applications.telemetry) => {\r\n      const aria: typeof microsoft.applications.telemetry =\r\n        require('exports?microsoft.applications.telemetry!@ms/aria-private');\r\n      try {\r\n        AriaLogger._ariaTelemtry = aria;\r\n        AriaLogger._ariaTelemtry.LogManager.initialize(tenantToken);\r\n        AriaLogger._logger = new AriaLogger._ariaTelemtry.Logger();\r\n        AriaLogger.setContext(context);\r\n        AriaLogger.registerUnloadFlush();\r\n        AriaLogger.registerBeacon();\r\n\r\n        const missedClonedEvents: IClonedEvent[] = Manager.addLogHandler((event: IClonedEvent) => {\r\n            AriaLogger.logEvent(event);\r\n        });\r\n\r\n        for (const event of missedClonedEvents) {\r\n            AriaLogger.logEvent(event);\r\n        }\r\n      } catch (e) {\r\n        if (e instanceof AriaLogger._ariaTelemtry.Exception) {\r\n            e = new Error(`Aria error: ${e.toString()}`);\r\n        }\r\n        ErrorHelper.log(e);\r\n      }\r\n    },\r\n    'sp-client-telemetry');\r\n  }\r\n\r\n  private static setContext(context: IPageContextData): void {\r\n    const platformDetection: PlatformDetection = new PlatformDetection();\r\n    const semanticContext: microsoft.applications.telemetry.ISemanticContext =\r\n      AriaLogger._logger.getSemanticContext();\r\n    /* tslint:disable:no-string-literal no-any */\r\n    // This is apparently a hack to add more context info, due to aria's lack of\r\n    // extensibility.\r\n    const contextMap: any = semanticContext['contextMap'];\r\n    /* tslint:enable:no-string-literal no-any */\r\n\r\n    contextMap.Add('AppInfo.Session', context.session);\r\n    semanticContext.setAppVersion(context.version);\r\n    contextMap.Add('AppInfo.Manifest', context.manifest);\r\n\r\n    semanticContext.setUserLanguage(context.market || '');\r\n    semanticContext.setUserId(context.userId);\r\n    semanticContext.setUserMsaId(context.userMsaId);\r\n    semanticContext.setUserANID(context.userANID);\r\n    AriaLogger._logger.setContext('Environment', context.environment);\r\n    AriaLogger._logger.setContext('Workload', context.workload);\r\n    AriaLogger._logger.setContext('IsAuthenticated', context.isAuthenticated ? 1 : 0);\r\n\r\n    semanticContext.setDeviceOsName(platformDetection.osName);\r\n    semanticContext.setDeviceOsVersion(platformDetection.osVersion);\r\n    AriaLogger._logger.setContext('BrowserName', platformDetection.browserName);\r\n    AriaLogger._logger.setContext('BrowserMajVer', platformDetection.browserMajor);\r\n    AriaLogger._logger.setContext('BrowserMinVer', platformDetection.browserMinor);\r\n    AriaLogger._logger.setContext('BrowserUserAgent', platformDetection.userAgent);\r\n    AriaLogger._logger.setContext('BrowserIsMobile', platformDetection.isMobile);\r\n\r\n    if (context.farmLabel) {\r\n        AriaLogger._logger.setContext('FarmLabel', context.farmLabel);\r\n    }\r\n\r\n    if (context.siteSubscriptionId) {\r\n        AriaLogger._logger.setContext('SiteSubscriptionId', context.siteSubscriptionId);\r\n    }\r\n  }\r\n\r\n  private static registerUnloadFlush(): void {\r\n    /* tslint:disable:no-null-keyword */\r\n    // null check is used in aria.js\r\n    BeforeUnload.init();\r\n    BeforeUnload.registerHandler((unload: boolean): string => {\r\n        if (unload) {\r\n            AriaLogger._ariaTelemtry.LogManager.flush(null);\r\n        }\r\n        return null;\r\n    });\r\n    /* tslint:enable:no-null-keyword */\r\n  }\r\n\r\n  private static registerBeacon(): void {\r\n    // Listen to aria beaconing and send qos events to monitor its success rate\r\n    AriaLogger._ariaTelemtry.LogManager.addCallbackListener((\r\n      isSuccess: number,\r\n      statusCode: number,\r\n      tenantToken: string,\r\n      events: microsoft.applications.telemetry.datamodels.Record[]) => {\r\n      const beaconEvent: BeaconEvent = new BeaconEvent({\r\n        name: ARIA_QOS_NAME,\r\n        retryCount: 0,\r\n        totalRetries: 0,\r\n        eventCount: events ? events.length : 0\r\n      });\r\n\r\n      beaconEvent.end({\r\n        success: isSuccess === 0,\r\n        status: statusCode + ''\r\n      });\r\n\r\n      if (DEBUG) {\r\n        // Display errors if the aria logger is failing to log\r\n        if (isSuccess !== 0) {\r\n            ErrorHelper.log(new Error(`Aria logger failed with status code ${statusCode}`));\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private static logEvent(event: IClonedEvent): void {\r\n    // Dont log its self qos event\r\n    if (BeaconEvent.isTypeOf(event) && event.data) {\r\n        const data: IBeaconStartSchema = event.data;\r\n        if (data.name === ARIA_QOS_NAME) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    if (event.enabled) {\r\n      const eventProperties: microsoft.applications.telemetry.EventProperties =\r\n        new AriaLogger._ariaTelemtry.EventProperties();\r\n\r\n      eventProperties.setProperty('Vector', event.vector.toString());\r\n      eventProperties.setProperty('ValidationErrors', event.validationErrors);\r\n\r\n      const splitEventName: string[] = event.eventName.split(',');\r\n      const eventName: string = `ev_${splitEventName[splitEventName.length - 2]}`;\r\n      const fullEventName: string = `${event.eventName}`;\r\n\r\n      if (event.eventType === ClonedEventTypeEnum.End) {\r\n          eventProperties.setProperty('Duration', event.endTime - event.startTime);\r\n      }\r\n      /* tslint:disable:no-any forin */\r\n      const data: any = event.data;\r\n\r\n      if (data) {\r\n        for (const x in data) {\r\n          const propertyMetadata: IEventMetadata = event.metadata[x];\r\n\r\n          if (propertyMetadata) {\r\n            const loggingName: string = `${propertyMetadata.definedInName}_${x}`;\r\n            const value: any = data[x];\r\n\r\n            if (propertyMetadata.isMetric) {\r\n              if (value !== undefined) {\r\n                  eventProperties.setProperty(loggingName, value);\r\n              }\r\n            } else {\r\n              if (propertyMetadata.baseType === 'Enum') {\r\n                eventProperties.setProperty(loggingName, propertyMetadata.typeRef[value]);\r\n              } else if (propertyMetadata.type === 'Object') {\r\n                const dataObject: any = value;\r\n                for (const y in dataObject) {\r\n                    eventProperties.setProperty(`${loggingName}_${y.replace('.', '_')}`, dataObject[y]);\r\n                }\r\n              } else {\r\n                eventProperties.setProperty(loggingName, value);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      /* tslint:enable:no-any forin */\r\n      eventProperties.name = eventName;\r\n      eventProperties.setProperty('WebLog_FullName', fullEventName);\r\n      eventProperties.setProperty('WebLog_EventType', ClonedEventTypeEnum[event.eventType]);\r\n\r\n      for (const name of splitEventName) {\r\n        if (name) {\r\n            eventProperties.setProperty(`WebLog_Type_${name}`, 1);\r\n        }\r\n      }\r\n\r\n      AriaLogger._logger.logEvent(eventProperties);\r\n    }\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/AriaLogger.ts\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar ErrorHelper_1 = require('../logging/ErrorHelper');\nvar Async_1 = require('../async/Async');\nvar BeforeUnload = (function () {\n    function BeforeUnload() {\n        this._localHandlers = [];\n    }\n    BeforeUnload.init = function () {\n        var _this = this;\n        if (!this._initialized) {\n            this._initialized = true;\n            // Wire up before unload\n            this._originalBeforeUnload = window.onbeforeunload;\n            window.onbeforeunload = window['__onbeforeunload'] = function (ev) {\n                return _this._handleBeforeUnload(ev);\n            };\n        }\n    };\n    BeforeUnload.registerHandler = function (callback) {\n        this._handlers.push(callback);\n    };\n    BeforeUnload.unRegisterHandler = function (callback) {\n        for (var x = 0; x < this._handlers.length; x++) {\n            if (this._handlers[x] === callback) {\n                this._handlers.splice(x, 1);\n                break;\n            }\n        }\n    };\n    BeforeUnload.dispose = function () {\n        if (this._originalBeforeUnload) {\n            window.onbeforeunload = this._originalBeforeUnload;\n        }\n        else {\n            window.onbeforeunload = null;\n        }\n    };\n    BeforeUnload._handleBeforeUnload = function (ev) {\n        var response = undefined;\n        if (!this._allowNavs) {\n            for (var x = 0; x < this._handlers.length; x++) {\n                try {\n                    response = this._handlers[x](true);\n                    if (response) {\n                        break;\n                    }\n                }\n                catch (e) {\n                    ErrorHelper_1.default.log(e);\n                }\n            }\n            if (!response && this._originalBeforeUnload) {\n                try {\n                    response = this._originalBeforeUnload(ev);\n                }\n                catch (e) {\n                    ErrorHelper_1.default.log(e);\n                }\n            }\n        }\n        // Make sure the response is undefined so ie will not block\n        return response ? response : undefined;\n    };\n    BeforeUnload.prototype.registerHashNavDialogCallback = function (callback) {\n        this._hashNavDialogCallback = callback;\n    };\n    BeforeUnload.prototype.allowHashNav = function (allowNavCallback, disallowNavCallback) {\n        var response = undefined;\n        if (!BeforeUnload._isDialogOpen && !BeforeUnload._allowNavs) {\n            for (var x = 0; x < BeforeUnload._handlers.length; x++) {\n                try {\n                    response = BeforeUnload._handlers[x](false);\n                    if (response) {\n                        break;\n                    }\n                }\n                catch (e) {\n                    ErrorHelper_1.default.log(e);\n                }\n            }\n            if (response) {\n                BeforeUnload._isDialogOpen = true;\n                this._hashNavDialogCallback(response)\n                    .then(function () {\n                    BeforeUnload._isDialogOpen = false;\n                    BeforeUnload._allowNavs = true;\n                    // Dont block until we have a new stack\n                    if (!BeforeUnload._blockNavsAgainId) {\n                        BeforeUnload._blockNavsAgainId = BeforeUnload._async.setImmediate(function () {\n                            BeforeUnload._allowNavs = false;\n                            BeforeUnload._blockNavsAgainId = null;\n                        });\n                    }\n                    if (allowNavCallback) {\n                        allowNavCallback();\n                    }\n                }, function () {\n                    BeforeUnload._isDialogOpen = false;\n                    if (disallowNavCallback) {\n                        disallowNavCallback();\n                    }\n                });\n            }\n        }\n        return !response && !BeforeUnload._isDialogOpen;\n    };\n    BeforeUnload.prototype.registerHandler = function (callback) {\n        this._localHandlers.push(callback);\n        BeforeUnload.registerHandler(callback);\n    };\n    BeforeUnload.prototype.unRegisterHandler = function (callback) {\n        for (var x = 0; x < this._localHandlers.length; x++) {\n            if (this._localHandlers[x] === callback) {\n                this._localHandlers.splice(x, 1);\n                break;\n            }\n        }\n        BeforeUnload.unRegisterHandler(callback);\n    };\n    BeforeUnload.prototype.dispose = function () {\n        // Clean up any hanging handlers\n        for (var _i = 0, _a = this._localHandlers; _i < _a.length; _i++) {\n            var handler = _a[_i];\n            BeforeUnload.unRegisterHandler(handler);\n        }\n    };\n    BeforeUnload._handlers = [];\n    BeforeUnload._async = new Async_1.default();\n    BeforeUnload._initialized = false;\n    return BeforeUnload;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = BeforeUnload;\nBeforeUnload.init();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/beforeUnload/BeforeUnload.js\n ** module id = 60\n ** module chunks = 0\n **/","\"use strict\";\nvar HslColor_1 = require('./HslColor');\nvar RgbaColor_1 = require('./RgbaColor');\nvar Shades_1 = require('./Shades');\n/**\n * Utility class with static methods to work with Fabric-style themes.\n */\nvar FabricTheming = (function () {\n    function FabricTheming() {\n    }\n    /**\n     * Generates a palette of Fabric colors from a primary RGB color value.\n     * @param {RgbaColor} primaryRgb Primary RGB color used to generate a palette.\n     * @param {boolean} inverted Whether the theme is inverted, with a dark background and light foreground.\n     */\n    FabricTheming.generateFabricColors = function (primaryRgb, inverted) {\n        if (inverted === void 0) { inverted = false; }\n        var generatedShades = {\n            \"themeDarker\": Shades_1.Shades.Darkest,\n            \"themeDark\": Shades_1.Shades.Darker,\n            \"themeDarkAlt\": Shades_1.Shades.Darker,\n            \"themeLight\": Shades_1.Shades.Lighter,\n            \"themeLightAlt\": Shades_1.Shades.Lighter,\n            \"themeLighter\": Shades_1.Shades.Lightest,\n            \"themeLighterAlt\": Shades_1.Shades.Lightest,\n            \"themePrimary\": Shades_1.Shades.Unshaded,\n            \"themeAccent\": Shades_1.Shades.Unshaded,\n            \"themeSecondary\": Shades_1.Shades.Medium,\n            \"themeTertiary\": Shades_1.Shades.Lighter,\n            \"themeTertiaryAlt\": Shades_1.Shades.Lighter\n        };\n        // Expected color slots. Start each defaulting to null to avoid warnings about missing slots.\n        var colors = FabricTheming._getDefaultThemeTokenMap();\n        // Starting points for the generated palette.\n        var primaryColor = RgbaColor_1.default.fromRgba(primaryRgb.R, primaryRgb.G, primaryRgb.B);\n        for (var shadeName in generatedShades) {\n            var shade = generatedShades[shadeName];\n            if (inverted && shade !== Shades_1.Shades.Unshaded) {\n                shade = Shades_1.Shades.Darkest + Shades_1.Shades.Lightest - shade;\n            }\n            colors[shadeName] = Shades_1.getShade(primaryColor, shade);\n        }\n        var accent = colors[\"themeAccent\"];\n        colors[\"themeAccentTranslucent10\"] = accent ?\n            RgbaColor_1.default.fromRgba(accent.R, accent.G, accent.B, 0.1 * RgbaColor_1.default.maxComponent) : null;\n        // Handle neutral slots for inverted themes\n        if (inverted) {\n            var invertedText = '#f8f8f8'; // neutralLighterAlt\n            var invertedNeutralQuaternary = '#6b6b6b';\n            var invertedNeutralQuaternaryAlt = '#707070';\n            var invertedNeutralColors = {\n                'black': '#fff',\n                'blackTranslucent40': '#66ffffff',\n                'neutralDark': '#fff',\n                'neutralPrimary': invertedText,\n                'neutralPrimaryTranslucent50': '#7ff8f8f8',\n                'neutralPrimaryAlt': '#f4f4f4',\n                'neutralSecondary': '#eaeaea',\n                'neutralSecondaryAlt': '#c8c8c8',\n                'neutralTertiary': '#a6a6a6',\n                'neutralTertiaryAlt': '#767676',\n                'neutralQuaternary': invertedNeutralQuaternary,\n                'neutralQuaternaryAlt': invertedNeutralQuaternaryAlt,\n                'cmdbarSelected': invertedNeutralQuaternary,\n                'cmdbarSelectedHover': invertedNeutralQuaternaryAlt,\n                'neutralLight': '#666666',\n                'neutralLighter': '#333',\n                'neutralLighterAlt': '#212121',\n                'primaryText': invertedText,\n                'primaryBackground': '#000',\n                'white': '#000',\n                'whiteTranslucent40': '#66000000',\n                'error': '#f00',\n                'errorBackground': '#7e3333'\n            };\n            for (var neutralSlot in invertedNeutralColors) {\n                if (invertedNeutralColors.hasOwnProperty(neutralSlot)) {\n                    colors[neutralSlot] =\n                        RgbaColor_1.default.fromHtmlColor(invertedNeutralColors[neutralSlot]);\n                }\n            }\n        }\n        return colors;\n    };\n    /**\n     * Applies an Hsl delta to an HslColor to produce a new HslColor.\n     * @param {HslColor} primaryHsl Starting HSL color value.\n     * @param {number} hDelta Delta to apply to the hue.\n     * @param {number} sDelta Delta to apply to the saturation.\n     * @param {number} lDelta Delta to apply to the luminance.\n     */\n    FabricTheming.applyHslDelta = function (primaryHsl, hDelta, sDelta, lDelta) {\n        var hue = primaryHsl.hue - hDelta;\n        if (hue > 1 || hue < 0) {\n            hue = hue - Math.floor(hue);\n        }\n        var sat = primaryHsl.sat - sDelta;\n        if (sat > 1) {\n            sat = 1;\n        }\n        else if (sat < 0) {\n            sat = 0;\n        }\n        var lum = primaryHsl.lum - lDelta;\n        if (lum > 1) {\n            lum = 1;\n        }\n        else if (lum < 0) {\n            lum = 0;\n        }\n        var hslValue = new HslColor_1.default(hue, sat, lum);\n        return hslValue;\n    };\n    FabricTheming._getDefaultThemeTokenMap = function () {\n        return {\n            backgroundOverlay: null,\n            primaryBackground: null,\n            primaryText: null,\n            themeDarker: null,\n            themeDark: null,\n            themeDarkAlt: null,\n            themePrimary: null,\n            themeSecondary: null,\n            themeTertiary: null,\n            themeLight: null,\n            themeLighter: null,\n            themeLighterAlt: null,\n            black: null,\n            cmdbarSelected: null,\n            cmdbarSelectedHover: null,\n            neutralDark: null,\n            neutralPrimary: null,\n            neutralPrimaryAlt: null,\n            neutralPrimaryTranslucent50: null,\n            neutralSecondary: null,\n            neutralSecondaryAlt: null,\n            neutralTertiary: null,\n            neutralTertiaryAlt: null,\n            neutralQuaternary: null,\n            neutralQuaternaryAlt: null,\n            neutralLight: null,\n            neutralLighter: null,\n            neutralLighterAlt: null,\n            white: null,\n            blackTranslucent40: null,\n            whiteTranslucent40: null,\n            yellow: null,\n            yellowLight: null,\n            orange: null,\n            orangeLight: null,\n            redDark: null,\n            red: null,\n            magentaDark: null,\n            magenta: null,\n            magentaLight: null,\n            purpleDark: null,\n            purple: null,\n            purpleLight: null,\n            blueDark: null,\n            blueMid: null,\n            blue: null,\n            blueLight: null,\n            tealDark: null,\n            teal: null,\n            tealLight: null,\n            greenDark: null,\n            green: null,\n            greenLight: null,\n            error: null,\n            errorBackground: null,\n            success: null,\n            successBackground: null,\n            alert: null,\n            alertBackground: null,\n            infoBackground: null,\n            info: null,\n            orangeLighter: null\n        };\n    };\n    return FabricTheming;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = FabricTheming;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/theming/FabricTheming.js\n ** module id = 62\n ** module chunks = 0\n **/","\"use strict\";\nvar RgbaColor_1 = require('./RgbaColor');\n/**\n * A color represented by hue, saturation, luminance, and alpha (opacity) components.\n */\nvar HslColor = (function () {\n    /**\n     * Constructs a new HSL color object.\n     * @param {number} h The hue (between 0 and 1) of the color.\n     * @param {number} s The saturation (between 0 and 1) of the color.\n     * @param {number} l The luminance (between 0 and 1) of the color.\n     * @param {number} a The opacity (between 0 and 255) of the color.\n     */\n    function HslColor(h, s, l, a) {\n        function LimitNumberToUnitInterval(value) {\n            return Math.min(1.0, Math.max(0.0, value));\n        }\n        this.hue = LimitNumberToUnitInterval(h);\n        this.sat = LimitNumberToUnitInterval(s);\n        this.lum = LimitNumberToUnitInterval(l);\n        this.alpha = a == null ? RgbaColor_1.default.maxComponent : a;\n    }\n    /**\n     * Constructs an HslColor from an RgbaColor.\n     * @param {RgbaColor} color The color to convert to HSL.\n     */\n    HslColor.fromRgba = function (color) {\n        // Using integer values as much as possible to make comparisons easier.\n        // I will indicate non-integer values with a  \"_float\" suffix.\n        // These integer values are each some integer multiple of the true value.\n        var scaleFactor = RgbaColor_1.default.maxComponent;\n        var h_float = 0.0, s_float = 0.0, l_float = 0.0;\n        var r = color.R;\n        var g = color.G;\n        var b = color.B;\n        var cMax = Math.max(Math.max(r, g), b);\n        var cMin = Math.min(Math.min(r, g), b);\n        var twiceL = cMax + cMin;\n        l_float = twiceL / (2 * scaleFactor);\n        if (cMax === cMin) {\n            s_float = 0.0;\n            h_float = -1.0;\n        }\n        else {\n            var dmax = cMax - cMin;\n            var pmax = cMax + cMin;\n            // The scale factor cancels when we divide scaled values, so divisions can ignore it.\n            if (twiceL <= 1 * scaleFactor) {\n                s_float = dmax / pmax;\n            }\n            else {\n                s_float = dmax / (2 * scaleFactor - pmax); // Safe, since cMax != cMin\n            }\n            var dr_float = (cMax - r) * (1 / 6) / dmax;\n            var dg_float = (cMax - g) * (1 / 6) / dmax;\n            var db_float = (cMax - b) * (1 / 6) / dmax;\n            if (r === cMax) {\n                h_float = db_float - dg_float;\n            }\n            else if (g === cMax) {\n                h_float = (1 / 3) + dr_float - db_float;\n            }\n            else {\n                h_float = (2 / 3) + dg_float - dr_float;\n            }\n            if (h_float < 0) {\n                h_float += 1.0;\n            }\n            if (h_float > 1.0) {\n                h_float -= 1.0;\n            }\n        }\n        return new HslColor(h_float, s_float, l_float, color.A);\n    };\n    /**\n     * Converts a hue, saturation, or luminance value between 0 and 1 into\n     * an integer between 0 and 255.\n     */\n    HslColor._hslComponentToByte = function (value) {\n        var c_rgbaMax = RgbaColor_1.default.maxComponent;\n        var result = Math.round(c_rgbaMax * value);\n        return Math.min(c_rgbaMax, Math.max(0, result));\n    };\n    /**\n     * Internal method which given the calculated magic numbers and the hue,\n     * will calculate the appropriate RGB number.\n     * This algorithm is intended to stay in-sync with the equivalent code in\n     * mso\\officespace\\fscolorgallery.cpp.\n     * @param {number} m1 The first magic number.\n     * @param {number} m2 The second magic number.\n     * @param {number} hue The hue to be converted using the magic numbers.\n     */\n    HslColor._hueToRgbComponent = function (m1, m2, hue) {\n        var result;\n        if (hue < 0) {\n            hue += 1;\n        }\n        if (hue > 1) {\n            hue -= 1;\n        }\n        if (hue < 1 / 6) {\n            result = m1 + (m2 - m1) * hue * 6;\n        }\n        else if (hue < 1 / 2) {\n            result = m2;\n        }\n        else if (hue < 2 / 3) {\n            result = m1 + (m2 - m1) * (2 / 3 - hue) * 6;\n        }\n        else {\n            result = m1;\n        }\n        return HslColor._hslComponentToByte(result);\n    };\n    /**\n     * Darkens the color by the provided factor.\n     * @param {number} factor The factor (between 0 and 1) by which to scale the luminance.\n     */\n    HslColor.prototype.darken = function (factor) {\n        // TODO: Validate input.\n        this.lum *= factor;\n    };\n    /**\n     * Lightens the color by the provided factor.\n     * @param {number} factor The factor (between 0 and 1) by which to scale the luminance.\n     */\n    HslColor.prototype.lighten = function (factor) {\n        // TODO: Validate input.\n        this.lum = this.lum * factor + (1 - factor);\n    };\n    /**\n     * Returns an RgbaColor representation of this HslColor.\n     */\n    HslColor.prototype.toRgbaColor = function () {\n        var r, g, b;\n        var hue = this.hue;\n        var saturation = this.sat;\n        var luminance = this.lum;\n        if (Math.round(saturation * RgbaColor_1.default.maxComponent) === 0) {\n            r = g = b = HslColor._hslComponentToByte(luminance);\n        }\n        else {\n            var m1, m2;\n            if (luminance <= 0.5) {\n                m2 = luminance * (1 + saturation);\n            }\n            else {\n                m2 = luminance + saturation - (luminance * saturation);\n            }\n            m1 = 2 * luminance - m2;\n            r = HslColor._hueToRgbComponent(m1, m2, hue + (1 / 3));\n            g = HslColor._hueToRgbComponent(m1, m2, hue);\n            b = HslColor._hueToRgbComponent(m1, m2, hue - (1 / 3));\n        }\n        return RgbaColor_1.default.fromRgba(r, g, b, this.alpha);\n    };\n    return HslColor;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = HslColor;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/theming/HslColor.js\n ** module id = 63\n ** module chunks = 0\n **/","\"use strict\";\n/**\n * A color represented by red, green, blue, and alpha (opacity) components.\n */\nvar RgbaColor = (function () {\n    /** Constructs a default RgbaColor. Use RgbaColor.fromRgba to specify components. */\n    function RgbaColor() {\n        this.R = 0;\n        this.G = 0;\n        this.B = 0;\n        this.A = RgbaColor.maxComponent; // Default to fully opaque.\n    }\n    /**\n     * Creates a copy of the given color.\n     * @param {RgbaColor} c The color to clone.\n     */\n    RgbaColor.clone = function (c) {\n        return RgbaColor.fromRgba(c.R, c.G, c.B, c.A);\n    };\n    /**\n     * Returns true if the colors have identical component values of R, G, B, and A.\n     * @param {RgbaColor} c1 The first color to compare.\n     * @param {RgbaColor} c2 The second color to compare.\n     */\n    RgbaColor.equals = function (c1, c2) {\n        var c1IsNull = !c1;\n        var c2IsNull = !c2;\n        if (c1IsNull || c2IsNull) {\n            return c1IsNull && c2IsNull;\n        }\n        else {\n            return c1.R === c2.R && c1.G === c2.G && c1.B === c2.B && c1.A === c2.A;\n        }\n    };\n    /**\n     * Creates an RgbaColor from red, green, blue, and alpha component values.\n     * @param {number} r The red component value (between 0 and 255).\n     * @param {number} g The green component value (between 0 and 255).\n     * @param {number} b The blue component value (between 0 and 255).\n     * @param {number} a The alpha component value (between 0 and 255).\n     */\n    RgbaColor.fromRgba = function (r, g, b, a) {\n        var colorObj = new RgbaColor;\n        colorObj.R = Math.round(r);\n        colorObj.G = Math.round(g);\n        colorObj.B = Math.round(b);\n        colorObj.A = a != null ? Math.round(a) : RgbaColor.maxComponent;\n        return colorObj;\n    };\n    /**\n     * Parses an HTML color string in the formats #AARRGGBB, #RRGGBB, or #RGB.\n     * @param {string} htmlColor The HTML color string to parse.\n     */\n    RgbaColor.fromHtmlColor = function (htmlColor) {\n        function TwoHexCharsToNumber(str, index1, index2) {\n            return parseInt(str.charAt(index1) + str.charAt(index2), 16);\n        }\n        var resultColor = new RgbaColor;\n        if (typeof htmlColor === \"string\" && htmlColor.charAt(0) === \"#\") {\n            switch (htmlColor.length) {\n                case 9:\n                    resultColor.A = TwoHexCharsToNumber(htmlColor, 1, 2);\n                    resultColor.R = TwoHexCharsToNumber(htmlColor, 3, 4);\n                    resultColor.G = TwoHexCharsToNumber(htmlColor, 5, 6);\n                    resultColor.B = TwoHexCharsToNumber(htmlColor, 7, 8);\n                    break;\n                case 7:\n                    resultColor.R = TwoHexCharsToNumber(htmlColor, 1, 2);\n                    resultColor.G = TwoHexCharsToNumber(htmlColor, 3, 4);\n                    resultColor.B = TwoHexCharsToNumber(htmlColor, 5, 6);\n                    break;\n                case 4:\n                    resultColor.R = TwoHexCharsToNumber(htmlColor, 1, 1);\n                    resultColor.G = TwoHexCharsToNumber(htmlColor, 2, 2);\n                    resultColor.B = TwoHexCharsToNumber(htmlColor, 3, 3);\n                    break;\n            }\n        }\n        return resultColor;\n    };\n    /**\n     * Converts an RgbaColor into an HTML string suitable for use as a CSS color value.\n     * @param {RgbaColor} c The color to convert.\n     * @param {boolean} bFilterValue If true, this produces a string to in the #AARRGGBB format.\n     */\n    RgbaColor.toHtmlString = function (c, bFilterValue) {\n        function ByteToHexString(/*@type(Number)*/ b) {\n            var byte = Number(b);\n            if (!(byte >= 0 && byte <= RgbaColor.maxComponent)) {\n                throw new Error(\"Argument must be a Number in [0, 255]\");\n            }\n            var hex = byte.toString(16);\n            if (byte < 16) {\n                hex = \"0\" + hex;\n            }\n            return hex;\n        }\n        if (c.A < RgbaColor.maxComponent && !bFilterValue) {\n            return \"rgba(\" +\n                c.R.toString(10) + \", \" +\n                c.G.toString(10) + \", \" +\n                c.B.toString(10) + \", \" +\n                (c.A / RgbaColor.maxComponent).toFixed(2) + \")\";\n        }\n        else {\n            return \"#\" +\n                (bFilterValue ? ByteToHexString(c.A) : \"\") +\n                ByteToHexString(c.R) +\n                ByteToHexString(c.G) +\n                ByteToHexString(c.B);\n        }\n    };\n    /**\n     * The maximum value of an R, G, B, or A component in an RgbaColor.\n     */\n    RgbaColor.maxComponent = 255;\n    return RgbaColor;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RgbaColor;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/theming/RgbaColor.js\n ** module id = 64\n ** module chunks = 0\n **/","\"use strict\";\nvar HslColor_1 = require('./HslColor');\nvar RgbaColor_1 = require('./RgbaColor');\n// Various constants used for generated shades of a color.\nvar WhiteShadeTable = [0.95, 0.85, 0.75, 0.65, 0.50];\nvar BlackTintTable = [0.50, 0.65, 0.75, 0.85, 0.95];\nvar ColorTintTable = [0.20, 0.40, 0.60];\nvar ColorShadeTable = [0.75, 0.50];\nvar LumTintTable = [0.10, 0.25, 0.50, 0.75, 0.90];\nvar LumShadeTable = [0.90, 0.75, 0.50, 0.25, 0.10];\nvar c_LuminanceLow = 0.2;\nvar c_LuminanceHigh = 0.8;\nvar rgbaMax = RgbaColor_1.default.maxComponent;\nvar rgbaWhite = RgbaColor_1.default.fromRgba(rgbaMax, rgbaMax, rgbaMax);\nvar rgbaBlack = RgbaColor_1.default.fromRgba(0, 0, 0);\n/** Shades of a given color, from Lightest to Darkest. */\n(function (Shades) {\n    Shades[Shades[\"Unshaded\"] = 0] = \"Unshaded\";\n    Shades[Shades[\"Lightest\"] = 1] = \"Lightest\";\n    Shades[Shades[\"Lighter\"] = 2] = \"Lighter\";\n    Shades[Shades[\"Medium\"] = 3] = \"Medium\";\n    Shades[Shades[\"Darker\"] = 4] = \"Darker\";\n    Shades[Shades[\"Darkest\"] = 5] = \"Darkest\";\n})(exports.Shades || (exports.Shades = {}));\nvar Shades = exports.Shades;\n/**\n * Returns true if the argument is a valid Shades value\n * @param {Shades} shade The Shades value to validate.\n */\nfunction _isValidShade(shade) {\n    'use strict';\n    return (shade >= Shades.Unshaded) && (shade <= Shades.Darkest);\n}\n/**\n * Given an RgbaColor and a shade specification, generates the requested shade of the color.\n * @param {RgbaColor} color The base color whose shades are to be computed\n * @param {Shades} shade The shade of the base color to compute.\n */\nfunction getShade(color, shade) {\n    'use strict';\n    if (!color) {\n        return null;\n    }\n    if (shade === Shades.Unshaded || !_isValidShade(shade)) {\n        return RgbaColor_1.default.fromRgba(color.R, color.G, color.B, color.A);\n    }\n    var hsl = HslColor_1.default.fromRgba(color);\n    var lum = hsl.lum;\n    var tableIndex = shade - 1;\n    if (RgbaColor_1.default.equals(color, rgbaWhite)) {\n        hsl.darken(WhiteShadeTable[tableIndex]);\n    }\n    else if (RgbaColor_1.default.equals(color, rgbaBlack)) {\n        hsl.lighten(BlackTintTable[tableIndex]);\n    }\n    else if (lum < c_LuminanceLow) {\n        hsl.lighten(LumTintTable[tableIndex]);\n    }\n    else if (lum > c_LuminanceHigh) {\n        hsl.darken(LumShadeTable[tableIndex]);\n    }\n    else {\n        if (tableIndex < ColorTintTable.length) {\n            hsl.lighten(ColorTintTable[tableIndex]);\n        }\n        else {\n            hsl.darken(ColorShadeTable[tableIndex - ColorTintTable.length]);\n        }\n    }\n    color = hsl.toRgbaColor();\n    return color;\n}\nexports.getShade = getShade;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/theming/Shades.js\n ** module id = 65\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar FabricTheming_1 = require('./FabricTheming');\nvar RgbaColor_1 = require('./RgbaColor');\nvar UriEncoding_1 = require('../encoding/UriEncoding');\n/**\n * Utility methods which can be used to load the theme of a SharePoint site.\n */\nvar WebTheme = (function () {\n    function WebTheme() {\n    }\n    /**\n     * Constructs the URL of a REST endpoint which will return the web theme.\n     * @param {IWebContextInfo} webContextInfo Context information about the web.\n     * @param {string} cultureName Current UI culture.\n     * @param {string} themeOverride URL to a temporary override theme (e.g. preview).\n     */\n    WebTheme.makeWebThemeRestUrl = function (webServerRelativeUrl, cultureName, themeOverride) {\n        \"use strict\";\n        var webUrl = webServerRelativeUrl;\n        if (webUrl && webUrl[webUrl.length - 1] === '/') {\n            // Trim trailing slash.\n            webUrl = webUrl.substring(0, webUrl.length - 1);\n        }\n        webUrl = UriEncoding_1.default.escapeUrlForCallback(webUrl);\n        var webThemeRestEndpoint = UriEncoding_1.default.escapeUrlForCallback(webUrl) +\n            '/_api/SP.Web.GetContextWebThemeData?noImages=true&lcid=' +\n            UriEncoding_1.default.encodeURIComponent(cultureName);\n        if (themeOverride) {\n            webThemeRestEndpoint += \"&ThemeOverride=\" + UriEncoding_1.default.encodeURIComponent(themeOverride);\n        }\n        return webThemeRestEndpoint;\n    };\n    /**\n     * Constructs the URL of a REST endpoint which will return the web theme.\n     * @param {IWebContextInfo} webContextInfo Context information about the web.\n     */\n    WebTheme.processWebThemeRestResponse = function (responseText) {\n        // This could throw if the handler returns an HTML error page or invalis JSON.\n        // DataSource will count that as an error and call the error callback.\n        \"use strict\";\n        var response = JSON.parse(responseText);\n        var rawThemeData;\n        if (response && response.d && response.d.GetContextWebThemeData) {\n            rawThemeData = JSON.parse(response.d.GetContextWebThemeData);\n        }\n        var themeData = WebTheme.processRawThemeData(rawThemeData);\n        return themeData;\n    };\n    /**\n     * Converts an IThemeDataRaw into an IThemeData.\n     * @param {IThemeDataRaw} themeData Raw theme data to process.\n     */\n    WebTheme.processRawThemeData = function (themeData) {\n        \"use strict\";\n        if (themeData) {\n            var coerceToColor = WebTheme.coerceToColor;\n            var colors = {};\n            var inputColors = themeData.Palette ? themeData.Palette.Colors : {};\n            for (var colorKey in inputColors) {\n                if (inputColors.hasOwnProperty(colorKey)) {\n                    var colorValue = coerceToColor(inputColors[colorKey]);\n                    // TODO: console.warn if colorValue is undefined?\n                    if (colorValue) {\n                        colors[colorKey] = colorValue;\n                    }\n                }\n            }\n            var fabricColors = FabricTheming_1.default.generateFabricColors(colors['ContentAccent1'], themeData.IsInverted);\n            var pageBG = coerceToColor(colors['PageBackground']) || null;\n            var bgOverlay = coerceToColor(colors['BackgroundOverlay']) || null;\n            var alpha40 = Math.round(0.4 * RgbaColor_1.default.maxComponent);\n            fabricColors['white'] = pageBG;\n            // RgbaColor.fromRgba and RgbaColor.clone both return new objects.\n            // This is important for avoiding duplicate filtering logic in the caching layer.\n            fabricColors['primaryBackground'] = RgbaColor_1.default.clone(pageBG);\n            fabricColors['primaryText'] = fabricColors['primaryText'] || coerceToColor('#333');\n            fabricColors['whiteTranslucent40'] = pageBG && RgbaColor_1.default.fromRgba(pageBG.R, pageBG.G, pageBG.B, alpha40);\n            fabricColors['backgroundOverlay'] = bgOverlay;\n            fabricColors['suiteBarBackground'] = coerceToColor(colors['SuiteBarBackground']) || null;\n            fabricColors['suiteBarText'] = coerceToColor(colors['SuiteBarText']) || null;\n            fabricColors['suiteBarDisabledText'] = coerceToColor(colors['SuiteBarDisabledText']) || null;\n            fabricColors['topBarBackground'] = coerceToColor(colors['TopBarBackground']) || null;\n            fabricColors['topBarText'] = coerceToColor(colors['TopBarText']) || null;\n            fabricColors['topBarHoverText'] = coerceToColor(colors['TopBarHoverText']) || null;\n            fabricColors['dialogBorder'] = coerceToColor(colors['DialogBorder']) || null;\n            return {\n                backgroundImageUri: themeData.BackgroundImageUri,\n                cacheToken: themeData.ThemeCacheToken,\n                isDefault: themeData.IsDefault,\n                isInverted: themeData.IsInverted,\n                palette: fabricColors,\n                version: themeData.Version\n            };\n        }\n        return {\n            backgroundImageUri: \"\",\n            cacheToken: \"\",\n            isDefault: true,\n            isInverted: false,\n            palette: {},\n            version: \"\"\n        };\n    };\n    /**\n     * Coerces an HTML color string or a color object in raw web theme data into an RgbaColor.\n     * @param {any} toColor Object to be converted into an RgbaColor.\n     */\n    WebTheme.coerceToColor = function (toColor) {\n        \"use strict\";\n        var resultColor;\n        // Use duck typing to extract a color\n        if (!toColor) {\n            resultColor = null;\n        }\n        else if (typeof toColor === \"string\" || toColor instanceof String) {\n            resultColor = RgbaColor_1.default.fromHtmlColor(String(toColor));\n        }\n        else if (\"DefaultColor\" in toColor) {\n            resultColor = WebTheme.coerceToColor(toColor[\"DefaultColor\"]);\n        }\n        else if (\"R\" in toColor && \"G\" in toColor && \"B\" in toColor) {\n            resultColor = RgbaColor_1.default.fromRgba(toColor.R, toColor.G, toColor.B, toColor.A);\n        }\n        return resultColor;\n    };\n    return WebTheme;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = WebTheme;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/theming/WebTheme.js\n ** module id = 66\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar RgbaColor_1 = require('./RgbaColor');\nvar ThemeCache_1 = require('./ThemeCache');\nvar Promise_1 = require('../async/Promise');\nvar Engagement_event_1 = require('../logging/events/Engagement.event');\nvar Qos_event_1 = require('../logging/events/Qos.event');\n/**\n * Provides theme data, either from the local cache or from the server.\n */\nvar ThemeProvider = (function () {\n    /**\n     * Constructs a ThemeProvider which acts like the provided loadData function but with caching.\n     * @param {() => Promise<IThemeData>} loadData Used to load data on a cache miss.\n     */\n    function ThemeProvider(loadData) {\n        this._loadData = loadData;\n    }\n    /**\n     * Given a URL, returns a string value which can be safely used as a\n     * background-image value in a CSS rule. If the url is falsey, this\n     * returns \"none\" to specify no background-image.\n     * @param {string} url The URL of a background image.\n     */\n    ThemeProvider._makeCssUrl = function (url) {\n        var cssUrlValue = \"none\";\n        if (url) {\n            cssUrlValue = 'url(\"' +\n                ThemeProvider._escapeQuotesAndParentheses(url) +\n                '\")';\n        }\n        return cssUrlValue;\n    };\n    /**\n     * Escapes single- and double-quotes along with parentheses so that the\n     * resulting string is safe to use in a CSS background-image: url()\n     * @param {string} str The string to escape.\n     */\n    ThemeProvider._escapeQuotesAndParentheses = function (str) {\n        var replacements = { \"'\": \"%27\", '\"': \"%22\", \"(\": \"%28\", \")\": \"%29\" };\n        var result = null;\n        if (str != null) {\n            result = str.replace(/(['\"\\(\\)])/gm, function (match, capture) {\n                return replacements[capture];\n            });\n        }\n        return result;\n    };\n    /**\n     * Loads the theme data and returns a map from theme tokens to replacement values.\n     * Suitable for use with loadTheme in load-themed-styles.\n     * @param {string} cacheToken Cache token used to validate cached data.\n     * @param {boolean} forceUpdate Whether to force fresh data to be loaded and cached.\n     */\n    ThemeProvider.prototype.loadThemeTokenMap = function (cacheToken, forceUpdate) {\n        return this.loadThemeData(cacheToken, forceUpdate).then(function (themeData) {\n            var themeValues;\n            if (themeData && themeData.palette) {\n                themeValues = {};\n                var palette = themeData.palette;\n                for (var colorSlot in palette) {\n                    var rgbaValue = palette[colorSlot];\n                    themeValues[colorSlot] = rgbaValue ? RgbaColor_1.default.toHtmlString(rgbaValue) : null;\n                }\n                themeValues[\"backgroundImageUri\"] =\n                    ThemeProvider._makeCssUrl(themeData.backgroundImageUri);\n            }\n            return themeValues;\n        }, function (error) { return null; }); // on error, return null\n    };\n    /**\n     * Loads the theme data from the cache or via the a loadData method.\n     * @param {string} cacheToken Cache token used to validate cached data.\n     * @param {boolean} forceUpdate Whether to force fresh data to be loaded and cached.\n     */\n    ThemeProvider.prototype.loadThemeData = function (cacheToken, forceUpdate) {\n        if (!forceUpdate && this._dataPromise) {\n            return this._dataPromise;\n        }\n        var _this = this;\n        var failureResultCode = null;\n        var failureResultType = Qos_event_1.ResultTypeEnum.Failure;\n        this._dataPromise = Qos_event_1.Qos.instrumentPromise(\n        /*startSchema*/ { name: \"ThemeProvider.LoadData\" }, \n        /*createPromise*/ function () { return new Promise_1.default(function loadDataOnExecute(complete, error) {\n            var previousData = null;\n            if (!forceUpdate) {\n                // Checks if we have valid cached data before returning it.\n                previousData = ThemeCache_1.default.getCachedTheme(cacheToken);\n            }\n            // If we have previous data and an update is not forced, use that data.\n            if (previousData) {\n                Engagement_event_1.Engagement.logData({ name: \"ThemeProvider.DataFromCache\" });\n                complete(previousData);\n            }\n            else {\n                if (forceUpdate) {\n                    Engagement_event_1.Engagement.logData({ name: \"ThemeProvider.ForceUpdateData\" });\n                }\n                Engagement_event_1.Engagement.logData({ name: \"ThemeProvider.DataFromServer\" });\n                // Get updated data. Might result in a server call.\n                _this._loadData(forceUpdate).done(function onComplete(themeData) {\n                    if (themeData) {\n                        if (themeData.cacheToken) {\n                            ThemeCache_1.default.updateThemeCache(themeData, cacheToken);\n                            complete(themeData);\n                        }\n                        else {\n                            //TODO what happens if error() is undefined?\n                            failureResultCode = \"NoCacheToken\";\n                            if (error) {\n                                error(\"Theme data with no CacheToken returned\");\n                            }\n                        }\n                    }\n                    else {\n                        failureResultCode = \"NoData\";\n                        if (error) {\n                            error(\"No model returned\");\n                        }\n                    }\n                }, function onError(err) {\n                    if (Promise_1.default.isCanceled(error)) {\n                        failureResultCode = \"Canceled\";\n                        failureResultType = Qos_event_1.ResultTypeEnum.ExpectedFailure;\n                    }\n                    else {\n                        failureResultCode = \"ServerLoadFailure\";\n                    }\n                    if (error) {\n                        error(err);\n                    }\n                });\n            }\n        }); }, \n        /*getCompleteSchema*/ null, \n        /*getErrorSchema*/ function getErrorSchema(error) {\n            if (Promise_1.default.isCanceled(error)) {\n                failureResultType = Qos_event_1.ResultTypeEnum.ExpectedFailure;\n                failureResultCode = \"Canceled\";\n            }\n            return {\n                resultType: failureResultType,\n                resultCode: failureResultCode || \"Other\",\n                error: error\n            };\n        });\n        return this._dataPromise;\n    };\n    return ThemeProvider;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ThemeProvider;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/theming/ThemeProvider.js\n ** module id = 67\n ** module chunks = 0\n **/","// OneDrive:IgnoreCodeCoverage\n\"use strict\";\nvar BaseDataStore_1 = require('../models/store/BaseDataStore');\nvar DataStoreCachingType_1 = require('../models/store/DataStoreCachingType');\nvar THEME_CACHE_VERSION = '1.7';\nvar THEME_CACHE_PREFIX = 'odTheme';\nvar DATA_KEY = 'Data';\nvar TOKEN_KEY = 'CacheToken';\nvar VERSION_KEY = 'CacheVersion';\n/**\n * Utility methods for caching theme data.\n */\nvar ThemeCache = (function () {\n    function ThemeCache() {\n    }\n    /**\n     * Clears the theme cache.\n     */\n    ThemeCache.clearThemeCache = function () {\n        \"use strict\";\n        var ds = ThemeCache.getThemeDataStore();\n        ds.remove(DATA_KEY);\n        ds.remove(TOKEN_KEY);\n        ds.remove(VERSION_KEY);\n    };\n    /**\n     * Reads the cached theme, if the cacheToken is compatible.\n     * @param {string} cacheToken The cached value will only be returned if it has the same cache token.\n     */\n    ThemeCache.getCachedTheme = function (cacheToken) {\n        \"use strict\";\n        var cachedTheme;\n        var ds = ThemeCache.getThemeDataStore();\n        try {\n            // Make sure the data was cached with the expected version and\n            // the current theme cache token. Otherwise, return undefined.\n            if (cacheToken === ds.getValue(TOKEN_KEY) &&\n                THEME_CACHE_VERSION === ds.getValue(VERSION_KEY)) {\n                cachedTheme = ds.getValue(DATA_KEY);\n            }\n        }\n        catch (exReadCache) {\n        }\n        return cachedTheme;\n    };\n    /**\n     * Updates the theme data in the cache.\n     * @param {IThemeData} themeData The new theme data to cache.\n     */\n    ThemeCache.updateThemeCache = function (themeData, cacheToken) {\n        \"use strict\";\n        var ds = ThemeCache.getThemeDataStore();\n        ds.setValue(DATA_KEY, themeData);\n        ds.setValue(TOKEN_KEY, cacheToken || themeData.cacheToken);\n        ds.setValue(VERSION_KEY, THEME_CACHE_VERSION);\n    };\n    /**\n     * Returns an instance of the supporting data store for this cache.\n     */\n    ThemeCache.getThemeDataStore = function () {\n        \"use strict\";\n        return new BaseDataStore_1.default(THEME_CACHE_PREFIX, DataStoreCachingType_1.default.local);\n    };\n    return ThemeCache;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ThemeCache;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/@ms/odsp-utilities/lib/theming/ThemeCache.js\n ** module id = 68\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_69__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"@microsoft/sp-client-base\"\n ** module id = 69\n ** module chunks = 0\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * Utililty code to help manipulate objects.\r\n */\r\n\r\nimport * as lodash from '@microsoft/sp-lodash-subset';\r\n\r\n/**\r\n * To make obj fully immutable, freeze each object in obj.\r\n * @remarks: this works only on pure JSON objects by design.\r\n * @param {obj} object to freeze\r\n */\r\n/* tslint:disable:export-name */\r\nexport function deepFreeze(obj: Object): Object {\r\n/* tslint:enable:export-name */\r\n  if (!obj) {\r\n    return undefined;\r\n  }\r\n\r\n  if (!Object.isFrozen(obj)) {\r\n    Object.freeze(obj);\r\n  }\r\n\r\n  let depth: number = 0;\r\n  const func: (o: Object) => void = (o: Object): void => {\r\n\r\n    // Do not go more than 5 level deep\r\n    if (++depth > 5) {\r\n      return;\r\n    }\r\n\r\n    const propNames: string[] = Object.getOwnPropertyNames(o);\r\n\r\n    propNames.forEach((name: string) => {\r\n      const prop: Object = o[name];\r\n      if (typeof prop === 'object' && !!prop && !lodash.isElement(prop) && !Object.isFrozen(prop)) {\r\n        func(prop);\r\n      }\r\n    });\r\n  };\r\n\r\n  func(obj);\r\n  return obj;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/utilities/misc/Object.ts\n **/"," /* This file was generated by a tool. Modifying it will produce unexpected behavior. */\r\n/* tslint:disable */\r\n\r\nconst strings = UNIT_TEST\r\n                 ? require('../../../../resx-strings/en-us.json')\r\n                 : require('resx-strings');\r\nexport interface IStrings {\r\n  ManifestNullError: string;\r\n  ReadOnlyPropertyError: string;\r\n  BaseConstructError: string;\r\n  ConstructLog: string;\r\n  SerializeLog: string;\r\n  DisposeLog: string;\r\n  MustOverrideRenderError: string;\r\n  NonBaseWebPartError: string;\r\n  BaseConstructorNotCalledError: string;\r\n  PropertyBagNullError: string;\r\n  GenericError: string;\r\n  UndefinedModuleError: string;\r\n  ModuleNotLoadedError: string;\r\n  IncorrectBoostrapModuleError: string;\r\n  ScriptLoadErrorTemplate: string;\r\n  LoadingStatus: string;\r\n  OnInitReturnedNullPromise: string;\r\n  OnDisplayModeChangedInvalidInvocation: string;\r\n  GenericAccessibleLabelTemplate: string;\r\n}\r\n\r\nexport default strings['_3TQNOPdunsdXO/TupbQUNg'] || {} as IStrings;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/loc/Strings.resx.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_72__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"resx-strings\"\n ** module id = 72\n ** module chunks = 0\n **/","require('cswp-base.module.css');\r\n\r\n/* tslint:disable */\r\nconst styles = {\r\n  errorBox: 'errorBox_860098e2',\r\n  errorBoxText: 'errorBoxText_62c7826d',\r\n  screenReaderOnly: 'screenReaderOnly_2ba9b764',\r\n};\r\n\r\nexport default styles;\r\n/* tslint:enable */\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/styles/cswp-base.module.scss.ts\n **/","var content = require(\"!!./../../../../../../common/node_modules/css-loader/index.js!./cswp-base.module.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/clientSideWebParts/core/styles/cswp-base.module.css\n ** module id = 74\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".errorBox_860098e2{color:#333;font-family:\\\"Segoe UI Regular WestEuropean\\\",\\\"Segoe UI\\\",Tahoma,Arial,sans-serif;font-size:15px;font-weight:400;color:#ff3a46;padding:12px 0;overflow:hidden;position:relative;top:0;left:0;right:0;z-index:1}.errorBoxText_62c7826d{text-align:left;position:relative;padding-right:28px;display:inline-block}.screenReaderOnly_2ba9b764{position:absolute;text-indent:-9999px;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;border:0}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/clientSideWebParts/core/styles/cswp-base.module.css\n ** module id = 75\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader/lib/css-base.js\n ** module id = 76\n ** module chunks = 0\n **/","/**\n * An IThemingInstruction can specify a rawString to be preserved or a theme slot and a default value\n * to use if that slot is not specified by the theme.\n */\nexport interface IThemingInstruction {\n  theme?: string;\n  defaultValue?: string;\n  rawString?: string;\n};\n\nexport type ThemableArray = Array<IThemingInstruction>;\n\ninterface IThemeState {\n  theme: { [key: string]: string };\n  lastStyleElement: HTMLStyleElement;\n  registeredStyles: IStyleRecord[];\n}\n\ninterface IStyleRecord {\n  styleElement: Element;\n  themableStyle: ThemableArray;\n};\n\n// IE needs to inject styles using cssText. However, we need to evaluate this lazily, so this\n// value will initialize as undefined, and later will be set once on first loadStyles injection.\nlet _injectStylesWithCssText: boolean;\n\n// Store the theming state in __themeState__ global scope for reuse in the case of duplicate\n// load-themed-styles hosted on the page.\nconst _root: any = (typeof window === 'undefined') ? {} : window;\n\nconst _themeState: IThemeState = _root.__themeState__ = _root.__themeState__ || {\n  theme: null,\n  lastStyleElement: null,\n  registeredStyles: []\n};\n\n/**\n * Matches theming tokens. For example, \"[theme: themeSlotName, default: #FFF]\" (including the quotes).\n */\n/* tslint:disable: max-line-length */\nconst _themeTokenRegex = /[\\'\\\"]\\[theme:\\s*(\\w+)\\s*(?:\\,\\s*default:\\s*([\\\\\"\\']?[\\.\\,\\(\\)\\#\\-\\s\\w]*[\\.\\,\\(\\)\\#\\-\\w][\\\"\\']?))?\\s*\\][\\'\\\"]/g;\n/* tslint:enable: max-line-length */\n\n/** Maximum style text length, for supporting IE style restrictions. */\nconst MAX_STYLE_CONTENT_SIZE = 10000;\n\n/**\n * Loads a set of style text. If it is registered too early, we will register it when the window.load\n * event is fired.\n * @param {string | ThemableArray} styles Themable style text to register.\n */\nexport function loadStyles(styles: string | ThemableArray) {\n  let styleParts: ThemableArray = Array.isArray(styles) ? styles : splitStyles(styles);\n\n  if (_injectStylesWithCssText === undefined) {\n    _injectStylesWithCssText = shouldUseCssText();\n  }\n\n  applyThemableStyles(styleParts);\n}\n\n/**\n * Loads a set of style text. If it is registered too early, we will register it when the window.load event\n * is fired.\n * @param {string} styleText Style to register.\n * @param {IStyleRecord} styleRecord Existing style record to re-apply.\n */\nfunction applyThemableStyles(styles: ThemableArray, styleRecord?: IStyleRecord) {\n  _injectStylesWithCssText ?\n    registerStylesIE(styles, styleRecord) :\n    registerStyles(styles, styleRecord);\n}\n\n/**\n * Registers a set theme tokens to find and replace. If styles were already registered, they will be\n * replaced.\n * @param {any} theme JSON object of theme tokens to values.\n */\nexport function loadTheme(theme: any) {\n  _themeState.theme = theme;\n\n  // reload styles.\n  reloadStyles();\n}\n\n/**\n * Reloads styles.\n * @param {any} theme JSON object of theme tokens to values.\n */\nfunction reloadStyles(): void {\n  if (_themeState.theme) {\n    for (let styleRecord of _themeState.registeredStyles) {\n      applyThemableStyles(styleRecord.themableStyle, styleRecord);\n    }\n  }\n}\n\n/**\n * Find theme tokens and replaces them with provided theme values.\n * @param {string} styles Tokenized styles to fix.\n */\nexport function detokenize(styles: string): string {\n  if (styles) {\n    styles = resolveThemableArray(splitStyles(styles));\n  }\n\n  return styles;\n}\n\n/**\n * Resolves ThemingInstruction objects in an array and joins the result into a string.\n * @param {ThemableArray} splitStyleArray ThemableArray to resolve and join.\n */\nfunction resolveThemableArray(splitStyleArray: ThemableArray): string {\n  let { theme } = _themeState;\n  let resolvedCss: string;\n  if (splitStyleArray) {\n    // Resolve the array of theming instructions to an array of strings.\n    // Then join the array to produce the final CSS string.\n    let resolvedArray = splitStyleArray.map((currentValue: IThemingInstruction) => {\n      let themeSlot = currentValue.theme;\n      if (themeSlot != null) {\n        // A theming annotation. Resolve it.\n        let themedValue = theme ? theme[themeSlot] : null;\n        let defaultValue = currentValue.defaultValue;\n\n        // Warn to console if we hit an unthemed value even when themes are provided.\n        // Allow the themedValue to be null to explicitly request the default value.\n        if (theme && !themedValue && console && !(themeSlot in theme)) {\n          /* tslint:disable: max-line-length */\n          console.warn(`Theming value not provided for \"${themeSlot}\". Falling back to \"${defaultValue || 'inherit'}\".`);\n          /* tslint:enable: max-line-length */\n        }\n\n        return themedValue || defaultValue || 'inherit';\n      } else {\n        // A non-themable string. Preserve it.\n        return currentValue.rawString;\n      }\n    });\n\n    resolvedCss = resolvedArray.join('');\n  }\n\n  return resolvedCss;\n}\n\n/**\n * Split tokenized CSS into an array of strings and theme specification objects\n * @param {string} styles Tokenized styles to split.\n */\nexport function splitStyles(styles: string): ThemableArray {\n  let result: ThemableArray = [];\n  if (styles) {\n    let pos = 0; // Current position in styles.\n    let tokenMatch;\n    while (tokenMatch = _themeTokenRegex.exec(styles)) {\n      let matchIndex: number = tokenMatch.index;\n      if (matchIndex > pos) {\n        result.push({\n          rawString: styles.substring(pos, matchIndex)\n        });\n      }\n\n      result.push({\n        theme: tokenMatch[1],\n        defaultValue: tokenMatch[2] // May be undefined\n      });\n\n      // index of the first character after the current match\n      pos = _themeTokenRegex.lastIndex;\n    }\n\n    // Push the rest of the string after the last match.\n    result.push({\n      rawString: styles.substring(pos)\n    });\n  }\n\n  return result;\n}\n\n/**\n * Registers a set of style text. If it is registered too early, we will register it when the\n * window.load event is fired.\n * @param {ThemableArray} styleArray Array of IThemingInstruction objects to register.\n * @param {IStyleRecord} styleRecord May specify a style Element to update.\n */\nfunction registerStyles(styleArray: ThemableArray, styleRecord?: IStyleRecord): void {\n  let head = document.getElementsByTagName('head')[0];\n  let styleElement = document.createElement('style');\n\n  styleElement.type = 'text/css';\n  styleElement.appendChild(document.createTextNode(resolveThemableArray(styleArray)));\n\n  if (styleRecord) {\n    head.replaceChild(styleElement, styleRecord.styleElement);\n    styleRecord.styleElement = styleElement;\n  } else {\n    head.appendChild(styleElement);\n  }\n\n  if (!styleRecord) {\n    _themeState.registeredStyles.push({\n      styleElement: styleElement,\n      themableStyle: styleArray\n    });\n  }\n}\n\n/**\n * Registers a set of style text, for IE 9 and below, which has a ~30 style element limit so we need\n * to register slightly differently.\n * @param {ThemableArray} styleArray Array of IThemingInstruction objects to register.\n * @param {IStyleRecord} styleRecord May specify a style Element to update.\n */\nfunction registerStylesIE(styleArray: ThemableArray, styleRecord?: IStyleRecord) {\n  let head = document.getElementsByTagName('head')[0];\n  let { lastStyleElement, registeredStyles } = _themeState;\n\n  let stylesheet = lastStyleElement ? (lastStyleElement as any).styleSheet : null;\n  let lastStyleContent = stylesheet ? stylesheet.cssText : '';\n  let lastRegisteredStyle = registeredStyles[registeredStyles.length - 1];\n  let resolvedStyleText = resolveThemableArray(styleArray);\n\n  if (!lastStyleElement || (lastStyleContent.length + resolvedStyleText.length) > MAX_STYLE_CONTENT_SIZE) {\n    lastStyleElement = document.createElement('style');\n    lastStyleElement.type = 'text/css';\n\n    if (styleRecord) {\n      head.replaceChild(lastStyleElement, styleRecord.styleElement);\n      styleRecord.styleElement = lastStyleElement;\n    } else {\n      head.appendChild(lastStyleElement);\n    }\n\n    if (!styleRecord) {\n      lastRegisteredStyle = {\n        styleElement: lastStyleElement,\n        themableStyle: styleArray\n      };\n      registeredStyles.push(lastRegisteredStyle);\n    }\n  }\n\n  (lastStyleElement as any).styleSheet.cssText += detokenize(resolvedStyleText);\n  Array.prototype.push.apply(lastRegisteredStyle.themableStyle, styleArray); // concat in-place\n\n  // Preserve the theme state.\n  _themeState.lastStyleElement = lastStyleElement;\n}\n\n/**\n * Checks to see if styleSheet exists as a property off of a style element.\n * This will determine if style registration should be done via cssText (<= IE9) or not\n */\nfunction shouldUseCssText(): boolean {\n  let useCSSText = false;\n\n  if (typeof document !== 'undefined') {\n    let emptyStyle = document.createElement('style') as any;\n\n    emptyStyle.type = 'text/css';\n    useCSSText = !!emptyStyle.styleSheet;\n  }\n\n  return useCSSText;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /source/index.ts\n **/","require('cswp-loading-spinner.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/styles/cswp-loading-spinner.scss.ts\n **/","var content = require(\"!!./../../../../../../common/node_modules/css-loader/index.js!./cswp-loading-spinner.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/clientSideWebParts/core/styles/cswp-loading-spinner.css\n ** module id = 79\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"-webkit-keyframes cswp-spinner-rotate from{-webkit-transform:rotate(0)}-webkit-keyframes cswp-spinner-rotate to{-webkit-transform:rotate(360deg)}-moz-keyframes cswp-spinner-rotate from{-moz-transform:rotate(0)}-moz-keyframes cswp-spinner-rotate to{-moz-transform:rotate(360deg)}-ms-keyframes cswp-spinner-rotate from{-ms-transform:rotate(0)}-ms-keyframes cswp-spinner-rotate to{-ms-transform:rotate(360deg)}@-webkit-keyframes cswp-spinner-rotate{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cswp-spinner-rotate{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cswp-loading{background-color:#fff;text-align:center}.cswp-loading>.cswp-loading-spinner{font-size:14px;min-height:200px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.cswp-loading>.cswp-loading-spinner>.cswp-spinner-message{color:#666;display:inline-block;position:relative;left:6px;top:-2px}.cswp-loading>.cswp-loading-spinner>.cswp-loading-screenReaderOnly{position:absolute;text-indent:-9999px;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;border:0}.cswp-loading>.cswp-loading-spinner>.cswp-loading-spinner-container{width:32px;height:32px;display:inline-block}.cswp-loading>.cswp-loading-spinner>.cswp-loading-spinner-container>.cswp-loading-spinner{width:28px;height:28px;position:relative;padding:4px 0 0 4px;overflow:hidden;-webkit-animation-duration:1s;-webkit-animation-iteration-count:infinite;-webkit-animation-timing-function:steps(8,end);-webkit-animation-name:cswp-spinner-rotate;-moz-animation-duration:1s;-moz-animation-iteration-count:infinite;-moz-animation-timing-function:steps(8,end);-moz-animation-name:cswp-spinner-rotate;-ms-animation-duration:1s;-ms-animation-iteration-count:infinite;-ms-animation-timing-function:steps(8,end);-ms-animation-name:cswp-spinner-rotate;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:steps(8,end);animation-name:cswp-spinner-rotate}.cswp-loading>.cswp-loading-spinner>.cswp-loading-spinner-container>.cswp-loading-spinner>.cswp-loading-ball-color{background:#666;width:6px;height:6px;border-radius:100%;position:absolute;-webkit-transform-origin:12px 12px;transform-origin:12px 12px}.cswp-loading>.cswp-loading-spinner>.cswp-loading-spinner-container>.cswp-loading-spinner>.cswp-loading-ball-color:nth-child(1){-webkit-transform:rotate(45deg);transform:rotate(45deg)}.cswp-loading>.cswp-loading-spinner>.cswp-loading-spinner-container>.cswp-loading-spinner>.cswp-loading-ball-color:nth-child(2){opacity:.8;-webkit-transform:rotate(0);transform:rotate(0)}.cswp-loading>.cswp-loading-spinner>.cswp-loading-spinner-container>.cswp-loading-spinner>.cswp-loading-ball-color:nth-child(3){opacity:.6;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.cswp-loading>.cswp-loading-spinner>.cswp-loading-spinner-container>.cswp-loading-spinner>.cswp-loading-ball-color:nth-child(4){opacity:.4;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.cswp-loading>.cswp-loading-spinner>.cswp-loading-spinner-container>.cswp-loading-spinner>.cswp-loading-ball-color:nth-child(5){opacity:.25;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.cswp-loading>.cswp-loading-spinner>.cswp-loading-spinner-container>.cswp-loading-spinner>.cswp-loading-ball-color:nth-child(6){opacity:.15;-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.cswp-loading>.cswp-loading-spinner>.cswp-loading-spinner-container>.cswp-loading-spinner>.cswp-loading-ball-color:nth-child(7){opacity:.075;-webkit-transform:rotate(-225deg);transform:rotate(-225deg)}.cswp-loading>.cswp-loading-spinner>.cswp-loading-spinner-container>.cswp-loading-spinner>.cswp-loading-ball-color:nth-child(8){opacity:.05;-webkit-transform:rotate(-270deg);transform:rotate(-270deg)}.cswp-loading>.cswp-loading-spinner>.cswp-small-spinner{width:16px;height:16px}.cswp-loading>.cswp-loading-spinner>.cswp-small-spinner>.cswp-loading-spinner{width:14px;height:14px;padding:2px 0 0 2px}.cswp-loading>.cswp-loading-spinner>.cswp-small-spinner>.cswp-loading-spinner>.cswp-loading-ball-color{width:3px;height:3px;-webkit-transform-origin:6px 6px;transform-origin:6px 6px}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/clientSideWebParts/core/styles/cswp-loading-spinner.css\n ** module id = 80\n ** module chunks = 0\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Base webpart for all React webparts\r\n */\r\n\r\nimport * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { DisplayMode } from '@microsoft/sp-client-base';\r\n\r\nimport { IWebPartProps } from './IWebPartProps';\r\nimport IWebPartContext from './IWebPartContext';\r\nimport BaseClientSideWebPart from './BaseClientSideWebPart';\r\n\r\n/**\r\n * React web part props\r\n *\r\n * @alpha\r\n */\r\nexport interface IReactWebPartProps extends IWebPartProps {\r\n  /**\r\n   * The display mode for the summary links component. It is either Read or Edit.\r\n   * This value is read from web part and passed to here.\r\n   */\r\n  mode: DisplayMode;\r\n}\r\n\r\n/**\r\n * Implement some common functionality for a base React webpart. All React based\r\n * webparts are expected to inherit from this class.\r\n *\r\n * @alpha\r\n */\r\nexport default class ReactWebPart<TProperties> extends BaseClientSideWebPart<TProperties> {\r\n  /* tslint:disable:no-any */\r\n  private _componentType: React.ComponentClass<any>;\r\n  /* tslint:enable:no-any */\r\n  private _componentInstance: React.ReactElement<IReactWebPartProps>;\r\n\r\n  constructor(\r\n    context: IWebPartContext,\r\n    componentType: React.ComponentClass<IReactWebPartProps>) {\r\n\r\n    super(context);\r\n    this._componentType = componentType;\r\n  }\r\n\r\n  protected dispose(): void {\r\n    ReactDOM.unmountComponentAtNode(this.domElement);\r\n  }\r\n\r\n  public render(): void {\r\n    const element: HTMLElement = this.domElement;\r\n\r\n    this._componentInstance = React.createElement<IReactWebPartProps>(\r\n      this._componentType,\r\n      {\r\n        mode: this.displayMode\r\n      });\r\n\r\n    ReactDOM.render(this._componentInstance, element);\r\n  }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/ReactWebPart.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_82__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 82\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_83__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-dom\"\n ** module id = 83\n ** module chunks = 0\n **/","import {\r\n  BasicHttpClient,\r\n  DisplayMode,\r\n  Environment,\r\n  EnvironmentType,\r\n  HttpClient,\r\n  PageContext,\r\n  ServiceScope } from '@microsoft/sp-client-base';\r\nimport {\r\n  ILocalizedString,\r\n  IClientSideWebPartManifest,\r\n  IClientSideWebPartManifestInstance,\r\n  IClientSideWebPartManifestEntry,\r\n  IClientSideComponentLoaderConfig\r\n} from '@microsoft/sp-module-interfaces';\r\nimport EventAggregator from '../../../common/events/EventAggregator';\r\nimport IClientSideWebPartStatusRenderer from '../../../common/webParts/IClientSideWebPartStatusRenderer';\r\nimport { IEventAggregator } from '../../../common/events/IEvent';\r\nimport IWebPartManagerContext from '../IWebPartManagerContext';\r\nimport IWebPartHost from '../../../common/webParts/IWebPartHost';\r\nimport IWebPartData from './../IWebPartData';\r\nimport { PropertyPaneState } from '../../../common/webParts/PropertyPaneDefinitions';\r\n\r\n/*\r\n * @internal\r\n */\r\nexport class MockWebPartManifest implements IClientSideWebPartManifest<{}> {\r\n  public manifestVersion: number = 2;\r\n  public id: string = 'wpid';\r\n  public componentType: 'WebPart' = 'WebPart';\r\n  public version: string = '1.0.0';\r\n\r\n  public preconfiguredEntries: IClientSideWebPartManifestEntry<{}> [] = [{\r\n    title: { default: 'wpName' },\r\n    description: { default: 'wpDescription' },\r\n    officeFabricIconFontName: 'wpIcon',\r\n    iconImageUrl: 'wpIcon',\r\n    groupId: 'group',\r\n    properties: {}\r\n  }];\r\n\r\n  public loaderConfig: IClientSideComponentLoaderConfig = undefined;\r\n}\r\n\r\n/*\r\n * @internal\r\n */\r\nexport class MockWebPartManifestInstance implements IClientSideWebPartManifestInstance<{}> {\r\n  public manifestVersion: number = 2;\r\n  public id: string = 'wpid';\r\n  public componentType: 'WebPart' = 'WebPart';\r\n  public version: string = '1.0.0';\r\n\r\n  public title: ILocalizedString = { default: 'wpName' };\r\n  public description: ILocalizedString = { default: 'wpDescription' };\r\n  public officeFabricIconFontName: string = 'wpIcon';\r\n  public iconImageUrl: string = 'wpIcon';\r\n  public groupId: string = 'group';\r\n  public properties: {} = {};\r\n\r\n  public loaderConfig: IClientSideComponentLoaderConfig = undefined;\r\n}\r\n\r\n/*\r\n * @internal\r\n */\r\nexport class MockWebPartManagerContext implements IWebPartManagerContext {\r\n  public domElement: HTMLElement = document.createElement('div');\r\n  public instanceId: string = 'wpInstanceId';\r\n  public manifest: MockWebPartManifest = new MockWebPartManifest();\r\n  public webPartData: IWebPartData = undefined;\r\n  public displayMode: DisplayMode = DisplayMode.Read;\r\n  public host: IWebPartHost = undefined;\r\n}\r\n\r\n/*\r\n * @internal\r\n */\r\nexport class MockWebPartContext {\r\n  public domElement: HTMLElement = document.createElement('div');\r\n  public manifest: IClientSideWebPartManifestInstance<{}> = new MockWebPartManifestInstance();\r\n\r\n  public instanceId: string = 'wpInstanceId';\r\n  public webPartTag: string = 'WebPart.daf0b71c-6de8-4ef7-b511-faae7c388708.0ae4973a-70e3-451e-9f1f-3f25e5455a60';\r\n\r\n  /* tslint:disable:no-any */\r\n  public httpClient: HttpClient = {} as any;\r\n  public basicHttpClient: BasicHttpClient = {} as any;\r\n  public pageContext: PageContext = {} as any;\r\n\r\n  public statusRenderer: IClientSideWebPartStatusRenderer = {} as any;\r\n  public eventAggregator: IEventAggregator = {} as any;\r\n  public configureStart: (id: string, propertyPaneState?: PropertyPaneState) => void = {} as any;\r\n\r\n  public serviceScope: ServiceScope = {} as any;\r\n  public environment: Environment = {} as any;\r\n  public host: IWebPartHost = {} as any;\r\n  /* tslint:enable:no-any */\r\n}\r\n\r\n/*\r\n * @internal\r\n */\r\nexport class MockPreloadedPageData {\r\n  public appId: string = '00000000-0000-0000-0000-000000000000';\r\n  public webServerRelativeUrl: string = 'http://localhost:4321';\r\n  public webAbsoluteUrl: string = 'http://localhost:4321';\r\n}\r\n\r\n/*\r\n * @internal\r\n */\r\nexport class MockWebPartHost implements IWebPartHost {\r\n  public pageContext: PageContext = new PageContext(undefined);\r\n\r\n  public basicHttpClient: BasicHttpClient = undefined;\r\n  public httpClient: HttpClient = undefined;\r\n  /* tslint:disable:no-any */\r\n  public eventAggregator: any = EventAggregator;\r\n  /* tslint:enable:no-any */\r\n  public statusRenderer: MockClientSideWebPartStatusRenderer = new MockClientSideWebPartStatusRenderer();\r\n  public serviceScope: ServiceScope = undefined;\r\n  public environment: Environment = new Environment(this.serviceScope);\r\n  public renderPropertyPane: (props: {}) => void  = (props: {}): void => { /* EMPTY BLOCK */ };\r\n\r\n  constructor() {\r\n    this.environment._initialize(EnvironmentType.Test);\r\n  }\r\n}\r\n\r\n/*\r\n * @internal\r\n */\r\nexport class MockClientSideWebPartStatusRenderer implements IClientSideWebPartStatusRenderer {\r\n\r\n  public displayCalled: boolean = false;\r\n  public clearCalled: boolean = false;\r\n  public errorCalled: boolean = false;\r\n  public clearErrorCalled: boolean = false;\r\n\r\n  public displayLoadingIndicator(domElement: HTMLElement): void {\r\n    this.displayCalled = true;\r\n  }\r\n\r\n  public clearLoadingIndicator(domElement: HTMLElement): void {\r\n    this.clearCalled = true;\r\n  }\r\n\r\n  public renderError(domElement: HTMLElement, error: Error | string): void {\r\n    this.errorCalled = true;\r\n  }\r\n\r\n  public clearError(domElement: HTMLElement): void {\r\n    this.clearErrorCalled = true;\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/test/WebPartMocks.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n *\r\n * @file Event aggregator utility. This utility is a generic publish-subscribe\r\n * model to help two or more components pass events to each other.\r\n */\r\n\r\nimport { Validate } from '@microsoft/sp-client-base';\r\n\r\nimport { IEvent, IEventCallback, IEventAggregator } from './IEvent';\r\nimport ReservedEventNames from './ReservedEventNames';\r\n\r\n/**\r\n * Event Aggregator\r\n *\r\n * @internal\r\n */\r\nexport default class EventAggregator implements IEventAggregator {\r\n\r\n  private _events: Map<string, Map<string, IEventCallback<{}>>> = new Map<string, Map<string, IEventCallback<{}>>>();\r\n  private _sources: Map<string, Map<string, IEventCallback<{}>>> = new Map<string, Map<string, IEventCallback<{}>>>();\r\n\r\n  /**\r\n   * Subscribe for an event from all sources\r\n   *\r\n   * @param Name of the event\r\n   * @param Id of the subscriber to the event\r\n   * @param Callback for when the event is raised\r\n   */\r\n  public subscribeByEventName<T>(eventName: string, subscriberId: string, callback: IEventCallback<T>): void {\r\n    Validate.isNotNullOrUndefined(eventName, 'eventName');\r\n    this._validateEvent(eventName);\r\n\r\n    this._setSubscription(eventName, subscriberId, callback, this._events);\r\n  }\r\n\r\n  /**\r\n   * Subscribe for all events from a specific source.\r\n   *\r\n   * @param Source of the event\r\n   * @param Id of the subscriber to the event\r\n   * @param Callback for when the event is raised\r\n   */\r\n  public subscribeBySourceId<T>(sourceId: string, subscriberId: string, callback: IEventCallback<T>): void {\r\n    Validate.isNotNullOrUndefined(sourceId, 'sourceId');\r\n\r\n    this._setSubscription(sourceId, subscriberId, callback, this._sources);\r\n  }\r\n\r\n  /**\r\n   * Raise an event\r\n   *\r\n   * @param Event name\r\n   * @param Event object\r\n   */\r\n  public raiseEvent<T>(eventName: string, eventObject: IEvent<T>): void {\r\n    Validate.isNotNullOrUndefined(eventName, 'eventName');\r\n    Validate.isNotNullOrUndefined(eventObject, 'eventObject');\r\n    Validate.isNotNullOrUndefined(eventObject.sourceId, 'eventObject.sourceId');\r\n\r\n    const targets: {} = {};\r\n    this._validateEvent(eventName);\r\n\r\n    // First process all eventName subscriptions and then sourceId subscriptions\r\n    this._processEvent(eventName, eventObject, targets, this._events.get(eventName));\r\n    this._processEvent(eventName, eventObject, targets, this._sources.get(eventObject.sourceId));\r\n  }\r\n\r\n  private _validateEvent(eventName: string): void {\r\n    const e: string[] = eventName.split(ReservedEventNames.delimitor);\r\n\r\n    if (e.length !== 2) {\r\n      throw new Error('Event ' + eventName + ' not in eventName:action format');\r\n    }\r\n  }\r\n\r\n  private _processEvent<T>(\r\n    eventName: string,\r\n    eventObject: IEvent<T>,\r\n    targets: Object,\r\n    map: Map<string, IEventCallback<{}>>): void {\r\n\r\n    if (map) {\r\n      map.forEach((callback: IEventCallback<{}>, targetId: string) => {\r\n        if (!targets[targetId]) {\r\n          targets[targetId] = true;\r\n          callback(eventName, eventObject);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private _setSubscription(\r\n    id: string,\r\n    subscriberId: string,\r\n    callback: IEventCallback<{}>,\r\n    eventBucket: Map<string, Map<string, IEventCallback<{}>>>): void {\r\n\r\n    Validate.isNotNullOrUndefined(subscriberId, 'subscriberId');\r\n    Validate.isNotNullOrUndefined(callback, 'callback');\r\n\r\n    if (!eventBucket.get(id)) {\r\n      eventBucket.set(id, new Map<string, IEventCallback<{}>>());\r\n    }\r\n\r\n    const map: Map<string, IEventCallback<{}>> = eventBucket.get(id);\r\n    map.set(subscriberId, callback);\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/events/EventAggregator.ts\n **/","/**\r\n * @file ReservedEventNames.ts\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\n/** ReservedEventNames\r\n *  Event names should follow the following format\r\n *  'EventName:Action'\r\n *\r\n *  e.g.\r\n *    'configure:start'\r\n *    'configure:end'\r\n *\r\n * @alpha\r\n */\r\n/* tslint:disable:no-internal-module */\r\nmodule ReservedEventNames {\r\n/* tslint:enable:no-internal-module */\r\n    'use strict';\r\n\r\n    export const delimitor: string = ':';\r\n\r\n    /* Commonly used events */\r\n    export const configure: string = 'configure';\r\n\r\n    /* Commonly used acitons a.k.a. event verbs */\r\n    export const start: string = 'start';\r\n    export const end: string = 'end';\r\n\r\n    /* Commonly used event names */\r\n    export const configureStart: string = configure + delimitor + start;\r\n    export const configureEnd: string = configure + delimitor + end;\r\n\r\n    /* Event source */\r\n    export const classicToolpane: string = 'ClassicToolpane';\r\n    export const classicToolpaneId: string = '121ff297-293c-4d66-a24b-916156760cab';\r\n}\r\n\r\nexport default ReservedEventNames;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/events/ReservedEventNames.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Interface for a Master Page Application\r\n */\r\nimport { IShell } from './Shell';\r\nimport ISuiteNavManagerConfiguration from '../../common/suiteNav/ISuiteNavManagerConfiguration';\r\nimport SuiteNavManagerConfiguration from './SuiteNavManagerConfiguration';\r\n\r\n/**\r\n * This is the system base class for client-side applications.  It manages the overall\r\n * life cycle of your application, and is the first entry point for your code to start\r\n * executing when the page loads.  The two main events are onLoad() which occurs first,\r\n * and onRender() which occurs after the shell has initialized the environment and\r\n * completed rendering the page chrome.\r\n */\r\nexport default class ClientSideApplication {\r\n  private _shell: IShell;\r\n  private _domElement: HTMLDivElement;\r\n\r\n  constructor() {\r\n    this._shell = undefined;\r\n    this._domElement = undefined;\r\n\r\n    /* tslint:disable:no-string-literal */\r\n    this['__type'] = 'ClientSideApplication';\r\n    /* tslint:enable:no-string-literal */\r\n  }\r\n\r\n  /**\r\n   * Returns a reference to the shell, which is a global singleton object that contains\r\n   * the main service classes.\r\n   */\r\n  protected get shell(): IShell {\r\n    return this._shell;\r\n  }\r\n\r\n  protected set shell(value: IShell) {\r\n    throw new Error('The property cannot be assigned because it is read-only');\r\n  }\r\n\r\n  /**\r\n   * Returns the DOM element where the application is expected to render its content.\r\n   * The domElement will be undefined until the onRender() event occurs.\r\n   * IMPORTANT: The application should not access DOM elements outside of this subtree,\r\n   * as they are system-defined and may change over time.\r\n   */\r\n  protected get domElement(): HTMLDivElement {\r\n    return this._domElement;\r\n  }\r\n\r\n  protected set domElement(value: HTMLDivElement) {\r\n    throw new Error('The property cannot be assigned because it is read-only');\r\n  }\r\n\r\n  /**\r\n   * RESERVED FOR INTERNAL USAGE.  This method is invoked automatically by the system shell.\r\n   * The application code should not call it directly.\r\n   */\r\n  public load(shell: IShell): void {\r\n    this._shell = shell;\r\n    this.onLoad();\r\n  }\r\n\r\n  /**\r\n   * This life cycle event occurs immediately after the shell has loaded the application,\r\n   * before the DOM is constructed.  Applications can use this event to load scripts\r\n   * or start asynchronous operations that need to occur early in the lifecycle.\r\n   * Inside the onLoad() event, applications may also modify the rendering of various\r\n   * page chrome elements, for example by calling this.shell.suiteNav.setComponentVisibility(false).\r\n   */\r\n  protected onLoad(): void {\r\n    // EMPTY BLOCK\r\n  }\r\n\r\n  /**\r\n   * RESERVED FOR INTERNAL USAGE.  This method is invoked automatically by the system shell.\r\n   * The application code should not call it directly.\r\n   */\r\n  public render(domElement: HTMLDivElement): void {\r\n    this._domElement = domElement;\r\n    this.onRender();\r\n  }\r\n\r\n  /**\r\n   * This lifecycle event occurs after the shell has constructed the DOM for the page chrome.\r\n   * At this time, the domElement property will be initialized, and the application can begin\r\n   * rendering its own DOM elements.\r\n   */\r\n  protected onRender(): void {\r\n    // EMPTY BLOCK\r\n  }\r\n\r\n  public suiteNavConfiguration(): ISuiteNavManagerConfiguration {\r\n    return new SuiteNavManagerConfiguration(this._shell.appPageContext);\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/shell/ClientSideApplication.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Represents a set of app specific configuration for the suite nav manager.\r\n */\r\n\r\nimport ISuiteNavManagerConfiguration from '../../common/suiteNav/ISuiteNavManagerConfiguration';\r\nimport { IO365ShellRenderSettings } from '../../common/suiteNav/IO365Shell';\r\nimport ISuiteNavData from '../../common/suiteNav/models/ISuiteNavData';\r\nimport ISuiteNavLink from '../../common/suiteNav/models/ISuiteNavLink';\r\nimport SuiteNavLinkIds from '../../common/suiteNav/models/SuiteNavLinkIds';\r\nimport AppPageContext from '../pageContext/AppPageContext';\r\n\r\nexport default class SuiteNavManagerConfiguration implements ISuiteNavManagerConfiguration {\r\n  private _pageContext: AppPageContext;\r\n  private _currentUICultureName: string;\r\n  private _o365ShellRenderSettings: IO365ShellRenderSettings;\r\n  private _siteClientTag: string;\r\n  private _systemUserKey: string;\r\n  private _webServerRelativeUrl: string;\r\n  private _hamburgerMenuCallback: () => void;\r\n  private _suiteNavPostRenderCallback: () => void;\r\n  private _isSuiteNavDisabled: boolean;\r\n  private _settingsLinks: ISuiteNavLink[];\r\n  private _signoutUrl: string;\r\n\r\n  /**\r\n   * Initializes a new instance of the SuiteNavManagerConfiguration.\r\n   */\r\n  constructor(pageContext: AppPageContext) {\r\n    this._pageContext = pageContext;\r\n    this._currentUICultureName = this._pageContext.core.currentUICultureName;\r\n    this._webServerRelativeUrl = this._pageContext.core.webServerRelativeUrl;\r\n    this._o365ShellRenderSettings = {\r\n      disableDelayLoad: false,\r\n      disableShellPlus: false,\r\n      layout: 'Mouse',\r\n      top: undefined\r\n    };\r\n    this._hamburgerMenuCallback = undefined;\r\n    this._suiteNavPostRenderCallback = undefined;\r\n    this._systemUserKey = this._pageContext.core.systemUserKey;\r\n    this._siteClientTag = this._pageContext.core.siteClientTag;\r\n    this._isSuiteNavDisabled = this._shouldDisableSuiteNav();\r\n    if (this._pageContext.core.menuData) {\r\n      /* tslint:disable:no-string-literal */\r\n      this._settingsLinks = this._pageContext.core.menuData['SettingsData'];\r\n      this._signoutUrl = this._pageContext.core.menuData['SignOutUrl'];\r\n      /* tslint:enable:no-string-literal */\r\n    }\r\n  }\r\n\r\n  public isSuiteNavDisabled(): boolean {\r\n    return this._isSuiteNavDisabled;\r\n  }\r\n\r\n  /**\r\n   * Function for disabling the suiteNav from loading\r\n   */\r\n  public disableSuiteNav(): void {\r\n    this._isSuiteNavDisabled = true;\r\n  }\r\n\r\n  /**\r\n   * Function for modifying the suite nav data that came back from the service.\r\n   * @param new SuiteNav data to replace the current data\r\n   * @returns the new SuiteNav data\r\n   */\r\n  public modifySuiteNavData(suiteNavData: ISuiteNavData): ISuiteNavData {\r\n    // For now, always assume we're on the SharePoint home page.\r\n    suiteNavData.CurrentMainLinkElementID = SuiteNavLinkIds.SITES;\r\n\r\n    suiteNavData.CurrentWorkloadSettingsSubLinks =\r\n     this._settingsLinks && this._settingsLinks.length > 0 ? this._settingsLinks : undefined;\r\n    suiteNavData.FeedbackLink = undefined;\r\n    if (suiteNavData.SignOutLink) {\r\n      suiteNavData.SignOutLink.Url = this._signoutUrl;\r\n    }\r\n    return suiteNavData;\r\n  };\r\n\r\n  /**\r\n   * Gets the systemUserKey token.\r\n   * @returns the systemUserKey or empty string\r\n   */\r\n  public get systemUserKey(): string {\r\n    return this._systemUserKey || '';\r\n  }\r\n\r\n  /**\r\n   * Gets the cache token.\r\n   * @returns the site client tag or empty string\r\n   */\r\n  public get cacheToken(): string {\r\n    /**\r\n     * The site client tag will be something like '0$$16.0.3912.1218' -- the only part\r\n     * we care about is before the $$. This number will be incremented if the user's theme changes.\r\n     */\r\n    const clientTag: string = this._siteClientTag;\r\n\r\n    if (clientTag !== undefined) {\r\n      return clientTag.substring(0, clientTag.indexOf('$$'));\r\n    }\r\n    return '';\r\n  };\r\n\r\n  /**\r\n   * Gets the o365ShellRenderSettings for rendering the SuiteNav.\r\n   * @returns _o365ShellRenderSettings\r\n   */\r\n  public get o365ShellRenderSettings(): IO365ShellRenderSettings {\r\n    return this._o365ShellRenderSettings;\r\n  }\r\n\r\n  /**\r\n   * Property representing the culture name (e.g. \"en-us\")\r\n   */\r\n  public get currentUICultureName(): string {\r\n    return this._currentUICultureName;\r\n  }\r\n\r\n  /**\r\n   * Represents the web server relative url where we would ping the Suite Nav service.\r\n   */\r\n  public get webServerRelativeUrl(): string {\r\n    return this._webServerRelativeUrl;\r\n  }\r\n\r\n  public get hamburgerCallback(): () => void {\r\n    return this._hamburgerMenuCallback;\r\n  }\r\n\r\n  public set hamburgerCallback(hamburgerCallback: () => void) {\r\n    this._hamburgerMenuCallback = hamburgerCallback;\r\n  }\r\n\r\n  public get suiteNavPostRenderCallback(): () => void {\r\n    return this._suiteNavPostRenderCallback;\r\n  }\r\n\r\n  public set suiteNavPostRenderCallback(suiteNavPostRenderCallback: () => void) {\r\n    this._suiteNavPostRenderCallback = suiteNavPostRenderCallback;\r\n  }\r\n\r\n  private _shouldDisableSuiteNav(): boolean {\r\n    return (window.location.hostname === 'localhost' ||\r\n      this._pageContext.urlQueryParameters.getValue('disableSuiteNav') === 'true') ?\r\n      true :\r\n      false;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/shell/SuiteNavManagerConfiguration.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Strings for the 'Id' option of suite nav links.\r\n * These are defined by the suite nav team and are used to correlate icons/colors with links.\r\n */\r\n\r\nexport default class SuiteNavLinkIds {\r\n  // Settings menu\r\n  public static CUSTOM_SETTINGS_1: string = 'WorkloadSettingsSubLinks1';\r\n  public static CUSTOM_SETTINGS_2: string = 'WorkloadSettingsSubLinks2';\r\n  public static CUSTOM_SETTINGS_3: string = 'WorkloadSettingsSubLinks3';\r\n  public static FEEDBACK: string = 'ShellFeedback';\r\n  public static DIAGNOSTICS: string = 'Diagnostics';\r\n  public static O365_SETTINGS: string = 'ShellO365Settings'; // 'O365 settings'\r\n  public static ADD_APP: string = 'SuiteMenu_zz5_MenuItemCreate'; // 'Add an app'\r\n  public static CREATE_PAGE: string = 'SuiteMenu_MenuItemCreatePage'; // 'Create a publishing page'\r\n  public static SITE_CONTENTS: string = 'SuiteMenu_zz6_MenuItem_ViewAllSiteContents'; // 'Site contents'\r\n  public static SITE_SETTINGS: string = 'SuiteMenu_zz7_MenuItem_Settings'; // 'Site settings'\r\n  public static USER_ACTIVITY: string = 'UserActivity'; // User activity dialog\r\n\r\n  // Person menu\r\n  public static ABOUT_ME: string = 'ShellAboutMe'; // 'About me'/'Edit profile'\r\n  public static SETTINGS: string = 'ShellSettings'; // 'Account settings' (ODC)\r\n  public static MY_SETTINGS: string = 'SuiteMenu_zz2_ID_PersonalInformation'; // 'My Settings' (ODB)\r\n  public static SIGN_OUT: string = 'ShellSignout';\r\n\r\n  // Help menu\r\n  public static HELP: string = 'HelpLink';\r\n  public static COMMUNITY: string = 'ShellCommunity';\r\n  public static PRIVACY: string = 'ShellPrivacy';\r\n  public static LEGAL: string = 'ShellLegal';\r\n\r\n  // App switcher\r\n  public static MAIL: string = 'ShellMail'; // 'Outlook'/'Outlook.com'\r\n  public static CALENDAR: string = 'ShellCalendar';\r\n  public static PEOPLE: string = 'ShellPeople';\r\n  public static ONEDRIVE: string = 'ShellDocuments'; // 'OneDrive'\r\n  public static WORD: string = 'ShellWordOnline';\r\n  public static EXCEL: string = 'ShellExcelOnline';\r\n  public static POWERPOINT: string = 'ShellPowerPointOnline';\r\n  public static ONENOTE: string = 'ShellOneNoteOnline';\r\n  public static SITES: string = 'ShellSites';\r\n  public static YAMMER: string = 'ShellYammer';\r\n  public static TASKS: string = 'ShellTasks';\r\n  public static POWER_BI: string = 'ShellPowerBI';\r\n  public static DELVE: string = 'ShellOfficeGraph'; // 'Delve'\r\n  public static VIDEO: string = 'ShellVideo';\r\n  public static ALCHEMY: string = 'ShellAlchemy';\r\n  public static SMILE: string = 'ShellSendASmile';\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/suiteNav/models/SuiteNavLinkIds.ts\n **/","import { ServiceScope, ServiceKey } from '@microsoft/sp-client-base';\r\nimport { UrlQueryParameterCollection } from '@microsoft/sp-client-base';\r\n\r\nimport ApplicationContext from './ApplicationContext';\r\nimport SPWeb from './SPWeb';\r\nimport SPSite from './SPSite';\r\nimport SPList from './SPList';\r\nimport SPListItem from './SPListItem';\r\nimport SPUser from './SPUser';\r\nimport SPNavigationNodeCollection from './SPNavigationNodeCollection';\r\nimport PageContextCore from './PageContextCore';\r\n\r\n/**\r\n  * The page context represents contextual information about the SharePoint page that\r\n  * is currently being viewed, such as its site URL, the client side application ID,\r\n  * the current user, etc.  The page context objects themselves represent key information\r\n  * that is needed e.g. to identify the site/web/list/listitem in a REST service call,\r\n  * but it is not a full cache with invalidation and change notifications.  If your\r\n  * application maintains such a cache, it can keep the PageContext up to date by\r\n  * means of methods such as SPListItem.updateOdataObject().\r\n  */\r\nexport default class AppPageContext {\r\n  public webServerRelativeUrl: string;\r\n  public webAbsoluteUrl: string;\r\n  private _application: ApplicationContext;\r\n  private _site: SPSite;\r\n  private _web: SPWeb;\r\n  private _list: SPList;\r\n  private _listItem: SPListItem;\r\n  private _quickLaunch: SPNavigationNodeCollection;\r\n  private _topNav: SPNavigationNodeCollection;\r\n  private _core: PageContextCore;\r\n  private _user: SPUser;\r\n  private _urlQueryParameters: UrlQueryParameterCollection;\r\n\r\n  constructor(serviceScope: ServiceScope) {\r\n    this._application = new ApplicationContext(this);\r\n    this._site = new SPSite(this);\r\n    this._web = new SPWeb(this);\r\n    this._list = new SPList(this);\r\n    this._listItem = new SPListItem(this);\r\n    this._quickLaunch = new SPNavigationNodeCollection(this);\r\n    this._topNav = new SPNavigationNodeCollection(this);\r\n    this._core = new PageContextCore(this);\r\n    this._user = new SPUser(this);\r\n    this._urlQueryParameters = new UrlQueryParameterCollection(window.location.href);\r\n  }\r\n\r\n  // TODO: Bug 176509: Change PageContext getters to readonly on Typescript 2.0 release\r\n\r\n  /**\r\n   * Contextual information for the client-side application.\r\n   */\r\n  public get application(): ApplicationContext {\r\n    return this._application;\r\n  }\r\n\r\n  /**\r\n   * Contextual information for the SharePoint site collection that is hosting the page.\r\n   * If unsure whether this object is initialized, check the SPSite.state property first.\r\n   */\r\n  public get site(): SPSite {\r\n    return this._site;\r\n  }\r\n\r\n  /**\r\n   * Contextual information for the SharePoint site (\"web\") that is hosting the page.\r\n   * If unsure whether this object is initialized, check the SPWeb.state property first.\r\n   */\r\n  public get web(): SPWeb {\r\n    return this._web;\r\n  }\r\n\r\n  /**\r\n   * Contextual information for the SharePoint list that is hosting the page.\r\n   * If unsure whether this object is initialized, check the SPList.state property first.\r\n   */\r\n  public get list(): SPList {\r\n    return this._list;\r\n  }\r\n\r\n  /**\r\n   * Contextual information for the SharePoint list item that stores data for the page.\r\n   * If unsure whether this object is initialized, check the SPListItem.state property first.\r\n   */\r\n  public get listItem(): SPListItem {\r\n    return this._listItem;\r\n  }\r\n\r\n  /**\r\n   * Contextual quick launch navigation information for the page.\r\n   * If unsure whether this object is initialized, check the SPNavigation.state property first.\r\n   */\r\n  public get quickLaunch(): SPNavigationNodeCollection {\r\n    return this._quickLaunch;\r\n  }\r\n\r\n  /**\r\n   * Top navigation information for the page.\r\n   * If unsure whether this object is initialized, check the SPNavigation.state property first.\r\n   */\r\n  public get topNav(): SPNavigationNodeCollection {\r\n    return this._topNav;\r\n  }\r\n\r\n  /**\r\n   * Contextual information for the SharePoint SPPageContextInfo object\r\n   * If unsure whether this object is initialized, check the SPPageContextInfo.state property first.\r\n   */\r\n  public get core(): PageContextCore {\r\n    return this._core;\r\n  }\r\n\r\n  /**\r\n   * Contextual information for the current SharePoint user\r\n   * If unsure whether this object is initialized, check the SPPageContextInfo.state property first.\r\n   */\r\n  public get user(): SPUser {\r\n    return this._user;\r\n  }\r\n\r\n  /**\r\n   * Object for retrieving the current page's query parameter values.\r\n   */\r\n  public get urlQueryParameters(): UrlQueryParameterCollection {\r\n    return this._urlQueryParameters;\r\n  }\r\n}\r\n\r\nexport const appPageContextServiceKey: ServiceKey<AppPageContext> = ServiceKey.create<AppPageContext>\r\n  ('sp-client-preview:PageContext', AppPageContext);\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/pageContext/AppPageContext.ts\n **/","import PageContext from './AppPageContext';\r\nimport PageContextItem, { PageContextItemState } from './PageContextItem';\r\nimport GuidHelpers from '../basicTypes/GuidHelpers';\r\n\r\n/**\r\n  * This interface is used with ApplicationContext.load()\r\n  */\r\nexport interface IApplicationContextArgs {\r\n  clientSideApplicationId: string;\r\n  hostedByClassicPage: boolean;\r\n}\r\n\r\n/**\r\n * Tracks contextual information about the client-side application that\r\n * is currently running.\r\n */\r\nexport default class ApplicationContext extends PageContextItem {\r\n  private _clientSideApplicationId: string;\r\n  private _hostedByClassicPage: boolean;\r\n\r\n  constructor(pageContext: PageContext) {\r\n    super(pageContext);\r\n\r\n    this._clientSideApplicationId = undefined;\r\n    this._hostedByClassicPage = undefined;\r\n  }\r\n\r\n  /**\r\n   * Assigns all properties of the object, then assigns the \"state\" property\r\n   * to PageContextItemState.Ready.\r\n   */\r\n  public load(args: IApplicationContextArgs): void {\r\n    this.validateLoad();\r\n\r\n    GuidHelpers.requireValid(args.clientSideApplicationId);\r\n    this._clientSideApplicationId = args.clientSideApplicationId;\r\n    this._hostedByClassicPage = args.hostedByClassicPage;\r\n    this.state = PageContextItemState.Ready;\r\n  }\r\n\r\n  /**\r\n   * Returns the client side component identifier for the client-side application.\r\n   * This corresponds to the \"id\" field in the application's manifest JSON file.\r\n   * Example: \"00000000-0000-0000-0000-000000000000\"\r\n   */\r\n  public get clientSideApplicationId(): string {\r\n    return this._clientSideApplicationId;\r\n  }\r\n\r\n  /**\r\n   * Indicates whether the application is currently being hosted by a classic page,\r\n   * e.g. if a client side web part has been added to a classic publishing page.\r\n   */\r\n  public get hostedByClassicPage(): boolean {\r\n    return this._hostedByClassicPage;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/pageContext/ApplicationContext.ts\n **/","import PageContext from './AppPageContext';\r\n\r\n/**\r\n  * This enum is used with the PageContextItem.state property to indicate\r\n  * whether the PageContext objects are ready for usage.,\r\n  */\r\nexport enum PageContextItemState {\r\n  /**\r\n   * The object is not initialized, and there is no pending request to load it.\r\n   */\r\n  Uninitialized,\r\n  /**\r\n   * A promise is currently executing.  When it completes, the object will be loaded.\r\n   */\r\n  Requested,\r\n  /**\r\n   * The object has been loaded and its state is valid.\r\n   */\r\n  Ready\r\n}\r\n\r\n/**\r\n * This is an abstract base class for the SPSite, SPWeb, SPList, SPListItem,\r\n * and ApplicationContext classes.  It defines the \"state\" of these objects.\r\n */\r\nexport default class PageContextItem {\r\n  private _state: PageContextItemState;\r\n  private _pageContext: PageContext;\r\n\r\n  constructor(pageContext: PageContext) {\r\n    this._pageContext = pageContext;\r\n    this._state = PageContextItemState.Uninitialized;\r\n  }\r\n\r\n  /**\r\n   * Returns the PageContext that owns this object.  You can use this to find\r\n   * other related objects, e.g. the parent SPWeb for an SPList.\r\n   */\r\n  public getPageContext(): PageContext {\r\n    return this._pageContext;\r\n  }\r\n\r\n  /**\r\n   * Indicates whether the context item is uninitialized, waiting to be loaded,\r\n   * or ready to use.\r\n   */\r\n  public get state(): PageContextItemState {\r\n    return this._state;\r\n  }\r\n\r\n  public set state(value: PageContextItemState) {\r\n    this._state = value;\r\n  }\r\n\r\n  /**\r\n   * Reports an error if the object has already been loaded.\r\n   */\r\n  protected validateLoad(): void {\r\n  if (this._state === PageContextItemState.Ready) {\r\n      throw new Error('The object has already been loaded');\r\n    }\r\n  }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/pageContext/PageContextItem.ts\n **/","abstract class GuidHelpers {\r\n  public static isValid(guid: string): boolean {\r\n    const regex: RegExp = new RegExp('^[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}$', 'i');\r\n    return regex.test(guid);\r\n  }\r\n\r\n  public static requireValid(guid: string): void {\r\n    if (!GuidHelpers.isValid(guid)) {\r\n      throw Error(`Invalid GUID syntax ${guid}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Example: \"/Guid(d5369f3b-bd7a-412a-9c0f-7f0650bb5489)/\"\r\n   *          -> 'd5369f3b-bd7a-412a-9c0f-7f0650bb5489'\r\n   * Example: \"{d5369f3b-bd7a-412a-9c0f-7f0650bb5489}\"\r\n   *          -> 'd5369f3b-bd7a-412a-9c0f-7f0650bb5489'\r\n   */\r\n  public static getNormalized(guid: string): string {\r\n    let normalized: string = guid;\r\n\r\n    const regexp: RegExp = new RegExp('^/Guid\\\\((.*)\\\\)/', 'i');\r\n    const result: string[] = regexp.exec(guid);\r\n    if (result) {\r\n      normalized = result[1];\r\n    }\r\n\r\n    if (normalized.length === 38) {\r\n      // Strip leading/trailing {}\r\n      normalized = normalized.substr(1, 36);\r\n    }\r\n\r\n    GuidHelpers.requireValid(normalized);\r\n    return normalized.toLowerCase();\r\n  }\r\n\r\n  /* tslint:disable:no-bitwise */\r\n  public static generateGuid(): string {\r\n    return 'AAAAAAAA-AAAA-4AAA-BAAA-AAAAAAAAAAAA'\r\n      .replace(/[AB]/g, (character: string): string => {\r\n        const num: number = Math.random() * 16 | 0;\r\n        const masked: number = character === 'A' ? num : (num & 0x3 | 0x8);\r\n        return masked.toString(16);\r\n      });\r\n  }\r\n\r\n}\r\n\r\nexport default GuidHelpers;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/basicTypes/GuidHelpers.ts\n **/","import PageContext from './AppPageContext';\r\nimport PageContextItem, { PageContextItemState } from './PageContextItem';\r\nimport { requireServerRelativeUrl } from '../basicTypes/url';\r\nimport SPSite from './SPSite';\r\nimport GuidHelpers from '../basicTypes/GuidHelpers';\r\nimport { IODataWeb } from '@microsoft/sp-client-base';\r\n/**\r\n  * This interface is used with SPWeb.load()\r\n  *\r\n  * @alpha\r\n  */\r\nexport interface ISPWebArgs {\r\n  id: string;\r\n  serverRelativeUrl: string;\r\n  title: string;\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class.  It provides contextual\r\n  * information for the SharePoint site (\"web\") that hosts the page.\r\n  *\r\n  * @alpha\r\n  */\r\nexport default class SPWeb extends PageContextItem {\r\n  private _id: string;\r\n  private _serverRelativeUrl: string;\r\n  private _title: string;\r\n  private _odataObject: IODataWeb;\r\n\r\n  constructor(pageContext: PageContext) {\r\n    super(pageContext);\r\n\r\n    this._id = undefined;\r\n    this._serverRelativeUrl = undefined;\r\n    this._title = undefined;\r\n  }\r\n\r\n  /**\r\n   * Assigns all properties of the object, then assigns the \"state\" property\r\n   * to PageContextItemState.Ready.\r\n   */\r\n  public load(args: ISPWebArgs): void {\r\n    this.validateLoad();\r\n\r\n    GuidHelpers.requireValid(args.id);\r\n    this._id = args.id;\r\n\r\n    requireServerRelativeUrl(args.serverRelativeUrl);\r\n    this._serverRelativeUrl = args.serverRelativeUrl;\r\n\r\n    this._title = args.title;\r\n\r\n    this.state = PageContextItemState.Ready;\r\n  }\r\n\r\n  /**\r\n   * The GUID that identifies the SPWeb on the server.\r\n   */\r\n  public get id(): string {\r\n    return this._id;\r\n  }\r\n\r\n  /**\r\n   * Returns a server-relative URL for this SPWeb.\r\n   * Example: \"/sites/PubSite/SubWeb\"\r\n   */\r\n  public get serverRelativeUrl(): string {\r\n    return this._serverRelativeUrl;\r\n  }\r\n\r\n  /**\r\n   * Returns the title of the SharePoint site.\r\n   */\r\n  public get title(): string {\r\n    return this._title;\r\n  }\r\n\r\n  /**\r\n   * Returns the parent site collection that this site (\"web\") belongs to.\r\n   */\r\n  public get parentSite(): SPSite {\r\n    return this.getPageContext().site;\r\n  }\r\n\r\n  /**\r\n   * Returns an ODATA object containing additional information for this SharePoint site (\"web\"),\r\n   * if available.  Otherwise, this returns undefined.  If your application fetches this\r\n   * data itself, it can call updateOdataObject() to update the context.\r\n   */\r\n  public getOdataObject(): IODataWeb {\r\n    return this._odataObject;\r\n  }\r\n\r\n  /**\r\n   * Updates the ODATA object that will be returned when getOdataObject() is called.\r\n   * This allows the application to share its data with other objects (e.g. web parts)\r\n   * to avoid unnecessary REST calls.\r\n   */\r\n  public updateOdataObject(value: IODataWeb): void {\r\n    this._odataObject = value;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/pageContext/SPWeb.ts\n **/","/**\r\n * @copyright (c) Microsoft Corporation. All rights reserved.\r\n */\r\n\r\n/**\r\n * Checks if the url argument is a server relative url.\r\n *\r\n * @param url - Test url\r\n */\r\nexport function isServerRelative(url: string): boolean {\r\n  // If the first character is a forward-slash the url is server relative\r\n  return url && url[0] === '/';\r\n}\r\n\r\n/**\r\n * Throw an Error if the url argument is not a server relative url.\r\n *\r\n * @param url - A string, which should be a server relative url.\r\n */\r\nexport function requireServerRelativeUrl(url: string): void {\r\n  if (!isServerRelative(url)) {\r\n    throw Error('A server-relative URL is required');\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/basicTypes/url.ts\n **/","import PageContext from './AppPageContext';\r\nimport PageContextItem, { PageContextItemState } from './PageContextItem';\r\nimport GuidHelpers from '../basicTypes/GuidHelpers';\r\nimport { requireServerRelativeUrl } from '../basicTypes/url';\r\n\r\n/**\r\n  * This interface is used with SPSite.load()\r\n  */\r\nexport interface ISPSiteArgs {\r\n  id: string;\r\n  serverRelativeUrl: string;\r\n  title: string;\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class.  It provides contextual\r\n  * information for the SharePoint site collection that hosts the page.\r\n  */\r\nexport default class SPSite extends PageContextItem {\r\n  private _id: string;\r\n  private _serverRelativeUrl: string;\r\n  private _title: string;\r\n\r\n  constructor(pageContext: PageContext) {\r\n    super(pageContext);\r\n\r\n    this._id = undefined;\r\n    this._serverRelativeUrl = undefined;\r\n    this._title = undefined;\r\n  }\r\n\r\n  /**\r\n   * Assigns all properties of the object, then assigns the \"state\" property\r\n   * to PageContextItemState.Ready.\r\n   */\r\n  public load(args: ISPSiteArgs): void {\r\n    this.validateLoad();\r\n\r\n    GuidHelpers.requireValid(args.id);\r\n    this._id = args.id;\r\n\r\n    requireServerRelativeUrl(args.serverRelativeUrl);\r\n    this._serverRelativeUrl = args.serverRelativeUrl;\r\n\r\n    this._title = args.title;\r\n\r\n    this.state = PageContextItemState.Ready;\r\n  }\r\n\r\n  /**\r\n   * The GUID that identifies the SPSite on the server.\r\n   */\r\n  public get id(): string {\r\n    return this._id;\r\n  }\r\n\r\n  /**\r\n   * Returns a server-relative URL for this SPSite.\r\n   * Example: \"/sites/PubSite\"\r\n   */\r\n  public get serverRelativeUrl(): string {\r\n    return this._serverRelativeUrl;\r\n  }\r\n\r\n  /**\r\n   * Returns the title of the current site collection.\r\n   */\r\n  public get title(): string {\r\n    return this._title;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/pageContext/SPSite.ts\n **/","import PageContext from './AppPageContext';\r\nimport PageContextItem, { PageContextItemState } from './PageContextItem';\r\nimport SPWeb from './SPWeb';\r\nimport GuidHelpers from '../basicTypes/GuidHelpers';\r\nimport IOdataList from '../httpClient/odataTypes/IOdataList';\r\n\r\n/**\r\n  * This interface is used with SPList.load()\r\n  *\r\n  * @alpha  \r\n  */\r\nexport interface ISPListArgs {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class.  It provides contextual\r\n  * information for the SharePoint site collection that is hosting the page.\r\n  *\r\n  * @alpha\r\n  */\r\nexport default class SPList extends PageContextItem {\r\n  private _id: string;\r\n  private _title: string;\r\n  private _description: string;\r\n  private _odataObject: IOdataList;\r\n\r\n  constructor(pageContext: PageContext) {\r\n    super(pageContext);\r\n\r\n    this._id = undefined;\r\n    this._title = undefined;\r\n    this._description = undefined;\r\n  }\r\n\r\n  /**\r\n   * Assigns all properties of the object, then assigns the \"state\" property\r\n   * to PageContextItemState.Ready.\r\n   */\r\n  public load(args: ISPListArgs): void {\r\n    this.validateLoad();\r\n\r\n    GuidHelpers.requireValid(args.id);\r\n    this._id = args.id;\r\n\r\n    this._title = args.title;\r\n    this._description = args.description;\r\n\r\n    this.state = PageContextItemState.Ready;\r\n  }\r\n\r\n  /**\r\n   * The GUID that identifies the SPList on the server.\r\n   */\r\n  public get id(): string {\r\n    return this._id;\r\n  }\r\n\r\n  /**\r\n   * The title of the list.\r\n   */\r\n  public get title(): string {\r\n    return this._title;\r\n  }\r\n\r\n  /**\r\n   * The description of the list.\r\n   */\r\n  public get description(): string {\r\n    return this._description;\r\n  }\r\n\r\n  /**\r\n   * The parent SPWeb that this list belongs to.\r\n   */\r\n  public get parentWeb(): SPWeb {\r\n    return this.getPageContext().web;\r\n  }\r\n\r\n  /**\r\n   * Returns an ODATA object containing additional information for this list, if available.\r\n   * Otherwise, this returns undefined.  If your application fetches this data itself, it\r\n   * can call updateOdataObject() to update the context.\r\n   */\r\n  public getOdataObject(): IOdataList {\r\n    return this._odataObject;\r\n  }\r\n\r\n  /**\r\n   * Updates the ODATA object that will be returned when getOdataObject() is called.\r\n   * This allows the application to share its data with other objects (e.g. web parts)\r\n   * to avoid unnecessary REST calls.\r\n   */\r\n  public updateOdataObject(value: IOdataList): void {\r\n    this._odataObject = value;\r\n  }\r\n\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/pageContext/SPList.ts\n **/","import PageContext from './AppPageContext';\r\nimport PageContextItem, { PageContextItemState } from './PageContextItem';\r\nimport SPList from './SPList';\r\nimport IOdataListItem from '../httpClient/odataTypes/IOdataListItem';\r\n\r\n/**\r\n  * This interface is used with SPListItem.load()\r\n  *\r\n  * @alpha\r\n  */\r\nexport interface ISPListItemArgs {\r\n  id: number;\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class.  It provides contextual\r\n  * information for the SharePoint list item associated with the current page.\r\n  *\r\n  * @alpha\r\n  */\r\nexport default class SPListItem extends PageContextItem {\r\n  private _id: number;\r\n  private _list: SPList;\r\n  private _odataObject: IOdataListItem;\r\n\r\n  constructor(pageContext: PageContext) {\r\n    super(pageContext);\r\n\r\n    this._id = undefined;\r\n    this._list = undefined;\r\n    this._odataObject = undefined;\r\n  }\r\n\r\n  /**\r\n   * Assigns all properties of the object, then assigns the \"state\" property\r\n   * to PageContextItemState.Ready.\r\n   */\r\n  public load(args: ISPListItemArgs): void {\r\n    this.validateLoad();\r\n\r\n    this._id = args.id;\r\n\r\n    this.state = PageContextItemState.Ready;\r\n  }\r\n\r\n  /**\r\n   * Returns the integer that identifies this list item on the server.  These integers\r\n   * are assigned in increasing order.\r\n   */\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n\r\n  /**\r\n   * Returns the SPList that this list item belongs to.\r\n   */\r\n  public get parentList(): SPList {\r\n    return this.getPageContext().list;\r\n  }\r\n\r\n  /**\r\n   * Returns an ODATA object containing additional information for this list item, if available.\r\n   * Otherwise, this returns undefined.  If your application fetches this data itself, it\r\n   * can call updateOdataObject() to update the context.\r\n   */\r\n  public getOdataObject(): IOdataListItem {\r\n    return this._odataObject;\r\n  }\r\n\r\n  /**\r\n   * Updates the ODATA object that will be returned when getOdataObject() is called.\r\n   * This allows the application to share its data with other objects (e.g. web parts)\r\n   * to avoid unnecessary REST calls.\r\n   */\r\n  public updateOdataObject(value: IOdataListItem): void {\r\n    this._odataObject = value;\r\n  }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/pageContext/SPListItem.ts\n **/","import PageContext from './AppPageContext';\r\nimport PageContextItem, { PageContextItemState } from './PageContextItem';\r\nimport IOdataUser from '../httpClient/odataTypes/IOdataUser';\r\n\r\n/**\r\n  * This interface is used with SPUser.load()\r\n  *\r\n  * @alpha\r\n  */\r\nexport interface ISPUserArgs {\r\n  id: number;\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class.  It provides contextual\r\n  * information for the current user visiting the page.\r\n  *\r\n  * @alpha\r\n  */\r\nexport default class SPUser extends PageContextItem {\r\n  private _id: number;\r\n  private _odataObject: IOdataUser;\r\n\r\n  constructor(pageContext: PageContext) {\r\n    super(pageContext);\r\n\r\n    this._id = undefined;\r\n  }\r\n\r\n  /**\r\n   * Assigns all properties of the object, then assigns the \"state\" property\r\n   * to PageContextItemState.Ready.\r\n   */\r\n  public load(args: ISPUserArgs): void {\r\n    this.validateLoad();\r\n\r\n    this._id = args.id;\r\n\r\n    this.state = PageContextItemState.Ready;\r\n  }\r\n\r\n  /**\r\n   * The ID that identifies the SPUser on the server.\r\n   */\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n\r\n  /**\r\n   * Returns an ODATA object containing additional information for this user, if available.\r\n   * Otherwise, this returns undefined.  If your application fetches this data itself, it\r\n   * can call updateOdataObject() to update the context.\r\n   */\r\n  public getOdataObject(): IOdataUser {\r\n    return this._odataObject;\r\n  }\r\n\r\n  /**\r\n   * Updates the ODATA object that will be returned when getOdataObject() is called.\r\n   * This allows the application to share its data with other objects (e.g. web parts)\r\n   * to avoid unnecessary REST calls.\r\n   */\r\n  public updateOdataObject(value: IOdataUser): void {\r\n    this._odataObject = value;\r\n  }\r\n\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/pageContext/SPUser.ts\n **/","import PageContext from './AppPageContext';\r\nimport PageContextItem, { PageContextItemState } from './PageContextItem';\r\nimport SPNavigationNode, { ISPNavigationNodeArgs } from './SPNavigationNode';\r\nimport { IODataNavigationNode } from '@microsoft/sp-client-base';\r\n\r\n/**\r\n  * This interface is used with SPNavigationNodeCollection.load()\r\n  *\r\n  * @alpha\r\n  */\r\nexport interface ISPNavigationNodeCollectionArgs {\r\n  items: ISPNavigationNodeArgs[];\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class. It provides navigation\r\n  * information for the hosting application.\r\n  *\r\n  * @alpha\r\n  */\r\nexport default class SPNavigationNodeCollection extends PageContextItem {\r\n  private _items: SPNavigationNode[];\r\n\r\n  private _odataObject: IODataNavigationNode[];\r\n\r\n  constructor(pageContext: PageContext) {\r\n    super(pageContext);\r\n\r\n    this.state = PageContextItemState.Ready;\r\n  }\r\n\r\n  /**\r\n   * Returns all navigation nodes in the collection.\r\n   */\r\n  public get items(): SPNavigationNode[] {\r\n    return this._items;\r\n  }\r\n\r\n  /**\r\n   * Returns all navigation nodes in the collection.\r\n   */\r\n  public set items(value: SPNavigationNode[]) {\r\n    this._items = value;\r\n  }\r\n\r\n  /**\r\n   * Returns an ODATA object containing additional navigation information if available.\r\n   * Otherwise, this returns undefined.  If your application fetches this\r\n   * data itself, it can call updateOdataObject() to update the context.\r\n   */\r\n  public getOdataObject(): IODataNavigationNode[] {\r\n    return this._odataObject;\r\n  }\r\n\r\n  /**\r\n   * Updates the ODATA object that will be returned when getOdataObject() is called.\r\n   * This allows the application to share its data with other objects (e.g. web parts)\r\n   * to avoid unnecessary REST calls.\r\n   */\r\n  public updateOdataObject(value: IODataNavigationNode[]): void {\r\n    this._odataObject = value;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/pageContext/SPNavigationNodeCollection.ts\n **/","import ISPPageContextInfo from '../httpClient/odataTypes/ISPPageContextInfo';\r\nimport { SPPermission, IODataBasePermission } from '@microsoft/sp-client-base';\r\nimport PageContext from './AppPageContext';\r\nimport PageContextItem, { PageContextItemState } from './PageContextItem';\r\n\r\nexport interface IPageContextCoreArgs {\r\n  MenuData: Object;\r\n  currentCultureName: string;\r\n  currentUICultureName: string;\r\n  correlationId: string;\r\n  spoEnvironment: string;\r\n  farmLabel: string;\r\n  groupColor: string;\r\n  hasManageWebPermission: boolean;\r\n  layoutsUrl: string;\r\n  listPermsMask: Object;\r\n  siteAbsoluteUrl: string;\r\n  siteClientTag: string;\r\n  siteId: string;\r\n  siteServerRelativeUrl: string;\r\n  siteSubscriptionId: string;\r\n  systemUserKey: string;\r\n  themedCssFolderUrl: string;\r\n  userDisplayName: string;\r\n  userLoginName: string;\r\n  webAbsoluteUrl: string;\r\n  webId: string;\r\n  webLogoUrl: string;\r\n  webServerRelativeUrl: string;\r\n  webTitle: string;\r\n  webTemplate: string;\r\n  webPermMasks: IODataBasePermission;\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class.  It provides contextual\r\n  * information for the SharePoint site collection that is hosting the page.\r\n  */\r\nexport default class PageContextCore extends PageContextItem {\r\n  private _menuData: Object;\r\n  private _currentCultureName: string;\r\n  private _currentUICultureName: string;\r\n  private _initialCorrelationId: string;\r\n  private _spoEnvironment: string;\r\n  private _farmLabel: string;\r\n  private _groupColor: string;\r\n  private _hasManageWebPermission: boolean;\r\n  private _layoutsUrl: string;\r\n  private _listPermsMask: Object;\r\n  private _siteAbsoluteUrl: string;\r\n  private _siteClientTag: string;\r\n  private _siteId: string;\r\n  private _siteServerRelativeUrl: string;\r\n  private _siteSubscriptionId: string;\r\n  private _systemUserKey: string;\r\n  private _themedCssFolderUrl: string;\r\n  private _userDisplayName: string;\r\n  private _userLoginName: string;\r\n  private _webAbsoluteUrl: string;\r\n  private _webId: string;\r\n  private _webLogoUrl: string;\r\n  private _webServerRelativeUrl: string;\r\n  private _webTitle: string;\r\n  private _webTemplate: string;\r\n  private _odataObject: ISPPageContextInfo;\r\n  private _webPermMasks: SPPermission;\r\n\r\n  constructor(pageContext: PageContext) {\r\n    super(pageContext);\r\n  }\r\n\r\n  /**\r\n   * Assigns all properties of the object, then assigns the \"state\" property\r\n   * to PageContextItemState.Ready.\r\n   */\r\n  public load(args: IPageContextCoreArgs): void {\r\n    this.validateLoad();\r\n\r\n    this._menuData = args.MenuData;\r\n    this._currentCultureName = args.currentCultureName;\r\n    this._currentUICultureName = args.currentUICultureName;\r\n    this._initialCorrelationId = args.correlationId;\r\n    this._spoEnvironment = args.spoEnvironment;\r\n    this._farmLabel = args.farmLabel;\r\n    this._groupColor = args.groupColor;\r\n    this._hasManageWebPermission = args.hasManageWebPermission;\r\n    this._listPermsMask = args.listPermsMask;\r\n    this._layoutsUrl = args.layoutsUrl;\r\n    this._siteAbsoluteUrl = args.siteAbsoluteUrl;\r\n    this._siteClientTag = args.siteClientTag;\r\n    this._siteServerRelativeUrl = args.siteServerRelativeUrl;\r\n    this._siteSubscriptionId = args.siteSubscriptionId;\r\n    this._siteId = args.siteId;\r\n    this._systemUserKey = args.systemUserKey;\r\n    this._themedCssFolderUrl = args.themedCssFolderUrl;\r\n    this._userDisplayName = args.userDisplayName;\r\n    this._userLoginName = args.userLoginName;\r\n    this._webAbsoluteUrl = args.webAbsoluteUrl;\r\n    this._webId = args.webId;\r\n    this._webLogoUrl = args.webLogoUrl;\r\n    this._webServerRelativeUrl = args.webServerRelativeUrl;\r\n    this._webTitle = args.webTitle;\r\n    this._webTemplate = args.webTemplate;\r\n    this._webPermMasks = new SPPermission(args.webPermMasks);\r\n\r\n    this.state = PageContextItemState.Ready;\r\n  }\r\n\r\n  /**\r\n   * Common menu data that is shared throughout all Sharepoint applications.\r\n   */\r\n  public get menuData(): Object {\r\n    return this._menuData;\r\n  }\r\n\r\n  /**\r\n   * The culture used for rendering date/time components.\r\n   */\r\n  public get currentCultureName(): string {\r\n    return this._currentCultureName;\r\n  }\r\n\r\n  /**\r\n   * The culture used for rendering UI components.\r\n   */\r\n  public get currentUICultureName(): string {\r\n    return this._currentUICultureName;\r\n  }\r\n\r\n  /**\r\n   * The GUID that identifies the CorrelationId of the request.\r\n   */\r\n  public get initialCorrelationId(): string {\r\n    return this._initialCorrelationId;\r\n  }\r\n\r\n  /**\r\n   * The name of the SPO Environment (eDog, MSIT, Prod, ...) for this request.\r\n   */\r\n  public get spoEnvironment(): string {\r\n    return this._spoEnvironment;\r\n  }\r\n\r\n  /**\r\n   * The farm Label for this request. (US_2_Content)\r\n   */\r\n  public get farmLabel(): string {\r\n    return this._farmLabel;\r\n  }\r\n\r\n  /**\r\n   * The group Color (ie \"0xFFFFFF\"\") (only from Group Sites)\r\n   */\r\n  public get groupColor(): string {\r\n    return this._groupColor;\r\n  }\r\n\r\n  /**\r\n   * The relative layout url of the web\r\n   */\r\n  public get layoutsUrl(): string {\r\n    return this._layoutsUrl;\r\n  }\r\n\r\n  /**\r\n   * Indicates if the user has ManageWeb Permissions for the site this request was in.\r\n   */\r\n  public get hasManageWebPermission(): boolean {\r\n    return this._hasManageWebPermission;\r\n  }\r\n\r\n  /**\r\n   * The Mask of list Permissions for the current user in the list of this request.\r\n   */\r\n  public get listPermsMask(): Object {\r\n    return this._listPermsMask;\r\n  }\r\n\r\n  /**\r\n   * The AbsoluteUrl of this request.\r\n   */\r\n  public get siteAbsoluteUrl(): string {\r\n    return this._siteAbsoluteUrl;\r\n  }\r\n\r\n  /**\r\n   * The site's version number of sharepoint.\r\n   */\r\n  public get siteClientTag(): string {\r\n    return this._siteClientTag;\r\n  }\r\n\r\n/**\r\n   * The site's id on sharepoint.\r\n   */\r\n  public get siteId(): string {\r\n    return this._siteId;\r\n  }\r\n\r\n  /**\r\n   * The server relative Url to the SPSite\r\n   */\r\n  public get siteServerRelativeUrl(): string {\r\n    return this._siteServerRelativeUrl;\r\n  }\r\n\r\n  /**\r\n   * The siteSubscriptionId of the Tenant for which this request was made.\r\n   */\r\n  public get siteSubscriptionId(): string {\r\n    return this._siteSubscriptionId;\r\n  }\r\n\r\n  /**\r\n   * The string that represents the unique user.\r\n   */\r\n  public get systemUserKey(): string {\r\n    return this._systemUserKey;\r\n  }\r\n\r\n  /**\r\n   * The url for the themed CSS if this site has a theme appplied, otherwise null.\r\n   */\r\n  public get themedCssFolderUrl(): string {\r\n    return this._themedCssFolderUrl;\r\n  }\r\n\r\n  /**\r\n   * The absolute url to the SPWeb\r\n   */\r\n  public get userDisplayName(): string {\r\n    return this._userDisplayName;\r\n  }\r\n\r\n  /**\r\n   * The absolute url to the SPWeb\r\n   */\r\n  public get userLoginName(): string {\r\n    return this._userLoginName;\r\n  }\r\n\r\n  /**\r\n   * The absolute url to the SPWeb\r\n   */\r\n  public get webAbsoluteUrl(): string {\r\n    return this._webAbsoluteUrl;\r\n  }\r\n\r\n  /**\r\n   * The absolute url to the SPWeb\r\n   */\r\n  public get webId(): string {\r\n    return this._webId;\r\n  }\r\n\r\n  /**\r\n   * The server relative Url to the web Logo\r\n   */\r\n  public get webLogoUrl(): string {\r\n    return this._webLogoUrl;\r\n  }\r\n\r\n  /**\r\n   * The server Relative url to the SPWeb\r\n   */\r\n  public get webServerRelativeUrl(): string {\r\n    return this._webServerRelativeUrl;\r\n  }\r\n\r\n  /**\r\n   * The Title of the Web\r\n   */\r\n  public get webTitle(): string {\r\n    return this._webTitle;\r\n  }\r\n\r\n  /**\r\n   * The site template used to create the web.\r\n   */\r\n  public get webTemplate(): string {\r\n    return this._webTemplate;\r\n  }\r\n\r\n  /**\r\n   * Returns an ODATA object containing additional information for this list, if available.\r\n   * Otherwise, this returns undefined.  If your application fetches this data itself, it\r\n   * can call updateOdataObject() to update the context.\r\n   */\r\n  public getOdataObject(): ISPPageContextInfo {\r\n    return this._odataObject;\r\n  }\r\n\r\n  /**\r\n   * Updates the ODATA object that will be returned when getOdataObject() is called.\r\n   * This allows the application to share its data with other objects (e.g. web parts)\r\n   * to avoid unnecessary REST calls.\r\n   */\r\n  public updateOdataObject(value: ISPPageContextInfo): void {\r\n    this._odataObject = value;\r\n  }\r\n\r\n  /**\r\n   * The permissions mask of the current user on the web.\r\n   */\r\n  public get userPermissionsForWeb(): SPPermission {\r\n    return this._webPermMasks;\r\n  }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/pageContext/PageContextCore.ts\n **/","import { IODataNavigationNode } from '@microsoft/sp-client-base';\r\nimport PageContext from './AppPageContext';\r\nimport PageContextItem, { PageContextItemState } from './PageContextItem';\r\n\r\n/**\r\n  * This interface is used with SPNavigationNode.load()\r\n  *\r\n  * @alpha\r\n  */\r\nexport interface ISPNavigationNodeArgs {\r\n  id: number;\r\n}\r\n\r\n/**\r\n  * This class is primarily used with the PageContext class.  It provides quick launch\r\n  * navigation information for the hosting application.\r\n  *\r\n  * @alpha\r\n  */\r\nexport default class SPNavigationNode extends PageContextItem {\r\n  private _id: number;\r\n  private _odataObject: IODataNavigationNode;\r\n\r\n  constructor(pageContext: PageContext) {\r\n    super(pageContext);\r\n  }\r\n\r\n  /**\r\n   * Assigns all properties of the object, then assigns the \"state\" property\r\n   * to PageContextItemState.Ready.\r\n   */\r\n  public load(args: ISPNavigationNodeArgs): void {\r\n    this.validateLoad();\r\n\r\n    this._id = args.id;\r\n\r\n    this.state = PageContextItemState.Ready;\r\n  }\r\n\r\n  /**\r\n   * The numeric ID that identifies the SPNavigationNode on the server.\r\n   */\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n\r\n  /**\r\n   * Returns an ODATA object containing additional navigation information if available.\r\n   * Otherwise, this returns undefined.  If your application fetches thiscls\r\n   * data itself, it can call updateOdataObject() to update the context.\r\n   */\r\n  public getOdataObject(): IODataNavigationNode {\r\n    return this._odataObject;\r\n  }\r\n\r\n  /**\r\n   * Updates the ODATA object that will be returned when getOdataObject() is called.\r\n   * This allows the application to share its data with other objects (e.g. web parts)\r\n   * to avoid unnecessary REST calls.\r\n   */\r\n  public updateOdataObject(value: IODataNavigationNode): void {\r\n    this._odataObject = value;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/pageContext/SPNavigationNode.ts\n **/","/**\r\n * @copyright (c) Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport * as reactDOM from 'react-dom';\r\nimport { DisplayMode, ServiceScope } from '@microsoft/sp-client-base';\r\n\r\nimport CanvasComponent from '../canvasComponent/CanvasComponent';\r\nimport { ICanvasComponentProps } from '../canvasComponent/ICanvasComponent';\r\nimport CanvasStore from '../canvasComponent/CanvasStore';\r\n\r\nimport './Canvas.scss';\r\n\r\n/**\r\n * SharePoint Client-side Applications can use the SharePoint Canvas to enable rich content authoring\r\n * as part of their experience. The SharePoint canvas provides Rich Text Editing capabilities, SharePoint\r\n * Client-side WebPart aggregation and hosting, and a beautiful railed design experience.\r\n *\r\n * @unreleased\r\n * @public\r\n */\r\nexport default class Canvas {\r\n  private _container: HTMLElement;\r\n  private _coreComponent: React.Component<ICanvasComponentProps, {}>;\r\n  private _store: CanvasStore;\r\n\r\n  /**\r\n   * Construct a new instance of the Canvas.\r\n   *\r\n   * @param serviceScope - A context object that will provide dependencies needed by the canvas and\r\n   *   any web parts that it loads.\r\n   * @param container - The host DOM container for the Canvas. When render() is invoked the Canvas will\r\n   *   render into 'container'.\r\n   * @param mode - The initial DisplayMode of the Canvas.\r\n   * @param serializedCanvas - Optional. Used to initialize a Canvas' state when render() is invoked. The\r\n   *   string must have been created by a previous instance of the Canvas. If absent, an empty Canvas will\r\n   *   be rendered. If present, the Canvas will rehydrate to represent the state of the Canvas when\r\n   *   serialized.\r\n   * @param handleCanvasChanged - Optional. When text is editied or canvas controls are added/removed this\r\n   *   callback will be invoked. Web parts will also invoke this call back when there is interaction with\r\n   *   the web part.\r\n   * @param scrollThreshold - Optional. If the Canvas is inside a scrollable element, this value can be passed\r\n   * to let the Canvas know how much of the initial scrolling must be ignored in re-positioning its inner elements.\r\n   * This is useful when the Canvas has a non-zero top relative to its scrollable parent. In that case, a part of\r\n   * the initial scrolling does not move the Canvas out of view and must be ignored by the Canvas. Defaults to zero\r\n   */\r\n  constructor(\r\n    serviceScope: ServiceScope,\r\n    container: HTMLElement,\r\n    mode: DisplayMode,\r\n    serializedCanvas?: string,\r\n    handleCanvasChanged?: () => void,\r\n    scrollThreshold?: number\r\n  ) {\r\n    this._render = this._render.bind(this);\r\n    this._container = container;\r\n    this._store =\r\n      new CanvasStore(serviceScope, this._render, mode, serializedCanvas, handleCanvasChanged, scrollThreshold);\r\n  }\r\n\r\n  /**\r\n   * Render the Canvas into its container DOM element. The Canvas will use the DisplayMode it was\r\n   * constructed with.\r\n   * If the Canvas has already been rendered once, the Canvas will clear its contents and then, if present,\r\n   * use 'serializedCanvas' to rehydrate itself.\r\n   *\r\n   * @param serializedCanvas - Optional. The string must have been created by a previous instance of\r\n   *   the Canvas. If absent, an empty Canvas will be rendered. If present, the Canvas will rehydrate\r\n   *   to represent the state of the Canvas when serialized.\r\n   */\r\n  public render(serializedCanvas?: string): void {\r\n    // Unmount any existing Canvas instances\r\n    this.dispose();\r\n    this._store.webPartManager.dispose();\r\n\r\n    /**\r\n     * @see CanvasStore.handleWindowBlur\r\n     */\r\n    window.addEventListener('blur', this._store.handleWindowBlur, true);\r\n\r\n    this._store.deserialize(serializedCanvas);\r\n    this._render();\r\n  }\r\n\r\n  /**\r\n   * @return The number of controls in the Canvas.\r\n   */\r\n  public get count(): number {\r\n    return this._store.controlsProps.length;\r\n  }\r\n\r\n /**\r\n   * Get the preview image url generated from webpart manager if it is available.\r\n   * The preview image is the first preview image provided by a webpart\r\n   *\r\n   * @return the URL of the preview image\r\n   */\r\n  public get previewImageUrl(): string {\r\n    return this._store.tryGeneratePreviewImageUrl();\r\n  }\r\n\r\n  /**\r\n   * Re-render the Canvas in a new DisplayMode.\r\n   *\r\n   * @param newMode - The desired DisplayMode of the Canvas\r\n   */\r\n  public set displayMode(newMode: DisplayMode) {\r\n    this._store.displayMode = newMode;\r\n  }\r\n\r\n  /**\r\n   * Unmount the Canvas from the container it was constructed with.\r\n   */\r\n  public dispose(): void {\r\n    window.removeEventListener('blur', this._store.handleWindowBlur, true);\r\n    reactDOM.unmountComponentAtNode(this._container);\r\n  }\r\n\r\n  /**\r\n   * Display the Canvas' Toolbox at a given row. If the Toolbox is already open, the Toolbox will close\r\n   * at its previous row and re-open at the new row.\r\n   *\r\n   * @param row - The desired row for the Toolbox to open at. The rows are zero-based numbered.\r\n   *   If an invalid row is passed, no changes will occur.\r\n   *\r\n   * @return A boolean indicating whether the Toolbox successfully opened.\r\n   */\r\n  public openToolbox(row: number): boolean {\r\n    let didToolboxOpen: boolean = false;\r\n\r\n    if (0 <= row && row <= this._store.controlsProps.length) {\r\n      const hint: HTMLElement = document.querySelectorAll('.CanvasToolboxHint')[row] as HTMLElement;\r\n      this._store.openToolbox(row, hint.offsetTop);\r\n      didToolboxOpen = true;\r\n    }\r\n\r\n    return didToolboxOpen;\r\n  }\r\n\r\n  /**\r\n   * Serialize the current contents of the Canvas. The serialized string is in a HTML format understood by\r\n   * SharePoint's Rich Text Field. The returned string can be crawled by search. Modifying the returned\r\n   * string outside of the Canvas is not supported.\r\n   *\r\n   * @return Serialized representation of the Canvas at the time the method is invoked.\r\n   */\r\n  public serialize(): string {\r\n    return this._store.serialize();\r\n  }\r\n\r\n  private _render(): void {\r\n    const props: ICanvasComponentProps = {\r\n      store: this._store\r\n    };\r\n\r\n    const coreElement: React.ReactElement<ICanvasComponentProps> = React.createElement(CanvasComponent, props);\r\n    this._coreComponent = reactDOM.render(coreElement, this._container);\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/canvas/canvas/Canvas.ts\n **/","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { css } from 'office-ui-fabric-react/lib/utilities/css';\r\nimport { DisplayMode } from '@microsoft/sp-client-base';\r\n\r\nimport CanvasControlFactory from '../canvasControl/CanvasControlFactory';\r\nimport CanvasStore from './CanvasStore';\r\nimport CanvasZone from '../canvasZone/CanvasZone';\r\nimport { CanvasA11yManager } from '../../a11y/CanvasA11y';\r\nimport CanvasToolboxHint from '../canvasToolboxHint/CanvasToolboxHint';\r\nimport ClientSideWebPartManager from '../../../../../clientSideWebParts/core/ClientSideWebPartManager';\r\nimport ConfirmationDialog from '../confirmationDialog/ConfirmationDialog';\r\nimport { ICanvasContext, ICanvasComponentProps } from './ICanvasComponent';\r\nimport { ICanvasZoneProps } from '../canvasZone/ICanvasZone';\r\nimport { ISerializedCanvasControl } from '../canvasControl/ISerializedCanvasControl';\r\nimport { IToolboxProps } from '../../toolbox/toolbox/IToolbox';\r\nimport Toolbar from '../../toolbar/Toolbar';\r\nimport Toolbox from '../../toolbox/toolbox/Toolbox';\r\n\r\nimport Strings from '../../loc/CanvasStrings.resx';\r\n\r\nexport default class CanvasComponent extends React.Component<ICanvasComponentProps, {}> {\r\n  public static childContextTypes: React.ValidationMap<ClientSideWebPartManager> = {\r\n    store: React.PropTypes.object.isRequired\r\n  };\r\n\r\n  constructor(props: ICanvasComponentProps, context: ICanvasContext) {\r\n    super(props, context);\r\n  }\r\n\r\n  public getChildContext(): ICanvasContext {\r\n    return {\r\n      store: this.props.store\r\n    };\r\n  }\r\n\r\n  public render(): React.ReactElement<ICanvasComponentProps> {\r\n    const store: CanvasStore = this.props.store;\r\n\r\n    const controlsProps: ISerializedCanvasControl[] = store.controlsProps;\r\n    const deletedRow: number = store.deletedRow;\r\n    const displayMode: DisplayMode = store.displayMode;\r\n    const toolboxProps: IToolboxProps = store.toolboxProps;\r\n\r\n    const rows: React.ReactElement<ICanvasZoneProps>[] = [];\r\n    let row: number = 0;\r\n    if (controlsProps) {\r\n      for (const control of controlsProps) {\r\n        const isSelected: boolean = store.selectedControlId === control.id;\r\n\r\n        if (isSelected && row) {\r\n          // Replace the last hint pushed with a hint that is visible\r\n          rows.pop();\r\n          rows.push(\r\n            <CanvasToolboxHint\r\n              ariaLabel={Strings.ToolboxHintTitle}\r\n              isVisible={true}\r\n              key={row}\r\n              row={row}\r\n            />\r\n          );\r\n        }\r\n\r\n        rows.push(\r\n          <CanvasZone\r\n            displayMode={displayMode}\r\n            id={control.id}\r\n            isSelected={isSelected}\r\n            key={control.id}\r\n            row={row}\r\n          >\r\n            { CanvasControlFactory.CreateCanvasControl(control, store) }\r\n            <Toolbar\r\n              controlType={control.controlType}\r\n              displayMode={displayMode}\r\n              id={control.id}\r\n              row={row}\r\n              onConfigureButtonClick={store.handleConfigureButtonClicked}\r\n              onDeleteButtonClick={store.handleDeleteButtonClicked}\r\n            />\r\n          </CanvasZone>\r\n        );\r\n\r\n        ++row;\r\n\r\n        rows.push(\r\n          <CanvasToolboxHint\r\n            ariaLabel={Strings.ToolboxHintTitle}\r\n            isVisible={toolboxProps.row === row}\r\n            shouldFocus={deletedRow === row}\r\n            key={row}\r\n            row={row}\r\n          />\r\n        );\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Only set focus on a hint during the render after control is deleted.\r\n     */\r\n    store.deletedRow = undefined;\r\n\r\n    const className: string = css(\r\n      'Canvas',\r\n      {\r\n        'Canvas--edit': displayMode === DisplayMode.Edit\r\n      }\r\n    );\r\n\r\n    return (\r\n      <div\r\n        className={className}\r\n        role={displayMode === DisplayMode.Edit ? 'application' : undefined}\r\n      >\r\n        <CanvasToolboxHint\r\n          ariaLabel={Strings.ToolboxHintTitle}\r\n          shouldFocus={deletedRow === 0}\r\n          isVisible={rows[0] && rows[0].props.isSelected || toolboxProps.row === 0}\r\n          row={0}\r\n        />\r\n        { rows }\r\n        <Toolbox {...toolboxProps}/>\r\n        <ConfirmationDialog\r\n          isOpen={store.isDeleteDialogOpen}\r\n          message={Strings.DeleteConfirmationDialogMessage}\r\n          onConfirmation={store.handleDeleteDialogConfirmation}\r\n          onDismiss={store.handleDeleteDialogDismiss}\r\n          title={Strings.DeleteConfirmationDialogTitle}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public componentDidMount(): void {\r\n    const canvasElement: HTMLElement = ReactDOM.findDOMNode(this) as HTMLElement;\r\n    this.props.store.canvasElement = canvasElement;\r\n    this.props.store.a11yManager = new CanvasA11yManager(canvasElement);\r\n\r\n    // Find and set scrollable parent\r\n    let canvasContainer: HTMLElement = canvasElement;\r\n    let hasScrollbar: boolean = false;\r\n    do {\r\n      canvasContainer = canvasContainer.parentElement;\r\n      const overflowY: string = window.getComputedStyle(canvasContainer)['overflow-y'];\r\n      hasScrollbar = (overflowY === 'scroll' || overflowY === 'auto');\r\n    } while (!hasScrollbar && canvasContainer.tagName !== 'BODY');\r\n    this.props.store.scrollableParent = canvasContainer;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/canvas/canvasComponent/CanvasComponent.tsx\n **/","\nexport interface ICssMapping {\n  [className: string]: boolean;\n}\n\nexport type ICssInput = string | ICssMapping;\n\nexport function css(...args: ICssInput[]) {\n  let classes = [];\n\n  for (let arg of args) {\n    if (arg) {\n      if (typeof arg === 'string') {\n        classes.push(arg);\n      } else {\n        for (let key in arg) {\n          if (arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n  }\n\n  return classes.join(' ');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/utilities/css.ts\n **/","import * as React from 'react';\r\n\r\nimport CanvasControlType from './CanvasControlType';\r\nimport CanvasStore from '../canvasComponent/CanvasStore';\r\nimport { ISerializedCanvasControl, ICanvasControl } from '../canvasControl/ISerializedCanvasControl';\r\nimport SPRte, { ISPRteProps } from '../../../sp-rte/rte/SPRte';\r\nimport WebPartZone, { IWebPartZoneProps } from '../../../canvas/sampleCanvasControls/WebPartZone';\r\n\r\nexport default class CanvasControlFactory {\r\n  public static CreateCanvasControl(props: ISerializedCanvasControl, store: CanvasStore): JSX.Element {\r\n    (props as ICanvasControl).onChange = store.notifyChanged;\r\n    (props as ICanvasControl).ref = store.addReference;\r\n\r\n    let control: JSX.Element;\r\n    switch (props.controlType) {\r\n      case CanvasControlType.RTE:\r\n        control = React.createElement<ISPRteProps>(SPRte, (props as ISPRteProps));\r\n        break;\r\n      case CanvasControlType.WebPartZone:\r\n        control = React.createElement<IWebPartZoneProps>(WebPartZone, (props as IWebPartZoneProps));\r\n        break;\r\n    }\r\n\r\n    return control;\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/canvas/canvasControl/CanvasControlFactory.ts\n **/","enum CanvasControlType {\r\n  BodyText = 0,\r\n  HeaderText = 1,\r\n  QuoteText = 2,\r\n  WebPartZone = 3,\r\n  RTE = 4\r\n}\r\n\r\nexport default CanvasControlType;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/canvas/canvasControl/CanvasControlType.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport * as ReactDom from 'react-dom';\r\nimport { DisplayMode } from '@microsoft/sp-client-base';\r\nimport { StringHelper } from '@ms/odsp-utilities-bundle';\r\n\r\nimport { IBounds } from './IBounds';\r\nimport { ICanvasContext } from '../../sp-canvas/canvas/canvasComponent/ICanvasComponent';\r\nimport ISerializedCanvasControl from '../../canvas/canvas/ISerializedCanvasControl';\r\nimport { IRange } from './IRange';\r\nimport { IRichTextEditor } from './IRichTextEditor';\r\nimport { IRichTextFormat } from './IRichTextFormat';\r\nimport SPRteConfiguration from './SPRteConfiguration';\r\nimport SPRteFormattingBar, {\r\n  ISPRteFormattingBarProps,\r\n  ISPRteFormattingBarPosition\r\n} from '../formattingbar/SPRteFormattingBar';\r\nimport SPRteLinkDialog from '../formattingbar/SPRteLinkDialog';\r\nimport QuillEditor from '../quill/QuillEditor';\r\nimport ToolbarButton, { ButtonState, IToolbarButtonProps } from '../../canvas/canvas/ToolbarButton';\r\nimport ToolbarSubmenu, { IToolbarSubmenuProps } from '../../canvas/canvas/ToolbarSubmenu';\r\nimport {\r\n  isEscape,\r\n  isKey,\r\n  KeyCodes\r\n} from '../../sp-canvas/a11y/CanvasA11y';\r\n\r\nimport './SPRte.scss';\r\nimport Strings from '../../sp-canvas/loc/CanvasStrings.resx';\r\n\r\nexport interface ISPRteProps extends ISerializedCanvasControl {\r\n  innerHTML?: string;\r\n}\r\n\r\nexport interface ISPRteState {\r\n  currentSubmenuOpen?: 'alignment' | 'format' | 'list';\r\n  displayMode?: DisplayMode;\r\n  formattingBarPosition?: ISPRteFormattingBarPosition;\r\n  isFormattingBarHidden?: boolean;\r\n  isLinkDialogOpen?: boolean;\r\n}\r\n\r\n/**\r\n * @class Rich Text Editor class. This component wraps around all the RTE logic including the text editor\r\n * and the formatting bar and is used as a canvas control.\r\n */\r\nexport default class SPRte extends React.Component<ISPRteProps, ISPRteState> {\r\n  public static contextTypes: React.ValidationMap<SPRte> = {\r\n    store: React.PropTypes.object.isRequired\r\n  };\r\n\r\n  /**\r\n   * @ readOnly\r\n   */\r\n  private static _TOOLBAR_DEFAULT_POSITION: ISPRteFormattingBarPosition = {\r\n    left: 0,\r\n    top: -36,\r\n    position: 'absolute'\r\n  };\r\n\r\n  /* tslint:disable:max-line-length */\r\n  private static _URL_VALIDATION_REGEX: RegExp = new RegExp('((^https?:\\/\\/)|(^ftp:\\/\\/)|(^file:\\/\\/)|(^mailto:)|(^news:)|(^pnm:\\/\\/)|(^mms:\\/\\/)|(^\\/)|(^#)|(^\\\\\\\\)).+', 'i');\r\n  /* tslint:enable:max-line-length */\r\n  /**\r\n   * @ readOnly\r\n   *\r\n   * The scrollOffset that works for a full-height canvas\r\n   */\r\n  private static _BASE_SCROLL_THRESHOLD: number = -10;\r\n\r\n  /**\r\n   * @ readOnly\r\n   */\r\n  private static _CANVASZONE_PADDING_HORIZONTAL: number = 8;\r\n\r\n  public context: ICanvasContext;\r\n\r\n  private _config: SPRteConfiguration;\r\n  private _currentScrollTop: number;\r\n  private _currentSelection: IRange;\r\n  private _domElement: HTMLDivElement;\r\n  private _editor: IRichTextEditor;\r\n  private _editorElement: HTMLDivElement;\r\n  private _editableDiv: HTMLElement;\r\n  private _formattingbar: SPRteFormattingBar;\r\n  private _formattingbarElement: HTMLElement;\r\n  private _formattingbarWidth: number;\r\n\r\n  private _buttonStates: Map<string, ButtonState>;\r\n\r\n  private _linkAddress: string;\r\n  private _linkDialog: SPRteLinkDialog;\r\n  private _linkElement: HTMLElement;\r\n\r\n  /**\r\n   * _previousHTML is set when a the _quill instance is destroyed.\r\n   * We destroy the quill editor when SPRte is in read mode. The Quill HTML content is used to create a new\r\n   * Quill instance if SPRte is switched from edit -> read -> edit modes in one session.\r\n   */\r\n  private _previousHTML: string;\r\n  /**\r\n   * This stores reference to .ql-editor element to avoid finding it on every render\r\n   */\r\n\r\n  private _restoreSelectionOnNextFocus: boolean;\r\n  private _restoreScrollTopOnNextFocus: boolean;\r\n\r\n  private _selectionInitiated: boolean;\r\n  private _selectionShouldEnd: boolean;\r\n\r\n  constructor(props: ISPRteProps) {\r\n    super(props);\r\n\r\n    this._checkSelectionChange = this._checkSelectionChange.bind(this);\r\n    this._getFormatButtonProps = this._getFormatButtonProps.bind(this);\r\n    this._handleAlignCenter = this._handleAlignCenter.bind(this);\r\n    this._handleAlignLeft = this._handleAlignLeft.bind(this);\r\n    this._handleAlignRight = this._handleAlignRight.bind(this);\r\n    this._handleBold = this._handleBold.bind(this);\r\n    this._handleClearFormatting = this._handleClearFormatting.bind(this);\r\n    this._handleEditorFocus = this._handleEditorFocus.bind(this);\r\n    this._handleHeading2 = this._handleHeading2.bind(this);\r\n    this._handleHeading3 = this._handleHeading3.bind(this);\r\n    this._handleHeading4 = this._handleHeading4.bind(this);\r\n    this._handleItalic = this._handleItalic.bind(this);\r\n    this._handleLink = this._handleLink.bind(this);\r\n    this._handleListBullets = this._handleListBullets.bind(this);\r\n    this._handleListNumbered = this._handleListNumbered.bind(this);\r\n    this._handlePlainText = this._handlePlainText.bind(this);\r\n    this._handleQuote = this._handleQuote.bind(this);\r\n    this._handleSelectionChange = this._handleSelectionChange.bind(this);\r\n    this._handleTextChange = this._handleTextChange.bind(this);\r\n    this._handleUnderline = this._handleUnderline.bind(this);\r\n    this._handleUnlink = this._handleUnlink.bind(this);\r\n\r\n    this._handleFormattingBarKeyDown = this._handleFormattingBarKeyDown.bind(this);\r\n    this._handleKeyDown = this._handleKeyDown.bind(this);\r\n    this._handleKeyUp = this._handleKeyUp.bind(this);\r\n    this._handleScroll = this._handleScroll.bind(this);\r\n    this._restoreOnFocus = this._restoreOnFocus.bind(this);\r\n\r\n    this._onLinkDialogSaved = this._onLinkDialogSaved.bind(this);\r\n    this._openLinkDialog = this._openLinkDialog.bind(this);\r\n    this._closeLinkDialog = this._closeLinkDialog.bind(this);\r\n\r\n    this.state = {\r\n      displayMode: this.props.displayMode,\r\n      formattingBarPosition: undefined,\r\n      isFormattingBarHidden: true,\r\n      isLinkDialogOpen: false\r\n    };\r\n\r\n    this._config = new SPRteConfiguration();\r\n    this._restoreScrollTopOnNextFocus = false;\r\n    this._restoreSelectionOnNextFocus = false;\r\n    this._buttonStates = new Map<string, ButtonState>();\r\n    this._selectionInitiated = false;\r\n    this._selectionShouldEnd = false;\r\n\r\n    if (this.state.displayMode === DisplayMode.Edit && !this._editor) {\r\n      QuillEditor.moduleLoader.loadModule();\r\n    }\r\n  }\r\n\r\n  public render(): React.ReactElement<ISPRteProps> {\r\n    let formattingBar: React.ReactElement<ISPRteFormattingBarProps>;\r\n\r\n    let html: string;\r\n    let className: string;\r\n    if (this.state.displayMode === DisplayMode.Read) {\r\n      className = 'ql-container';\r\n      html = this._previousHTML || this.props.innerHTML;\r\n    }\r\n\r\n    // Do not render a formatting bar if the control is not in edit mode and the\r\n    // formatting bar is hidden\r\n    const isEditMode: boolean = this.state.displayMode === DisplayMode.Edit;\r\n    if (isEditMode && !this.state.isFormattingBarHidden) {\r\n      formattingBar = <SPRteFormattingBar\r\n        buttons={this._formattingBarButtons}\r\n        position={this.state.formattingBarPosition}\r\n        onKeyDown={this._handleFormattingBarKeyDown}\r\n        ref={(c: SPRteFormattingBar) => this._formattingbar = c}\r\n      />;\r\n    }\r\n\r\n    return (\r\n      <div ref={(c: HTMLDivElement) => this._domElement = c }>\r\n        <div\r\n          aria-role={ isEditMode ? 'textbox' : undefined }\r\n          aria-multiline={ isEditMode || undefined }\r\n          dangerouslySetInnerHTML={{__html: html}}\r\n          className={ className }\r\n          onKeyUp={ this._handleKeyUp }\r\n          ref={ (c: HTMLDivElement) => this._editorElement = c }\r\n        />\r\n        { formattingBar }\r\n        <SPRteLinkDialog\r\n          editorElement={this._editableDiv}\r\n          isOpen={this.state.isLinkDialogOpen}\r\n          onCancelClicked={this._closeLinkDialog}\r\n          onDismiss={this._closeLinkDialog}\r\n          onSaveClicked={this._onLinkDialogSaved}\r\n          ref={(c: SPRteLinkDialog) => this._linkDialog = c}\r\n          textFieldValue={this._linkAddress || ''}\r\n          validationRegex={SPRte._URL_VALIDATION_REGEX}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public componentDidMount(): void {\r\n    if (this.state.displayMode === DisplayMode.Edit) {\r\n      this._createNewEditor(this.props.innerHTML || '').then((editor) => {\r\n        this._afterEditorCreated(editor);\r\n        this.context.store.webPartManager.configureStart(undefined);\r\n        this.focus();\r\n      });\r\n    }\r\n  }\r\n\r\n  public componentDidUpdate(prevProps: ISPRteProps, prevState: ISPRteState): void {\r\n    if (this._formattingbar) {\r\n      this._formattingbarElement = ReactDom.findDOMNode<HTMLElement>(this._formattingbar);\r\n      this._formattingbarWidth = this._formattingbarElement.offsetWidth || this._formattingbarWidth;\r\n\r\n      if (this.context.store.scrollableParent) {\r\n        this.context.store.scrollableParent.addEventListener('scroll', this._handleScroll);\r\n      }\r\n\r\n      /* If formattingbar exists and editable div doesn't have focus, make the editable div un-tabbable\r\n        This is because we want tab to switch between the toolbars and only ESC can set the focus back to editor */\r\n      const tabIndex: string =\r\n        (this._editableDiv && this._editableDiv.isEqualNode(document.activeElement)) ? '0' : '-1';\r\n      this._editableDiv.setAttribute('tabindex', tabIndex);\r\n    } else {\r\n      this._formattingbarElement = undefined;\r\n      if (this.context.store.scrollableParent) {\r\n        this.context.store.scrollableParent.removeEventListener('scroll', this._handleScroll);\r\n      }\r\n      if (this._editableDiv) {\r\n        this._editableDiv.setAttribute('tabindex', '0');\r\n      }\r\n    }\r\n  }\r\n\r\n  public componentWillUnmount(): void {\r\n    if (this._editor) {\r\n      this._previousHTML = this._editor.destroy();\r\n      this._editor = undefined;\r\n    }\r\n  }\r\n\r\n  public componentWillUpdate(nextProps: ISPRteProps, nextState: ISPRteState): void {\r\n    if (this.state.displayMode !== nextState.displayMode) {\r\n      if (nextState.displayMode === DisplayMode.Edit) {\r\n        /**\r\n         * Switching from Read mode to Edit mode. Create a new editor\r\n         * If SPRte has previously been in edit mode during the same session we want to use the saved HTML.\r\n         * The props value is used if the editor is switching to edit mode for the first time since\r\n         * _previousHTML will be null.\r\n         */\r\n        this._createNewEditor(this._previousHTML || this.props.innerHTML || '').then((editor) => {\r\n          this._afterEditorCreated(editor);\r\n          this._setButtonStates();\r\n        });\r\n\r\n      } else if (nextState.displayMode === DisplayMode.Read) {\r\n        // Switching from Edit mode to Read mode. Remove the editor instance\r\n        this.componentWillUnmount();\r\n      }\r\n    } else if (nextState.displayMode === DisplayMode.Edit && this._editor) {\r\n      /* Re-evaluate button activeness map before every render\r\n      We assume that we only need to change activeness if the focus is inside the editor\r\n      IMPORTANT: this._quill.focus() should not be called during state-transition, because it will trigger\r\n      selection-change and cause another state-transition which is forbidden by React */\r\n      this._setButtonStates();\r\n    }\r\n  }\r\n\r\n  public focus(): void {\r\n    if (this._editableDiv) {\r\n      // If focus() is explicitly called on the React component, force the editor to be tabbable\r\n      this._editableDiv.setAttribute('tabindex', '0');\r\n    }\r\n\r\n    this._editor.focus();\r\n  }\r\n\r\n  public setDisplayMode(newMode: DisplayMode): void {\r\n    if (this.state.displayMode !== newMode) {\r\n      this.setState({\r\n        displayMode: newMode,\r\n        formattingBarPosition: undefined,\r\n        isFormattingBarHidden: true,\r\n        isLinkDialogOpen: false\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the serialized instance of this control\r\n   */\r\n  public serialize(): ISerializedCanvasControl {\r\n    const serialization: ISPRteProps = JSON.parse(JSON.stringify(this.props));\r\n    serialization.innerHTML = this._editor ? this._editor.getHTML() : this.props.innerHTML;\r\n\r\n    return serialization;\r\n  }\r\n\r\n  private _afterEditorCreated(editor: IRichTextEditor): void {\r\n    this._editor = editor;\r\n    this._handleTextChange();\r\n    this._editorElement.addEventListener('keydown', this._handleKeyDown);\r\n    document.addEventListener('mouseup', this._checkSelectionChange);\r\n    this._editableDiv = this._editorElement.querySelector('.ql-editor') as HTMLElement;\r\n    if (this._editableDiv) {\r\n      this._editableDiv.setAttribute('aria-label', Strings.RichTextEditorAriaLabel);\r\n      this._editableDiv.addEventListener('focus', this._handleEditorFocus);\r\n    }\r\n  }\r\n\r\n  private _ariaConfirmAction(formatKeyOrName: string): void {\r\n    const format: IRichTextFormat = this._config.formats.get(formatKeyOrName);\r\n    const name: string = format ? format.button.title : formatKeyOrName;\r\n\r\n    let message: string = StringHelper.format(Strings.FormattingBarConfirmAction, name);\r\n    if (this._currentSelection &&  this._currentSelection.start !== this._currentSelection.end &&\r\n      !(format && format.isLine)) {\r\n      const text: string = this._editor.getText(this._currentSelection);\r\n      message = StringHelper.format(Strings.FormattingBarConfirmActionOnSelection, name, text);\r\n    }\r\n    this.context.store.a11yManager.ariaAlert(message);\r\n}\r\n\r\n /**\r\n  * Note: keyup and mouseup can happen before or after selection-change depending on the user input\r\n  * That's why we need to mark these events in separate flags (_selectionInitiated and _selectionShouldEnd)\r\n  * Whenever one of them happens, we check if the other one has happened so we could complete the action\r\n  *\r\n  * Checks if a selection change should complete, then:\r\n  * - If the selection was already initiated, completes it\r\n  * - Otherwise, markes the selection to be completed after initiation\r\n  */\r\n  private _checkSelectionChange(): void {\r\n    if (this._editor) {\r\n      this._selectionShouldEnd = true;\r\n      if (this._selectionInitiated) {\r\n        const range: IRange = this._editor.getSelection();\r\n        this._currentSelection = range;\r\n        this._updateFormattingBar();\r\n        // Reset completion flag because selection change is already handled\r\n        this._selectionShouldEnd = false;\r\n      }\r\n      // Reset initiation flag for future events\r\n      this._selectionInitiated = false;\r\n    }\r\n  }\r\n\r\n  private _closeLinkDialog(): void {\r\n    this._restoreSelectionOnNextFocus = true;\r\n    this._restoreScrollTopOnNextFocus = true;\r\n    this._currentScrollTop = this.context.store.scrollableParent.scrollTop;\r\n    this._linkAddress = '';\r\n\r\n    this.setState({\r\n      isLinkDialogOpen: false\r\n    });\r\n  }\r\n\r\n  private _createNewEditor(innerHTML: string): Promise<QuillEditor> {\r\n    return QuillEditor.createNewEditor(\r\n      this._config,\r\n      innerHTML,\r\n      this._editorElement,\r\n      this._handleSelectionChange,\r\n      this._handleTextChange\r\n    );\r\n  }\r\n\r\n  private _shouldFormattingBarStick(): boolean {\r\n    const editorRelativeTop: number =\r\n      this._editorElement.getBoundingClientRect().top - this.context.store.canvasElement.getBoundingClientRect().top;\r\n\r\n    return this.context.store.scrollableParent.scrollTop >\r\n      this.context.store.scrollThreshold + SPRte._BASE_SCROLL_THRESHOLD +\r\n      editorRelativeTop + SPRte._TOOLBAR_DEFAULT_POSITION.top;\r\n  }\r\n\r\n  private _getFormattingBarPosition(): ISPRteFormattingBarPosition {\r\n    let left: number = SPRte._TOOLBAR_DEFAULT_POSITION.left;\r\n    let top: number = SPRte._TOOLBAR_DEFAULT_POSITION.top;\r\n    let position: string = 'absolute';\r\n    let isFloating: boolean = false;\r\n\r\n    if (this._formattingbarElement) {\r\n      if (this._currentSelection && this._currentSelection.start !== this._currentSelection.end) {\r\n        // Use range.end - 1, because getBounds returns left:0 when the selection ends at the end of line\r\n        const startBounds: IBounds = this._editor.getBounds(this._currentSelection.start);\r\n        const endBounds: IBounds = this._editor.getBounds(Math.max(0, this._currentSelection.end - 1));\r\n\r\n        if (startBounds.top === endBounds.top) {\r\n          isFloating = true;\r\n          // Fix the problem where Quill returns faulty endBounds.left when the selection ends close to end of line\r\n          endBounds.left = startBounds.left <= endBounds.left ? endBounds.left : this._editorElement.offsetWidth;\r\n          const toolbarLeft: number =\r\n            (startBounds.left + endBounds.left) / 2 - this._formattingbarWidth / 2;\r\n          const canvasZoneWidth: number = this._editorElement.offsetWidth + SPRte._CANVASZONE_PADDING_HORIZONTAL * 2;\r\n\r\n          left = toolbarLeft + this._formattingbarWidth <= canvasZoneWidth ?\r\n            Math.max(toolbarLeft, SPRte._TOOLBAR_DEFAULT_POSITION.left) :\r\n            canvasZoneWidth - this._formattingbarWidth;\r\n\r\n          // If the floating top is too close to the fixed top (<line-height), use the fixed top to avoid funkiness\r\n          top = startBounds.top < 23 ?\r\n            SPRte._TOOLBAR_DEFAULT_POSITION.top :\r\n            startBounds.top + SPRte._TOOLBAR_DEFAULT_POSITION.top;\r\n\r\n          position = 'absolute';\r\n        }\r\n      }\r\n    }\r\n\r\n    // Even if the formatting bar element doesn't exist, we can still calculate the sticky bar position\r\n    if (!isFloating && this._shouldFormattingBarStick()) {\r\n      left = SPRte._TOOLBAR_DEFAULT_POSITION.left +\r\n        this._editorElement.getBoundingClientRect().left - SPRte._CANVASZONE_PADDING_HORIZONTAL;\r\n      top = this.context.store.canvasElement.getBoundingClientRect().top +\r\n        this.context.store.scrollableParent.scrollTop - this.context.store.scrollThreshold;\r\n      position = 'fixed';\r\n    }\r\n\r\n    return {left, top, position};\r\n  }\r\n\r\n  private _getFormatButtonProps(formatKey: string, onClick: () => void): IToolbarButtonProps {\r\n    const format: IRichTextFormat = this._config.formats.get(formatKey);\r\n    return {\r\n      key: format.key,\r\n      fabricIconKey: format.button.fabricIconKey,\r\n      iconClassName: format.button.iconClassName,\r\n      onClick: onClick,\r\n      canBeActive: format.button.canBeActive,\r\n      isActive: this._buttonStates.get(format.key) === ButtonState.Active,\r\n      disabled: this._buttonStates.get(format.key) === ButtonState.Disabled,\r\n      title: format.button.title + (format.button.shortcut ? ` (${format.button.shortcut})` : ''),\r\n      label: format.button.label,\r\n      className: format.button.className\r\n    };\r\n  }\r\n\r\n  private get _formattingBarButtons(): JSX.Element[] {\r\n    const formatSubmenuButtons: IToolbarButtonProps[] = [\r\n      {\r\n        canBeActive: true,\r\n        title: Strings.FormattingBarNormalTextButtonTitle,\r\n        label: Strings.FormattingBarNormalTextButtonTitle,\r\n        onClick: this._handlePlainText\r\n      },\r\n      this._getFormatButtonProps('h2', this._handleHeading2),\r\n      this._getFormatButtonProps('h3', this._handleHeading3),\r\n      this._getFormatButtonProps('h4', this._handleHeading4),\r\n      this._getFormatButtonProps('blockquote', this._handleQuote)\r\n    ];\r\n\r\n    const alignmentSubmenuButtons: IToolbarButtonProps[] = [\r\n      this._getFormatButtonProps('alignLeft', this._handleAlignLeft),\r\n      this._getFormatButtonProps('alignCenter', this._handleAlignCenter),\r\n      this._getFormatButtonProps('alignRight', this._handleAlignRight)\r\n    ];\r\n\r\n    const listSubmenuButtons: IToolbarButtonProps[] = [\r\n      this._getFormatButtonProps('bullet', this._handleListBullets),\r\n      this._getFormatButtonProps('list', this._handleListNumbered)\r\n    ];\r\n\r\n    const buttons: React.ReactElement<IToolbarButtonProps | IToolbarSubmenuProps>[] = [\r\n      <ToolbarSubmenu\r\n        key='format' buttons={formatSubmenuButtons}\r\n        isOpen={this.state.currentSubmenuOpen === 'format'}\r\n        isWide={true}\r\n        onOpen={() => this.setState({ currentSubmenuOpen: 'format'})}\r\n      />,\r\n      <ToolbarButton {...this._getFormatButtonProps('bold', this._handleBold)} />,\r\n      <ToolbarButton {...this._getFormatButtonProps('italic', this._handleItalic)} />,\r\n      <ToolbarButton {...this._getFormatButtonProps('underline', this._handleUnderline)} />,\r\n      <ToolbarSubmenu\r\n        key='alignment'\r\n        buttons={alignmentSubmenuButtons}\r\n        isOpen={this.state.currentSubmenuOpen === 'alignment'}\r\n        onOpen={() => this.setState({ currentSubmenuOpen: 'alignment' })}\r\n      />,\r\n      <ToolbarSubmenu\r\n        key='list'\r\n        buttons={listSubmenuButtons}\r\n        isOpen={this.state.currentSubmenuOpen === 'list'}\r\n        onOpen={() => this.setState({ currentSubmenuOpen: 'list' })}\r\n      />,\r\n      <ToolbarButton {...this._getFormatButtonProps('link', this._handleLink)} />,\r\n      <ToolbarButton\r\n        key='unlink'\r\n        canBeActive={false}\r\n        className='button_linkRemove_temp'\r\n        fabricIconKey='Link'\r\n        onClick={this._handleUnlink}\r\n        title={Strings.FormattingBarUnlinkButtonTitle}\r\n        disabled={this._buttonStates.get('link') !== ButtonState.Active}\r\n      />,\r\n      <ToolbarButton\r\n        key='clearFormatting'\r\n        canBeActive={false}\r\n        fabricIconKey='ClearFormatting'\r\n        onClick={this._handleClearFormatting}\r\n        title={Strings.FormattingBarClearFormattingButtonTitle}\r\n      />\r\n    ];\r\n\r\n    return buttons;\r\n  }\r\n\r\n  private _finalizeAction(ariaActionName?: string): void {\r\n    if (ariaActionName) {\r\n      this._ariaConfirmAction(ariaActionName);\r\n    }\r\n    this._updateActiveButtons();\r\n  }\r\n\r\n  /**\r\n   * @param format - Name of the format to apply\r\n   */\r\n  private _formatOrPrepare(formatKey: string): void {\r\n    this.focus();\r\n\r\n    const format: IRichTextFormat = this._config.formats.get(formatKey);\r\n    // Check if the format is masked and skip action\r\n    if (format.maskedBy) {\r\n      for (const maskingFormat of format.maskedBy) {\r\n        if (this._buttonStates.get(maskingFormat) === ButtonState.Active) {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    const range: IRange = this._currentSelection;\r\n    const [start, end]: number[] = [range.start, range.end];\r\n\r\n    const value: string | boolean =\r\n      format.editorValue ? format.editorValue : !this._editor.isFormatAppliedToRange(start, end, format);\r\n\r\n    this._cleanupBeforeFormatting(start, end, format);\r\n    const formats: Object = {};\r\n    formats[format.editorKey] = value;\r\n    this._editor.format(start, end, formats);\r\n    this._finalizeAction(formatKey);\r\n  }\r\n\r\n  private _handleAlignCenter(): void {\r\n    this._formatOrPrepare('alignCenter');\r\n  }\r\n\r\n  private _handleAlignLeft(): void {\r\n    this._formatOrPrepare('alignLeft');\r\n  }\r\n\r\n  private _handleAlignRight(): void {\r\n    this._formatOrPrepare('alignRight');\r\n  }\r\n\r\n  private _handleBold(): void {\r\n    this._formatOrPrepare('bold');\r\n  }\r\n\r\n  private _handleHeading2(): void {\r\n    this._formatOrPrepare('h2');\r\n  }\r\n\r\n  private _handleHeading3(): void {\r\n    this._formatOrPrepare('h3');\r\n  }\r\n\r\n  private _handleHeading4(): void {\r\n    this._formatOrPrepare('h4');\r\n  }\r\n\r\n  private _handleItalic(): void {\r\n    this._formatOrPrepare('italic');\r\n  }\r\n\r\n  private _handleLink(): void {\r\n    if (this._currentSelection) {\r\n      // If there is existing link modify its URL, otherwise create new one if selection is not collapsed\r\n      if (this._buttonStates.get('link') === ButtonState.Active) {\r\n        const linkAddress: string =\r\n          this._editor.getFormatValue(\r\n            this._currentSelection.start,\r\n            this._currentSelection.end,\r\n            this._config.formats.get('link')\r\n          ) as string;\r\n        this._openLinkDialog(linkAddress);\r\n      } else if (this._currentSelection.start !== this._currentSelection.end) {\r\n        this._openLinkDialog();\r\n      }\r\n      this._updateActiveButtons();\r\n    }\r\n  }\r\n\r\n  private _handleListBullets(): void {\r\n    this._formatOrPrepare('bullet');\r\n  }\r\n\r\n  private _handleListNumbered(): void {\r\n    this._formatOrPrepare('list');\r\n  }\r\n\r\n  private _handlePlainText(): void {\r\n    this.focus();\r\n    if (this._currentSelection) {\r\n      // Use the clean method for any styling format\r\n      const blockStyles: IRichTextFormat[] =\r\n        this._config.supportedFormatsArray.filter((format) => { return format.isBlockStyle; });\r\n      this._cleanupBeforeFormatting(this._currentSelection.start, this._currentSelection.end, blockStyles[0]);\r\n      this._finalizeAction();\r\n    }\r\n  }\r\n\r\n  private _handleQuote(): void {\r\n    this._formatOrPrepare('blockquote');\r\n  }\r\n\r\n  /**\r\n    * Checks if a selection change should initiate, then:\r\n    * - If the selection was marked for completion, completes it\r\n    * - Otherwise, markes the selection as initiated to be completed later\r\n    */\r\n  private _handleSelectionChange(range: IRange): void {\r\n    if (range) {\r\n      this.setState({currentSubmenuOpen: undefined});\r\n      if (this._restoreOnFocus()) {\r\n        this._updateFormattingBar();\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (!range) {\r\n      this._updateFormattingBar(true);\r\n    } else if (!this._currentSelection || this.state.isFormattingBarHidden) {\r\n      this._currentSelection = range;\r\n      this._updateFormattingBar();\r\n    } else if (this._currentSelection.start !== range.start || this._currentSelection.end !== range.end) {\r\n      // Initiate a selection and complete it if it was marked for completion\r\n      this._selectionInitiated = true;\r\n      if (this._selectionShouldEnd) {\r\n        this._currentSelection = range;\r\n        this._updateFormattingBar();\r\n        // Reset initiation flag because selection change is already handled\r\n        this._selectionInitiated = false;\r\n      }\r\n      // Clear completion flag for future events\r\n      this._selectionShouldEnd = false;\r\n    }\r\n  }\r\n\r\n  private _handleClearFormatting(): void {\r\n    this.focus();\r\n    const range: IRange = this._currentSelection;\r\n    const [start, end]: number[] = [range.start, range.end];\r\n\r\n    const formats: Object = {};\r\n    for (const format of this._config.supportedFormatsArray) {\r\n      formats[format.editorKey] = false;\r\n    }\r\n    this._editor.format(start, end, formats);\r\n    this._finalizeAction(Strings.FormattingBarClearFormattingButtonTitle);\r\n  }\r\n\r\n  private _handleTextChange(): void {\r\n    if (this.state.displayMode === DisplayMode.Edit) {\r\n      // Note: Use if-else because classList.toggle doesn't work properly in IE\r\n      if (this._editorElement.textContent === '') {\r\n        this._editorElement.classList.add('ql-container--blank');\r\n      } else {\r\n        this._editorElement.classList.remove('ql-container--blank');\r\n      }\r\n\r\n      if (this._editor) {\r\n        this._currentSelection = this._editor.getSelection() || this._currentSelection;\r\n      }\r\n\r\n      if (this.props.onChange) {\r\n        this.props.onChange();\r\n      }\r\n    }\r\n  }\r\n\r\n  private _handleUnderline(): void {\r\n    this._formatOrPrepare('underline');\r\n  }\r\n\r\n  private _handleUnlink(): void {\r\n    this.focus();\r\n    if (this._currentSelection) {\r\n      this._editor.format(this._currentSelection.start, this._currentSelection.end, {'link': false});\r\n      this._finalizeAction(Strings.FormattingBarUnlinkButtonTitle);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clean up the existing formatting of given range before applying the new format, by doing:\r\n   *  - Clear all styling formats if new format is also a styling format\r\n   *  - Clear all the formats masked by the new format\r\n   *\r\n   * @param start - Start of the range getting formatted\r\n   * @param end - End of the range getting formatted\r\n   * @param newFormat - Name of new format being applied\r\n   */\r\n  private _cleanupBeforeFormatting(start: number, end: number, newFormat: IRichTextFormat): void {\r\n    const formatsToClear: Object = {};\r\n\r\n    // If this is a styling format, clear all styling formats\r\n    if (newFormat.isBlockStyle) {\r\n      const blockStyles: IRichTextFormat[] =\r\n        this._config.supportedFormatsArray.filter((format) => { return format.isBlockStyle; });\r\n      for (const format of blockStyles) {\r\n        formatsToClear[format.editorKey] = false;\r\n      }\r\n    }\r\n\r\n    // Clear all formats masked by this format\r\n    if (newFormat.masks) {\r\n      for (const maskedFormatKey of newFormat.masks) {\r\n        formatsToClear[this._config.formats.get(maskedFormatKey).editorKey] = false;\r\n      }\r\n    }\r\n\r\n    this._editor.format(start, end, formatsToClear, true);\r\n  }\r\n\r\n  private _onLinkDialogSaved(): void {\r\n    if (this._linkDialog.textFieldValue) {\r\n      this._editor.format(this._currentSelection.start, this._currentSelection.end,\r\n        {'link': this._linkDialog.textFieldValue});\r\n    }\r\n    this._linkElement = undefined;\r\n    this._finalizeAction(Strings.FormattingBarLinkButtonTitle);\r\n    this._closeLinkDialog();\r\n  }\r\n\r\n  private _openLinkDialog(defaultAddress: string = ''): void {\r\n    this._linkAddress = defaultAddress;\r\n\r\n    this.setState({\r\n      isLinkDialogOpen: true\r\n    });\r\n  }\r\n\r\n  private _handleEditorFocus(evt: FocusEvent): void {\r\n    this._restoreOnFocus();\r\n  }\r\n\r\n  private _handleFormattingBarKeyDown(evt: KeyboardEvent): void {\r\n    if (isEscape(evt)) {\r\n      if (this._editableDiv && !this._editableDiv.isEqualNode(document.activeElement)) {\r\n        this.focus();\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n      }\r\n    }\r\n  }\r\n\r\n  private _handleKeyDown(evt: KeyboardEvent): void {\r\n    if (isKey(KeyCodes.F10, evt, true) && this._formattingbarElement) {\r\n      this.context.store.a11yManager.navigateInside(this._formattingbarElement);\r\n      this.context.store.a11yManager.\r\n        ariaAlert(`${Strings.ToolbarNavigationArrowKeys} ${Strings.ToolbarNavigationTabKeys}`);\r\n      evt.stopPropagation();\r\n      evt.preventDefault();\r\n    } else if (isKey('K'.charCodeAt(0), evt, false, true)) {\r\n      this._handleLink();\r\n      evt.stopPropagation();\r\n      evt.preventDefault();\r\n    }\r\n  }\r\n\r\n  private _handleKeyUp(evt: KeyboardEvent): void {\r\n    this._checkSelectionChange();\r\n    this._updateActiveButtons();\r\n  }\r\n\r\n  private _handleScroll(): void {\r\n    if (this.state.formattingBarPosition) {\r\n      const isSticky: boolean = this.state.formattingBarPosition.position === 'fixed';\r\n\r\n      if (this._shouldFormattingBarStick() ? !isSticky : isSticky) {\r\n        const newState: ISPRteState = {\r\n          formattingBarPosition: this._getFormattingBarPosition(),\r\n          isLinkDialogOpen: false\r\n        };\r\n        this.setState(newState);\r\n      }\r\n    }\r\n  }\r\n\r\n  private _restoreOnFocus(): boolean {\r\n    let restore: boolean = false;\r\n\r\n    if (this._restoreSelectionOnNextFocus && this._currentSelection) {\r\n      this._restoreSelectionOnNextFocus = false;\r\n      this._editor.setSelection(this._currentSelection);\r\n      restore = true;\r\n    }\r\n\r\n    if (this._restoreScrollTopOnNextFocus && this._currentScrollTop) {\r\n      this._restoreScrollTopOnNextFocus = false;\r\n      this.context.store.scrollableParent.scrollTop = this._currentScrollTop;\r\n      restore = true;\r\n    }\r\n\r\n    return restore;\r\n  }\r\n\r\n  private _setButtonStates(): void {\r\n    const range: IRange = this._currentSelection;\r\n    if (range) {\r\n      /* Make a map to keep track of updated buttons. Its goal is to minimize the number\r\n      of calls to isFormatAppliedToRange (equal to the number of currently non-masked formats) */\r\n      const updatedFormats: Map<string, boolean> = new Map<string, boolean>();\r\n      for (const format of this._config.supportedFormatsArray) {\r\n        updatedFormats.set(format.key, false);\r\n      }\r\n\r\n      // First figure out the state of masking formats and their masked formats\r\n      const maskingFormats: IRichTextFormat[] =\r\n        this._config.supportedFormatsArray.filter((format) => { return !!format.masks; });\r\n      for (const maskingFormat of maskingFormats) {\r\n        if (!updatedFormats.get(maskingFormat.key)) {\r\n          const isActive: boolean = this._editor.isFormatAppliedToRange(range.start, range.end, maskingFormat);\r\n          this._buttonStates.set(maskingFormat.key, isActive ? ButtonState.Active : ButtonState.Normal);\r\n          updatedFormats.set(maskingFormat.key, true);\r\n          if (isActive) {\r\n            for (const maskedFormat of maskingFormat.masks){\r\n              this._buttonStates.set(maskedFormat, ButtonState.Disabled);\r\n              updatedFormats.set(maskedFormat, true);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // Figure out activeness for the rest of the formats\r\n      for (const format of this._config.supportedFormatsArray) {\r\n        if (!updatedFormats.get(format.key)) {\r\n          const isActive: boolean = this._editor.isFormatAppliedToRange(range.start, range.end, format);\r\n          this._buttonStates.set(format.key, isActive ? ButtonState.Active : ButtonState.Normal);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This should be called whenever the activeness of buttons could have changed\r\n   * It rerenders the component to make sure the change is rendered\r\n   */\r\n  private _updateActiveButtons(): void {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  /**\r\n   * Hide/Show the formatting bar and update the formatting bar position if needed\r\n   * If the editor is not focused, hide the formatting bar\r\n   * If the selection is collapsed the formatting bar will render in a static location\r\n   * If the selection is not collapsed the formatting bar will appear near the selection\r\n   */\r\n  private _updateFormattingBar(isHidden: boolean = false): void {\r\n    if (!this._editorElement) {\r\n      return;\r\n    }\r\n\r\n    let updatePosition: boolean = true;\r\n\r\n    const newState: ISPRteState = {\r\n      formattingBarPosition: {\r\n        left: SPRte._TOOLBAR_DEFAULT_POSITION.left,\r\n        top: SPRte._TOOLBAR_DEFAULT_POSITION.top,\r\n        position: SPRte._TOOLBAR_DEFAULT_POSITION.position\r\n      },\r\n      isFormattingBarHidden: isHidden\r\n    };\r\n\r\n    if (isHidden && this._formattingbarElement) {\r\n      // If the editor or a toolbar button has the focus, don't hide the toolbar\r\n      if (document.activeElement.isEqualNode(this._editableDiv)) {\r\n        isHidden = false;\r\n      } else {\r\n        const buttonNodes: NodeList =\r\n          this._formattingbarElement.querySelectorAll('.ToolbarButton');\r\n\r\n        for (let i: number = 0; i < buttonNodes.length; i++) {\r\n          if (document.activeElement.isEqualNode(buttonNodes[i])) {\r\n            newState.isFormattingBarHidden = false;\r\n            newState.formattingBarPosition = this.state.formattingBarPosition;\r\n            isHidden = false;\r\n            // Don't update the position if isHidden got overriden because a button was clicked\r\n            updatePosition = false;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (isHidden && !(document.activeElement as HTMLDivElement).isContentEditable) {\r\n        // This makes the contenteditable element non-editable\r\n        window.getSelection().removeAllRanges();\r\n      }\r\n    }\r\n\r\n    if (!isHidden) {\r\n      newState.isFormattingBarHidden = false;\r\n\r\n      if (updatePosition) {\r\n        newState.formattingBarPosition = this._getFormattingBarPosition();\r\n      }\r\n    }\r\n\r\n    this.setState(newState);\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-rte/rte/SPRte.tsx\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport { IRichTextFormat } from './IRichTextFormat';\r\n\r\nimport Strings from '../../sp-canvas/loc/CanvasStrings.resx';\r\n\r\n/**\r\n * Static class for SPRte configuratoion\r\n * Note: We assume all RTE instances share the same configuration by design\r\n * Should this change in the future, we'll need to change this to non-static design\r\n */\r\nexport default class SPRteConfiguration {\r\n  private _supportedFormatsArray: IRichTextFormat[];\r\n  private _formats: Map<string, IRichTextFormat>;\r\n\r\n  constructor() {\r\n    this._supportedFormatsArray = [\r\n      {\r\n        key: 'bold',\r\n        editorKey: 'bold',\r\n        browserKey: 'bold',\r\n\r\n        isBlockStyle: false,\r\n        isLine: false,\r\n        isEditorNative: true,\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          fabricIconKey: 'Bold',\r\n          shortcut: 'Ctrl+B',\r\n          title: Strings.FormattingBarBoldButtonTitle\r\n        }\r\n      },\r\n      {\r\n        key: 'italic',\r\n        editorKey: 'italic',\r\n        browserKey: 'italic',\r\n\r\n        isBlockStyle: false,\r\n        isLine: false,\r\n        isEditorNative: true,\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          fabricIconKey: 'Italic',\r\n          shortcut: 'Ctrl+I',\r\n          title: Strings.FormattingBarItalicButtonTitle\r\n        }\r\n      },\r\n      {\r\n        key: 'underline',\r\n        editorKey: 'underline',\r\n        browserKey: 'underline',\r\n\r\n        isBlockStyle: false,\r\n        isLine: false,\r\n        isEditorNative: true,\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          fabricIconKey: 'Underline',\r\n          shortcut: 'Ctrl+U',\r\n          title: Strings.FormattingBarUnderlineButtonTitle\r\n        }\r\n      },\r\n      {\r\n        key: 'link',\r\n        editorKey: 'link',\r\n\r\n        isBlockStyle: false,\r\n        isLine: false,\r\n        isEditorNative: true,\r\n        masks: ['underline'],\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          fabricIconKey: 'Link',\r\n          shortcut: 'Ctrl+K',\r\n          title: Strings.FormattingBarLinkButtonTitle\r\n        }\r\n      },\r\n      {\r\n        key: 'alignLeft',\r\n        editorKey: 'align',\r\n        browserKey: 'justifyLeft',\r\n\r\n        isBlockStyle: false,\r\n        isLine: true,\r\n        isEditorNative: true,\r\n        editorValue: 'left',\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          fabricIconKey: 'AlignLeft',\r\n          title: Strings.FormattingBarAlignLeftButtonTitle\r\n        }\r\n      },\r\n      {\r\n        browserKey: 'justifyCenter',\r\n        key: 'alignCenter',\r\n        editorKey: 'align',\r\n\r\n        isBlockStyle: false,\r\n        isLine: true,\r\n        isEditorNative: true,\r\n        editorValue: 'center',\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          fabricIconKey: 'AlignCenter',\r\n          title: Strings.FormattingBarAlignCenterButtonTitle\r\n        }\r\n      },\r\n      {\r\n        key: 'alignRight',\r\n        editorKey: 'align',\r\n        browserKey: 'justifyRight',\r\n\r\n        isBlockStyle: false,\r\n        isLine: true,\r\n        isEditorNative: true,\r\n        editorValue: 'right',\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          fabricIconKey: 'AlignRight',\r\n          title: Strings.FormattingBarAlignRightButtonTitle\r\n        }\r\n      },\r\n      {\r\n        key: 'bullet',\r\n        editorKey: 'bullet',\r\n        browserKey: 'insertUnorderedList',\r\n\r\n        isBlockStyle: true,\r\n        isLine: true,\r\n        isEditorNative: true,\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          fabricIconKey: 'BulletedList',\r\n          title: Strings.FormattingBarBulletListButtonTitle\r\n        }\r\n      },\r\n      {\r\n        key: 'list',\r\n        editorKey: 'list',\r\n        browserKey: 'insertOrderedList',\r\n\r\n        isBlockStyle: true,\r\n        isLine: true,\r\n        isEditorNative: true,\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          fabricIconKey: 'NumberedList',\r\n          title: Strings.FormattingBarNumberedListButtonTitle\r\n        }\r\n      },\r\n      {\r\n        key: 'h2',\r\n        editorKey: 'h2',\r\n\r\n        isBlockStyle: true,\r\n        isLine: true,\r\n        isEditorNative: false,\r\n        masks: ['bold', 'italic', 'underline'],\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          title: Strings.FormattingBarHeading2ButtonTitle,\r\n          label: Strings.FormattingBarHeading2ButtonTitle,\r\n          className: 'ToolbarButton--h2'\r\n        }\r\n      },\r\n      {\r\n        key: 'h3',\r\n        editorKey: 'h3',\r\n\r\n        isBlockStyle: true,\r\n        isLine: true,\r\n        isEditorNative: false,\r\n        masks: ['bold', 'italic', 'underline'],\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          title: Strings.FormattingBarHeading3ButtonTitle,\r\n          label: Strings.FormattingBarHeading3ButtonTitle,\r\n          className: 'ToolbarButton--h3'\r\n        }\r\n      },\r\n      {\r\n        key: 'h4',\r\n        editorKey: 'h4',\r\n\r\n        isBlockStyle: true,\r\n        isLine: true,\r\n        isEditorNative: false,\r\n        masks: ['bold', 'italic', 'underline'],\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          title: Strings.FormattingBarHeading4ButtonTitle,\r\n          label: Strings.FormattingBarHeading4ButtonTitle,\r\n          className: 'ToolbarButton--h4'\r\n        }\r\n      },\r\n      {\r\n        key: 'blockquote',\r\n        editorKey: 'blockquote',\r\n\r\n        isBlockStyle: true,\r\n        isLine: true,\r\n        isEditorNative: false,\r\n        masks: ['bold', 'italic', 'underline', 'alignLeft', 'alignCenter', 'alignRight'],\r\n\r\n        button: {\r\n          canBeActive: true,\r\n          title: Strings.FormattingBarQuoteButtonTitle,\r\n          label: Strings.FormattingBarQuoteButtonTitle,\r\n          className: 'ToolbarButton--blockquote'\r\n        }\r\n      }\r\n    ];\r\n\r\n    // Build a map to look up formats by their key quickly\r\n    this._formats = new Map<string, IRichTextFormat>();\r\n    for (const format of this._supportedFormatsArray) {\r\n      this._formats.set(format.key, format);\r\n    }\r\n\r\n    // Populate 'maskedBy' field of all formats based on 'masks' fields\r\n    const maskingFormats: IRichTextFormat[] =\r\n      this._supportedFormatsArray.filter((format) => { return !!format.masks; });\r\n\r\n    for (const maskingFormat of maskingFormats) {\r\n      for (const maskedFormatKey of maskingFormat.masks) {\r\n        const maskedFormat: IRichTextFormat = this._formats.get(maskedFormatKey);\r\n        if (!maskedFormat.maskedBy) {\r\n          maskedFormat.maskedBy = [maskingFormat.key];\r\n        } else {\r\n          maskedFormat.maskedBy.push(maskingFormat.key);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public get formats(): Map<string, IRichTextFormat> {\r\n    return this._formats;\r\n  }\r\n\r\n  public get supportedFormatsArray(): IRichTextFormat[] {\r\n    return this._supportedFormatsArray;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-rte/rte/SPRteConfiguration.ts\n **/"," /* This file was generated by a tool. Modifying it will produce unexpected behavior. */\r\n/* tslint:disable */\r\n\r\nconst strings = UNIT_TEST\r\n                 ? require('../../../../../resx-strings/en-us.json')\r\n                 : require('resx-strings');\r\nexport interface IStrings {\r\n  AriaWebPartEnterTemplate: string;\r\n  CanvasZoneAriaGoToToolbar: string;\r\n  CanvasZoneAriaGoToWebPart: string;\r\n  CanvasZoneAriaWebpartName: string;\r\n  ConfirmationDialogYes: string;\r\n  ConfirmationDialogNo: string;\r\n  DeleteConfirmationDialogTitle: string;\r\n  DeleteConfirmationDialogMessage: string;\r\n  FormattingBarAlignCenterButtonTitle: string;\r\n  FormattingBarAlignLeftButtonTitle: string;\r\n  FormattingBarAlignRightButtonTitle: string;\r\n  FormattingBarBoldButtonTitle: string;\r\n  FormattingBarBulletListButtonTitle: string;\r\n  FormattingBarClearFormattingButtonTitle: string;\r\n  FormattingBarConfirmAction: string;\r\n  FormattingBarConfirmActionOnSelection: string;\r\n  FormattingBarNormalTextButtonTitle: string;\r\n  FormattingBarHeading2ButtonTitle: string;\r\n  FormattingBarHeading3ButtonTitle: string;\r\n  FormattingBarHeading4ButtonTitle: string;\r\n  FormattingBarQuoteButtonTitle: string;\r\n  FormattingBarItalicButtonTitle: string;\r\n  FormattingBarLinkButtonTitle: string;\r\n  FormattingBarNumberedListButtonTitle: string;\r\n  FormattingBarUnderlineButtonTitle: string;\r\n  FormattingBarUnlinkButtonTitle: string;\r\n  LinkDialogErrorNotSupportedLink: string;\r\n  LinkDialogTextFieldAriaLabel: string;\r\n  LinkDialogTextFieldLabel: string;\r\n  LinkDialogTitle: string;\r\n  RichTextEditorAriaLabel: string;\r\n  TextWebPartPlaceholder: string;\r\n  TextWebPartDisplayName: string;\r\n  TextWebpartDescription: string;\r\n  ToolbarConfigButtonTitle: string;\r\n  ToolbarDeleteButtonTitle: string;\r\n  ToolbarNavigationArrowKeys: string;\r\n  ToolbarNavigationTabKeys: string;\r\n  ToolboxGroupNameFeatured: string;\r\n  ToolboxGroupNameNonFeatured: string;\r\n  ToolboxHintTitle: string;\r\n  ToolboxNavigationArrowKeys: string;\r\n  RichTextLinkDialogSaveButtonLabel: string;\r\n  RichTextLinkDialogCancelButtonLabel: string;\r\n  CanvasItems: string;\r\n  CanvasItemsInterval: string;\r\n}\r\n\r\nexport default strings['_oflHTFVm9vC1S7l66uvnQQ'] || {} as IStrings;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/loc/CanvasStrings.resx.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved. *\r\n */\r\nimport {\r\n  css,\r\n  FocusZone\r\n} from 'office-ui-fabric-react';\r\nimport * as React from 'react';\r\n\r\nimport { IToolbarButtonProps } from '../../canvas/canvas/ToolbarButton';\r\nimport { IToolbarSubmenuProps } from '../../canvas/canvas/ToolbarSubmenu';\r\n\r\nimport './SPRteFormattingBar.scss';\r\n\r\nexport interface ISPRteFormattingBarPosition {\r\n  left: number;\r\n  top: number;\r\n  position: string;\r\n}\r\n\r\nexport interface ISPRteFormattingBarProps {\r\n  buttons?: React.ReactElement<IToolbarButtonProps | IToolbarSubmenuProps>[];\r\n  position?: ISPRteFormattingBarPosition;\r\n  onKeyDown?: (e: KeyboardEvent) => void;\r\n}\r\n\r\nexport interface ISPRteFormattingBarState {\r\n  isFaded: boolean;\r\n}\r\n\r\n/**\r\n * @class The formatting bar for the SPRte exposes text editing actions.\r\n */\r\nexport default class SPRteFormattingBar extends React.Component<ISPRteFormattingBarProps, ISPRteFormattingBarState> {\r\n  private _focusZone: FocusZone;\r\n  private _domNode: HTMLDivElement;\r\n\r\n  constructor(props: ISPRteFormattingBarProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isFaded: false\r\n    };\r\n  }\r\n\r\n  public componentDidMount(): void {\r\n    this._domNode.addEventListener('keydown', this.props.onKeyDown);\r\n  }\r\n\r\n  public componentWillReceiveProps(nextProps: ISPRteFormattingBarProps): void {\r\n    if (this.props.position.top !== nextProps.position.top) {\r\n      this.setState({\r\n        isFaded: true\r\n      });\r\n    }\r\n  }\r\n\r\n  public componentDidUpdate(): void {\r\n    if (this.state.isFaded) {\r\n      window.setTimeout(() => {\r\n        this.setState({\r\n          isFaded: false\r\n        });\r\n      }, 300);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Renders the formatting bar in the position given in props\r\n   * Formatting bar renders on top left side of the control by default\r\n   * If there is a text selection the bar renders above the selection\r\n   */\r\n  public render(): React.ReactElement<ISPRteFormattingBarProps> {\r\n    const style: React.CSSProperties = this.props.position;\r\n    const className: string = css(\r\n      'SPRteFormattingBar',\r\n      'rteFlyout-visible',\r\n      'stack-panel-class',\r\n      'ms-u-slideUpIn10',\r\n      {\r\n        'faded':  this.state.isFaded\r\n      }\r\n    );\r\n\r\n    return (\r\n      <div\r\n        role='toolbar'\r\n        aria-label='Formatting'\r\n        className={className}\r\n        ref={(ref) => this._domNode = ref}\r\n        style={style}\r\n      >\r\n        <FocusZone ref={(ref) => this._focusZone = ref} isCircularNavigation={true}>\r\n          {this.props.buttons}\r\n        </FocusZone>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public focus(): void {\r\n    this._focusZone.focus();\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-rte/formattingbar/SPRteFormattingBar.tsx\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_112__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"office-ui-fabric-react\"\n ** module id = 112\n ** module chunks = 0\n **/","require('SPRteFormattingBar.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-rte/formattingbar/SPRteFormattingBar.scss.ts\n **/","var content = require(\"!!./../../../../../../../common/node_modules/css-loader/index.js!./SPRteFormattingBar.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/appBase/components/sp-rte/formattingbar/SPRteFormattingBar.css\n ** module id = 114\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".rteFlyout-visible{position:absolute;z-index:2;box-shadow:0 0 5px 0 #c8c8c8;top:-45px}@media (max-width:720px){.rteFlyout-visible .rteFlyout-button{padding:10px;font-size:11px}}.rteFlyout-visible .rteFlyout-button:hover{background:#0078D7}.rteFlyout-visible .rteFlyout-button .ms-Icon{padding:13px;color:#767676;font-size:14px!important}.rteFlyout-visible .rteFlyout-button:hover .ms-Icon{color:#fff}.rteFlyout-visible .rteFlyout-button img{vertical-align:middle;display:inline-block}.rteFlyout-visible .stack-panel-class{background:\\\"[theme:neutralPrimary, default: #333333]\\\"}.rteFlyout-button{background-color:transparent;border-width:0;padding:0;cursor:pointer!important}.stack-panel-class{white-space:nowrap}.SPRteFormattingBar{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;background-color:\\\"[theme:neutralPrimary, default: #333333]\\\";-webkit-transition:all 367ms cubic-bezier(.1,.9,.2,1);transition:all 367ms cubic-bezier(.1,.9,.2,1)}.SPRteFormattingBar .ToolbarButton,.SPRteFormattingBar .ToolbarSubmenu{float:left}.SPRteFormattingBar.faded{display:none}.SPRteFormattingBar-divider{float:left;height:16px;margin-top:8px;width:0;border-right:solid 1px \\\"[theme:neutralSecondary, default: #666666]\\\"}.msIcon_h2_temp::after{content:'H2';font-size:16px;font-style:normal;font-weight:600}.button_quote_temp .ms-Icon{font-size:28px!important;line-height:1.7!important}.button_linkRemove_temp .ms-Icon::after{content:'x';font-family:Arial;margin-left:-5px;margin-right:5px}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/appBase/components/sp-rte/formattingbar/SPRteFormattingBar.css\n ** module id = 115\n ** module chunks = 0\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport Strings from '../../sp-canvas/loc/CanvasStrings.resx';\r\n\r\nimport {\r\n  Dialog,\r\n  DialogType,\r\n  DialogFooter,\r\n  Button,\r\n  ButtonType,\r\n  TextField\r\n} from 'office-ui-fabric-react';\r\n\r\nimport {\r\n  isEnter\r\n} from '../../sp-canvas/a11y/CanvasA11y';\r\n\r\nexport interface ISPRteLinkDialogProps {\r\n  editorElement: HTMLElement;\r\n  isOpen: boolean;\r\n  onDismiss: () => void;\r\n  onSaveClicked: () => void;\r\n  onCancelClicked: () => void;\r\n  textFieldValue: string;\r\n  validationRegex: RegExp;\r\n}\r\n\r\nexport interface ISPRteLinkDialogState {\r\n  isURLValid: boolean;\r\n}\r\n\r\nexport default class SPRteLinkDialog extends React.Component<ISPRteLinkDialogProps, ISPRteLinkDialogState> {\r\n  private _initCursorSet: boolean;\r\n  private _textField: TextField;\r\n\r\n  public constructor(props: ISPRteLinkDialogProps) {\r\n    super(props);\r\n\r\n    this._getErrorMessage = this._getErrorMessage.bind(this);\r\n    this._handleKeyDown = this._handleKeyDown.bind(this);\r\n    this._handleTextFieldChange = this._handleTextFieldChange.bind(this);\r\n    this._isURLValid = this._isURLValid.bind(this);\r\n\r\n    this.state = {\r\n      isURLValid: true\r\n   };\r\n }\r\n\r\n  public render():  React.ReactElement<ISPRteLinkDialogProps> {\r\n    const {\r\n      editorElement,\r\n      isOpen,\r\n      onDismiss,\r\n      onSaveClicked,\r\n      onCancelClicked,\r\n      textFieldValue\r\n   }: ISPRteLinkDialogProps = this.props;\r\n\r\n    return (\r\n      <Dialog\r\n        isOpen={isOpen}\r\n        type={DialogType.normal}\r\n        onDismiss={onDismiss}\r\n        title={Strings.LinkDialogTitle}\r\n        isBlocking={true}\r\n        elementToFocusOnDismiss={editorElement}\r\n      >\r\n        <TextField\r\n          className='SPRteLinkDialog-textField'\r\n          label={Strings.LinkDialogTextFieldLabel}\r\n          ariaLabel={Strings.LinkDialogTextFieldAriaLabel}\r\n          onChanged={this._handleTextFieldChange}\r\n          onGetErrorMessage={this._getErrorMessage}\r\n          onKeyDown={this._handleKeyDown}\r\n          defaultValue={textFieldValue}\r\n          ref={(c: TextField) => this._textField = c}\r\n        />\r\n        <DialogFooter>\r\n          <Button\r\n            buttonType={ButtonType.primary}\r\n            disabled={!this.state.isURLValid}\r\n            onClick={onSaveClicked}\r\n            ariaLabel={Strings.RichTextLinkDialogSaveButtonLabel}>\r\n              {Strings.RichTextLinkDialogSaveButtonLabel}\r\n            </Button>\r\n          <Button\r\n            onClick={onCancelClicked}\r\n            ariaLabel={Strings.RichTextLinkDialogCancelButtonLabel}>\r\n            {Strings.RichTextLinkDialogCancelButtonLabel}\r\n          </Button>\r\n        </DialogFooter>\r\n      </Dialog>\r\n    );\r\n }\r\n\r\n  public componentDidUpdate(prevProps: ISPRteLinkDialogProps): void {\r\n    if (this._textField && this.props.isOpen && !this._initCursorSet) {\r\n      this._initCursorSet = true;\r\n      this._textField.select();\r\n\r\n      const textValue: string = this._textField.value;\r\n      if (textValue) {\r\n        this._textField.setSelectionStart(textValue.length);\r\n        this._textField.setSelectionEnd(textValue.length);\r\n     }\r\n   } else if (!this.props.isOpen) {\r\n     this._initCursorSet = false;\r\n   }\r\n }\r\n\r\n  public componentWillReceiveProps(newProps: ISPRteLinkDialogProps): void {\r\n    this.state = {\r\n      isURLValid: this._isURLValid(newProps.textFieldValue)\r\n   };\r\n }\r\n\r\n  public get textFieldValue(): string {\r\n    let url: string = '';\r\n    if (this._textField) {\r\n      url = this._textField.value;\r\n      if (!this._hasProtocol(url)) {\r\n        url = 'http://' + url;\r\n     }\r\n   }\r\n    return url;\r\n }\r\n\r\n  private _getErrorMessage(): string {\r\n    return !this._isURLValid(this.textFieldValue) && this.textFieldValue !== '' ?\r\n      Strings.LinkDialogErrorNotSupportedLink : '';\r\n }\r\n\r\n  private _handleKeyDown(evt: KeyboardEvent): void {\r\n    if (isEnter(evt) && this.state.isURLValid) {\r\n      this.props.onSaveClicked();\r\n      evt.stopPropagation();\r\n      evt.preventDefault();\r\n    }\r\n  }\r\n\r\n  private _handleTextFieldChange(): void {\r\n    this.setState({\r\n      isURLValid: this._isURLValid(this.textFieldValue)\r\n   });\r\n }\r\n\r\n  private _hasProtocol(url: string): boolean {\r\n    const hasProtocolRegex: RegExp = new RegExp('^([A-Za-z0-9]+:(\\/\\/)?|#|\\/|\\\\\\\\).+', 'i');\r\n    return hasProtocolRegex.test(url);\r\n }\r\n\r\n  private _isURLValid(url: string): boolean {\r\n    return this.props.validationRegex.test(url);\r\n }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-rte/formattingbar/SPRteLinkDialog.tsx\n **/","import  { KeyboardEvent as ReactKeyboardEvent } from 'react';\r\n\r\nexport enum KeyCodes {\r\n  Enter = 13,\r\n  Escape = 27,\r\n  Tab = 9,\r\n  F10 = 121,\r\n  P = 80\r\n}\r\n\r\nexport function isEscape(e: KeyboardEvent | ReactKeyboardEvent): boolean {\r\n  return isKey(KeyCodes.Escape, e);\r\n}\r\n\r\nexport function isEnter(e: KeyboardEvent | ReactKeyboardEvent): boolean {\r\n  return isKey(KeyCodes.Enter, e);\r\n}\r\n\r\nexport function isShiftTab(e: KeyboardEvent | ReactKeyboardEvent): boolean {\r\n  return isKey(KeyCodes.Tab, e, false, false, true);\r\n}\r\n\r\nexport function isTab(e: KeyboardEvent | ReactKeyboardEvent): boolean {\r\n  return isKey(KeyCodes.Tab, e);\r\n}\r\n\r\nexport function isKey(\r\n    keyCode: number, e: KeyboardEvent | ReactKeyboardEvent,\r\n    allowAlt: boolean = false,\r\n    allowCtrl: boolean = false,\r\n    allowShift: boolean = false\r\n  ): boolean {\r\n    return e.keyCode === keyCode &&\r\n      ((allowAlt && e.altKey) || (!allowAlt && !e.altKey)) &&\r\n      ((allowCtrl && e.ctrlKey) || (!allowCtrl && !e.ctrlKey)) &&\r\n      ((allowShift && e.shiftKey) || (!allowShift && !e.shiftKey));\r\n}\r\n\r\nexport function getFocusableChildren(elem: HTMLElement, ignoreTabIndex: boolean = false): HTMLElement[] {\r\n  const children: HTMLElement[] = [];\r\n  for (const descendant of getFocusableDescendants(elem, ignoreTabIndex)) {\r\n    if (isElementFocusableChildOf(descendant, elem)) {\r\n      children.push(descendant);\r\n    }\r\n  }\r\n  return children;\r\n}\r\n\r\nexport function isElementFocusable(elem: HTMLElement, ignoreTabIndex: boolean = false): boolean {\r\n  const tagName: string = elem.tagName.toLowerCase();\r\n\r\n  if (elem && !elem.hidden && window.getComputedStyle(elem).display !== 'none') {\r\n    const hasTabIndex: boolean = elem.hasAttribute('tabindex');\r\n    const tabindex: number = parseInt(elem.getAttribute('tabindex'), 10);\r\n\r\n    if (!ignoreTabIndex && hasTabIndex && tabindex < 0) {\r\n      return false;\r\n    }\r\n\r\n    if (\r\n      tagName === 'a' && !!(elem as HTMLAnchorElement).href ||\r\n      elem.isContentEditable\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    if (\r\n      (\r\n        tagName === 'button' ||\r\n        tagName === 'input' ||\r\n        tagName === 'select' ||\r\n        tagName === 'textarea'\r\n      ) && !(elem as HTMLButtonElement).disabled\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    if (!ignoreTabIndex && hasTabIndex && tabindex > -1) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nexport function getFocusableParent(elem: HTMLElement, topElement: HTMLElement = document.body): HTMLElement {\r\n  let parent: HTMLElement = elem;\r\n\r\n  do {\r\n    parent = parent.parentElement;\r\n  } while (!isElementFocusable(parent) && !parent.isEqualNode(topElement));\r\n\r\n  return parent;\r\n}\r\n\r\nfunction queryFocusableSelector(elem: HTMLElement): NodeList {\r\n  const selector: string =\r\n    'button,input,textarea,select,a[href]:not([href=\\'\\']),\\\r\n      [tabindex],[contenteditable=\\'true\\']';\r\n  return elem.querySelectorAll(selector);\r\n}\r\n\r\nexport function getFirstFocusableChild(elem: HTMLElement, ignoreTabIndex: boolean = false): HTMLElement {\r\n  const nodes: NodeList = queryFocusableSelector(elem);\r\n  for (let i: number = 0; i < nodes.length; i++) {\r\n    const node: HTMLElement = nodes[i] as HTMLElement;\r\n    if (isElementFocusable(node, ignoreTabIndex)) {\r\n      return node;\r\n    }\r\n  }\r\n  return undefined;\r\n}\r\n\r\nexport function getFocusableDescendants(elem: HTMLElement, ignoreTabIndex: boolean = false): HTMLElement[] {\r\n  const descendants: HTMLElement[] = [];\r\n  const nodes: NodeList = queryFocusableSelector(elem);\r\n  for (let i: number = 0; i < nodes.length; i++) {\r\n    const node: HTMLElement = nodes[i] as HTMLElement;\r\n    if (isElementFocusable(node, ignoreTabIndex)) {\r\n      descendants.push(node);\r\n    }\r\n  }\r\n  return descendants;\r\n}\r\n\r\nexport function getFocusableSiblings(elem: HTMLElement, topElement: HTMLElement = document.body): HTMLElement[] {\r\n  const children: HTMLElement[] = getFocusableChildren(getFocusableParent(elem, topElement));\r\n  // Remove input element and start the list from its next sibling\r\n  const siblings: HTMLElement[] = [];\r\n  let insertPointer: number = 0;\r\n  for (const child of children) {\r\n    if (!child.isEqualNode(elem)) {\r\n      siblings.splice(insertPointer++, 0, child);\r\n    } else {\r\n      insertPointer = 0;\r\n    }\r\n  }\r\n  return siblings;\r\n}\r\n\r\nexport function getNextFocusableElement(elem: HTMLElement, topElement: HTMLElement = document.body): HTMLElement {\r\n  const siblings: HTMLElement[] = getFocusableSiblings(elem, topElement);\r\n  return siblings[0];\r\n}\r\n\r\nexport function getPrevFocusableElement(elem: HTMLElement, topElement: HTMLElement = document.body): HTMLElement {\r\n  const siblings: HTMLElement[] = getFocusableSiblings(elem, topElement);\r\n  return siblings[siblings.length - 1];\r\n}\r\n\r\nexport function isElementFocusableChildOf(elem: HTMLElement, ancestor: HTMLElement): boolean {\r\n  let parent: HTMLElement = elem.parentElement;\r\n\r\n  while (parent.tagName !== 'BODY') {\r\n    if (parent.isEqualNode(ancestor)) {\r\n      return true;\r\n    }\r\n    if (isElementFocusable(parent)) {\r\n      break;\r\n    }\r\n    parent = parent.parentElement;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nexport function navigateInside(elem: HTMLElement): boolean {\r\n  const children: HTMLElement[] = getFocusableChildren(elem);\r\n  if (children.length) {\r\n    children[0].focus();\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function navigateTo(elem: HTMLElement): boolean {\r\n  if (isElementFocusable(elem)) {\r\n    elem.focus();\r\n    return true;\r\n  } else {\r\n    return navigateInside(elem);\r\n  }\r\n}\r\n\r\nexport function navigateOutOf(elem: HTMLElement, topElement: HTMLElement = document.body): void {\r\n  topElement = topElement || document.body;\r\n  getFocusableParent(elem, topElement).focus();\r\n}\r\n\r\nexport class CanvasA11yManager {\r\n  public static _SKIP_FLAG: string = 'a11y-skip';\r\n\r\n  private _canvasElement: HTMLElement;\r\n  private _randId: number;\r\n  private _savedFocusedElement: HTMLElement;\r\n\r\n  public constructor(canvasElement: HTMLElement, shouldHandleKeyDown: boolean = true) {\r\n    this._canvasElement = canvasElement;\r\n    this._handleKeyDown = this._handleKeyDown.bind(this);\r\n    this._randId = Math.floor(Math.random() * 1000000);\r\n\r\n    if (shouldHandleKeyDown) {\r\n      this._canvasElement.addEventListener('keydown', this._handleKeyDown);\r\n    }\r\n  }\r\n\r\n  public ariaAlert(message: string): void {\r\n    const divId: string = 'aria_alert_' + this._randId;\r\n    const oldAlert: HTMLElement = document.querySelector('#' + divId) as HTMLElement;\r\n    if (oldAlert) {\r\n      document.body.removeChild(oldAlert);\r\n    }\r\n\r\n    const alertNode: HTMLElement = document.createElement('p');\r\n    alertNode.classList.add('Canvas-screenReaderOnly');\r\n    alertNode.setAttribute('role', 'alert');\r\n    alertNode.setAttribute('id', divId);\r\n    const alertText: Node = document.createTextNode(message);\r\n    alertNode.appendChild(alertText);\r\n    document.body.appendChild(alertNode);\r\n  }\r\n\r\n  public navigateInside(elem: HTMLElement): boolean {\r\n    return navigateInside(elem);\r\n  }\r\n\r\n  public navigateTo(elem: HTMLElement): boolean {\r\n    return navigateTo(elem);\r\n  }\r\n\r\n  public navigateOutOf(elem: HTMLElement): void {\r\n    navigateOutOf(elem);\r\n  }\r\n\r\n  public clearState(): void {\r\n    this._savedFocusedElement = undefined;\r\n  }\r\n\r\n  public restoreState(): boolean {\r\n    return this.navigateTo(this._savedFocusedElement);\r\n  }\r\n\r\n  public saveState(elem?: HTMLElement): void {\r\n    elem = elem || document.activeElement as HTMLElement;\r\n    this._savedFocusedElement = elem;\r\n  }\r\n\r\n  public skipEvent(e: KeyboardEvent): void {\r\n    (e as Object)[CanvasA11yManager._SKIP_FLAG] = true;\r\n  }\r\n\r\n  private _shouldSkipEvent(e: KeyboardEvent): boolean {\r\n    return (e as Object)[CanvasA11yManager._SKIP_FLAG] as boolean;\r\n  }\r\n\r\n  private _handleKeyDown(e: KeyboardEvent): void {\r\n    if (this._shouldSkipEvent(e)) {\r\n      return;\r\n    }\r\n\r\n    const currentElement: HTMLElement = isElementFocusable(e.target as HTMLElement) ?\r\n      e.target as HTMLElement : getFocusableParent(e.target as HTMLElement, this._canvasElement);\r\n\r\n    let elementToGo: HTMLElement;\r\n    if (isTab(e)) {\r\n      const children: HTMLElement[] = getFocusableChildren(this._canvasElement);\r\n      if (children.length && !currentElement.isEqualNode(children[children.length - 1])) {\r\n        elementToGo = getNextFocusableElement(currentElement, this._canvasElement);\r\n      }\r\n    } else if (isShiftTab(e)) {\r\n      const children: HTMLElement[] = getFocusableChildren(this._canvasElement);\r\n      if (children.length && !currentElement.isEqualNode(children[0])) {\r\n        elementToGo = getPrevFocusableElement(currentElement, this._canvasElement);\r\n      }\r\n    } else if (isEnter(e)) {\r\n      const children: HTMLElement[] = getFocusableChildren(currentElement);\r\n      elementToGo = children.length ? children[0] : undefined;\r\n    } else if (isEscape(e)) {\r\n      elementToGo = getFocusableParent(currentElement, this._canvasElement);\r\n    }\r\n\r\n    if (elementToGo) {\r\n      elementToGo.focus();\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/a11y/CanvasA11y.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport { IBounds } from '../rte/IBounds';\r\nimport { IRange } from '../rte/IRange';\r\nimport { IRichTextFormat } from '../rte/IRichTextFormat';\r\nimport { IRichTextEditor } from '../rte/IRichTextEditor';\r\nimport { IRichTextEditorLoader } from '../rte/IRichTextEditorLoader';\r\nimport QuillInstance = require('QuillInstance');\r\nimport QuillLoader from './QuillLoader';\r\nimport SPRteConfiguration from '../rte/SPRteConfiguration';\r\n\r\nimport Strings from '../../sp-canvas/loc/CanvasStrings.resx';\r\n\r\n/**\r\n * Implmentation of ISPRteQuillIntegration for Quill 0.20.1\r\n */\r\nexport default class QuillEditor implements IRichTextEditor {\r\n  public static moduleLoader: IRichTextEditorLoader = new QuillLoader();\r\n\r\n  private static quillDelta: QuillDelta;\r\n  private static quillDocument: QuillDocument;\r\n\r\n  private _config: SPRteConfiguration;\r\n  private _editorElement: HTMLDivElement;\r\n  private _quill: QuillInstance;\r\n  private _quillEditorElement: HTMLElement;\r\n  private _handleSelectionChange: (range: IRange) => void;\r\n  private _handleTextChange: () => void;\r\n\r\n  /**\r\n   * @return Promise of the instance that resolves once the editor is loaded on the element\r\n   *\r\n   * Static wrapper for constructing an instance\r\n   */\r\n  public static createNewEditor(\r\n      config: SPRteConfiguration,\r\n      currentHTML: string,\r\n      editorElement: HTMLDivElement,\r\n      selectionChangeCallback: (range: IRange) => void,\r\n      textChangeCallback: () => void\r\n    ): Promise<QuillEditor> {\r\n    return new Promise<QuillEditor>(\r\n      (resolve?: (result: QuillEditor) => void) => {\r\n        QuillEditor.moduleLoader.loadModule().then(() => {\r\n          const editor: QuillEditor = new QuillEditor(\r\n            config,\r\n            currentHTML,\r\n            editorElement,\r\n            selectionChangeCallback,\r\n            textChangeCallback\r\n          );\r\n          resolve(editor);\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Use createNewEditor instead of constructor to ensure using the editor after it's loaded\r\n   * Note: TypeScript doesn't allow private constructors\r\n   */\r\n  public constructor(\r\n    config: SPRteConfiguration,\r\n    currentHTML: string,\r\n    editorElement: HTMLDivElement,\r\n    selectionChangeCallback: (range: IRange) => void,\r\n    textChangeCallback: () => void\r\n  ) {\r\n    this._config = config;\r\n    this._editorElement = editorElement;\r\n    this._findWrappingElementByTagName = this._findWrappingElementByTagName.bind(this);\r\n    this._handleSelectionChange = selectionChangeCallback;\r\n    this._handleTextChange = textChangeCallback;\r\n\r\n    this.focus = this.focus.bind(this);\r\n    this.format = this.format.bind(this);\r\n    this.getSelection = this.getSelection.bind(this);\r\n\r\n    this._initialize(currentHTML);\r\n  }\r\n\r\n  public destroy(): string {\r\n    if (this._quill) {\r\n      const previousHTML: string = this._quill.destroy();\r\n      this._quill = undefined;\r\n      return previousHTML;\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * @param start - Start position of selection\r\n   * @param end - End position of selection\r\n   * @param formats - Map of key:value pairs for formats to apply\r\n   * @param applyAllFormatsToLine - Forces all formats to be applied to the whole line(s). If not provided,\r\n   * formats are divided into two buckets (line vs non-line) based on their isLine field\r\n   *\r\n   * A unified method for applying Quill formats to any selection\r\n   */\r\n  public format(start: number, end: number, formats: Object, applyAllFormatsToLine?: boolean): void {\r\n    const lineFormats: Object = applyAllFormatsToLine ? formats : {};\r\n    const nonLineFormats: Object = {};\r\n\r\n    if (!applyAllFormatsToLine) {\r\n      // Divide formats into two buckets: Line and Non-Line\r\n      /* tslint:disable */\r\n      for (const formateditorKey in formats) {\r\n      /* tslint:enable */\r\n        const format: IRichTextFormat = this._config.supportedFormatsArray\r\n            .filter((format) => { return format.editorKey === formateditorKey; })[0];\r\n        if (format.isLine) {\r\n          lineFormats[format.editorKey] = formats[format.editorKey];\r\n        } else {\r\n          nonLineFormats[format.editorKey] = formats[format.editorKey];\r\n        }\r\n      }\r\n    }\r\n\r\n    /* Apply line formats: If there is a newline character at the end of the selection, Quill.formatLine\r\n    formats an extra line. We don't want the extra line by design so we remove the last character if\r\n    it's a newline character */\r\n    const firstLineOffset: number = this._quill.editor.doc.findLineAt(start)[1];\r\n    const [lastLine, lastLineOffset]: [QuillLine, number] = this._quill.editor.doc.findLineAt(end);\r\n    const startOfFirstLine: number = start - firstLineOffset;\r\n    const endOfLastLine: number =\r\n      (start !== end && lastLineOffset === 0) ? end - 1 : end + lastLine.length - lastLineOffset - 1;\r\n    this._quill.formatLine(startOfFirstLine, endOfLastLine, lineFormats);\r\n\r\n    if (!applyAllFormatsToLine) {\r\n      // Apply Non-Line formats\r\n      /* tslint:disable */\r\n      if (nonLineFormats.hasOwnProperty('link') &&\r\n        this.isFormatAppliedToRange(start, end, this._config.formats.get('link'))) {\r\n        // There is already a link on the selection, remove or edit it\r\n        if (start === end) {\r\n          const linkElement: HTMLElement = this._findWrappingElementByTagName(start, 'A');\r\n          if (linkElement) {\r\n            if (nonLineFormats['link'] as boolean) {\r\n              linkElement.setAttribute('href', nonLineFormats['link']);\r\n              linkElement.setAttribute('target', '_blank');\r\n            } else {\r\n              const container: HTMLElement = linkElement.parentElement;\r\n              if (container) {\r\n                const textNode: Text = document.createTextNode(linkElement.textContent);\r\n                container.insertBefore(textNode, linkElement);\r\n                container.removeChild(linkElement);\r\n              }\r\n            }\r\n            nonLineFormats['link'] = undefined;\r\n          }\r\n        } else if(nonLineFormats['link'] as boolean) {\r\n          // Edit link on non-collapsed selection\r\n          let linkElement: HTMLElement;\r\n          const linkAtEnd: HTMLElement = this._findWrappingElementByTagName(end, 'A');\r\n          // If the selection size is larger than 1, make sure the whole selection is on the same link\r\n          if (end - start > 1) {\r\n            const linkAtStart: HTMLElement = this._findWrappingElementByTagName(start + 1, 'A');\r\n            linkElement = linkAtStart && linkAtEnd && linkAtStart.isEqualNode(linkAtEnd) ? linkAtEnd : undefined;\r\n          } else {\r\n            linkElement = linkAtEnd;\r\n          }\r\n\r\n          if (linkElement) {\r\n            linkElement.setAttribute('href', nonLineFormats['link']);\r\n            linkElement.setAttribute('target', '_blank');\r\n            nonLineFormats['link'] = undefined;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (start === end) {\r\n        for (let format in nonLineFormats) {\r\n          if (format === 'bold' || format === 'italic' || format === 'underline') {\r\n            this._quill.prepareFormat(format, nonLineFormats[format]);\r\n          }\r\n        }\r\n      } else {\r\n        this._quill.formatText(start, end, nonLineFormats);\r\n\r\n        if (nonLineFormats.hasOwnProperty('link') && nonLineFormats['link'] as boolean) {\r\n          const linkElement: HTMLElement = this._findWrappingElementByTagName(end, 'A');\r\n          if (linkElement) {\r\n            linkElement.setAttribute('target', '_blank');\r\n          }\r\n        }\r\n      }\r\n    }\r\n    /* tslint:enable */\r\n  }\r\n\r\n  public getBounds(position: number): IBounds {\r\n    return this._quill.getBounds(position);\r\n  }\r\n\r\n  public getSelection(): IRange {\r\n    return this._quill.getSelection();\r\n  }\r\n\r\n  public getText(range?: IRange): string {\r\n    return range ?\r\n      this._quill.getText(range.start, range.end) :\r\n      this._quill.getText();\r\n  }\r\n\r\n  public getHTML(): string {\r\n    return this._quill.getHTML();\r\n  }\r\n\r\n  public getFormatValue(start: number, end: number, format: IRichTextFormat): boolean | string {\r\n    if (format.key === 'link') {\r\n      let linkElement: HTMLElement;\r\n      const linkAtEnd: HTMLElement = this._findWrappingElementByTagName(end, 'A');\r\n      // If the selection size is larger than 1, make sure the whole selection is on the same link\r\n      if (end - start > 1) {\r\n        const linkAtStart: HTMLElement = this._findWrappingElementByTagName(start + 1, 'A');\r\n        linkElement = linkAtStart && linkAtEnd && linkAtStart.isEqualNode(linkAtEnd) ? linkAtEnd : undefined;\r\n      } else {\r\n        linkElement = linkAtEnd;\r\n      }\r\n      return linkElement ? linkAtEnd.getAttribute('href') : undefined;\r\n    } else {\r\n      return this.isFormatAppliedToRange(start, end, format);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param format - Name of the format to apply from QUILL_FORMATS or SPRTE_FORMATS\r\n   * @param start - Start value of range\r\n   * @param end - End value of range\r\n   *\r\n   * @return A dictionary of string=>boolean indicating if the format is applied to the given range\r\n   */\r\n  public isFormatAppliedToRange(start: number, end: number, format: IRichTextFormat): boolean {\r\n    let canBrowserHandle: boolean = !!format.browserKey;\r\n\r\n    /* Chrome has a bug that returns true for bold, italic, underline if an empty line is selected\r\n    We temporarily add this block to use Quill for those formats until the issue is fixed.\r\n    Issue filed at: https://bugs.chromium.org/p/chromium/issues/detail?id=606047 */\r\n    if (start !== end && ['bold', 'italic', 'underline'].indexOf(format.key) !== -1) {\r\n      canBrowserHandle = false;\r\n    }\r\n\r\n    // IE and FF don't support justification commands, use Quill API instead\r\n    if (['alignCenter', 'alignLeft', 'alignRight'].indexOf(format.key) !== -1 ) {\r\n      const line: QuillLine = this._quill.editor.doc.findLineAt(end)[0];\r\n      if (line.delta.ops.length > 0) {\r\n        /* tslint:disable */\r\n        // The align attribute is always set in last delta attributes because it contains the newline character\r\n        const attributes: any = line.delta.ops[line.delta.ops.length - 1].attributes;\r\n        // @todo #188988: default alignment should match locale (LTR vs RTL)\r\n        const textAlign: string = attributes && attributes.align ? attributes.align : 'left';\r\n        /* tslint:disable */\r\n\r\n        if (format.key === 'alignCenter') {\r\n           return textAlign === 'center';\r\n        } else if (format.key === 'alignLeft') {\r\n           return textAlign === 'left';\r\n        } else if (format.key === 'alignRight') {\r\n           return textAlign === 'right';\r\n        }\r\n      }\r\n    }\r\n\r\n    // If the format can't be handled by browser use Quill to find active formats\r\n    if (!canBrowserHandle) {\r\n      // If the selection is collapsed, check the last character\r\n      start = start === end ? Math.max(0, end - 1) : start;\r\n      const activeFormats: Map<string, number> = this._getActiveFormatsInRange(start, end, format.isLine);\r\n      return (format.isLine || start === 0) ?\r\n        !!activeFormats.get(format.key) :\r\n        activeFormats.get('count') === activeFormats.get(format.key);\r\n    } else {\r\n      return document.queryCommandState(format.browserKey);\r\n    }\r\n  }\r\n\r\n  public setSelection(range: IRange): void {\r\n    this._quill.setSelection(range.start, range.end);\r\n  }\r\n\r\n  public focus(): void {\r\n    // Use setActive() instead of focus() if available, because focus() scrolls to view in IE\r\n    if (this._quillEditorElement && this._quillEditorElement.setActive) {\r\n      this._quillEditorElement.setActive();\r\n    } else {\r\n      this._quill.focus();\r\n    }\r\n  }\r\n\r\n  private _findWrappingElementByTagName(position: number, tagName: string): HTMLElement {\r\n    const leafNode: Node = this._quill.editor.doc.findLeafAt(Math.max(0, position - 1))[0].node;\r\n\r\n    /* Move up the dom tree until find the first node with the given tag name or reach the editor element\r\n    Note: Use .parentNode instead of .parentElement, because IE doesn't have .parentElement on text nodes */\r\n    let parentNode: HTMLElement = leafNode.parentNode as HTMLElement;\r\n    while (parentNode && parentNode.tagName !== tagName && !parentNode.isEqualNode(this._editorElement)) {\r\n      parentNode = parentNode.parentNode as HTMLElement;\r\n    }\r\n\r\n    return parentNode.tagName === tagName ? parentNode : undefined;\r\n  }\r\n\r\n  /**\r\n   * @param start - start value of a selection\r\n   * @param end - end value of a selection\r\n   *\r\n   * Find and calculate all the non-sequential formattings in a selection.\r\n   *\r\n   * @return A dictionary mapping of format to non-sequential occurrences in the range of start to end\r\n   */\r\n  private _getActiveFormatsInRange(start: number, end: number, isLine: boolean = false): Map<string, number> {\r\n    start = start === end ? Math.max(0, end - 1) : start;\r\n    /* tslint:disable:no-any */\r\n    let contentAttributes: any[];\r\n    /* tslint:enable:no-any */\r\n\r\n    if (isLine) {\r\n      const line: QuillLine = this._quill.editor.doc.findLineAt(end)[0];\r\n      contentAttributes = line ? line.delta.ops : [];\r\n    } else {\r\n      contentAttributes = this._quill.getContents(start, end).ops;\r\n    }\r\n\r\n    /* The length of contentAttributes is the number of non-sequential formatting parts in the selection.\r\n       Keeping track of count for the special case of formatting an entire selection where only a portion\r\n       of the selection is formatted with a given format. */\r\n    const attrDict: Map<string, number> = new Map<string, number>([['count', contentAttributes.length]]);\r\n\r\n    const formats: string[] = this._config.supportedFormatsArray.map((format) => { return format.key; });\r\n    for (const format of formats) {\r\n      attrDict.set(format, 0);\r\n    }\r\n\r\n    for (const op of contentAttributes) {\r\n      // op.attributes can be undefined if the chunk is unformatted\r\n      if (op.attributes) {\r\n        for (const attr in op.attributes) {\r\n          // Verify the attribute is a recognized format\r\n          if (attrDict.has(attr)) {\r\n            attrDict.set(attr, attrDict.get(attr) + 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return attrDict;\r\n  }\r\n\r\n  /**\r\n   * Initialize Quill with whitelist of formats, prevent default css,\r\n   * add custom formats, and registering event handlers.\r\n   */\r\n  private _initialize(currentHTML: string): void {\r\n    QuillEditor.moduleLoader.loadModule().then((quillModule) => {\r\n      if (!QuillEditor.quillDelta) {\r\n        QuillEditor.quillDelta = quillModule.require('delta') as QuillDelta;\r\n      }\r\n\r\n      if (!QuillEditor.quillDocument) {\r\n        QuillEditor.quillDocument = quillModule.require('document') as QuillDocument;\r\n      }\r\n\r\n      const quillFormatKeys: string[] = this._config.supportedFormatsArray\r\n        .filter((format) => { return format.isEditorNative; })\r\n        .map((format) => { return format.editorKey; })\r\n        .filter((formatKey, index, self) => { return self.indexOf(formatKey) === index; });  // Distinct keys\r\n\r\n      const quill: QuillInstance = new quillModule(this._editorElement, {\r\n        formats: quillFormatKeys,\r\n        readOnly: false,\r\n        styles: false,\r\n        modules: {\r\n          'paste-manager': {\r\n            onConvert: function(container: HTMLDivElement) {\r\n              // Remove images\r\n              const wordImages: NodeList = container.querySelectorAll('img, .MsoNormal [src]:not([src=\\'\\']');\r\n              for (let i: number = 0; i < wordImages.length; i++) {\r\n                wordImages[i].parentElement.removeChild(wordImages[i]);\r\n              }\r\n\r\n              const doc: QuillDocument = new QuillEditor.quillDocument(container, {\r\n                formats: quillFormatKeys,\r\n                readOnly: false,\r\n                styles: false\r\n              });\r\n\r\n              // Clean up children with no text content\r\n              let line: QuillLine = doc.lines.first;\r\n              while (line) {\r\n                const next: QuillLine = line.next;\r\n                if (!line.data.textContent.length) {\r\n                  doc.removeLine(line);\r\n                }\r\n                line = next;\r\n              }\r\n\r\n              const delta: QuillDelta = doc.toDelta();\r\n\r\n              // Remove added newline if applicable\r\n              const lengthAdded: number = delta.length();\r\n              if (lengthAdded === 0) {\r\n                return delta;\r\n              }\r\n              return delta.compose(new QuillEditor.quillDelta().retain(lengthAdded - 1)['delete'](1));\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      this._quillEditorElement = this._editorElement.querySelector('.ql-editor') as HTMLElement;\r\n      // @todo 181437, get placeholder text via props later\r\n\r\n      this._quillEditorElement.setAttribute('data-placeholder', Strings.TextWebPartPlaceholder);\r\n\r\n      // Add custom non-Quill formats to Quill\r\n      // @todo 198188: Do this using _supportedFormatsArray after upgrading to Quill 1.0\r\n      quill.addFormat('blockquote', {\r\n        class: 'quote-',\r\n        type: 'line'\r\n      });\r\n\r\n      quill.addFormat('h2', {\r\n        tag: 'H2',\r\n        type: 'line'\r\n      });\r\n\r\n      quill.addFormat('h3', {\r\n        tag: 'H3',\r\n        type: 'line'\r\n      });\r\n\r\n      quill.addFormat('h4', {\r\n        tag: 'H4',\r\n        type: 'line'\r\n      });\r\n\r\n      quill.on('text-change', this._handleTextChange);\r\n      quill.on('selection-change', this._handleSelectionChange);\r\n\r\n      quill.setHTML(currentHTML);\r\n\r\n      this._quill = quill;\r\n    });\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-rte/quill/QuillEditor.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport { IRichTextEditorLoader } from '../rte/IRichTextEditorLoader';\r\nimport QuillInstance = require('QuillInstance');\r\nimport { _TraceLogger, _LogSource } from '@microsoft/sp-client-base';\r\n\r\nexport default class QuillLoader implements IRichTextEditorLoader {\r\n  private static logSource: _LogSource = _LogSource.create('SPRteQuillLoader');\r\n  private static _quillPromise: Promise<QuillInstance>;\r\n  private static _quillModule: QuillInstance;\r\n\r\n  public loadModule(): Promise<QuillInstance> {\r\n    if (!QuillLoader._quillPromise) {\r\n      QuillLoader._quillPromise = new Promise<QuillInstance>(\r\n        (complete?: (result: QuillInstance) => void) => {\r\n          require.ensure(\r\n            ['quill'],\r\n            (require: <T, dummy>(path: string) => T) => {\r\n              const quill: QuillInstance = require('quill') as QuillInstance;\r\n              QuillLoader._quillModule = quill;\r\n              complete(quill);\r\n            },\r\n            'sp-client-preview-quill');\r\n        }\r\n      );\r\n\r\n      QuillLoader._quillPromise.catch((error: Error) => {\r\n        _TraceLogger.logError(QuillLoader.logSource, error);\r\n      });\r\n    }\r\n\r\n    return QuillLoader._quillPromise;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-rte/quill/QuillLoader.ts\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n *\r\n * @file The button component used by toolbars on the Canvas.\r\n * It implements all common functionalities expected of a toolbar button.\r\n * It is used in the Canvas control toolbar and Rich Text Editor formatting bar.\r\n */\r\n\r\nimport { css } from 'office-ui-fabric-react/lib/utilities/css';\r\nimport * as React from 'react';\r\nimport { IToolbarButton } from './IToolbarButton';\r\n\r\nimport './ToolbarButton.scss';\r\n\r\nexport enum ButtonState {\r\n  Active,\r\n  Disabled,\r\n  Normal\r\n}\r\n\r\n/**\r\n * Interface of ToolbarButton.\r\n * The toolbar needs to provide the fields for its buttons\r\n */\r\nexport interface IToolbarButtonProps extends IToolbarButton {\r\n  /**\r\n   * Button onClick callback\r\n   */\r\n  onClick: () => void;\r\n\r\n  /**\r\n   * If the button should be rendered in disabled state\r\n   */\r\n  disabled?: boolean;\r\n\r\n  /**\r\n   * If the button should be rendered in active state\r\n   */\r\n  isActive?: boolean;\r\n\r\n  /**\r\n   * Unique string used to identify the button inside the toolbar\r\n   */\r\n  key?: string;\r\n\r\n  tabIndex?: number;\r\n}\r\n\r\n/**\r\n * @class The button component used by toolbars on the Canvas.\r\n */\r\nexport default class ToolbarButton extends React.Component<IToolbarButtonProps, void> {\r\n  /* tslint:disable:member-access */\r\n  static defaultProps: IToolbarButtonProps = {\r\n    // required fields default to undefined\r\n    key: undefined,\r\n    fabricIconKey: undefined,\r\n    onClick: undefined,\r\n\r\n    // optional fields default values\r\n    canBeActive: true,\r\n    className: 'CanvasControlToolbar-item',\r\n    disabled: false,\r\n    isActive: false\r\n  };\r\n\r\n  /**\r\n   * Constructs an instance of ToolbarButton\r\n   */\r\n  constructor(props: IToolbarButtonProps) {\r\n    super(props);\r\n  }\r\n\r\n  /**\r\n   * Renders ToolbarButton\r\n   */\r\n  public render(): React.ReactElement<IToolbarButtonProps> {\r\n    const buttonClassName: string = css(\r\n      'ToolbarButton',\r\n      this.props.className,\r\n      {\r\n        'ToolbarButton--disabled': this.props.disabled,\r\n        'ToolbarButton--active': this.props.isActive\r\n      }\r\n    );\r\n\r\n    // @todo 198107: Clean this up when mdl2 icons are in\r\n    const iconCssClass: string = this.props.fabricIconKey ?\r\n      `ms-Icon ms-Icon--${this.props.fabricIconKey}` : (this.props.iconClassName || '');\r\n\r\n    return (\r\n      <button\r\n        aria-disabled={this.props.disabled ? true : undefined}\r\n        aria-label={this.props.title}\r\n        aria-pressed={this.props.canBeActive ? this.props.isActive : undefined}\r\n        className={buttonClassName}\r\n        key={this.props.key}\r\n        onClick={this.props.onClick}\r\n        title={this.props.title}\r\n        tabIndex={this.props.tabIndex}\r\n      >\r\n        <i\r\n          className={iconCssClass}\r\n        />\r\n        { this.props.label }\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/canvas/canvas/ToolbarButton.tsx\n **/","require('ToolbarButton.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/canvas/canvas/ToolbarButton.scss.ts\n **/","var content = require(\"!!./../../../../../../../common/node_modules/css-loader/index.js!./ToolbarButton.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/appBase/components/canvas/canvas/ToolbarButton.css\n ** module id = 124\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".ToolbarButton{background-color:\\\"[theme:neutralPrimary, default: #333333]\\\";border:none;height:34px;overflow:hidden;padding:0 8px;position:relative;text-align:center;top:0;-webkit-transition:all .3s;transition:all .3s;-webkit-transition-property:background-color,color;transition-property:background-color,color;min-width:34px;color:\\\"[theme:neutralLighterAlt, default: #f8f8f8]\\\";font-family:\\\"Segoe UI Light WestEuropean\\\",\\\"Segoe UI Light\\\",\\\"Segoe WP Light\\\",\\\"Segoe UI\\\",\\\"Segoe WP\\\",Tahoma,Arial,sans-serif;font-size:14px}.ToolbarButton .ms-Icon{font-family:sp-MDL2;font-size:16px;line-height:1.2}.ToolbarButton:hover{background-color:\\\"[theme:neutralSecondaryAlt, default: #767676]\\\";cursor:pointer}.ToolbarButton.ToolbarButton--active{background-color:\\\"[theme:themeSecondary, default:#2b88d8]\\\"}.ToolbarButton.ToolbarButton--active+.ToolbarButton--divider::after,.ToolbarButton.ToolbarButton--active.ToolbarButton--divider::after{border:\\\"[theme:themeSecondary, default:#2b88d8]\\\"}.ToolbarButton:active{background-color:\\\"[theme:themeDarkAlt, default:#106ebe]\\\"}.ToolbarButton.ToolbarButton--disabled,.ToolbarButton.ToolbarButton--disabled:hover{background-color:\\\"[theme:neutralPrimary, default: #333333]\\\";color:\\\"[theme:neutralSecondary, default: #666666]\\\"}.ToolbarButton.ToolbarButton--disabled .ms-Icon,.ToolbarButton.ToolbarButton--disabled:hover .ms-Icon{color:\\\"[theme:neutralSecondary, default: #666666]\\\"}.ToolbarButton:focus{background-color:\\\"[theme:themeDark, default:#005a9e]\\\";border:1px solid \\\"[theme:neutralSecondaryAlt, default: #767676]\\\";outline:0}.ToolbarButton.ToolbarButton--divider::after{content:'';position:absolute;height:20px;left:0;top:6px;border-left:1px solid \\\"[theme:neutralSecondary, default: #666666]\\\"}.ToolbarButton--h2{font-size:21px}.ToolbarButton--blockquote{font-style:italic}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/appBase/components/canvas/canvas/ToolbarButton.css\n ** module id = 125\n ** module chunks = 0\n **/","/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n *\r\n * @file Contains ToolbarSubmenu class which is used to group related buttons in toolbar\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { FocusZone } from 'office-ui-fabric-react';\r\n\r\nimport ToolbarButton, { IToolbarButtonProps } from './ToolbarButton';\r\nimport { navigateInside } from '../../sp-canvas/a11y/CanvasA11y';\r\n\r\nimport './ToolbarSubmenu.scss';\r\n\r\nexport interface IToolbarSubmenuProps extends React.Props<ToolbarSubmenu> {\r\n  isOpen: boolean;\r\n  buttons?: IToolbarButtonProps[];\r\n  onOpen?: () => void;\r\n  title?: string;\r\n  /**\r\n   * By default, the submenu will take on the width of the button it contains.\r\n   * Set this to true when you want to make it wide, such as when showing text formats.\r\n   * This also overrides the size of any buttons contained in the menu, so that\r\n   * they occupy the full width of the menu.\r\n   */\r\n  isWide?: boolean;\r\n}\r\n\r\nexport interface IToolbarSubmenuState {\r\n  isOpen: boolean;\r\n}\r\n\r\n/**\r\n * @class Submenu can be used in as toolbar item just like a button, to group a number of related buttons\r\n * that do different variations of an action (like text alignment). Only one of the buttons in a submenu\r\n * can be active at a time. The icon shown in the closed state is the icon of the active button\r\n */\r\nexport default class ToolbarSubmenu extends React.Component<IToolbarSubmenuProps, IToolbarSubmenuState> {\r\n  /**\r\n   * We only want to show button in closed state active, if a button was explicitly active in props\r\n   */\r\n  private _hasExplicitActiveButton: boolean;\r\n\r\n  /**\r\n   * Keep track of the button to set focus to when the submenu closes during keyboard navigation.\r\n   */\r\n  private _focusElement: HTMLElement;\r\n  private _isKeyboardNav: boolean;\r\n  private _menuElement: HTMLElement;\r\n\r\n  constructor(props: IToolbarSubmenuProps) {\r\n    super(props);\r\n\r\n    this._bindButtonClickHandlers = this._bindButtonClickHandlers.bind(this);\r\n    this._handleCloseSubmenu = this._handleCloseSubmenu.bind(this);\r\n    this._handleKeyDown = this._handleKeyDown.bind(this);\r\n    this._handleOpenSubmenu = this._handleOpenSubmenu.bind(this);\r\n\r\n    this._hasExplicitActiveButton = false;\r\n\r\n    // Submenu closed by default\r\n    this.state = {\r\n      isOpen: props.isOpen\r\n    };\r\n  }\r\n\r\n  public componentDidUpdate(prevProps: IToolbarSubmenuProps, prevState: IToolbarSubmenuState): void {\r\n    /**\r\n     * Ensure focus isn't lost when navigating out of a submenu via the left/right arrow keys.\r\n     * Set the focus back to the submenu active button.\r\n     */\r\n    if (!this.state.isOpen && this._isKeyboardNav && this._focusElement) {\r\n      this._focusElement.focus();\r\n      this._focusElement = undefined;\r\n      this._isKeyboardNav = false;\r\n    }\r\n\r\n    if (this.state.isOpen && !prevState.isOpen && this._menuElement) {\r\n      navigateInside(this._menuElement);\r\n    }\r\n  }\r\n\r\n  public componentWillReceiveProps(nextProps: IToolbarSubmenuProps): void {\r\n    this.setState({isOpen: nextProps.isOpen});\r\n  }\r\n\r\n  /**\r\n   *  Render the submenu, depending on its open state\r\n   */\r\n  public render(): React.ReactElement<IToolbarSubmenuProps> {\r\n    const openedCssClass: string = this.state.isOpen ? 'is-open' : '';\r\n    const wideCssClass: string = this.props.isWide ? 'ToolbarSubmenu--wide' : '';\r\n\r\n    this._bindButtonClickHandlers();\r\n\r\n    const buttonElements: React.ReactElement<IToolbarButtonProps>[] = [];\r\n    for (const buttonProps of this.props.buttons) {\r\n      buttonProps.tabIndex = this.state.isOpen ? 0 : -1;\r\n      buttonElements.push(<ToolbarButton {...buttonProps} />);\r\n    }\r\n\r\n    const activeButton: IToolbarButtonProps = this._getActiveButton();\r\n\r\n    return (\r\n      <div\r\n        aria-selected={this.state.isOpen}\r\n        className={`ToolbarSubmenu ${openedCssClass} ${wideCssClass}`}\r\n      >\r\n        <ToolbarButton\r\n          className='ToolbarSubmenu-displayButton'\r\n          fabricIconKey={activeButton.fabricIconKey}\r\n          iconClassName={activeButton.iconClassName}\r\n          key='displayButton'\r\n          onClick={this._handleOpenSubmenu}\r\n          isActive={this._hasExplicitActiveButton}\r\n          label={activeButton.label}\r\n          tabIndex={this.state.isOpen ? -1 : 0}\r\n        />\r\n        <i className='ms-Icon ms-Icon--caretDown ToolbarSubmenu-caret'></i>\r\n          <FocusZone isCircularNavigation={true}>\r\n            <div\r\n              className='ToolbarSubmenu-menuItems'\r\n              ref={(c) => this._menuElement = c}\r\n              onKeyDown={this._handleKeyDown}\r\n            >\r\n              { buttonElements }\r\n          </div>\r\n        </FocusZone>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _bindButtonClickHandlers(): void {\r\n    // Bind submenu button click handler to the exisiting one for each button\r\n    // This makes sure the submenu closes after the action is done\r\n    for (const buttonProps of this.props.buttons) {\r\n      buttonProps.onClick = this._handleOnButtonClick.bind(this, buttonProps.onClick);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the props of the currently active button\r\n   */\r\n  private _getActiveButton(): IToolbarButtonProps {\r\n    this._hasExplicitActiveButton = false;\r\n    for (const button of this.props.buttons) {\r\n      if (button.isActive) {\r\n        this._hasExplicitActiveButton = true;\r\n        return button;\r\n      }\r\n    }\r\n\r\n    // No active button found, return the first one\r\n    return this.props.buttons[0];\r\n  }\r\n\r\n  private _handleKeyDown(e: React.KeyboardEvent): void {\r\n    if (\r\n      this.state.isOpen &&\r\n      (e.key === 'ArrowRight' || e.key === 'ArrowLeft')\r\n    ) {\r\n      this._isKeyboardNav = true;\r\n      this._handleCloseSubmenu();\r\n    }\r\n  }\r\n\r\n  private _handleOpenSubmenu(): void {\r\n    this._focusElement = document.activeElement as HTMLElement;\r\n    this.props.onOpen();\r\n    this.setState({isOpen: true});\r\n  }\r\n\r\n  private _handleCloseSubmenu(): void {\r\n    this.setState({isOpen: false});\r\n  }\r\n\r\n  /**\r\n   * @param onClickAction - The original onClick callback passed for the button\r\n   *\r\n   * Closes the submenu after calling the action of the button\r\n   * All the button props must be updated to use this function as their onClick handler\r\n   */\r\n  private _handleOnButtonClick(onClickCallback: () => void): void {\r\n    onClickCallback();\r\n\r\n    // Close the submenu to the OnClick behavior of each button\r\n    this._handleCloseSubmenu();\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/canvas/canvas/ToolbarSubmenu.tsx\n **/","require('ToolbarSubmenu.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/canvas/canvas/ToolbarSubmenu.scss.ts\n **/","var content = require(\"!!./../../../../../../../common/node_modules/css-loader/index.js!./ToolbarSubmenu.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/appBase/components/canvas/canvas/ToolbarSubmenu.css\n ** module id = 128\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".ToolbarSubmenu{width:44px;position:relative}.ToolbarSubmenu .ToolbarButton{width:44px}.ToolbarSubmenu-displayButton{padding-right:20px}.ToolbarSubmenu-caret{color:\\\"[theme:neutralLighterAlt, default: #f8f8f8]\\\";font-size:12px;pointer-events:none;position:absolute;right:2px;top:11px;z-index:1}.ToolbarSubmenu-menuItems{display:none;position:absolute;top:0}.ToolbarSubmenu-menuItems .ToolbarButton{padding-right:20px}.ToolbarSubmenu--wide{width:160px!important}.ToolbarSubmenu--wide .ToolbarButton{width:100%;text-align:left}.ToolbarSubmenu.is-open .ToolbarSubmenu-menuItems{display:block}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/appBase/components/canvas/canvas/ToolbarSubmenu.css\n ** module id = 129\n ** module chunks = 0\n **/","require('SPRte.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-rte/rte/SPRte.scss.ts\n **/","var content = require(\"!!./../../../../../../../common/node_modules/css-loader/index.js!./SPRte.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/appBase/components/sp-rte/rte/SPRte.css\n ** module id = 131\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".ql-container{cursor:text;margin:0;min-height:100%;margin-bottom:-16px}.ql-container:focus{outline:0}.ql-editor:focus{outline:0}.ql-paste-manager{position:absolute;text-indent:-9999px;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;border:0}.ql-editor.ql-ie-10 br,.ql-editor.ql-ie-9 br{display:none}.ql-container .quote-true,.ql-container div:not(.ql-editor),.ql-container h2,.ql-container h3,.ql-container h4,.ql-container ol,.ql-container ul,.ql-container.ql-container--blank .ql-editor[contenteditable=true]::before{-webkit-font-smoothing:antialiased;color:\\\"[theme:neutralPrimary, default: #333333]\\\";font-family:\\\"Segoe UI Regular WestEuropean\\\",\\\"Segoe UI\\\",\\\"Segoe WP\\\",Tahoma,Arial,sans-serif;line-height:1.5;margin:0 0 16px 0;padding:0;white-space:pre-wrap;word-wrap:break-word}.ql-container h3{font-size:20px}.ql-container h4{font-family:\\\"Segoe UI Semibold WestEuropean\\\",\\\"Segoe UI Semibold\\\",\\\"Segoe WP Semibold\\\",\\\"Segoe UI\\\",\\\"Segoe WP\\\",Tahoma,Arial,sans-serif;font-size:18px}.ql-container.ql-container--blank .ql-editor[contenteditable=true]::before{color:\\\"[theme:neutralTertiary, default: #a6a6a6]\\\"!important;content:attr(data-placeholder);position:absolute;pointer-events:none}.ql-container h2{font-family:\\\"Segoe UI Light WestEuropean\\\",\\\"Segoe UI Light\\\",\\\"Segoe WP Light\\\",\\\"Segoe UI\\\",\\\"Segoe WP\\\",Tahoma,Arial,sans-serif;font-size:24px;font-weight:400}.ql-container div:not(.ql-editor),.ql-container.ql-container--blank .ql-editor[contenteditable=true]::before{font-family:\\\"Segoe UI Semilight WestEuropean\\\",\\\"Segoe UI Semilight\\\",\\\"Segoe WP Semilight\\\",\\\"Segoe UI\\\",\\\"Segoe WP\\\",Tahoma,Arial,sans-serif;font-size:16px}.ql-container ol,.ql-container ul{font-family:\\\"Segoe UI Semilight WestEuropean\\\",\\\"Segoe UI Semilight\\\",\\\"Segoe WP Semilight\\\",\\\"Segoe UI\\\",\\\"Segoe WP\\\",Tahoma,Arial,sans-serif;font-size:16px;list-style-position:inside;padding:0}.ql-container ol li,.ql-container ul li{margin-bottom:8px}.ql-container ol{list-style-type:decimal}.ql-container ul{list-style-type:disc}.ql-container div.quote-true{border-bottom:1px solid \\\"[theme:neutralTertiaryAlt, default: #c8c8c8]\\\";border-top:1px solid \\\"[theme:neutralTertiaryAlt, default: #c8c8c8]\\\";border-bottom-color:\\\"[theme:neutralTertiaryAlt, default: #c8c8c8]\\\";border-top-color:\\\"[theme:neutralTertiaryAlt, default: #c8c8c8]\\\";font-family:\\\"Segoe UI Semilight WestEuropean\\\",\\\"Segoe UI Semilight\\\",\\\"Segoe WP Semilight\\\",\\\"Segoe UI\\\",\\\"Segoe WP\\\",Tahoma,Arial,sans-serif;font-size:20px;font-style:italic;margin:28px 0;padding:32px;text-align:center}.ql-container a{text-decoration:underline}.ql-container i{font-style:italic}.ql-container u{text-decoration:underline}@media screen and (min-width:480px){.ql-container h2{font-size:28px}.ql-container h3{font-size:24px}.ql-container h4{font-size:20px}.ql-container div.quote-true{font-size:24px}}@media screen and (min-width:1024px){.ql-container h2{font-size:32px}.ql-container h3{font-size:30px}.ql-container h4{font-size:24px}.ql-container div:not(.ql-editor),.ql-container.ql-container--blank.ql-editor[contenteditable=true]::before{font-size:18px;line-height:1.75}.ql-container ol,.ql-container ul{font-size:18px;line-height:1.75}}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/appBase/components/sp-rte/rte/SPRte.css\n ** module id = 132\n ** module chunks = 0\n **/","/**\r\n * @file WebPartZone.ts\r\n * @copyright (c) Microsoft Corporation. All rights reserved.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { DisplayMode } from '@microsoft/sp-client-base';\r\nimport { IClientSideWebPartManifest } from '@microsoft/sp-module-interfaces';\r\n\r\nimport ClientSideWebPartManager from '../../../../clientSideWebParts/core/ClientSideWebPartManager';\r\nimport { ICanvasContext } from '../../sp-canvas/canvas/canvasComponent/ICanvasComponent';\r\nimport ISerializedCanvasControl from '../canvas/ISerializedCanvasControl';\r\nimport IWebPartData from '../../../../clientSideWebParts/core/IWebPartData';\r\nimport IWebPartManagerContext from '../../../../clientSideWebParts/core/IWebPartManagerContext';\r\nimport { PropertyPaneState } from '../../../../common/webParts/PropertyPaneDefinitions';\r\nimport { getFirstFocusableChild } from '../../sp-canvas/a11y/CanvasA11y';\r\n\r\nexport interface IWebPartZoneState {\r\n  displayMode: DisplayMode;\r\n}\r\n\r\nexport interface IWebPartZoneProps extends ISerializedCanvasControl {\r\n  webPartData: IWebPartData;\r\n  webPartId: string;\r\n  /* tslint:disable:no-any */\r\n  webPartManifest: IClientSideWebPartManifest<any>;\r\n  /* tslint:enable:no-any */\r\n}\r\n\r\nexport default class WebPartZone extends React.Component<IWebPartZoneProps, IWebPartZoneState> {\r\n  public static contextTypes: React.ValidationMap<WebPartZone> = {\r\n    store: React.PropTypes.object.isRequired\r\n  };\r\n  public static webPartManagerInitialized: boolean = false;\r\n\r\n  public context: ICanvasContext;\r\n\r\n  /**\r\n   * Indicates whether the web part has loaded and is safe to perform synchronous actions.\r\n   */\r\n  private _isLoaded: boolean;\r\n\r\n  /**\r\n   * The promise is used to perform actions after the async loading of the web part code. The web\r\n   * part manager only creates a reference in its map after the web part code is loaded. Therefore,\r\n   * invoking methods on the web part manager that reference an unloaded web part is invalid.\r\n   */\r\n  private _loadWebPartPromise: Promise<void>;\r\n\r\n  private _webPartDiv: HTMLElement;\r\n  private _webPartManager: ClientSideWebPartManager;\r\n\r\n  constructor(props: IWebPartZoneProps, context: ICanvasContext) {\r\n    super(props, context);\r\n    this._webPartManager = this.context.store.webPartManager;\r\n\r\n    this.handleConfigureButtonClicked = this.handleConfigureButtonClicked.bind(this);\r\n    this.state = {\r\n      displayMode: this.props.displayMode\r\n    };\r\n  }\r\n\r\n  // @todo This is a workaround for deserialization of a Canvas without the manifests.\r\n  // We need to think about a longer term solution.\r\n  public componentDidMount(): void {\r\n    const context: IWebPartManagerContext = {\r\n      domElement: this._webPartDiv,\r\n      instanceId: this.props.id,\r\n      manifest: this.props.webPartManifest,\r\n      displayMode: this.props.displayMode,\r\n      webPartData: this.props.webPartData\r\n    };\r\n\r\n    this._loadWebPartPromise = this._webPartManager.loadWebPart(context).then(() => {\r\n      if (this.state.displayMode === DisplayMode.Edit && this.props.id === this.context.store.selectedControlId) {\r\n        this.context.store.webPartManager.configureStart(this.props.id);\r\n      }\r\n\r\n      // @todo: Currently loadWebPart() swallows exceptions\r\n      this._isLoaded = true;\r\n    });\r\n  }\r\n\r\n  public shouldComponentUpdate(newProps: IWebPartZoneProps, newState: IWebPartZoneState): boolean {\r\n    // Defer all updating to the web part manager and the web part\r\n    return false;\r\n  }\r\n\r\n  public render(): React.ReactElement<IWebPartZoneProps> {\r\n    return (\r\n      <div\r\n        ref={ (htmlElement: HTMLElement) => this._webPartDiv = htmlElement }\r\n        style= { { width: '100%' } } >\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public get instanceId(): string {\r\n    return this.props.id;\r\n  }\r\n\r\n  public get isFocusable(): boolean {\r\n    return !!getFirstFocusableChild(this._webPartDiv);\r\n  }\r\n\r\n  public focus(): void {\r\n    if (!this.context.store.a11yManager.navigateInside(this._webPartDiv)) {\r\n      this.context.store.a11yManager.navigateOutOf(this._webPartDiv);\r\n    }\r\n  }\r\n\r\n  public handleConfigureButtonClicked(shouldToggle: boolean): void {\r\n    /**\r\n     * Using _isLoaded flag instead of the promise because we want a click on the configure button to\r\n     * no-op. If we had used a promise, the web part selection could have shifted by the time the\r\n     * loading is complete and thus incorrectly change the context of the property pane. A no-op makes\r\n     * sense because the web part would have no UI rendered yet, and the framework indicates the web part\r\n     * is still in the process of loading.\r\n     */\r\n    if (this._isLoaded) {\r\n      this._webPartManager.configureStart(\r\n        this.props.id,\r\n        shouldToggle ? PropertyPaneState.Toggle : PropertyPaneState.Open\r\n      );\r\n    }\r\n  }\r\n\r\n  public handleDeleteButtonClicked(): void {\r\n    /**\r\n     * If a web part was still in the process of loading and then the zone is deleted from the Canvas,\r\n     * we still want to ensure the web part manager cleans up its references and disposes the web part.\r\n     */\r\n    this._loadWebPartPromise.then(() => this._webPartManager.onWebPartDelete(this.props.id));\r\n  }\r\n\r\n  public serialize(): ISerializedCanvasControl {\r\n    const tempArray: string[] = [this.props.id];\r\n\r\n    /**\r\n     * If the web part has not loaded, we can safely return the web part data we are trying to load with because\r\n     * the data could not have been modified.\r\n     */\r\n    const webPartData: IWebPartData =\r\n      this._isLoaded ? this._webPartManager.serialize(tempArray).get(this.props.id) : this.props.webPartData;\r\n    const serialization: IWebPartZoneProps = JSON.parse(JSON.stringify(this.props));\r\n\r\n    serialization.webPartManifest = undefined;\r\n    serialization.webPartData = webPartData;\r\n\r\n    return serialization;\r\n  }\r\n\r\n  public setDisplayMode(newDisplayMode: DisplayMode): void {\r\n    this.setState({\r\n      displayMode: newDisplayMode\r\n    });\r\n\r\n    /**\r\n     * The Canvas zone will switch mode, and then wait for the web part to fully render before asking\r\n     * the web part manager to switch the mode of the web part.\r\n     */\r\n    this._loadWebPartPromise.then(() => this._webPartManager.setDisplayMode(newDisplayMode, this.props.id));\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/canvas/sampleCanvasControls/WebPartZone.tsx\n **/","import * as React from 'react';\r\nimport { css } from 'office-ui-fabric-react/lib/utilities/css';\r\nimport { DisplayMode } from '@microsoft/sp-client-base';\r\nimport { StringHelper } from '@ms/odsp-utilities-bundle';\r\n\r\nimport CanvasControlType from '../../../canvas/canvas/CanvasControlType';\r\nimport { ICanvasContext } from '../canvasComponent/ICanvasComponent';\r\nimport { ICanvasZoneProps } from './ICanvasZone';\r\nimport {\r\n  isEscape,\r\n  isKey,\r\n  KeyCodes\r\n} from '../../a11y/CanvasA11y';\r\nimport SPRte from '../../../sp-rte/rte/SPRte';\r\nimport WebPartZone, { IWebPartZoneProps } from '../../../canvas/sampleCanvasControls/WebPartZone';\r\nimport {  } from '../../../../../common/webParts/IWebPartHost';\r\n\r\nimport { PropertyPaneState } from '../../../../../common/webParts/PropertyPaneDefinitions';\r\nimport './CanvasZone.scss';\r\nimport Strings from '../../loc/CanvasStrings.resx';\r\n\r\nexport default class CanvasZone extends React.Component<ICanvasZoneProps, void> {\r\n  public static contextTypes: React.ValidationMap<CanvasZone> = {\r\n    store: React.PropTypes.object.isRequired\r\n  };\r\n\r\n  /**\r\n   * @ readOnly\r\n   */\r\n  private static _VERTICAL_MARGIN: number = 22;\r\n\r\n  public context: ICanvasContext;\r\n\r\n  private _childControl: SPRte | WebPartZone;\r\n  private _childControlElement: HTMLElement;\r\n  private _domElement: HTMLElement;\r\n  private _toolbarElement: HTMLElement;\r\n  private _trapDiv: HTMLElement;\r\n\r\n  constructor(props: ICanvasZoneProps, context: ICanvasContext) {\r\n    super(props, context);\r\n\r\n    this._handleClickCapture = this._handleClickCapture.bind(this);\r\n    this._handleKeydownCapture = this._handleKeydownCapture.bind(this);\r\n    this._handleMouseOut = this._handleMouseOut.bind(this);\r\n    this._handleMouseOver = this._handleMouseOver.bind(this);\r\n    this._handleToolbarKeydown = this._handleToolbarKeydown.bind(this);\r\n    this._handleTrapFocus = this._handleTrapFocus.bind(this);\r\n    this._handleControlFocus = this._handleControlFocus.bind(this);\r\n    this._selectControl = this._selectControl.bind(this);\r\n  }\r\n\r\n  public shouldComponentUpdate(nextProps: ICanvasZoneProps): boolean {\r\n    const { displayMode, isSelected, row }: ICanvasZoneProps = this.props;\r\n    return (\r\n      displayMode !== nextProps.displayMode ||\r\n      isSelected !== nextProps.isSelected ||\r\n      row !== nextProps.row\r\n    );\r\n  }\r\n\r\n  public componentDidMount(): void {\r\n    if (this.context.store.selectedControlId === this.props.id) {\r\n      // 500ms animation duration\r\n      this.context.store.scrollIntoView('partial', this._domElement, 500, CanvasZone._VERTICAL_MARGIN * 2);\r\n      this.context.store.a11yManager.navigateTo(this._domElement);\r\n    }\r\n\r\n    this._childControl = this.context.store.getControl(this.props.id);\r\n\r\n    if (this.props.displayMode === DisplayMode.Edit) {\r\n      this._toolbarElement.addEventListener('keydown', this._handleToolbarKeydown);\r\n      this._childControlElement.addEventListener('keydown', this._handleKeydownCapture, true);\r\n    }\r\n  }\r\n\r\n  public componentDidUpdate(prevProps: ICanvasZoneProps): void {\r\n    const { displayMode }: ICanvasZoneProps = this.props;\r\n    if (prevProps.displayMode !== displayMode) {\r\n      if (displayMode === DisplayMode.Edit) {\r\n        this._toolbarElement.addEventListener('keydown', this._handleToolbarKeydown);\r\n        this._childControlElement.addEventListener('keydown', this._handleKeydownCapture, true);\r\n      } else if (displayMode === DisplayMode.Read) {\r\n        this._toolbarElement.removeEventListener('keydown', this._handleToolbarKeydown);\r\n        this._childControlElement.removeEventListener('keydown', this._handleKeydownCapture, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  public render(): React.ReactElement<ICanvasZoneProps> {\r\n    const { children, displayMode, isSelected, id }: ICanvasZoneProps = this.props;\r\n    const { controlType }: IWebPartZoneProps = children[0].props;\r\n    const isReadMode: boolean = displayMode === DisplayMode.Read;\r\n\r\n    let accessibleLabel: string = '';\r\n    const ariaPrimaryLabelById: string = `cswpAccessibleLabel_${id}`;\r\n    // Keep ID in sync with BaseClientSideWebpart._renderWithAccessibileTitle,\r\n    // where each webpart can provide contextual info based on its properties:\r\n    // ie. \"image of a house\" instead of just \"image\"\r\n    const ariaContextualLabelId: string = `cswpAccessibleLabelContextual_${id}`;\r\n    // Have to provide multiple IDs because IE doesn't care for aria-describedBy on DIVs\r\n    let ariaLabelledBy: string;\r\n\r\n    if (controlType === CanvasControlType.WebPartZone) {\r\n      // Want additional listed first since it will provide most contextual info\r\n      ariaLabelledBy = ariaContextualLabelId;\r\n    } else if (controlType === CanvasControlType.RTE) {\r\n      accessibleLabel = StringHelper.format(Strings.CanvasZoneAriaWebpartName || '',\r\n        Strings.TextWebPartDisplayName || '') || '';\r\n      // No contextual info available for text\r\n      ariaLabelledBy = ariaPrimaryLabelById;\r\n    }\r\n\r\n    if (displayMode === DisplayMode.Edit) {\r\n      accessibleLabel = StringHelper.format(Strings.AriaWebPartEnterTemplate || '', accessibleLabel) || '';\r\n      if (controlType === CanvasControlType.WebPartZone) {\r\n        ariaLabelledBy += ` ${ariaPrimaryLabelById}`;\r\n      }\r\n    }\r\n\r\n    const zoneClassName: string = css(\r\n      'CanvasZone',\r\n      {\r\n        'CanvasZone--edit': !isReadMode,\r\n        'CanvasZone--selected': isSelected\r\n      }\r\n    );\r\n\r\n    return (\r\n      /**\r\n       * Passing undefined once you set the tab index does not remove the tab index in React 14.\r\n       * This is fixed in React 15. https://github.com/facebook/react/issues/2528\r\n       */\r\n      <div\r\n        aria-labelledby={ariaLabelledBy}\r\n        className={zoneClassName}\r\n        ref={(ref) => this._domElement = ref}\r\n        onMouseOut={this._handleMouseOut}\r\n        onMouseOver={this._handleMouseOver}\r\n        tabIndex={isReadMode ? -1 : 0}\r\n      >\r\n        <div>\r\n          <div\r\n            className='CanvasZone-control'\r\n            isHidden={isReadMode}\r\n            onClickCapture={isReadMode ? undefined : this._handleClickCapture}\r\n            onFocus={isReadMode ? undefined : this._handleControlFocus}\r\n            ref={(ref) => this._childControlElement = ref}\r\n          >\r\n            { children[0] }\r\n          </div>\r\n          <div\r\n            isHidden={isReadMode}\r\n            ref={(ref) => this._toolbarElement = ref}\r\n          >\r\n            { children[1] }\r\n          </div>\r\n          <div id={ariaPrimaryLabelById}\r\n              className='CanvasZone-screenReaderOnly'>\r\n              { accessibleLabel }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _handleControlFocus(e: React.FocusEvent): void {\r\n    this._selectControl();\r\n  }\r\n\r\n  private _handleClickCapture(e: React.MouseEvent): void {\r\n    this._selectControl();\r\n  }\r\n\r\n  private _handleKeydownCapture(evt: KeyboardEvent): void {\r\n    if (this._childControl && this._childControl.props.controlType === CanvasControlType.WebPartZone) {\r\n      if (isEscape(evt)) {\r\n        this.context.store.a11yManager.navigateTo(this._domElement);\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n      } else if (isKey(KeyCodes.F10, evt, true)) {\r\n        this.context.store.a11yManager.navigateTo(this._toolbarElement);\r\n        this.context.store.a11yManager.ariaAlert(Strings.ToolbarNavigationArrowKeys);\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n      } else if (isKey(KeyCodes.P, evt, true)) {\r\n        this.context.store.webPartManager.configureStart(this._childControl.props.id, PropertyPaneState.Open);\r\n\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n      } else {\r\n        this.context.store.a11yManager.skipEvent(evt);\r\n      }\r\n    }\r\n  }\r\n\r\n  private _handleToolbarKeydown(evt: KeyboardEvent): void {\r\n    if (this._childControl && this._childControl.props.controlType === CanvasControlType.RTE) {\r\n      // Only for RTE: pressing escape on toolbar takes the focus inside the editor\r\n      if (isEscape(evt)) {\r\n        this._childControl.focus();\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n      }\r\n    }\r\n  }\r\n\r\n  private _handleMouseOut(e: React.MouseEvent): void {\r\n    this.context.store.hoveredControlId = undefined;\r\n  }\r\n\r\n  private _handleMouseOver(e: React.MouseEvent): void {\r\n    this.context.store.hoveredControlId = this.props.id;\r\n  }\r\n\r\n  private _handleTrapFocus(e: React.FocusEvent): void {\r\n    if (e.target === this._trapDiv) {\r\n      this._childControl.focus();\r\n    }\r\n  }\r\n\r\n  private _selectControl(): void {\r\n    if (this.context.store.selectedControlId !== this.props.id) {\r\n      this.context.store.selectedControlId = this.props.id;\r\n    }\r\n  }\r\n\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/canvas/canvasZone/CanvasZone.tsx\n **/","enum CanvasControlType {\r\n  BodyText = 0,\r\n  HeaderText = 1,\r\n  QuoteText = 2,\r\n  WebPartZone = 3,\r\n  RTE = 4\r\n}\r\n\r\nexport default CanvasControlType;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/canvas/canvas/CanvasControlType.ts\n **/","require('CanvasZone.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/canvas/canvasZone/CanvasZone.scss.ts\n **/","var content = require(\"!!./../../../../../../../../common/node_modules/css-loader/index.js!./CanvasZone.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/appBase/components/sp-canvas/canvas/canvasZone/CanvasZone.css\n ** module id = 137\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".CanvasZone{padding:8px;margin:28px 0;outline:0;position:relative}.CanvasZone .CanvasZone-target{bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.CanvasZone .CanvasZone-target:focus{outline:0}.CanvasZone .CanvasZone-target.CanvasZone-target--hidden{z-index:-1}.CanvasZone::after{border:1px solid \\\"[theme:neutralTertiary, default: #a6a6a6]\\\";color:\\\"[theme:neutralTertiary, default: #a6a6a6]\\\";bottom:0;content:\\\"\\\";left:0;pointer-events:none;position:absolute;right:0;top:0;-webkit-transition:all .3s ease;transition:all .3s ease}.CanvasZone .CanvasControlToolbar,.CanvasZone::after{opacity:0;-webkit-transition:all .3s ease;transition:all .3s ease}.CanvasZone.CanvasZone--edit.CanvasZone--selected .CanvasControlToolbar,.CanvasZone.CanvasZone--edit.CanvasZone--selected::after,.CanvasZone.CanvasZone--edit:focus .CanvasControlToolbar,.CanvasZone.CanvasZone--edit:focus::after,.CanvasZone.CanvasZone--edit:hover .CanvasControlToolbar,.CanvasZone.CanvasZone--edit:hover::after{opacity:1}.CanvasZone.CanvasZone--selected::after{border:1px solid \\\"[theme:themePrimary, default:#0078d7]\\\";color:\\\"[theme:themePrimary, default:#0078d7]\\\"}.CanvasZone.CanvasZone--selected+button.CanvasToolboxHint{opacity:1}.CanvasZone .CanvasZone-screenReaderOnly{position:absolute;text-indent:-9999px;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;border:0}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/appBase/components/sp-canvas/canvas/canvasZone/CanvasZone.css\n ** module id = 138\n ** module chunks = 0\n **/","import { css } from 'office-ui-fabric-react/lib/utilities/css';\r\nimport { DisplayMode } from '@microsoft/sp-client-base';\r\nimport * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\n\r\nimport CanvasStore from '../canvasComponent/CanvasStore';\r\nimport { ICanvasContext } from '../canvasComponent/ICanvasComponent';\r\nimport { ICanvasToolboxHintProps } from './ICanvasToolboxHint';\r\n\r\nimport './CanvasToolboxHint.scss';\r\n\r\nexport default class CanvasToolboxHint extends React.Component<ICanvasToolboxHintProps, void> {\r\n  public static contextTypes: React.ValidationMap<CanvasStore> = {\r\n    store: React.PropTypes.object.isRequired\r\n  };\r\n\r\n  public context: ICanvasContext;\r\n\r\n  private _domNode: HTMLElement;\r\n\r\n  constructor(props: ICanvasToolboxHintProps, context: ICanvasContext) {\r\n    super(props, context);\r\n    this._handleClick = this._handleClick.bind(this);\r\n  }\r\n\r\n  public componentDidMount(): void {\r\n    this._domNode = ReactDOM.findDOMNode(this) as HTMLElement;\r\n    if (this.props.shouldFocus) {\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  public componentDidUpdate(): void {\r\n    /**\r\n     * Calling componentDidMount because we want the code to run\r\n     * during each update as well.\r\n     */\r\n    this.componentDidMount();\r\n  }\r\n\r\n  public render(): React.ReactElement<ICanvasToolboxHintProps> {\r\n    const { ariaLabel, isVisible }: ICanvasToolboxHintProps = this.props;\r\n\r\n    const hintClassName: string = css(\r\n      'CanvasToolboxHint',\r\n      {\r\n        'is-visible': isVisible\r\n      }\r\n    );\r\n\r\n    return this.context.store.displayMode === DisplayMode.Edit && (\r\n      <button\r\n        aria-haspopup={true}\r\n        aria-label={ariaLabel}\r\n        className={hintClassName}\r\n        onClick={this._handleClick}\r\n      >\r\n        <div className='CanvasToolboxHint-plusButton'>\r\n          <i className='ms-Icon ms-Icon--Add'/>\r\n        </div>\r\n      </button>\r\n    );\r\n  }\r\n\r\n  public focus(): void {\r\n    /**\r\n     * Setting a 0ms timeout to let the browser drawing finish before we set focus to an element.\r\n     * Chrome's event queue lags more than IE's in this particular instance. Without this timeout\r\n     * the focus will not be correct set in Chrome.\r\n     */\r\n    window.setTimeout(() => this._domNode.focus(), 0);\r\n  }\r\n\r\n  private _handleClick(): void {\r\n    this.context.store.selectedControlId = undefined;\r\n    this.context.store.openToolbox(this.props.row, this._domNode.offsetTop);\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/canvas/canvasToolboxHint/CanvasToolboxHint.tsx\n **/","require('CanvasToolboxHint.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/canvas/canvasToolboxHint/CanvasToolboxHint.scss.ts\n **/","var content = require(\"!!./../../../../../../../../common/node_modules/css-loader/index.js!./CanvasToolboxHint.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/appBase/components/sp-canvas/canvas/canvasToolboxHint/CanvasToolboxHint.css\n ** module id = 141\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".CanvasToolboxHint{background:0 0;border:none;cursor:pointer;height:24px;left:48px;margin-top:-26px;opacity:0;outline:0;padding:0;position:absolute;right:48px;-webkit-transition:all .3s ease;transition:all .3s ease;width:calc(100% - 96px)}.CanvasToolboxHint .CanvasToolboxHint-plusButton{background-color:\\\"[theme:neutralTertiary, default: #a6a6a6]\\\";border-radius:50%;color:\\\"[theme:white, default: #ffffff]\\\";font-size:15px;height:24px;left:calc(50% - 12px);line-height:24px;padding:0;position:absolute;text-align:center;top:0;width:24px;z-index:1;-webkit-transition:all .3s ease;transition:all .3s ease}.CanvasToolboxHint .CanvasToolboxHint-plusButton .ms-Icon{font-family:sp-MDL2;position:relative;top:2px}.CanvasToolboxHint::after{border-top:1px solid \\\"[theme:neutralTertiary, default: #a6a6a6]\\\";content:'';height:1px;left:0;position:absolute;top:12px;width:100%;-webkit-transition:all .3s ease;transition:all .3s ease}.CanvasToolboxHint.is-visible{opacity:1}.CanvasToolboxHint:nth-of-type(1):nth-last-of-type(1){margin-top:2px;opacity:1}.CanvasToolboxHint:focus,.CanvasToolboxHint:hover{opacity:1}.CanvasToolboxHint:focus .CanvasToolboxHint-plusButton,.CanvasToolboxHint:hover .CanvasToolboxHint-plusButton{background-color:\\\"[theme:themePrimary, default:#0078d7]\\\"}.CanvasToolboxHint:focus::after,.CanvasToolboxHint:hover::after{border-color:\\\"[theme:themePrimary, default:#0078d7]\\\"}@media screen and (min-width:640px){.CanvasToolboxHint:first-of-type{margin-top:2px}}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/appBase/components/sp-canvas/canvas/canvasToolboxHint/CanvasToolboxHint.css\n ** module id = 142\n ** module chunks = 0\n **/","import * as React from 'react';\r\nimport { Button, ButtonType } from 'office-ui-fabric-react/lib/button';\r\nimport {\r\n  Dialog,\r\n  DialogFooter\r\n} from 'office-ui-fabric-react/lib/dialog';\r\n\r\nimport { ICanvasDeleteDialogProps } from './IConfirmationDialog';\r\n\r\nimport Strings from '../../loc/CanvasStrings.resx';\r\n\r\nexport default function ConfirmationDialog(\r\n  props: ICanvasDeleteDialogProps\r\n): React.ReactElement<ICanvasDeleteDialogProps> {\r\n  const { isOpen, message, onConfirmation, onDismiss, title }: ICanvasDeleteDialogProps = props;\r\n\r\n  return (\r\n    <Dialog\r\n      isOpen={isOpen}\r\n      onDismiss={onDismiss}\r\n      title={title}\r\n      subText={message}\r\n    >\r\n      <DialogFooter>\r\n        <Button buttonType={ButtonType.primary} onClick={onConfirmation} ariaLabel={ Strings.ConfirmationDialogYes }>\r\n          { Strings.ConfirmationDialogYes }\r\n        </Button>\r\n        <Button onClick={onDismiss} ariaLabel={ Strings.ConfirmationDialogNo }>\r\n          { Strings.ConfirmationDialogNo }\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n(ConfirmationDialog as React.StatelessComponent<ICanvasDeleteDialogProps>).contextTypes = {\r\n  store: React.PropTypes.object.isRequired\r\n};\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/canvas/confirmationDialog/ConfirmationDialog.tsx\n **/","export * from './components/Button/index';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/Button.ts\n **/","export * from './Button';\nexport * from './Button.Props';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Button/index.ts\n **/","import * as React from 'react';\nimport { css } from '../../utilities/css';\nimport { assign } from '../../utilities/object';\nimport { IButtonProps, ButtonType } from './Button.Props';\nimport { getId } from '../../utilities/object';\nimport './Button.scss';\n\nexport interface IButtonState {\n  labelId?: string;\n  descriptionId?: string;\n  ariaDescriptionId?: string;\n}\n\nexport class Button extends React.Component<IButtonProps, IButtonState> {\n  public static defaultProps: IButtonProps = {\n    buttonType: ButtonType.normal\n  };\n  private _buttonElement: HTMLButtonElement;\n\n  constructor(props: IButtonProps) {\n    super(props);\n\n    this.state = {\n      labelId: getId('Button'),\n      descriptionId: getId('Button'),\n      ariaDescriptionId: getId('Button')\n    };\n  }\n\n  public render(): JSX.Element {\n    let { buttonType, children, icon, description, ariaLabel, ariaDescription, href, disabled, onClick } = this.props;\n    let { labelId, descriptionId, ariaDescriptionId } = this.state;\n\n    const renderAsAnchor: boolean = !!href;\n    const tag = renderAsAnchor ? 'a' : 'button';\n\n    const className = css((this.props.className), 'ms-Button', {\n      'ms-Button--primary': buttonType === ButtonType.primary,\n      'ms-Button--hero': buttonType === ButtonType.hero,\n      'ms-Button--compound': buttonType === ButtonType.compound,\n      'ms-Button--command': buttonType === ButtonType.command,\n      'ms-Button--icon': buttonType === ButtonType.icon,\n      'disabled': (renderAsAnchor && disabled) // add disable styling if it is an anchor\n                                               // if not utilize default button disabled behavior.\n    });\n\n    const iconSpan = icon && (buttonType === ButtonType.command || buttonType === ButtonType.hero || buttonType === ButtonType.icon)\n      ? <span className='ms-Button-icon'><i className={`ms-Icon ms-Icon--${icon}`}></i></span>\n      : null;\n\n    // ms-Button-description is only shown when the button type is compound.\n    // In other cases it will not be displayed.\n    const descriptionSpan: React.ReactElement<React.HTMLProps<HTMLSpanElement>> = description\n      ? <span className='ms-Button-description' id={ descriptionId }>{ description }</span>\n      : null;\n\n    // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan,\n    // otherwise it will be assigned to descriptionSpan.\n    const ariaDescriptionSpan: React.ReactElement<React.HTMLProps<HTMLSpanElement>> = ariaDescription\n      ? <span className='ms-u-screenReaderOnly' id={ ariaDescriptionId }>{ ariaDescription }</span>\n      : null;\n\n    return React.createElement(\n      tag,\n      assign(\n        {},\n        this.props.rootProps,\n        {\n          'aria-label': ariaLabel,\n          'aria-labelledby': ariaLabel ? null : labelId,\n          'aria-describedby': ariaDescription ? ariaDescriptionId : description ? descriptionId : null,\n          'ref': (c: HTMLButtonElement): HTMLButtonElement => this._buttonElement = c\n        },\n        onClick && { 'onClick': onClick },\n        disabled && { 'disabled': disabled },\n        { className }),\n      iconSpan,\n      <span className='ms-Button-label' id={ labelId } >{ children }</span>,\n      descriptionSpan,\n      ariaDescriptionSpan\n    );\n  }\n\n  public focus(): void {\n    if (this._buttonElement) {\n      this._buttonElement.focus();\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Button/Button.tsx\n **/","// Initialize global window id.\nconst CURRENT_ID_PROPERTY = '__currentId__';\n\nlet _global = window || process;\n\nif (_global[CURRENT_ID_PROPERTY] === undefined) {\n  _global[CURRENT_ID_PROPERTY] = 0;\n}\n\nfunction checkProperties(a, b) {\n  for (let propName in a) {\n    if (a.hasOwnProperty(propName)) {\n      if (!b.hasOwnProperty(propName) || (b[propName] !== a[propName])) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\n// Compare a to b and b to a\nexport function shallowCompare(a, b) {\n  return checkProperties(a, b) && checkProperties(b, a);\n}\n\n// Assign function.\nexport function assign(target: any, ...args) {\n  target = target || {};\n\n  for (let sourceObject of args) {\n    if (sourceObject) {\n      for (let propName in sourceObject) {\n        if (sourceObject.hasOwnProperty(propName)) {\n          target[propName] = sourceObject[propName];\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\n/** Generates a unique id in the global scope (this spans across duplicate copies of the same library.) */\nexport function getId(prefix?: string): string {\n  let index = _global[CURRENT_ID_PROPERTY]++;\n\n  return (prefix || '') + index;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/utilities/object.ts\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n    try {\n        cachedSetTimeout = setTimeout;\n    } catch (e) {\n        cachedSetTimeout = function () {\n            throw new Error('setTimeout is not defined');\n        }\n    }\n    try {\n        cachedClearTimeout = clearTimeout;\n    } catch (e) {\n        cachedClearTimeout = function () {\n            throw new Error('clearTimeout is not defined');\n        }\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/process/browser.js\n ** module id = 148\n ** module chunks = 0\n **/","import * as React from 'react';\nimport { Button } from './Button';\n\nexport interface IButtonProps extends React.Props<Button> {\n  /**\n   * If provided, this component will be rendered as an anchor.\n   * @default ElementType.anchor\n   */\n  href?: string;\n\n  /**\n   * The type of button to render.\n   * @defaultvalue ButtonType.normal\n   */\n  buttonType?: ButtonType;\n\n  /**\n   * The button icon shown in command or hero type.\n   */\n  icon?: string;\n\n  /**\n   * Description of the action this button takes.\n   * Only used for compound buttons\n   */\n  description?: string;\n\n  /**\n   * Whether the button is disabled\n   */\n  disabled?: boolean;\n\n  /**\n   * If provided, additional class name to provide on the root element.\n   */\n  className?: string;\n\n  /**\n   * Event handler for click event.\n   */\n  onClick?: React.MouseEventHandler;\n\n  /**\n   * The aria label of the button for the benefit of screen readers.\n   */\n  ariaLabel?: string;\n\n  /**\n   * Detailed description of the button for the benefit of screen readers.\n   *\n   * Besides the compound button, other button types will need more information provided to screen reader.\n   */\n  ariaDescription?: string;\n\n  /**\n   * If provided, HTMLProps which will be mixed in onto the root element emitted by this component, before\n   * other props are applied. This allows you to extend the root element with additional attributes, such as\n   * data-automation-id needed for automation.\n   *\n   * The root element will either be a button or an anchor, depending on what value is specified for\n   * the elementType prop.\n   */\n  rootProps?: React.HTMLProps<HTMLButtonElement> | React.HTMLProps<HTMLAnchorElement>;\n}\n\nexport enum ElementType {\n  /** <button> element. */\n  button,\n  /** <a> element. */\n  anchor\n}\n\nexport enum ButtonType {\n  normal,\n  primary,\n  hero,\n  compound,\n  command,\n  icon\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Button/Button.Props.ts\n **/","import { loadStyles } from 'load-themed-styles';\n\nloadStyles('.ms-Button{color:\"[theme:neutralPrimary, default: #333333]\";font-family:\"Segoe UI Regular WestEuropean\",\"Segoe UI\",Tahoma,Arial,sans-serif;font-size:14px;font-weight:400;box-sizing:border-box;margin:0;padding:0;box-shadow:none;background-color:\"[theme:neutralLighter, default: #f4f4f4]\";border:1px solid \"[theme:neutralLighter, default: #f4f4f4]\";cursor:pointer;display:inline-block;height:32px;min-width:80px;padding:4px 20px 6px}.ms-Fabric .ms-Button::-moz-focus-inner{border:0}.ms-Fabric .ms-Button{outline:transparent;position:relative}.ms-Fabric.is-focusVisible .ms-Button:focus:before{content:\\'\\';position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid \"[theme:neutralSecondaryAlt, default: #767676]\"}.ms-Button:hover{background-color:\"[theme:neutralLight, default: #eaeaea]\";border-color:\"[theme:neutralLight, default: #eaeaea]\";outline:1px solid transparent}.ms-Button:hover .ms-Button-label{color:\"[theme:black, default: #000000]\"}.ms-Button:focus{background-color:\"[theme:neutralLight, default: #eaeaea]\";border-color:\"[theme:neutralLighter, default: #f4f4f4]\";outline:1px solid transparent}.ms-Button:focus .ms-Button-label{color:\"[theme:black, default: #000000]\"}.ms-Button:active{background-color:\"[theme:themePrimary, default: #0078d7]\";border-color:\"[theme:themePrimary, default: #0078d7]\"}.ms-Button:active .ms-Button-label{color:\"[theme:white, default: #ffffff]\"}.ms-Button.is-disabled,.ms-Button:disabled{background-color:\"[theme:neutralLighter, default: #f4f4f4]\";border-color:\"[theme:neutralLighter, default: #f4f4f4]\";cursor:default}.ms-Button.is-disabled .ms-Button-label,.ms-Button:disabled .ms-Button-label{color:\"[theme:neutralTertiary, default: #a6a6a6]\"}.ms-Button.is-disabled:focus,.ms-Button.is-disabled:hover,.ms-Button:disabled:focus,.ms-Button:disabled:hover{outline:0}.ms-Button+.ms-Button{margin-left:6px}.ms-Button-label{color:\"[theme:neutralPrimary, default: #333333]\";font-family:\"Segoe UI Semibold WestEuropean\",\"Segoe UI Semibold\",\"Segoe UI\",Tahoma,Arial,sans-serif;font-size:14px}.ms-Button-description,.ms-Button-icon{display:none}.ms-Fabric.is-focusVisible .ms-Button:focus{color:\"[theme:black, default: #000000]\"}.ms-Fabric.is-focusVisible .ms-Button:focus:before{border-color:\"[theme:themePrimary, default: #0078d7]\"}.ms-Button.ms-Button--primary{background-color:\"[theme:themePrimary, default: #0078d7]\";border-color:\"[theme:themePrimary, default: #0078d7]\"}.ms-Button.ms-Button--primary .ms-Button-label{color:\"[theme:white, default: #ffffff]\"}.ms-Button.ms-Button--primary:hover{background-color:\"[theme:themeDark, default: #005a9e]\";border-color:\"[theme:themeDark, default: #005a9e]\"}.ms-Button.ms-Button--primary:focus{background-color:\"[theme:themeDark, default: #005a9e]\";border-color:\"[theme:themePrimary, default: #0078d7]\"}.ms-Button.ms-Button--primary:active{background-color:\"[theme:themePrimary, default: #0078d7]\";border-color:\"[theme:themePrimary, default: #0078d7]\"}.ms-Button.ms-Button--primary.is-disabled,.ms-Button.ms-Button--primary:disabled{background-color:\"[theme:neutralLighter, default: #f4f4f4]\";border-color:\"[theme:neutralLighter, default: #f4f4f4]\"}.ms-Button.ms-Button--primary.is-disabled .ms-Button-label,.ms-Button.ms-Button--primary:disabled .ms-Button-label{color:\"[theme:neutralTertiary, default: #a6a6a6]\"}.ms-Fabric.is-focusVisible .ms-Button.ms-Button--primary:focus{color:\"[theme:white, default: #ffffff]\"}.ms-Fabric.is-focusVisible .ms-Button.ms-Button--primary:focus:before{border-color:\"[theme:themeDarker, default: #004578]\"}.ms-Button.ms-Button--hero{background-color:transparent;border:none;vertical-align:top;line-height:normal}.ms-Button.ms-Button--hero .ms-Button-icon{color:\"[theme:themePrimary, default: #0078d7]\";display:inline-block;font-size:12px;position:relative;top:-8px;text-align:center}.ms-Button.ms-Button--hero .ms-Button-icon .ms-Icon{border-radius:18px;border:1px solid \"[theme:themePrimary, default: #0078d7]\";height:18px;line-height:18px;width:18px;font-size:12px;margin:0}.ms-Button.ms-Button--hero .ms-Button-label{color:\"[theme:themePrimary, default: #0078d7]\";font-family:\"Segoe UI Light WestEuropean\",\"Segoe UI Light\",\"Segoe UI\",Tahoma,Arial,sans-serif;font-size:21px;position:relative;top:-5px;text-decoration:none}.ms-Button.ms-Button--hero:focus .ms-Button-icon .ms-Icon,.ms-Button.ms-Button--hero:hover .ms-Button-icon .ms-Icon{color:\"[theme:themeDark, default: #005a9e]\"}.ms-Button.ms-Button--hero:focus .ms-Button-label,.ms-Button.ms-Button--hero:hover .ms-Button-label{color:\"[theme:themeDarker, default: #004578]\"}.ms-Button.ms-Button--hero:active .ms-Button-icon .ms-Icon{color:\"[theme:themePrimary, default: #0078d7]\"}.ms-Button.ms-Button--hero:active .ms-Button-label{color:\"[theme:themePrimary, default: #0078d7]\"}.ms-Button.ms-Button--hero.is-disabled .ms-Button-icon .ms-Icon,.ms-Button.ms-Button--hero:disabled .ms-Button-icon .ms-Icon{color:\"[theme:neutralTertiaryAlt, default: #c8c8c8]\"}.ms-Button.ms-Button--hero.is-disabled .ms-Button-label,.ms-Button.ms-Button--hero:disabled .ms-Button-label{color:\"[theme:neutralTertiary, default: #a6a6a6]\"}.ms-Button.ms-Button--compound{height:auto;min-height:72px;max-width:280px;padding:20px}.ms-Button.ms-Button--compound .ms-Button-label{display:block;font-family:\"Segoe UI Semibold WestEuropean\",\"Segoe UI Semibold\",\"Segoe UI\",Tahoma,Arial,sans-serif;position:relative;color:\"[theme:black, default: #000000]\";margin-top:-5px}html[dir=ltr] .ms-Button.ms-Button--compound .ms-Button-label{text-align:left}html[dir=rtl] .ms-Button.ms-Button--compound .ms-Button-label{text-align:right}.ms-Button.ms-Button--compound .ms-Button-description{color:\"[theme:neutralSecondary, default: #666666]\";display:block;font-family:\"Segoe UI Regular WestEuropean\",\"Segoe UI\",Tahoma,Arial,sans-serif;font-size:12px;position:relative;top:3px}html[dir=ltr] .ms-Button.ms-Button--compound .ms-Button-description{text-align:left}html[dir=rtl] .ms-Button.ms-Button--compound .ms-Button-description{text-align:right}.ms-Button.ms-Button--compound:hover .ms-Button-description{color:\"[theme:neutralDark, default: #212121]\"}.ms-Button.ms-Button--compound:focus{border-color:\"[theme:themePrimary, default: #0078d7]\";background-color:\"[theme:neutralLighter, default: #f4f4f4]\"}.ms-Button.ms-Button--compound:focus .ms-Button-label{color:\"[theme:neutralPrimary, default: #333333]\"}.ms-Button.ms-Button--compound:focus .ms-Button-description{color:\"[theme:neutralSecondary, default: #666666]\"}.ms-Button.ms-Button--compound:active{background-color:\"[theme:themePrimary, default: #0078d7]\"}.ms-Button.ms-Button--compound:active .ms-Button-description,.ms-Button.ms-Button--compound:active .ms-Button-label{color:\"[theme:white, default: #ffffff]\"}.ms-Button.ms-Button--compound.is-disabled .ms-Button-description,.ms-Button.ms-Button--compound.is-disabled .ms-Button-label,.ms-Button.ms-Button--compound:disabled .ms-Button-description,.ms-Button.ms-Button--compound:disabled .ms-Button-label{color:\"[theme:neutralTertiary, default: #a6a6a6]\"}.ms-Button.ms-Button--compound.is-disabled:active,.ms-Button.ms-Button--compound.is-disabled:focus,.ms-Button.ms-Button--compound:disabled:active,.ms-Button.ms-Button--compound:disabled:focus{border-color:\"[theme:neutralLighter, default: #f4f4f4]\";background-color:\"[theme:neutralLighter, default: #f4f4f4]\"}.ms-Button.ms-Button--compound.is-disabled:active .ms-Button-description,.ms-Button.ms-Button--compound.is-disabled:active .ms-Button-label,.ms-Button.ms-Button--compound.is-disabled:focus .ms-Button-description,.ms-Button.ms-Button--compound.is-disabled:focus .ms-Button-label,.ms-Button.ms-Button--compound:disabled:active .ms-Button-description,.ms-Button.ms-Button--compound:disabled:active .ms-Button-label,.ms-Button.ms-Button--compound:disabled:focus .ms-Button-description,.ms-Button.ms-Button--compound:disabled:focus .ms-Button-label{color:\"[theme:neutralTertiary, default: #a6a6a6]\"}.ms-Button.ms-Button--command{background-color:transparent;border:none;height:32px;line-height:32px;min-width:0;padding:0 8px;font-size:14px}html[dir=ltr] .ms-Button.ms-Button--command{text-align:left}html[dir=rtl] .ms-Button.ms-Button--command{text-align:right}.ms-Button.ms-Button--command .ms-Button-label{color:\"[theme:themePrimary, default: #0078d7]\"}.ms-Button.ms-Button--command .ms-Button-icon{color:\"[theme:themePrimary, default: #0078d7]\";display:inline-block;margin-right:4px;position:relative}html[dir=ltr] .ms-Button.ms-Button--command .ms-Button-icon{text-align:left}html[dir=rtl] .ms-Button.ms-Button--command .ms-Button-icon{text-align:right}.ms-Button.ms-Button--command .ms-Button-label{font-family:\"Segoe UI Regular WestEuropean\",\"Segoe UI\",Tahoma,Arial,sans-serif}.ms-Button.ms-Button--command:focus .ms-Button-icon,.ms-Button.ms-Button--command:focus .ms-Button-label,.ms-Button.ms-Button--command:hover .ms-Button-icon,.ms-Button.ms-Button--command:hover .ms-Button-label{color:\"[theme:themeDarker, default: #004578]\"}.ms-Button.ms-Button--command:active .ms-Button-icon,.ms-Button.ms-Button--command:active .ms-Button-label{color:\"[theme:themePrimary, default: #0078d7]\"}.ms-Button.ms-Button--command.is-disabled .ms-Button-icon,.ms-Button.ms-Button--command:disabled .ms-Button-icon{color:\"[theme:neutralTertiaryAlt, default: #c8c8c8]\"}.ms-Button.ms-Button--command.is-disabled .ms-Button-label,.ms-Button.ms-Button--command:disabled .ms-Button-label{color:\"[theme:neutralTertiary, default: #a6a6a6]\"}html[dir=ltr] .ms-Button.ms-Button--command+.ms-Button.ms-Button--command{margin-left:14px}html[dir=rtl] .ms-Button.ms-Button--command+.ms-Button.ms-Button--command{margin-right:14px}.ms-Button--icon{background-color:transparent;color:\"[theme:neutralSecondary, default: #666666]\";padding:0;min-width:auto;height:auto;border:0}.ms-Fabric .ms-Button--icon::-moz-focus-inner{border:0}.ms-Fabric .ms-Button--icon{outline:transparent;position:relative}.ms-Fabric.is-focusVisible .ms-Button--icon:focus:before{content:\\'\\';position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid \"[theme:neutralSecondaryAlt, default: #767676]\"}.ms-Button--icon:active,.ms-Button--icon:hover{background-color:transparent;border-color:transparent;outline-color:transparent;color:\"[theme:neutralPrimary, default: #333333]\"}.ms-Button--icon:focus{background-color:transparent}.ms-Button--icon .ms-Icon{font-size:16px;padding:8px}.ms-Button--icon .ms-Button-icon{display:inline}.ms-Button--icon.is-disabled,.ms-Button--icon:disabled{color:\"[theme:neutralTertiaryAlt, default: #c8c8c8]\";background-color:transparent}@media screen and (-ms-high-contrast:active){.ms-Button--icon{color:\"[theme:yellowLight, default: #fff100]\"}}@media screen and (-ms-high-contrast:black-on-white){.ms-Button--icon{color:\"[theme:blueMid, default: #00188f]\"}}.ms-Button.ms-Button--primary.disabled{background-color:\"[theme:neutralLighter, default: #f4f4f4]\";border-color:\"[theme:neutralLighter, default: #f4f4f4]\";pointer-events:none;cursor:default}.ms-Button.ms-Button--primary.disabled .ms-Button-label{color:\"[theme:neutralTertiary, default: #a6a6a6]\"}html[dir=ltr] .ms-Button+.ms-Button{margin-left:6px}html[dir=rtl] .ms-Button+.ms-Button{margin-right:6px}a.ms-Button{text-decoration:none;text-align:center}');\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Button/Button.scss.ts\n **/","export * from './components/Dialog/index';\nexport { Dialog as default } from './components/Dialog/index';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/Dialog.ts\n **/","export * from './Dialog';\nexport * from './DialogFooter';\nexport * from './Dialog.Props';\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Dialog/index.ts\n **/","import * as React from 'react';\nimport { FocusTrapZone } from '../FocusTrapZone/index';\nimport { IDialogProps, DialogType } from './Dialog.Props';\nimport { Overlay } from '../../Overlay';\nimport { Layer } from '../../Layer';\nimport { DialogFooter } from './DialogFooter';\nimport { css } from '../../utilities/css';\nimport { Popup } from '../Popup/index';\nimport { withResponsiveMode, ResponsiveMode } from '../../utilities/decorators/withResponsiveMode';\nimport { getId } from '../../utilities/object';\nimport './Dialog.scss';\n\n// @TODO - need to add animations, pending Fabric Team + Coulton work\n// @TODO - need to change this to a panel whenever the breakpoint is under medium (verify the spec)\n\n@withResponsiveMode\nexport class Dialog extends React.Component<IDialogProps, any> {\n\n  public static defaultProps: IDialogProps = {\n    isOpen: false,\n    type: DialogType.normal,\n    isDarkOverlay: true,\n    isBlocking: false,\n    className: '',\n    containerClassName: '',\n    contentClassName: ''\n  };\n\n  constructor(props: IDialogProps) {\n    super(props);\n\n    this.state = {\n      id: getId('Dialog'),\n    };\n  }\n\n  public render() {\n    let { isOpen, type, isDarkOverlay, onDismiss, title, subText, isBlocking, responsiveMode, elementToFocusOnDismiss, ignoreExternalFocusing, forceFocusInsideTrap, firstFocusableSelector, closeButtonAriaLabel, onLayerMounted } = this.props;\n    let { id } = this.state;\n    // @TODO - the discussion on whether the Dialog contain a property for rendering itself is still being discussed\n    if (!isOpen) {\n      return null;\n    }\n\n    let subTextContent;\n    const dialogClassName = css('ms-Dialog', this.props.className, {\n      'ms-Dialog--lgHeader': type === DialogType.largeHeader,\n      'ms-Dialog--close': type === DialogType.close\n    });\n    let groupings = this._groupChildren();\n\n    if (subText) {\n      subTextContent = <p className='ms-Dialog-subText' id={ id + '-subText'}>{ subText }</p>;\n    }\n\n    // @temp tuatology - Will adjust this to be a panel at certain breakpoints\n    if (responsiveMode >= ResponsiveMode.small) {\n      return (\n        <Layer onLayerMounted={ onLayerMounted }>\n          <Popup\n            className= { dialogClassName }\n            role='dialog'\n            ariaLabelledBy={ title ? id + '-title' : '' }\n            ariaDescribedBy={ subText ? id + '-subText' : '' }\n            onDismiss={ onDismiss }\n            >\n            <div className={ dialogClassName }>\n              <Overlay isDarkThemed={ isDarkOverlay } onClick={ isBlocking ? null : onDismiss } />\n              <FocusTrapZone\n                className={ css('ms-Dialog-main', this.props.containerClassName) }\n                elementToFocusOnDismiss={ elementToFocusOnDismiss }\n                isClickableOutsideFocusTrap={ !isBlocking }\n                ignoreExternalFocusing={ ignoreExternalFocusing }\n                forceFocusInsideTrap={ forceFocusInsideTrap }\n                firstFocusableSelector={ firstFocusableSelector }>\n                <button className='ms-Dialog-button ms-Dialog-button--close'\n                  onClick={ onDismiss }\n                  aria-label= { closeButtonAriaLabel }>\n                  <i className='ms-Icon ms-Icon--x'></i>\n                </button>\n                <div className='ms-Dialog-header'>\n                  <p className='ms-Dialog-title' id={ id + '-title'}>{ title }</p>\n                </div>\n                <div className='ms-Dialog-inner'>\n                  <div className={ css('ms-Dialog-content', this.props.contentClassName) }>\n                    { subTextContent }\n                    { groupings.contents }\n                  </div>\n                  { groupings.footers }\n                </div>\n              </FocusTrapZone>\n            </div>\n          </Popup>\n        </Layer>\n      );\n    }\n  }\n\n  // @TODO - typing the footers as an array of DialogFooter is difficult because\n  // casing \"child as DialogFooter\" causes a problem because\n  // \"Neither type 'ReactElement<any>' nor type 'DialogFooter' is assignable to the other.\"\n  private _groupChildren(): { footers: any[]; contents: any[]; } {\n\n    let groupings: { footers: any[]; contents: any[]; } = {\n      footers: [],\n      contents: []\n    };\n\n    React.Children.map(this.props.children, child => {\n      if (typeof child === 'object' && child.type === DialogFooter) {\n        groupings.footers.push(child);\n      } else {\n        groupings.contents.push(child);\n      }\n    });\n\n    return groupings;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Dialog/Dialog.tsx\n **/","export * from './FocusTrapZone';\nexport * from './FocusTrapZone.Props';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/FocusTrapZone/index.ts\n **/","import * as React from 'react';\nimport { KeyCodes } from '../../utilities/KeyCodes';\nimport { EventGroup } from '../../utilities/eventGroup/EventGroup';\nimport { IFocusTrapZone, IFocusTrapZoneProps } from './FocusTrapZone.Props';\nimport {\n  getFirstFocusable,\n  getLastFocusable,\n  getNextElement\n} from '../../utilities/focus';\n\nexport class FocusTrapZone extends React.Component<IFocusTrapZoneProps, {}> implements IFocusTrapZone {\n\n  public refs: {\n    [key: string]: React.ReactInstance,\n    root: HTMLElement\n  };\n\n  private _previouslyFocusedElement: HTMLElement;\n  private _events: EventGroup;\n\n  constructor(props) {\n    super(props);\n\n    this._onKeyboardHandler = this._onKeyboardHandler.bind(this);\n    this._events = new EventGroup(this);\n  }\n\n  public componentDidMount() {\n    let { elementToFocusOnDismiss, isClickableOutsideFocusTrap = false, forceFocusInsideTrap = true } = this.props;\n\n    this._previouslyFocusedElement = elementToFocusOnDismiss ? elementToFocusOnDismiss : document.activeElement as HTMLElement;\n    this.focus();\n\n    if (forceFocusInsideTrap) {\n        this._events.on(window, 'focus', this._forceFocusInTrap, true);\n    }\n\n    if (!isClickableOutsideFocusTrap) {\n      this._events.on(window, 'click', this._forceClickInTrap, true);\n    }\n  }\n\n  public componentWillUnmount() {\n    let { ignoreExternalFocusing } = this.props;\n    this._events.dispose();\n\n    if (!ignoreExternalFocusing && this._previouslyFocusedElement) {\n      this._previouslyFocusedElement.focus();\n    }\n  }\n\n  public render() {\n    let { className, ariaLabelledBy } = this.props;\n\n    return (\n      <div\n        { ...this.props as any }\n        className={ className }\n        ref='root'\n        aria-labelledby={ ariaLabelledBy }\n        onKeyDown={ this._onKeyboardHandler }>\n        { this.props.children }\n      </div>\n    );\n  }\n\n/**\n * Need to expose this method in case of popups since focus needs to be set when popup is opened\n **/\n  public focus() {\n    let { firstFocusableSelector } = this.props;\n    let _firstFocusableChild;\n    let root = this.refs.root;\n\n    if (firstFocusableSelector) {\n      _firstFocusableChild = root.querySelector('.' + firstFocusableSelector);\n    } else {\n        _firstFocusableChild = getNextElement(root, root.firstChild as HTMLElement, true, false, false, true);\n    }\n    if (_firstFocusableChild) {\n        _firstFocusableChild.focus();\n    }\n  }\n\n  private _onKeyboardHandler(ev: React.KeyboardEvent) {\n    if (ev.which !== KeyCodes.tab) {\n      return;\n    }\n\n    let { root } = this.refs;\n\n    const _firstFocusableChild = getFirstFocusable(root, root.firstChild as HTMLElement, true);\n    const _lastFocusableChild = getLastFocusable(root, root.lastChild as HTMLElement, true);\n\n    if (ev.shiftKey && _firstFocusableChild === ev.target) {\n      _lastFocusableChild.focus();\n      ev.preventDefault();\n      ev.stopPropagation();\n    } else if (!ev.shiftKey && _lastFocusableChild === ev.target) {\n      _firstFocusableChild.focus();\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n  }\n\n  private _forceFocusInTrap(ev: FocusEvent) {\n    const focusedElement = document.activeElement;\n\n    if (!this.refs.root.contains(focusedElement)) {\n      this.focus();\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n  }\n\n private _forceClickInTrap(ev: MouseEvent) {\n    const clickedElement = ev.target as HTMLElement;\n\n    if (clickedElement && !this.refs.root.contains(clickedElement)) {\n      this.focus();\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/components/FocusTrapZone/FocusTrapZone.tsx\n **/","export enum KeyCodes {\n  a = 65,\n  backspace = 8,\n  comma = 188,\n  del = 46,\n  down = 40,\n  end = 35,\n  enter = 13,\n  escape = 27,\n  home = 36,\n  left = 37,\n  pageDown = 34,\n  pageUp = 33,\n  right = 39,\n  semicolon = 186,\n  space = 32,\n  tab = 9,\n  up = 38\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/utilities/KeyCodes.ts\n **/","/* tslint:disable:no-string-literal */\n\nexport interface IEventRecord {\n  target: any;\n  eventName: string;\n  parent: any;\n  callback: (args?: any) => void;\n  elementCallback: (...args: any[]) => void;\n  objectCallback: (args?: any) => void;\n  useCapture: boolean;\n}\n\nexport interface IEventRecordsByName {\n  [eventName: string]: IEventRecordList;\n}\n\nexport interface IEventRecordList {\n  [id: string]: IEventRecord[] | number;\n  count: number;\n}\n\nexport interface IDeclaredEventsByName {\n  [eventName: string]: boolean;\n}\n\n/** An instance of EventGroup allows anything with a handle to it to trigger events on it.\n *  If the target is an HTMLElement, the event will be attached to the element and can be\n *  triggered as usual (like clicking for onclick).\n *  The event can be triggered by calling EventGroup.raise() here. If the target is an\n *  HTMLElement, the event gets raised and is handled by the browser. Otherwise, it gets\n *  handled here in EventGroup, and the handler is called in the context of the parent\n *  (which is passed in in the constructor).\n */\nexport class EventGroup {\n  private static _uniqueId = 0;\n  private _parent;\n  private _eventRecords: IEventRecord[];\n  private _id = EventGroup._uniqueId++;\n  private _isDisposed: boolean;\n\n  /** For IE8, bubbleEvent is ignored here and must be dealt with by the handler.\n   *  Events raised here by default have bubbling set to false and cancelable set to true.\n   *  This applies also to built-in events being raised manually here on HTMLElements,\n   *  which may lead to unexpected behavior if it differs from the defaults.\n   */\n  public static raise(\n    target: any,\n    eventName: string,\n    eventArgs?: any,\n    bubbleEvent?: boolean\n  ) {\n    let retVal;\n\n    if (EventGroup._isElement(target)) {\n      if (document.createEvent) {\n        let ev = document.createEvent('HTMLEvents');\n\n        ev.initEvent(eventName, bubbleEvent, true);\n        ev['args'] = eventArgs;\n        retVal = target.dispatchEvent(ev);\n      } else if (document['createEventObject']) { // IE8\n        let evObj = document['createEventObject'](eventArgs);\n        // cannot set cancelBubble on evObj, fireEvent will overwrite it\n        target.fireEvent('on' + eventName, evObj);\n      }\n    } else {\n      while (target && retVal !== false) {\n        let events = <IEventRecordsByName>target.__events__;\n        let eventRecords = events ? events[eventName] : null;\n\n        for (let id in eventRecords) {\n          if (eventRecords.hasOwnProperty(id)) {\n            let eventRecordList = <IEventRecord[]>eventRecords[id];\n\n            for (let listIndex = 0; retVal !== false && listIndex < eventRecordList.length; listIndex++) {\n              let record = eventRecordList[listIndex];\n\n              if (record.objectCallback) {\n                retVal = record.objectCallback.call(record.parent, eventArgs);\n              }\n            }\n          }\n        }\n\n        // If the target has a parent, bubble the event up.\n        target = bubbleEvent ? target.parent : null;\n      }\n    }\n\n    return retVal;\n  }\n\n  public static isObserved(target: any, eventName: string): boolean {\n    let events = target && <IEventRecordsByName>target.__events__;\n\n    return !!events && !!events[eventName];\n  }\n\n  /** Check to see if the target has declared support of the given event. */\n  public static isDeclared(target: any, eventName: string): boolean {\n    let declaredEvents = target && <IDeclaredEventsByName>target.__declaredEvents;\n\n    return !!declaredEvents && !!declaredEvents[eventName];\n  }\n\n  public static stopPropagation(event: any) {\n    if (event.stopPropagation) {\n      event.stopPropagation();\n    } else { // IE8\n      event.cancelBubble = true;\n    }\n  }\n\n  private static _isElement(target: HTMLElement) {\n    return !!target && (target instanceof HTMLElement || target.addEventListener);\n  }\n\n  /** parent: the context in which events attached to non-HTMLElements are called */\n  public constructor(parent: any) {\n    this._parent = parent;\n    this._eventRecords = [];\n  }\n\n  public dispose() {\n    if (!this._isDisposed) {\n      this._isDisposed = true;\n\n      this.off();\n      this._parent = null;\n    }\n  }\n\n  /** On the target, attach a set of events, where the events object is a name to function mapping. */\n  public onAll(target: any, events: { [key: string]: (args?: any) => void; }, useCapture?: boolean) {\n    for (let eventName in events) {\n      if (events.hasOwnProperty(eventName)) {\n        this.on(target, eventName, events[eventName], useCapture);\n      }\n    }\n  }\n\n  /** On the target, attach an event whose handler will be called in the context of the parent\n   * of this instance of EventGroup.\n   */\n  public on(target: any, eventName: string, callback: (args?: any) => void, useCapture?: boolean) {\n    if (eventName.indexOf(',') > -1) {\n      let events = eventName.split(/[ ,]+/);\n\n      for (let i = 0; i < events.length; i++) {\n        this.on(target, events[i], callback, useCapture);\n      }\n    } else {\n      let parent = this._parent;\n      let eventRecord: IEventRecord = {\n        target: target,\n        eventName: eventName,\n        parent: parent,\n        callback: callback,\n        objectCallback: null,\n        elementCallback: null,\n        useCapture: useCapture\n      };\n\n      // Initialize and wire up the record on the target, so that it can call the callback if the event fires.\n      let events = <IEventRecordsByName>(target.__events__ = target.__events__ || {});\n      events[eventName] = events[eventName] || <IEventRecordList>{\n        count: 0\n      };\n      events[eventName][this._id] = events[eventName][this._id] || [];\n      (<IEventRecord[]>events[eventName][this._id]).push(eventRecord);\n      events[eventName].count++;\n\n      if (EventGroup._isElement(target)) {\n        let processElementEvent = (...args: any[]) => {\n          if (this._isDisposed) {\n            return;\n          }\n\n          let result;\n          try {\n            result = callback.apply(parent, args);\n            if (result === false && args[0]) {\n              let e = args[0];\n\n              if (e.preventDefault) {\n                e.preventDefault();\n              }\n\n              if (e.stopPropagation) {\n                e.stopPropagation();\n              }\n\n              e.cancelBubble = true;\n            }\n          } catch (e) {\n            /* ErrorHelper.log(e); */\n          }\n\n          return result;\n        };\n\n        eventRecord.elementCallback = processElementEvent;\n\n        if (target.addEventListener) {\n          /* tslint:disable:ban-native-functions */\n          (<EventTarget>target).addEventListener(eventName, processElementEvent, useCapture);\n          /* tslint:enable:ban-native-functions */\n        } else if (target.attachEvent) { // IE8\n          target.attachEvent('on' + eventName, processElementEvent);\n        }\n      } else {\n        let processObjectEvent = (...args: any[]) => {\n          if (this._isDisposed) {\n            return;\n          }\n\n          return callback.apply(parent, args);\n        };\n\n        eventRecord.objectCallback = processObjectEvent;\n      }\n\n      // Remember the record locally, so that it can be removed.\n      this._eventRecords.push(eventRecord);\n    }\n  }\n\n  public off(target?: any, eventName?: string, callback?: (args?: any) => void, useCapture?: boolean) {\n    for (let i = 0; i < this._eventRecords.length; i++) {\n      let eventRecord = this._eventRecords[i];\n      if ((!target || target === eventRecord.target) &&\n        (!eventName || eventName === eventRecord.eventName) &&\n        (!callback || callback === eventRecord.callback) &&\n        ((typeof useCapture !== 'boolean') || useCapture === eventRecord.useCapture)) {\n        let events = <IEventRecordsByName>eventRecord.target.__events__;\n        let targetArrayLookup = events[eventRecord.eventName];\n        let targetArray = targetArrayLookup ? <IEventRecord[]>targetArrayLookup[this._id] : null;\n\n        // We may have already target's entries, so check for null.\n        if (targetArray) {\n          if (targetArray.length === 1 || !callback) {\n            targetArrayLookup.count -= targetArray.length;\n            delete events[eventRecord.eventName][this._id];\n          } else {\n            targetArrayLookup.count--;\n            targetArray.splice(targetArray.indexOf(eventRecord), 1);\n          }\n\n          if (!targetArrayLookup.count) {\n            delete events[eventRecord.eventName];\n          }\n        }\n\n        if (eventRecord.elementCallback) {\n          if (eventRecord.target.removeEventListener) {\n            eventRecord.target.removeEventListener(eventRecord.eventName, eventRecord.elementCallback, eventRecord.useCapture);\n          } else if (eventRecord.target.detachEvent) { // IE8\n            eventRecord.target.detachEvent('on' + eventRecord.eventName, eventRecord.elementCallback);\n          }\n        }\n\n        this._eventRecords.splice(i--, 1);\n      }\n    }\n  }\n\n  /** Trigger the given event in the context of this instance of EventGroup. */\n  public raise(eventName: string, eventArgs?: any, bubbleEvent?: boolean): any {\n    return EventGroup.raise(this._parent, eventName, eventArgs, bubbleEvent);\n  }\n\n  /** Declare an event as being supported by this instance of EventGroup. */\n  public declare(event: any) {\n    let declaredEvents = this._parent.__declaredEvents = this._parent.__declaredEvents || {};\n\n    if (typeof event === 'string') {\n      declaredEvents[event] = true;\n    } else {\n      for (let i = 0; i < event.length; i++) {\n        declaredEvents[event[i]] = true;\n      }\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/utilities/eventGroup/EventGroup.ts\n **/","/* tslint:disable:no-string-literal */\n\nconst IS_FOCUSABLE_ATTRIBUTE = 'data-is-focusable';\nconst IS_VISIBLE_ATTRIBUTE = 'data-is-visible';\nconst FOCUSZONE_ID_ATTRIBUTE = 'data-focuszone-id';\n\nexport function getFirstFocusable(\n  rootElement: HTMLElement,\n  currentElement: HTMLElement,\n  includeElementsInFocusZones?: boolean): HTMLElement {\n\n  return getNextElement(rootElement, currentElement, true, false, false, includeElementsInFocusZones);\n}\n\nexport function getLastFocusable(\n  rootElement: HTMLElement,\n  currentElement: HTMLElement,\n  includeElementsInFocusZones?: boolean): HTMLElement {\n\n  return getPreviousElement(rootElement, currentElement, true, false, true, includeElementsInFocusZones);\n}\n\n/** Traverse to find the previous element. */\nexport function getPreviousElement(\n  rootElement: HTMLElement,\n  currentElement: HTMLElement,\n  checkNode?: boolean,\n  suppressParentTraversal?: boolean,\n  traverseChildren?: boolean,\n  includeElementsInFocusZones?: boolean): HTMLElement {\n\n  if (!currentElement ||\n    currentElement === rootElement) {\n    return null;\n  }\n\n  let isCurrentElementVisible = isElementVisible(currentElement);\n\n  // Check its children.\n  if (traverseChildren && (includeElementsInFocusZones || !isElementFocusZone(currentElement)) && isCurrentElementVisible) {\n    const childMatch = getPreviousElement(rootElement, currentElement.lastElementChild as HTMLElement, true, true, true, includeElementsInFocusZones);\n\n    if (childMatch) {\n      return childMatch;\n    }\n  }\n\n  // Check the current node, if it's not the first traversal.\n  if (checkNode && isCurrentElementVisible && isElementTabbable(currentElement)) {\n    return currentElement;\n  }\n\n  // Check its previous sibling.\n  const siblingMatch = getPreviousElement(rootElement, currentElement.previousElementSibling as HTMLElement, true, true, true, includeElementsInFocusZones);\n\n  if (siblingMatch) {\n    return siblingMatch;\n  }\n\n  // Check its parent.\n  if (!suppressParentTraversal) {\n    return getPreviousElement(rootElement, currentElement.parentElement, true, false, false, includeElementsInFocusZones);\n  }\n\n  return null;\n}\n\n/** Traverse to find the next focusable element. */\nexport function getNextElement(\n  rootElement: HTMLElement,\n  currentElement: HTMLElement,\n  checkNode?: boolean,\n  suppressParentTraversal?: boolean,\n  suppressChildTraversal?: boolean,\n  includeElementsInFocusZones?: boolean): HTMLElement {\n\n  if (\n    !currentElement ||\n    (currentElement === rootElement && suppressChildTraversal)) {\n    return null;\n  }\n\n  let isCurrentElementVisible = isElementVisible(currentElement);\n\n  // Check the current node, if it's not the first traversal.\n  if (checkNode && isCurrentElementVisible && isElementTabbable(currentElement)) {\n    return currentElement;\n  }\n\n  // Check its children.\n  if (!suppressChildTraversal && isCurrentElementVisible && (includeElementsInFocusZones || !isElementFocusZone(currentElement))) {\n    const childMatch = getNextElement(rootElement, currentElement.firstElementChild as HTMLElement, true, true, false, includeElementsInFocusZones);\n\n    if (childMatch) {\n      return childMatch;\n    }\n  }\n\n  if (currentElement === rootElement) {\n    return null;\n  }\n\n  // Check its sibling.\n  const siblingMatch = getNextElement(rootElement, currentElement.nextElementSibling as HTMLElement, true, true, false, includeElementsInFocusZones);\n\n  if (siblingMatch) {\n    return siblingMatch;\n  }\n\n  if (!suppressParentTraversal) {\n    return getNextElement(rootElement, currentElement.parentElement, false, false, true, includeElementsInFocusZones);\n  }\n\n  return null;\n}\n\nexport function isElementVisible(element: HTMLElement): boolean {\n  return (\n    !!element &&\n    (element.offsetHeight !== 0 ||\n      element.offsetParent !== null ||\n      (element as any).isVisible === true || // used as a workaround for testing.\n      (element.getAttribute && element.getAttribute(IS_VISIBLE_ATTRIBUTE) === 'true'))\n  );\n}\n\nexport function isElementTabbable(element: HTMLElement): boolean {\n  return (\n    !!element &&\n    (element.tagName === 'A' ||\n      (element.tagName === 'BUTTON' && !(element as HTMLButtonElement).disabled) ||\n      (element.tagName === 'INPUT' && !(element as HTMLButtonElement).disabled) ||\n      (element.getAttribute && element.getAttribute(IS_FOCUSABLE_ATTRIBUTE) === 'true')));\n}\n\nexport function isElementFocusZone(element?: HTMLElement): boolean {\n  return element && !!element.getAttribute(FOCUSZONE_ID_ATTRIBUTE);\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/utilities/focus.ts\n **/","import * as React from 'react';\nimport { Dialog } from './Dialog';\nimport { IWithResponsiveModeState } from '../../utilities/decorators/withResponsiveMode';\nimport { IAccessiblePopupProps } from '../../common/IAccessiblePopupProps';\n\nexport interface IDialogProps extends React.Props<Dialog>, IWithResponsiveModeState, IAccessiblePopupProps {\n  /**\n  * Whether the dialog is displayed.\n  * @default false\n  */\n  isOpen?: boolean;\n\n  /**\n  * The type of Dialog to display.\n  * @default DialogType.normal\n  */\n  type?: DialogType;\n\n  /**\n  * Whether the overlay is dark themed.\n  * @default true\n  */\n  isDarkOverlay?: boolean;\n\n  /**\n  * A callback function for when the Dialog is dismissed from the close button or light dismiss.\n  */\n  onDismiss?: (ev?: React.MouseEvent) => any;\n\n  /**\n  * The title text to display at the top of the dialog.\n  */\n  title?: string;\n\n  /**\n  * The subtext to display in the dialog.\n  */\n  subText?: string;\n\n  /**\n  * Whether the dialog can be light dismissed by clicking outside the dialog (on the overlay).\n  * @default false\n  */\n  isBlocking?: boolean;\n\n  /**\n   * Optional class name to be added to the root class\n   */\n  className?: string;\n\n  /**\n  * Optional override for container class\n  */\n  containerClassName?: string;\n\n  /**\n  * Optional override content class\n  */\n  contentClassName?: string;\n\n  /**\n   * A callback function for when the Dialog content is mounted on the overlay layer\n   */\n  onLayerMounted?: () => void;\n}\n\nexport enum DialogType {\n  /** Standard dialog */\n  normal,\n  /** Dialog with large header banner */\n  largeHeader,\n  /** Dialog with an 'x' close button in the upper-right corner */\n  close\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Dialog/Dialog.Props.ts\n **/","export * from './components/Overlay/index';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/Overlay.ts\n **/","export * from './Overlay';\nexport * from './Overlay.Props';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Overlay/index.ts\n **/","import * as React from 'react';\nimport { IOverlayProps } from './Overlay.Props';\nimport { css } from '../../utilities/css';\nimport './Overlay.scss';\n\nexport class Overlay extends React.Component<IOverlayProps, {}> {\n  public render() {\n    let { isDarkThemed, className } = this.props;\n    let modifiedClassName = css(\n      'ms-Overlay',\n      className,\n      {\n        'ms-Overlay--dark': isDarkThemed\n      });\n\n    return (\n      <div { ...this.props } className={ modifiedClassName } />\n    );\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Overlay/Overlay.tsx\n **/","import { loadStyles } from 'load-themed-styles';\n\nloadStyles('.ms-Overlay{background-color:\"[theme:whiteTranslucent40, default: rgba(255,255,255,.4)]\";position:absolute;bottom:0;left:0;right:0;top:0;z-index:200}.ms-Overlay.ms-Overlay--none{visibility:hidden}.ms-Overlay.ms-Overlay--dark{background-color:\"[theme:blackTranslucent40, default: rgba(0,0,0,.4)]\"}');\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Overlay/Overlay.scss.ts\n **/","export * from './components/Layer/index';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/Layer.ts\n **/","export * from './Layer';\nexport * from './Layer.Props';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Layer/index.ts\n **/","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { ILayerProps } from './Layer.Props';\nimport { LayerHost, ILayer } from './LayerHost';\nimport { getId } from '../../utilities/object';\nimport './Layer.scss';\n\nconst LAYER_HOST_ELEMENT_ID = 'ms-layer-host';\n\nlet _layerHost: LayerHost;\n\nexport class Layer extends React.Component<ILayerProps, {}> {\n  public static contextTypes = {\n    isInLayer: React.PropTypes.bool\n  };\n\n  public context: {\n    isInLayer: boolean;\n  };\n\n  private _layer: ILayer;\n\n  constructor(props?: ILayerProps) {\n    super(props);\n\n    this._layer = {\n      id: getId('Layer'),\n      children: props.children\n    };\n  }\n\n  public render(): JSX.Element {\n    let { isInLayer } = this.context;\n\n    return isInLayer ? this.props.children as JSX.Element : null;\n  }\n\n  public componentWillMount() {\n    if (!_layerHost) {\n      let hostElement = document.createElement('div');\n      hostElement.setAttribute('id', LAYER_HOST_ELEMENT_ID);\n      document.body.appendChild(hostElement);\n\n      let layerHost: LayerHost = ReactDOM.render((\n        <LayerHost />\n      ), hostElement) as LayerHost;\n\n      _layerHost = layerHost;\n    }\n  }\n\n  public componentDidMount() {\n    if (!this.context.isInLayer) {\n      _layerHost.addLayer(this._layer, this.props.onLayerMounted);\n    } else {\n      if (this.props.onLayerMounted) {\n        this.props.onLayerMounted();\n      }\n    }\n  }\n\n  public componentWillReceiveProps(props: ILayerProps) {\n    if (!this.context.isInLayer) {\n      this._layer.children = props.children;\n      _layerHost.updateLayer(this._layer);\n    }\n  }\n\n  public componentWillUnmount() {\n    if (!this.context.isInLayer) {\n      _layerHost.removeLayer(this._layer);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Layer/Layer.tsx\n **/","import * as React from 'react';\nimport { Fabric } from '../../Fabric';\n\nexport interface ILayer {\n  /**\n   * The React children of the layer.\n   */\n  children: any;\n  /**\n   * The unique id for the layer.\n   */\n  id: string;\n}\n\nexport interface ILayerHostState extends React.Props<LayerHost> {\n  layers: ILayer[];\n}\n\nexport class LayerHost extends React.Component<React.Props<LayerHost>, ILayerHostState> {\n  public static childContextTypes = {\n    isInLayer: React.PropTypes.bool\n  };\n\n  private _layers: ILayer[];\n\n  constructor(props: {}) {\n    super(props);\n\n    this._layers = [];\n    this.state = {\n      layers: this._layers\n    };\n  }\n\n  public getChildContext() {\n    return {\n      isInLayer: true\n    };\n  }\n\n  public render() {\n    let layers = this.state.layers.map((layer: ILayer, index: number) => {\n      return (\n        <div className='ms-LayerHost-layer' key={ layer.id }>\n          { layer.children }\n        </div>\n      );\n    });\n\n    return (\n      <Fabric className='ms-LayerHost'>\n        { layers }\n      </Fabric>\n    );\n  }\n\n  public addLayer(layerToAdd: ILayer, onComplete?: () => void) {\n    this._layers.push(layerToAdd);\n\n    this.setState({\n      layers: this._layers\n    }, () => {\n      if (onComplete) {\n        onComplete();\n      }\n    });\n  }\n\n  public updateLayer(layerToUpdate: ILayer) {\n    this.forceUpdate();\n  }\n\n  public removeLayer(layerToRemove: ILayer) {\n    let index = this._layers.indexOf(layerToRemove);\n\n    if (index > -1) {\n      this._layers.splice(index, 1);\n      this.forceUpdate();\n    }\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Layer/LayerHost.tsx\n **/","export * from './components/Fabric/index';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/Fabric.ts\n **/","export * from './Fabric';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Fabric/index.ts\n **/","import * as React from 'react';\nimport { css } from '../../utilities/css';\nimport { EventGroup } from '../../utilities/eventGroup/EventGroup';\nimport { KeyCodes } from '../../utilities/KeyCodes';\n\nconst DIRECTIONAL_KEY_CODES = [\n  KeyCodes.up,\n  KeyCodes.down,\n  KeyCodes.left,\n  KeyCodes.right,\n  KeyCodes.home,\n  KeyCodes.end,\n  KeyCodes.tab,\n  KeyCodes.pageUp,\n  KeyCodes.pageDown\n];\n\nexport interface IFabricState {\n  isFocusVisible?: boolean;\n}\n\n// We will track the last focus visibility state so that if we tear down and recreate\n// the Fabric component, we will use the last known value as the default.\nlet _lastIsFocusVisible: boolean = false;\n\nexport class Fabric extends React.Component<React.HTMLProps<Fabric>, IFabricState> {\n  public refs: {\n    [key: string]: React.ReactInstance;\n    root: HTMLElement;\n  };\n\n  private _events: EventGroup;\n\n  constructor() {\n    super();\n\n    this.state = {\n      isFocusVisible: _lastIsFocusVisible\n    };\n\n    this._events = new EventGroup(this);\n  }\n\n  public componentDidMount() {\n    this._events.on(document.body, 'mousedown', this._onMouseDown, true);\n    this._events.on(document.body, 'keydown', this._onKeyDown, true);\n  }\n\n  public componentWillUnmount() {\n    this._events.dispose();\n  }\n\n  public render() {\n    const { isFocusVisible } = this.state;\n    const rootClass = css('ms-Fabric ms-font-m', this.props.className, {\n      'is-focusVisible': isFocusVisible\n    });\n\n    return (\n      <div { ...this.props } className={ rootClass } ref='root' />\n    );\n  }\n\n  private _onMouseDown() {\n    if (this.state.isFocusVisible) {\n      this.setState({\n        isFocusVisible: false\n      });\n\n      _lastIsFocusVisible = false;\n    }\n  }\n\n  private _onKeyDown(ev: KeyboardEvent) {\n    if (!this.state.isFocusVisible && DIRECTIONAL_KEY_CODES.indexOf(ev.which) > -1) {\n      this.setState({\n        isFocusVisible: true\n      });\n\n      _lastIsFocusVisible = true;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Fabric/Fabric.tsx\n **/","import { loadStyles } from 'load-themed-styles';\n\nloadStyles('.ms-Layer{display:block;visibility:hidden}.ms-LayerHost{position:absolute;visibility:hidden;top:0;left:0;bottom:0;right:0}.ms-LayerHost-layer{visibility:visible}');\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Layer/Layer.scss.ts\n **/","import * as React from 'react';\nimport './Dialog.scss';\n\nexport class DialogFooter extends React.Component<any, any> {\n  public render() {\n    return (\n      <div className='ms-Dialog-actions'>\n        <div className='ms-Dialog-actionsRight'>\n          { this._renderChildrenAsActions() }\n        </div>\n      </div>\n    );\n  }\n\n  private _renderChildrenAsActions() {\n    let key = 0;\n    return this.props.children.map(child =>\n      <span key={ key++ } className='ms-Dialog-action'>{ child }</span>\n    );\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Dialog/DialogFooter.tsx\n **/","import { loadStyles } from 'load-themed-styles';\n\nloadStyles('.ms-Dialog{background-color:transparent;position:fixed;height:100%;width:100%;top:0;left:0;z-index:300;display:block;font-size:0;line-height:100vh;text-align:center;display:-ms-flexbox;display:-webkit-box;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ms-Dialog::before{vertical-align:middle;display:inline-block;content:\"\";height:100%;width:0}.ms-Dialog .ms-Button.ms-Button--compound{display:block;margin-left:0}.ms-Dialog .ms-Overlay{z-index:0}@media screen and (-ms-high-contrast:active){.ms-Dialog .ms-Overlay{opacity:0}}.ms-Dialog-main{vertical-align:middle;display:inline-block;box-shadow:0 0 5px 0 rgba(0,0,0,.4);background-color:\"[theme:white, default: #ffffff]\";box-sizing:border-box;line-height:1.35;margin:auto;width:288px;position:relative;text-align:left;outline:3px solid transparent}.ms-Dialog-button.ms-Dialog-button--close{display:none;position:absolute;margin:0;padding:0;border:0;background:0 0;cursor:pointer;top:12px;right:12px;padding:8px;z-index:10}.ms-Dialog-button.ms-Dialog-button--close .ms-Icon.ms-Icon--x{color:\"[theme:neutralSecondary, default: #666666]\";font-size:16px}.ms-Dialog-inner{height:100%;padding:0 20px 20px}.ms-Dialog-header{position:relative;width:100%;box-sizing:border-box;padding:12px 20px 15px}.ms-Dialog-title{margin:0;font-family:\"Segoe UI Light WestEuropean\",\"Segoe UI Light\",\"Segoe UI\",Tahoma,Arial,sans-serif;font-size:21px}.ms-Dialog-content{position:relative;width:100%}.ms-Dialog-content .ms-Button.ms-Button--compound:not(:last-child){margin-bottom:20px}.ms-Dialog-subText{margin:0 0 20px 0;padding-top:8px;font-family:\"Segoe UI Semilight WestEuropean\",\"Segoe UI Semilight\",\"Segoe UI\",Tahoma,Arial,sans-serif;color:\"[theme:neutralPrimary, default: #333333]\";font-size:12px}.ms-Dialog-actions{position:relative;width:100%;min-height:24px;line-height:24px;margin:20px 0 0;font-size:0}.ms-Dialog-actions .ms-Button{line-height:normal}.ms-Dialog-actionsRight{text-align:right;font-size:0}.ms-Dialog-actionsRight .ms-Dialog-action:first-child{margin:0}.ms-Dialog-actionsRight .ms-Dialog-action+.ms-Dialog-action{margin:0 0 0 16px}.ms-Dialog.ms-Dialog--close:not(.ms-Dialog--lgHeader) .ms-Dialog-title{margin-right:20px}.ms-Dialog.ms-Dialog--close:not(.ms-Dialog--lgHeader) .ms-Dialog-button.ms-Dialog-button--close{display:block}.ms-Dialog.ms-Dialog--multiline .ms-Dialog-title{font-size:28px}.ms-Dialog.ms-Dialog--multiline .ms-Dialog-inner{padding:0 20px 20px}.ms-Dialog.ms-Dialog--lgHeader .ms-Dialog-header{background-color:\"[theme:themePrimary, default: #0078d7]\";padding:26px 20px 28px;margin-bottom:8px}.ms-Dialog.ms-Dialog--lgHeader .ms-Dialog-title{font-size:28px;font-family:\"Segoe UI Light WestEuropean\",\"Segoe UI Light\",\"Segoe UI\",Tahoma,Arial,sans-serif;color:\"[theme:white, default: #ffffff]\"}.ms-Dialog.ms-Dialog--lgHeader .ms-Dialog-subText{font-size:14px}@media (min-width:480px){.ms-Dialog-main{width:auto;min-width:288px;max-width:340px}}');\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Dialog/Dialog.scss.ts\n **/","export * from './Popup';\nexport * from './Popup.Props';\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Popup/index.ts\n **/","import * as React from 'react';\nimport { IPopupProps } from './Popup.Props';\nimport { KeyCodes } from '../../utilities/KeyCodes';\nimport { BaseComponent } from '../../common/BaseComponent';\n\n/**\n * This adds accessibility to Dialog and Panel controls\n **/\nexport class Popup extends BaseComponent<IPopupProps, {}> {\n\n  public static defaultProps: IPopupProps = {\n    shouldRestoreFocus: true\n  };\n\n  public refs: {\n    [key: string]: React.ReactInstance;\n    root: HTMLElement;\n  };\n\n  private _originalFocusedElement: HTMLElement;\n  private _containsFocus: boolean;\n\n  public componentDidMount(): void {\n    this._originalFocusedElement = document.activeElement as HTMLElement;\n\n    this._events.on(this.refs.root, 'keydown', this._onKeyDown);\n\n    this._events.on(this.refs.root, 'focus', () => this._containsFocus = true, true);\n    this._events.on(this.refs.root, 'blur', () => this._containsFocus = false, true);\n  }\n\n  public componentWillUnmount(): void {\n    if (\n      this.props.shouldRestoreFocus &&\n      this._originalFocusedElement &&\n      this._containsFocus &&\n      this._originalFocusedElement as any !== window) {\n\n      this._originalFocusedElement.focus();\n    }\n  }\n\n  public render() {\n    let { role, className, ariaLabelledBy, ariaDescribedBy } = this.props;\n\n    return (\n      <div\n        { ...this.props as any }\n        ref='root'\n        className={ className }\n        role={ role }\n        aria-labelledby={ ariaLabelledBy }\n        aria-desribedby={ ariaDescribedBy } />\n    );\n  }\n\n  private _onKeyDown(ev: React.KeyboardEvent) {\n    switch (ev.which) {\n      case KeyCodes.escape:\n\n        if (this.props.onDismiss) {\n          this.props.onDismiss();\n\n          ev.preventDefault();\n          ev.stopPropagation();\n        }\n\n        break;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/Popup/Popup.tsx\n **/","import * as React from 'react';\nimport { Async } from '../utilities/Async/Async';\nimport { EventGroup } from '../utilities/eventGroup/EventGroup';\nimport { IDisposable } from './IDisposable';\n\n// Ensure that the HTML element has a dir specified. This helps to ensure RTL/LTR macros in css for all components will work.\nif (document && document.documentElement && !document.documentElement.getAttribute('dir')) {\n  document.documentElement.setAttribute('dir', 'ltr');\n}\n\nexport class BaseComponent<P, S> extends React.Component<P, S> {\n  /**\n   * External consumers should override BaseComponent.onError to hook into error messages that occur from\n   * exceptions thrown from within components.\n   */\n  public static onError: ((errorMessage?: string, ex?: Error) => void);\n\n  private __async: Async;\n  private __events: EventGroup;\n  private __disposables: IDisposable[];\n\n  constructor(props?: P) {\n    super(props);\n\n    _makeAllSafe(this, BaseComponent.prototype, [\n      'componentWillMount',\n      'componentDidMount',\n      'shouldComponentUpdate',\n      'componentWillUpdate',\n      'componentWillReceiveProps',\n      'render',\n      'componentDidUpdate',\n      'componentWillUnmount'\n    ]);\n  }\n\n  /** If we have disposables, dispose them automatically on unmount. */\n  public componentWillUnmount() {\n    if (this.__disposables) {\n      for (let i = 0, len = this._disposables.length; i < len; i++) {\n        this.__disposables[i].dispose();\n      }\n      this.__disposables = null;\n    }\n  }\n\n  /** Gets the object's class name. */\n  public get className() {\n    let funcNameRegex = /function (.{1,})\\(/;\n    let results = (funcNameRegex).exec((this).constructor.toString());\n\n    return (results && results.length > 1) ? results[1] : '';\n  }\n\n  /** Allows subclasses to push things to this._disposables to be auto disposed. */\n  protected get _disposables(): IDisposable[] {\n    if (!this.__disposables) {\n      this.__disposables = [];\n    }\n    return this.__disposables;\n  }\n\n  /**\n   * Gets the async instance associated with the component, created on demand. The async instance gives\n   * subclasses a way to execute setTimeout/setInterval async calls safely, where the callbacks\n   * will be cleared/ignored automatically after unmounting. The helpers within the async object also\n   * preserve the this pointer so that you don't need to \"bind\" the callbacks.\n   */\n  protected get _async(): Async {\n    if (!this.__async) {\n      this.__async = new Async(this);\n      this._disposables.push(this.__async);\n    }\n\n    return this.__async;\n  }\n\n  /**\n   * Gets the event group instance assocaited with the component, created on demand. The event instance\n   * provides on/off methods for listening to DOM (or regular javascript object) events. The event callbacks\n   * will be automatically disconnected after unmounting. The helpers within the events object also\n   * preserve the this reference so that you don't need to \"bind\" the callbacks.\n   */\n  protected get _events(): EventGroup {\n    if (!this.__events) {\n      this.__events = new EventGroup(this);\n      this._disposables.push(this.__events);\n    }\n\n    return this.__events;\n  }\n}\n\n/**\n * Helper to override a given method with a wrapper method that can try/catch the original, but also\n * ensures that the BaseComponent's methods are called before the subclass's. This ensures that\n * componentWillUnmount in the base is called and that things in the _disposables array are disposed.\n **/\nfunction _makeAllSafe(obj: BaseComponent<any, any>, prototype: Object, methodNames: string[]) {\n  for (let i = 0, len = methodNames.length; i < len; i++) {\n    _makeSafe(obj, prototype, methodNames[i]);\n  }\n}\n\nfunction _makeSafe(obj: BaseComponent<any, any>, prototype: Object, methodName: string) {\n  let classMethod = obj[methodName];\n  let prototypeMethod = prototype[methodName];\n\n  if (classMethod || prototypeMethod) {\n    obj[methodName] = function() {\n      let retVal;\n\n      try {\n        if (prototypeMethod) {\n          retVal = prototypeMethod.apply(this, arguments);\n        }\n        if (classMethod) {\n          retVal = classMethod.apply(this, arguments);\n        }\n      } catch (e) {\n        const errorMessage = `Exception in ${ obj.className }.${ methodName }(): ${ typeof e === 'string' ? e : e.stack }`;\n\n        if (BaseComponent.onError) {\n          BaseComponent.onError(errorMessage, e);\n        }\n      }\n\n      return retVal;\n    };\n  }\n}\n\nBaseComponent.onError = (errorMessage) => console.error(errorMessage);\n\n\n\n/** WEBPACK FOOTER **\n ** /src/common/BaseComponent.ts\n **/","/**\n * Bugs often appear in async code when stuff gets disposed, but async operations don't get canceled.\n * This Async helper class solves these issues by tying async code to the lifetime of a disposable object.\n *\n * Usage: Anything class extending from BaseModel can access this helper via this.async. Otherwise create a\n * new instance of the class and remember to call dispose() during your code's dispose handler.\n */\n\nexport class Async {\n  private _timeoutIds = null;\n  private _immediateIds = null;\n  private _intervalIds = null;\n  private _animationFrameIds: { [id: number]: boolean } = null;\n  private _isDisposed = false;\n  private _parent: any;\n  private _onErrorHandler: (e: Error) => void;\n  private _noop: any;\n\n  constructor(parent?: any, onError?: (e: Error) => void) {\n    this._parent = parent || null;\n    this._onErrorHandler = onError;\n    this._noop = () => { /* do nothing */ };\n  }\n\n  /**\n   * Dispose function, clears all async operations.\n   */\n  public dispose() {\n    let id;\n\n    this._isDisposed = true;\n    this._parent = null;\n\n    // Clear timeouts.\n    if (this._timeoutIds) {\n      for (id in this._timeoutIds) {\n        if (this._timeoutIds.hasOwnProperty(id)) {\n          this.clearTimeout(id);\n        }\n      }\n\n      this._timeoutIds = null;\n    }\n\n    // Clear immediates.\n    if (this._immediateIds) {\n      for (id in this._immediateIds) {\n        if (this._immediateIds.hasOwnProperty(id)) {\n          this.clearImmediate(id);\n        }\n      }\n\n      this._immediateIds = null;\n    }\n\n    // Clear intervals.\n    if (this._intervalIds) {\n      for (id in this._intervalIds) {\n        if (this._intervalIds.hasOwnProperty(id)) {\n          this.clearInterval(id);\n        }\n      }\n      this._intervalIds = null;\n    }\n\n    // Clear animation frames.\n    if (this._animationFrameIds) {\n      for (id in this._animationFrameIds) {\n        if (this._animationFrameIds.hasOwnProperty(id)) {\n          this.cancelAnimationFrame(id);\n        }\n      }\n\n      this._animationFrameIds = null;\n    }\n  }\n\n  /**\n   * SetTimeout override, which will auto cancel the timeout during dispose.\n   * @param callback Callback to execute.\n   * @param duration Duration in milliseconds.\n   * @return The setTimeout id.\n   */\n  public setTimeout(callback: () => void, duration: number): number {\n\n    let timeoutId = 0;\n\n    if (!this._isDisposed) {\n      if (!this._timeoutIds) {\n        this._timeoutIds = {};\n      }\n\n      /* tslint:disable:ban-native-functions */\n      timeoutId = setTimeout(\n        () => {\n          // Time to execute the timeout, enqueue it as a foreground task to be executed.\n\n          try {\n            // Now delete the record and call the callback.\n            delete this._timeoutIds[timeoutId];\n            callback.apply(this._parent);\n          } catch (e) {\n            if (this._onErrorHandler) {\n              this._onErrorHandler(e);\n            }\n          }\n        },\n        duration);\n      /* tslint:enable:ban-native-functions */\n\n      this._timeoutIds[timeoutId] = true;\n    }\n\n    return timeoutId;\n  }\n\n  /**\n   * Clears the timeout.\n   * @param id Id to cancel.\n   */\n  public clearTimeout(id: number) {\n\n    if (this._timeoutIds && this._timeoutIds[id]) {\n      /* tslint:disable:ban-native-functions */\n      clearTimeout(id);\n      delete this._timeoutIds[id];\n      /* tslint:enable:ban-native-functions */\n    }\n  }\n\n  /**\n   * SetImmediate override, which will auto cancel the immediate during dispose.\n   * @param callback Callback to execute.\n   * @return The setTimeout id.\n   */\n  public setImmediate(callback: () => void): number {\n\n    let immediateId = 0;\n\n    if (!this._isDisposed) {\n      if (!this._immediateIds) {\n        this._immediateIds = {};\n      }\n\n      /* tslint:disable:ban-native-functions */\n      let setImmediateCallback = () => {\n        // Time to execute the timeout, enqueue it as a foreground task to be executed.\n\n        try {\n          // Now delete the record and call the callback.\n          delete this._immediateIds[immediateId];\n          callback.apply(this._parent);\n        } catch (e) {\n          this._logError(e);\n        }\n      };\n\n      immediateId = window.setImmediate ? window.setImmediate(setImmediateCallback) : window.setTimeout(setImmediateCallback, 0);\n      /* tslint:enable:ban-native-functions */\n\n      this._immediateIds[immediateId] = true;\n    }\n\n    return immediateId;\n  }\n\n  /**\n   * Clears the immediate.\n   * @param id Id to cancel.\n   */\n  public clearImmediate(id: number) {\n\n    if (this._immediateIds && this._immediateIds[id]) {\n      /* tslint:disable:ban-native-functions */\n      window.clearImmediate ? window.clearImmediate(id) : window.clearTimeout(id);\n      delete this._immediateIds[id];\n      /* tslint:enable:ban-native-functions */\n    }\n  }\n\n  /**\n   * SetInterval override, which will auto cancel the timeout during dispose.\n   * @param callback Callback to execute.\n   * @param duration Duration in milliseconds.\n   * @return The setTimeout id.\n   */\n  public setInterval(callback: () => void, duration: number): number {\n    let intervalId = 0;\n\n    if (!this._isDisposed) {\n      if (!this._intervalIds) {\n        this._intervalIds = {};\n      }\n\n      /* tslint:disable:ban-native-functions */\n      intervalId = setInterval(\n        () => {\n          // Time to execute the interval callback, enqueue it as a foreground task to be executed.\n          try {\n            callback.apply(this._parent);\n          } catch (e) {\n            this._logError(e);\n          }\n        },\n        duration);\n      /* tslint:enable:ban-native-functions */\n\n      this._intervalIds[intervalId] = true;\n    }\n\n    return intervalId;\n  }\n\n  /**\n   * Clears the interval.\n   * @param id Id to cancel.\n   */\n  public clearInterval(id: number) {\n    if (this._intervalIds && this._intervalIds[id]) {\n      /* tslint:disable:ban-native-functions */\n      clearInterval(id);\n      delete this._intervalIds[id];\n      /* tslint:enable:ban-native-functions */\n    }\n  }\n\n  /**\n   * Creates a function that, when executed, will only call the func function at most once per\n   * every wait milliseconds. Provide an options object to indicate that func should be invoked\n   * on the leading and/or trailing edge of the wait timeout. Subsequent calls to the throttled\n   * function will return the result of the last func call.\n   *\n   * Note: If leading and trailing options are true func will be called on the trailing edge of\n   * the timeout only if the the throttled function is invoked more than once during the wait timeout.\n   *\n   * @param func The function to throttle.\n   * @param wait The number of milliseconds to throttle executions to. Defaults to 0.\n   * @param options The options object.\n   * @param options.leading Specify execution on the leading edge of the timeout.\n   * @param options.trailing Specify execution on the trailing edge of the timeout.\n   * @return The new throttled function.\n   */\n  public throttle<T extends Function>(func: T, wait?: number, options?: {\n    leading?: boolean;\n    trailing?: boolean;\n  }): T {\n\n    if (this._isDisposed) {\n      return this._noop;\n    }\n\n    let waitMS = wait || 0;\n    let leading = true;\n    let trailing = true;\n    let lastExecuteTime = 0;\n    let lastResult;\n    let lastArgs: any[];\n    let timeoutId: number = null;\n\n    if (options && typeof (options.leading) === 'boolean') {\n      leading = options.leading;\n    }\n\n    if (options && typeof (options.trailing) === 'boolean') {\n      trailing = options.trailing;\n    }\n\n    let callback = (userCall?: boolean) => {\n      let now = (new Date).getTime();\n      let delta = now - lastExecuteTime;\n      let waitLength = leading ? waitMS - delta : waitMS;\n      if (delta >= waitMS && (!userCall || leading)) {\n        lastExecuteTime = now;\n        if (timeoutId) {\n          this.clearTimeout(timeoutId);\n          timeoutId = null;\n        }\n        lastResult = func.apply(this._parent, lastArgs);\n      } else if (timeoutId === null && trailing) {\n        timeoutId = this.setTimeout(callback, waitLength);\n      }\n\n      return lastResult;\n    };\n\n    let resultFunction: any = (...args: any[]) => {\n      lastArgs = args;\n      return callback(true);\n    };\n\n    return resultFunction;\n  }\n\n  /**\n   * Creates a function that will delay the execution of func until after wait milliseconds have\n   * elapsed since the last time it was invoked. Provide an options object to indicate that func\n   * should be invoked on the leading and/or trailing edge of the wait timeout. Subsequent calls\n   * to the debounced function will return the result of the last func call.\n   *\n   * Note: If leading and trailing options are true func will be called on the trailing edge of\n   * the timeout only if the the debounced function is invoked more than once during the wait\n   * timeout.\n   *\n   * @param func The function to debounce.\n   * @param wait The number of milliseconds to delay.\n   * @param options The options object.\n   * @param options.leading Specify execution on the leading edge of the timeout.\n   * @param options.maxWait The maximum time func is allowed to be delayed before it's called.\n   * @param options.trailing Specify execution on the trailing edge of the timeout.\n   * @return The new debounced function.\n   */\n  public debounce<T extends Function>(func: T, wait?: number, options?: {\n    leading?: boolean;\n    maxWait?: number;\n    trailing?: boolean;\n  }): T {\n\n    if (this._isDisposed) {\n      return this._noop;\n    }\n\n    let waitMS = wait || 0;\n    let leading = false;\n    let trailing = true;\n    let maxWait = null;\n    let lastCallTime = 0;\n    let lastExecuteTime = (new Date).getTime();\n    let lastResult;\n    let lastArgs: any[];\n    let timeoutId: number = null;\n\n    if (options && typeof (options.leading) === 'boolean') {\n      leading = options.leading;\n    }\n\n    if (options && typeof (options.trailing) === 'boolean') {\n      trailing = options.trailing;\n    }\n\n    if (options && typeof (options.maxWait) === 'number' && !isNaN(options.maxWait)) {\n      maxWait = options.maxWait;\n    }\n\n    let callback = (userCall?: boolean) => {\n      let now = (new Date).getTime();\n      let executeImmediately = false;\n      if (userCall) {\n        if (leading && now - lastCallTime >= waitMS) {\n          executeImmediately = true;\n        }\n        lastCallTime = now;\n      }\n      let delta = now - lastCallTime;\n      let waitLength = waitMS - delta;\n      let maxWaitDelta = now - lastExecuteTime;\n      let maxWaitExpired = false;\n\n      if (maxWait !== null) {\n        // maxWait only matters when there is a pending callback\n        if (maxWaitDelta >= maxWait && timeoutId) {\n          maxWaitExpired = true;\n        } else {\n          waitLength = Math.min(waitLength, maxWait - maxWaitDelta);\n        }\n      }\n\n      if (delta >= waitMS || maxWaitExpired || executeImmediately) {\n        if (timeoutId) {\n          this.clearTimeout(timeoutId);\n          timeoutId = null;\n        }\n        lastExecuteTime = now;\n        lastResult = func.apply(this._parent, lastArgs);\n      } else if ((timeoutId === null || !userCall) && trailing) {\n        timeoutId = this.setTimeout(callback, waitLength);\n      }\n\n      return lastResult;\n    };\n\n    let resultFunction: any = (...args: any[]) => {\n      lastArgs = args;\n      return callback(true);\n    };\n\n    return resultFunction;\n  }\n\n  public requestAnimationFrame(callback: () => void): number {\n    let animationFrameId = 0;\n\n    if (!this._isDisposed) {\n      if (!this._animationFrameIds) {\n        this._animationFrameIds = {};\n      }\n\n      /* tslint:disable:ban-native-functions */\n      let animationFrameCallback = () => {\n        try {\n          // Now delete the record and call the callback.\n          delete this._animationFrameIds[animationFrameId];\n          callback.apply(this._parent);\n        } catch (e) {\n          this._logError(e);\n        }\n      };\n\n      animationFrameId = window.requestAnimationFrame ?\n        window.requestAnimationFrame(animationFrameCallback) :\n        window.setTimeout(animationFrameCallback, 0);\n      /* tslint:enable:ban-native-functions */\n\n      this._animationFrameIds[animationFrameId] = true;\n    }\n\n    return animationFrameId;\n  }\n\n  public cancelAnimationFrame(id: number) {\n    if (this._animationFrameIds && this._animationFrameIds[id]) {\n      /* tslint:disable:ban-native-functions */\n      window.cancelAnimationFrame ? window.cancelAnimationFrame(id) : window.clearTimeout(id);\n      /* tslint:enable:ban-native-functions */\n      delete this._animationFrameIds[id];\n    }\n  }\n\n  protected _logError(e: Error) {\n    if (this._onErrorHandler) {\n      this._onErrorHandler(e);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/utilities/Async/Async.ts\n **/","import * as React from 'react';\nimport { EventGroup } from '../eventGroup/EventGroup';\n\nexport interface IWithResponsiveModeState {\n  responsiveMode?: ResponsiveMode;\n}\n\nexport enum ResponsiveMode {\n  small = 0,\n  medium = 1,\n  large = 2,\n  xLarge = 3,\n  xxLarge = 4,\n  xxxLarge = 5\n}\n\nconst RESPONSIVE_MAX_CONSTRAINT = [\n  479,\n  639,\n  1023,\n  1365,\n  1919,\n  99999999\n];\n\nexport function withResponsiveMode<P, S>(ComposedComponent: any): any {\n\n  return class WithResponsiveMode extends React.Component<P, IWithResponsiveModeState> {\n    private _events: EventGroup;\n\n    constructor() {\n      super();\n\n      this._events = new EventGroup(this);\n\n      this.state = {\n        responsiveMode: this._getResponsiveMode()\n      };\n    }\n\n    public componentWillMount() {\n      this._events.on(window, 'resize', () => {\n        let responsiveMode = this._getResponsiveMode();\n\n        if (responsiveMode !== this.state.responsiveMode) {\n          this.setState({\n            responsiveMode: responsiveMode\n          });\n        }\n      });\n    }\n\n    public componentWillUnmount() {\n      this._events.dispose();\n    }\n\n    public render() {\n      let { responsiveMode } = this.state;\n\n      return (\n        <ComposedComponent responsiveMode={ responsiveMode } { ...this.props } />\n      );\n    }\n\n    private _getResponsiveMode(): ResponsiveMode {\n      let responsiveMode = ResponsiveMode.small;\n\n      while (window.innerWidth > RESPONSIVE_MAX_CONSTRAINT[responsiveMode]) {\n        responsiveMode++;\n      }\n\n      return responsiveMode;\n    }\n\n  };\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/utilities/decorators/withResponsiveMode.tsx\n **/","import { DisplayMode } from '@microsoft/sp-client-base';\r\nimport { FocusZone } from 'office-ui-fabric-react/lib/FocusZone';\r\nimport * as React from 'react';\r\n\r\nimport CanvasControlType from '../../canvas/canvas/CanvasControlType';\r\nimport { IToolbarProps } from './IToolbar';\r\nimport ToolbarButton from '../../canvas/canvas/ToolbarButton';\r\n\r\nimport './Toolbar.scss';\r\nimport Strings from '../loc/CanvasStrings.resx';\r\n\r\nexport default class Toolbar extends React.Component<IToolbarProps, void> {\r\n  constructor(props: IToolbarProps) {\r\n    super(props);\r\n\r\n    this._handleConfigureButtonClicked = this._handleConfigureButtonClicked.bind(this);\r\n    this._handleDeleteButtonClicked = this._handleDeleteButtonClicked.bind(this);\r\n  }\r\n\r\n  public render(): React.ReactElement<IToolbarProps> {\r\n    let configureButton: JSX.Element;\r\n\r\n    if (this.props.controlType === CanvasControlType.WebPartZone) {\r\n      configureButton = (\r\n        <ToolbarButton\r\n          canBeActive={false}\r\n          fabricIconKey='Edit'\r\n          onClick={this._handleConfigureButtonClicked}\r\n          title={Strings.ToolbarConfigButtonTitle}\r\n        />\r\n      );\r\n    }\r\n\r\n    return ( this.props.displayMode === DisplayMode.Edit &&\r\n      <FocusZone isCircularNavigation={true}>\r\n        <div className='CanvasControlToolbar' role='toolbar'>\r\n          { configureButton }\r\n          <ToolbarButton\r\n            canBeActive={false}\r\n            fabricIconKey='Delete'\r\n            onClick={this._handleDeleteButtonClicked}\r\n            title={Strings.ToolbarDeleteButtonTitle}\r\n          />\r\n        </div>\r\n      </FocusZone>\r\n    );\r\n  }\r\n\r\n  private _handleConfigureButtonClicked(): void {\r\n    this.props.onConfigureButtonClick(this.props.id);\r\n  }\r\n\r\n  private _handleDeleteButtonClicked(): void {\r\n    this.props.onDeleteButtonClick(this.props.row);\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/toolbar/Toolbar.tsx\n **/","export * from './components/FocusZone/index';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/FocusZone.ts\n **/","export * from './FocusZone';\nexport * from './FocusZone.Props';\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/FocusZone/index.ts\n **/","import * as React from 'react';\nimport {\n  FocusZoneDirection,\n  IFocusZone,\n  IFocusZoneProps\n} from './FocusZone.Props';\nimport { EventGroup } from '../../utilities/eventGroup/EventGroup';\nimport { KeyCodes } from '../../utilities/KeyCodes';\nimport { getRTL } from '../../utilities/rtl';\nimport { getId } from '../../utilities/object';\nimport { css } from '../../utilities/css';\nimport {\n  getNextElement,\n  getPreviousElement,\n  isElementFocusZone,\n  isElementTabbable\n} from '../../utilities/focus';\n\nconst IS_FOCUSABLE_ATTRIBUTE = 'data-is-focusable';\nconst IS_ENTER_DISABLED_ATTRIBUTE = 'data-disable-click-on-enter';\nconst FOCUSZONE_ID_ATTRIBUTE = 'data-focuszone-id';\nconst TABINDEX = 'tabindex';\n\nlet _allInstances: {\n  [key: string]: FocusZone\n} = {};\n\ninterface IPoint {\n  left: number;\n  top: number;\n}\n\nexport class FocusZone extends React.Component<IFocusZoneProps, {}> implements IFocusZone {\n\n  public static defaultProps: IFocusZoneProps = {\n    isCircularNavigation: false,\n    direction: FocusZoneDirection.bidirectional\n  };\n\n  public refs: {\n    [key: string]: React.ReactInstance,\n    root: HTMLElement\n  };\n\n  private _id: string;\n  private _activeElement: HTMLElement;\n  private _events: EventGroup;\n  private _focusAlignment: IPoint;\n  private _isInnerZone: boolean;\n\n  constructor(props) {\n    super(props);\n\n    this._id = getId('FocusZone');\n    _allInstances[this._id] = this;\n\n    this._focusAlignment = {\n      left: 0,\n      top: 0\n    };\n\n    this._events = new EventGroup(this);\n\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onMouseDown = this._onMouseDown.bind(this);\n  }\n\n  public componentDidMount() {\n    const windowElement = this.refs.root.ownerDocument.defaultView;\n\n    let parentElement = this.refs.root.parentElement;\n\n    while (parentElement && parentElement !== document.body) {\n      if (isElementFocusZone(parentElement)) {\n        this._isInnerZone = true;\n        break;\n      }\n      parentElement = parentElement.parentElement;\n    }\n\n    this._events.on(windowElement, 'keydown', this._onKeyDownCapture, true);\n  }\n\n  public componentWillUnmount() {\n    this._events.dispose();\n\n    delete _allInstances[this._id];\n  }\n\n  public render() {\n    let { rootProps, ariaLabelledBy, className } = this.props;\n\n    return (\n      <div\n        { ...rootProps }\n        className={ css('ms-FocusZone', className) }\n        ref='root'\n        data-focuszone-id={ this._id }\n        aria-labelledby={ ariaLabelledBy }\n        onMouseDownCapture={ this._onMouseDown }\n        onKeyDown={ this._onKeyDown }\n        onFocus={ this._onFocus } >\n        { this.props.children }\n      </div>\n    );\n  }\n\n  /** Sets focus to the first tabbable item in the zone. */\n  public focus(): boolean {\n    if (this._activeElement && this.refs.root.contains(this._activeElement)) {\n      this._activeElement.focus();\n      return true;\n    } else {\n      const firstChild = this.refs.root.firstChild as HTMLElement;\n\n      return this._focusElement(getNextElement(this.refs.root, firstChild, true));\n    }\n  }\n\n  private _onFocus(ev: React.FocusEvent) {\n    let { onActiveElementChanged } = this.props;\n\n    if (this._isImmediateDescendantOfZone(ev.target as HTMLElement)) {\n      this._activeElement = ev.target as HTMLElement;\n      this._setFocusAlignment(this._activeElement);\n    } else {\n      let parentElement = ev.target as HTMLElement;\n\n      while (parentElement && parentElement !== this.refs.root) {\n        if (isElementTabbable(parentElement) && this._isImmediateDescendantOfZone(parentElement)) {\n          this._activeElement = parentElement;\n          break;\n        }\n        parentElement = parentElement.parentElement;\n      }\n    }\n    if (onActiveElementChanged) {\n      onActiveElementChanged(this._activeElement, ev);\n    }\n  }\n\n  /** Handle global tab presses so that we can patch tabindexes on the fly. */\n  private _onKeyDownCapture(ev: React.KeyboardEvent) {\n    if (ev.which === KeyCodes.tab) {\n      this._updateTabIndexes();\n    }\n  }\n\n  private _onMouseDown(ev: React.MouseEvent) {\n    const { disabled } = this.props;\n\n    if (disabled) {\n      return;\n    }\n\n    let target = ev.target as HTMLElement;\n    const path = [];\n\n    while (target && target !== this.refs.root) {\n      path.push(target);\n      target = target.parentElement;\n    }\n\n    while (path.length) {\n      target = path.pop();\n\n      if (isElementFocusZone(target)) {\n        break;\n      } else if (target && isElementTabbable(target)) {\n        target.tabIndex = 0;\n        this._setFocusAlignment(target, true, true);\n      }\n    }\n  }\n\n  /** Handle the keystrokes. */\n  private _onKeyDown(ev: React.KeyboardEvent) {\n    const { direction, disabled, isInnerZoneKeystroke } = this.props;\n\n    if (disabled) {\n      return;\n    }\n\n    if (\n      isInnerZoneKeystroke &&\n      this._isImmediateDescendantOfZone(ev.target as HTMLElement) &&\n      isInnerZoneKeystroke(ev)) {\n      // Try to focus\n      let innerZone = this._getFirstInnerZone();\n\n      if (!innerZone || !innerZone.focus()) {\n        return;\n      }\n    } else {\n      switch (ev.which) {\n        case KeyCodes.left:\n          if (direction !== FocusZoneDirection.vertical && this._moveFocusLeft()) {\n            break;\n          }\n          return;\n\n        case KeyCodes.right:\n          if (direction !== FocusZoneDirection.vertical && this._moveFocusRight()) {\n            break;\n          }\n          return;\n\n        case KeyCodes.up:\n          if (direction !== FocusZoneDirection.horizontal && this._moveFocusUp()) {\n            break;\n          }\n          return;\n\n        case KeyCodes.down:\n          if (direction !== FocusZoneDirection.horizontal && this._moveFocusDown()) {\n            break;\n          }\n          return;\n\n        case KeyCodes.home:\n          const firstChild = this.refs.root.firstChild as HTMLElement;\n          if (this._focusElement(getNextElement(this.refs.root, firstChild, true))) {\n            break;\n          }\n          return;\n\n        case KeyCodes.end:\n          const lastChild = this.refs.root.lastChild as HTMLElement;\n          if (this._focusElement(getPreviousElement(this.refs.root, lastChild, true, true, true))) {\n            break;\n          }\n          return;\n\n        case KeyCodes.enter:\n          if (this._tryInvokeClickForFocusable(ev.target as HTMLElement)) {\n            break;\n          }\n          return;\n\n        default:\n          return;\n      }\n    }\n\n    ev.preventDefault();\n    ev.stopPropagation();\n  }\n\n  /** Walk up the dom try to find a focusable element. */\n  private _tryInvokeClickForFocusable(target: HTMLElement): boolean {\n    do {\n      if (target.tagName === 'BUTTON' || target.tagName === 'A') {\n        return false;\n      }\n\n      if (\n        this._isImmediateDescendantOfZone(target) &&\n        target.getAttribute(IS_FOCUSABLE_ATTRIBUTE) === 'true' &&\n        target.getAttribute(IS_ENTER_DISABLED_ATTRIBUTE) !== 'true') {\n        EventGroup.raise(target, 'click', null, true);\n\n        return true;\n      }\n\n      target = target.parentElement;\n    } while (target !== this.refs.root);\n\n    return false;\n  }\n\n  /** Traverse to find first child zone. */\n  private _getFirstInnerZone(rootElement?: HTMLElement): FocusZone {\n    rootElement = rootElement || this._activeElement || this.refs.root;\n\n    let child: HTMLElement = rootElement.firstElementChild as HTMLElement;\n\n    while (child) {\n      if (isElementFocusZone(child)) {\n        return _allInstances[child.getAttribute(FOCUSZONE_ID_ATTRIBUTE)];\n      }\n      let match = this._getFirstInnerZone(child);\n\n      if (match) {\n        return match;\n      }\n\n      child = child.nextElementSibling as HTMLElement;\n    }\n\n    return null;\n  }\n\n  private _moveFocus(\n    isForward: boolean,\n    getDistanceFromCenter: (activeRect: ClientRect, targetRect: ClientRect) => number,\n    ev?: Event): boolean {\n\n    let element = this._activeElement;\n    let candidateDistance = -1;\n    let candidateElement: HTMLElement;\n    let changedFocus = false;\n    let isBidirectional = this.props.direction === FocusZoneDirection.bidirectional;\n\n    if (!this._activeElement) {\n      return;\n    }\n\n    const activeRect = isBidirectional ? this._activeElement.getBoundingClientRect() : null;\n\n    do {\n      element = isForward ?\n        getNextElement(this.refs.root, element) :\n        getPreviousElement(this.refs.root, element);\n\n      if (isBidirectional) {\n        if (element) {\n          const targetRect = element.getBoundingClientRect();\n          const elementDistance = getDistanceFromCenter(activeRect, targetRect);\n\n          if (elementDistance > -1 && (candidateDistance === -1 || elementDistance < candidateDistance)) {\n            candidateDistance = elementDistance;\n            candidateElement = element;\n          }\n\n          if (candidateDistance >= 0 && elementDistance < 0) {\n            break;\n          }\n        }\n      } else {\n        candidateElement = element;\n        break;\n      }\n\n    } while (element);\n\n    // Focus the closest candidate\n    if (candidateElement && candidateElement !== this._activeElement) {\n      changedFocus = true;\n      this._focusElement(candidateElement);\n    } else if (this.props.isCircularNavigation) {\n      if (isForward) {\n        return this._focusElement(getNextElement(this.refs.root, this.refs.root.firstElementChild as HTMLElement, true));\n      } else {\n        return this._focusElement(getPreviousElement(this.refs.root, this.refs.root.lastElementChild as HTMLElement, true, true, true));\n      }\n    }\n\n    return changedFocus;\n  }\n\n  private _moveFocusDown(): boolean {\n    let targetTop = -1;\n    const leftAlignment = this._focusAlignment.left;\n\n    if (this._moveFocus(true, (activeRect: ClientRect, targetRect: ClientRect) => {\n      let distance = -1;\n\n      if ((targetTop === -1 && targetRect.top >= activeRect.bottom) ||\n        (targetRect.top === targetTop)) {\n\n        targetTop = targetRect.top;\n        distance = Math.abs((targetRect.left + (targetRect.width / 2)) - leftAlignment);\n      }\n\n      return distance;\n    })) {\n      this._setFocusAlignment(this._activeElement, false, true);\n      return true;\n    }\n\n    return false;\n  }\n\n  private _moveFocusUp(): boolean {\n    let targetTop = -1;\n    const leftAlignment = this._focusAlignment.left;\n\n    if (this._moveFocus(false, (activeRect: ClientRect, targetRect: ClientRect) => {\n      let distance = -1;\n\n      if ((targetTop === -1 && targetRect.bottom <= activeRect.top) ||\n      (targetRect.top === targetTop)) {\n        targetTop = targetRect.top;\n        distance = Math.abs((targetRect.left + (targetRect.width / 2)) - leftAlignment);\n      }\n\n      return distance;\n    })) {\n      this._setFocusAlignment(this._activeElement, false, true);\n      return true;\n    }\n\n    return false;\n  }\n\n  private _moveFocusLeft(): boolean {\n    let targetTop = -1;\n    const topAlignment = this._focusAlignment.top;\n\n    if (this._moveFocus(getRTL(), (activeRect: ClientRect, targetRect: ClientRect) => {\n      let distance = -1;\n\n      if ((\n        targetTop === -1 &&\n        targetRect.right <= activeRect.right &&\n        (this.props.direction === FocusZoneDirection.horizontal || targetRect.top === activeRect.top)) ||\n        (targetRect.top === targetTop)) {\n\n        targetTop = targetRect.top;\n        distance = Math.abs((targetRect.top + (targetRect.height / 2)) - topAlignment);\n      }\n\n      return distance;\n    })) {\n      this._setFocusAlignment(this._activeElement, true, false);\n      return true;\n    }\n\n    return false;\n  }\n\n  private _moveFocusRight(): boolean {\n    let targetTop = -1;\n    const topAlignment = this._focusAlignment.top;\n\n    if (this._moveFocus(!getRTL(), (activeRect: ClientRect, targetRect: ClientRect) => {\n      let distance = -1;\n\n      if ((\n        targetTop === -1 &&\n        targetRect.left >= activeRect.left &&\n        (this.props.direction === FocusZoneDirection.horizontal || targetRect.top === activeRect.top)) ||\n        (targetRect.top === targetTop)) {\n\n        targetTop = targetRect.top;\n        distance = Math.abs((targetRect.top + (targetRect.height / 2)) - topAlignment);\n      }\n\n      return distance;\n    })) {\n      this._setFocusAlignment(this._activeElement, true, false);\n      return true;\n    }\n\n    return false;\n  }\n\n  private _focusElement(element: HTMLElement): boolean {\n    if (element) {\n      if (this._activeElement) {\n        this._activeElement.tabIndex = -1;\n      }\n\n      this._activeElement = element;\n\n      if (element) {\n        if (!this._focusAlignment) {\n          this._setFocusAlignment(element, true, true);\n        }\n\n        this._activeElement.tabIndex = 0;\n        element.focus();\n\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  private _setFocusAlignment(element: HTMLElement, isHorizontal?: boolean, isVertical?: boolean) {\n    if (this.props.direction === FocusZoneDirection.bidirectional &&\n      (!this._focusAlignment || isHorizontal || isVertical)) {\n\n      const rect = element.getBoundingClientRect();\n      const left = rect.left + (rect.width / 2);\n      const top = rect.top + (rect.height / 2);\n\n      if (!this._focusAlignment) {\n        this._focusAlignment = { left, top };\n      }\n\n      if (isHorizontal) {\n        this._focusAlignment.left = left;\n      }\n\n      if (isVertical) {\n        this._focusAlignment.top = top;\n      }\n    }\n  }\n\n  private _isImmediateDescendantOfZone(element?: HTMLElement): boolean {\n    let parentElement = element.parentElement;\n\n    while (parentElement && parentElement !== this.refs.root && parentElement !== document.body) {\n      if (isElementFocusZone(parentElement)) {\n        return false;\n      }\n\n      parentElement = parentElement.parentElement;\n    }\n\n    return true;\n  }\n\n  private _updateTabIndexes(element?: HTMLElement) {\n    if (!element) {\n      element = this.refs.root;\n      if (this._activeElement && !element.contains(this._activeElement)) {\n        this._activeElement = null;\n      }\n    }\n\n    const childNodes = element.children;\n\n    for (let childIndex = 0; childNodes && childIndex < childNodes.length; childIndex++) {\n      const child = childNodes[childIndex] as HTMLElement;\n\n      if (!isElementFocusZone(child)) {\n        if (isElementTabbable(child)) {\n          if (this.props.disabled) {\n            child.setAttribute(TABINDEX, '-1');\n          } else if (!this._isInnerZone && (!this._activeElement || this._activeElement === child)) {\n            this._activeElement = child;\n            if (child.getAttribute(TABINDEX) !== '0') {\n              child.setAttribute(TABINDEX, '0');\n            }\n          } else if (child.getAttribute(TABINDEX) !== '-1') {\n            child.setAttribute(TABINDEX, '-1');\n          }\n        } else if (child.tagName === 'svg' && child.getAttribute('focusable') !== 'false') {\n          // Disgusting IE hack. Sad face.\n          child.setAttribute('focusable', 'false');\n        }\n\n        this._updateTabIndexes(child);\n      }\n    }\n\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/components/FocusZone/FocusZone.tsx\n **/","import * as React from 'react';\nimport { FocusZone } from './FocusZone';\n\n/**\n * FocusZone component class interface.\n */\nexport interface IFocusZone {\n  /** Sets focus to the checkbox. */\n  focus(): void;\n}\n\n/**\n * FocusZone component props.\n */\nexport interface IFocusZoneProps extends React.Props<FocusZone> {\n  /**\n   * Additional class name to provide on the root element, in addition to the ms-FocusZone class.\n   */\n  className?: string;\n\n  /**\n   * Defines which arrows to react to.\n   * @default FocusZoneDirection.bidriectional\n   */\n  direction?: FocusZoneDirection;\n\n  /**\n   * If set, the FocusZone will not be tabbable and keyboard navigation will be disabled.\n   * This does not affect disabled attribute of any child.\n   */\n  disabled?: boolean;\n\n  /**\n   * If set, will cycle to the beginning of the targets once the user navigates to the\n   * next target while at the end, and to the end when navigate to the previous at the beginning.\n   */\n  isCircularNavigation?: boolean;\n\n  /**\n   * If provided, this callback will be executed on keypresses to determine if the user\n   * intends to navigate into the inner zone. Returning true will ask the first inner zone to\n   * set focus.\n   */\n  isInnerZoneKeystroke?: (ev: React.KeyboardEvent) => boolean;\n\n  /**\n   * Sets the aria-labelledby attribute.\n   */\n  ariaLabelledBy?: string;\n\n  /**\n   * Callback for when one of immediate children elements gets active by getting focused\n   * or by having one of its respective children elements focused.\n   */\n  onActiveElementChanged?: (element?: HTMLElement, ev?: React.FocusEvent) => void;\n\n  /**\n   * Optional DIV props that will be mixed into the root element, *before* other props are applied. This allows you\n   * to extend the root element with additional attributes, such as data-automation-id needed for automation. Note\n   * that if you provide, for example, \"ariaLabelledBy\" as well as \"rootProps.ariaLabelledBy\", the former will take\n   * precedence over the later.\n   */\n  rootProps?: React.HTMLProps<HTMLDivElement>;\n}\n\nexport enum FocusZoneDirection {\n  /** Only react to up/down arrows. */\n  vertical,\n\n  /** Only react to left/right arrows. */\n  horizontal,\n\n  /** React to all arrows. */\n  bidirectional\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/components/FocusZone/FocusZone.Props.ts\n **/","import { KeyCodes } from './KeyCodes';\n\nlet _isRTL: boolean;\n\n/**\n * Gets the rtl state of the page (returns true if in rtl.)\n */\nexport function getRTL(): boolean {\n  if (_isRTL === undefined) {\n    _isRTL = document.documentElement.getAttribute('dir') === 'rtl';\n  }\n\n  return _isRTL;\n}\n\n/**\n * Sets the rtl state of the page (by adjusting the dir attribute of the html element.)\n */\nexport function setRTL(isRTL: boolean) {\n  document.documentElement.setAttribute('dir', isRTL ? 'rtl' : 'ltr');\n  _isRTL = isRTL;\n}\n\n/**\n * Returns the given key, but flips right/left arrows if necessary.\n */\nexport function getRTLSafeKeyCode(key: number): number {\n  if (getRTL()) {\n    if (key === KeyCodes.left) {\n      key = KeyCodes.right;\n    } else if (key === KeyCodes.right) {\n      key = KeyCodes.left;\n    }\n  }\n\n  return key;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** /src/utilities/rtl.ts\n **/","require('Toolbar.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/toolbar/Toolbar.scss.ts\n **/","var content = require(\"!!./../../../../../../../common/node_modules/css-loader/index.js!./Toolbar.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/appBase/components/sp-canvas/toolbar/Toolbar.css\n ** module id = 186\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".CanvasControlToolbar{position:absolute;top:0;width:32px;z-index:1}[dir=ltr] .CanvasControlToolbar{left:-40px}[dir=rtl] .CanvasControlToolbar{right:-40px}[dir=ltr] .CanvasControlToolbar{padding-right:10px}[dir=rtl] .CanvasControlToolbar{padding-left:10px}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/appBase/components/sp-canvas/toolbar/Toolbar.css\n ** module id = 187\n ** module chunks = 0\n **/","import * as React from 'react';\r\nimport { FocusZone, FocusZoneDirection } from 'office-ui-fabric-react/lib/FocusZone';\r\nimport { DisplayMode } from '@microsoft/sp-client-base';\r\nimport { IClientSideWebPartManifest } from '@microsoft/sp-module-interfaces';\r\nimport { SPFlight } from '@microsoft/sp-client-base';\r\nimport { StringHelper } from '@ms/odsp-utilities-bundle';\r\n\r\nimport CanvasControlType from '../../../canvas/canvas/CanvasControlType';\r\nimport { ICanvasContext } from '../../canvas/canvasComponent/ICanvasComponent';\r\nimport { IToolboxGroupProps } from '../toolboxGroup/IToolboxGroup';\r\nimport { IToolboxItemProps } from '../toolboxItem/IToolboxItem';\r\nimport { IToolboxProps, IToolboxState } from './IToolbox';\r\nimport ToolboxGroup from '../toolboxGroup/ToolboxGroup';\r\nimport ToolboxItem from '../toolboxItem/ToolboxItem';\r\nimport ToolboxItemClassifier from '../toolboxItem/ToolboxItemClassifier';\r\nimport { IWebPartZoneProps } from '../../../canvas/sampleCanvasControls/WebPartZone';\r\nimport {\r\n  isEscape,\r\n  isTab\r\n} from '../../a11y/CanvasA11y';\r\n\r\nimport './Toolbox.scss';\r\nimport Strings from '../../loc/CanvasStrings.resx';\r\n\r\n/**\r\n * @todo [VSO:SPPPlat] #231682\r\n */\r\nconst NEWSFEED_WEBPART_FLIGHT: number = 792;\r\nconst NEWSREEL_WEBPART_FLIGHT: number = 790;\r\nconst NEWSFEED_ID: string = 'a5df8fdf-b508-4b66-98a6-d83bc2597f63';\r\nconst NEWSREEL_ID: string = '0ef418ba-5d19-4ade-9db0-b339873291d0';\r\n\r\nexport default class Toolbox extends React.Component<IToolboxProps, IToolboxState> {\r\n  public static contextTypes: React.ValidationMap<Toolbox> = {\r\n    store: React.PropTypes.object.isRequired\r\n  };\r\n\r\n  public context: ICanvasContext;\r\n\r\n  private _domNode: HTMLElement;\r\n\r\n  constructor(props: IToolboxProps, context: ICanvasContext) {\r\n    super(props, context);\r\n\r\n    this._handleKeyDownCapture = this._handleKeyDownCapture.bind(this);\r\n\r\n    this.state = {\r\n      verticalPosition: props.verticalPosition\r\n    };\r\n  }\r\n\r\n  public componentDidMount(): void {\r\n    this._domNode.addEventListener('keydown', this._handleKeyDownCapture, true);\r\n  }\r\n\r\n  public componentDidUpdate(prevProps: IToolboxProps): void {\r\n    if (this.props.isOpen !== prevProps.isOpen) {\r\n      if (this.props.isOpen) {\r\n        this.context.store.a11yManager.saveState();\r\n        this.context.store.a11yManager.navigateTo(this._domNode);\r\n        // This assumes there is one non-webpart item (RTE)\r\n        const localizedItemCount: string = StringHelper.formatWithLocalizedCountValue(\r\n          Strings.CanvasItems,\r\n          Strings.CanvasItemsInterval,\r\n          this.props.toolboxItems.length + 1\r\n        );\r\n        const message: string =\r\n          StringHelper.format(Strings.ToolboxNavigationArrowKeys, localizedItemCount);\r\n        this.context.store.a11yManager.ariaAlert(message);\r\n      } else {\r\n        this.context.store.a11yManager.clearState();\r\n      }\r\n    }\r\n  }\r\n\r\n  public componentWillReceiveProps(nextProps: IToolboxProps): void {\r\n    if (nextProps.isOpen && this.context.store.scrollableParent) {\r\n      // Use the scrollableParent as our viewport\r\n      const {top, bottom}: ClientRect = this.context.store.scrollableParent.getBoundingClientRect();\r\n      const toolboxRowCount: number = Math.min(Math.ceil(nextProps.toolboxItems.length + 1 / 3), 3);\r\n      const toolboxHeight: number = toolboxRowCount * 110;\r\n      const canvasTop: number = this.context.store.canvasElement.getBoundingClientRect().top;\r\n      const hintOffset: number = 43 - (toolboxRowCount * 5);\r\n      let verticalPosition: number = nextProps.verticalPosition;\r\n\r\n      // Render Toolbox above hint if there is no room below the hint and there is room above\r\n      if (\r\n        (verticalPosition + toolboxHeight + hintOffset + canvasTop > bottom) &&\r\n        (verticalPosition - toolboxHeight - hintOffset > top)\r\n        ) {\r\n        verticalPosition -= toolboxHeight + hintOffset;\r\n      }\r\n\r\n      this.setState({ verticalPosition });\r\n    }\r\n  }\r\n\r\n  public render(): React.ReactElement<IToolboxProps> {\r\n    const { isOpen, onItemClick, toolboxItems }: IToolboxProps = this.props;\r\n    const classifier: ToolboxItemClassifier = new ToolboxItemClassifier();\r\n\r\n    for (const item of toolboxItems) {\r\n      /* tslint:disable:no-any */\r\n      const webPartManifest: IClientSideWebPartManifest<any> = (item.itemProps as IWebPartZoneProps).webPartManifest;\r\n      /* tslint:enable:no-any */\r\n\r\n      /**\r\n       * Component manifests will be sent to the client regardless of flight status.\r\n       * Currently checking the newsreel flight on client to hide the web part from the Toolbox\r\n       * if the flight is not on. @todo [VSO:SPPPlat] #231682\r\n       */\r\n      if ((webPartManifest.id === NEWSREEL_ID && !SPFlight.isEnabled(NEWSREEL_WEBPART_FLIGHT)) ||\r\n          (webPartManifest.id === NEWSFEED_ID && !SPFlight.isEnabled(NEWSFEED_WEBPART_FLIGHT))) {\r\n          continue;\r\n      }\r\n\r\n      item.key = webPartManifest.id;\r\n\r\n      (item as IToolboxItemProps).onClick = onItemClick;\r\n      item.msIconName = webPartManifest.preconfiguredEntries[0].officeFabricIconFontName;\r\n      classifier.registerItem(webPartManifest.id, item as IToolboxItemProps);\r\n    }\r\n\r\n    // Construct the featured toolbox group\r\n    const featuredItemViews: React.ReactElement<IToolboxItemProps>[] = [];\r\n\r\n    // First add the RTE to featured items\r\n    featuredItemViews.push(\r\n      <ToolboxItem\r\n        description={Strings.TextWebpartDescription}\r\n        displayName={Strings.TextWebPartDisplayName}\r\n        itemProps={{controlType: CanvasControlType.RTE, displayMode: DisplayMode.Edit, id: undefined}}\r\n        msIconName='Font'\r\n        onClick={onItemClick} />\r\n    );\r\n\r\n    // next get the featured items and add them to the toolbox\r\n    const featuredItemProps: Array<IToolboxItemProps> = classifier.classify(true);\r\n    featuredItemProps.forEach((item: IToolboxItemProps) => {\r\n      featuredItemViews.push(<ToolboxItem {...(item as IToolboxItemProps)}/>);\r\n    });\r\n\r\n    // Add them to the featured group\r\n    const featuredGroup: React.ReactElement<IToolboxGroupProps> =\r\n      <ToolboxGroup\r\n        groupName={Strings.ToolboxGroupNameFeatured} key={Strings.ToolboxGroupNameFeatured}\r\n        hasHeader={true}>\r\n        { featuredItemViews }\r\n      </ToolboxGroup>;\r\n\r\n    // Construct the non featured toolbox group\r\n    const nonFeaturedItemViews: React.ReactElement<IToolboxItemProps>[] = [];\r\n    const nonFeaturedItemProps: Array<IToolboxItemProps> = classifier.classify(\r\n      false,\r\n      (item1: IToolboxItemProps, item2: IToolboxItemProps) => {\r\n        return item1.displayName.localeCompare(item2.displayName);\r\n      });\r\n\r\n    nonFeaturedItemProps.forEach((item: IToolboxItemProps) => {\r\n        nonFeaturedItemViews.push(<ToolboxItem {...(item as IToolboxItemProps)}/>);\r\n    });\r\n\r\n    // Add them to the non featured group\r\n    const nonFeaturedGroup: React.ReactElement<IToolboxGroupProps> =\r\n      <ToolboxGroup\r\n        groupName={Strings.ToolboxGroupNameNonFeatured} key={Strings.ToolboxGroupNameNonFeatured}\r\n        hasHeader={false}>\r\n        { nonFeaturedItemViews }\r\n      </ToolboxGroup>;\r\n\r\n    return (\r\n      <div\r\n        role='toolbar'\r\n        className='CanvasToolbox'\r\n        ref={(ref) => this._domNode = ref}\r\n        style={{display: isOpen ? 'block' : 'none', top: this.state.verticalPosition}}>\r\n        <FocusZone direction={FocusZoneDirection.horizontal} isCircularNavigation={true}>\r\n          { featuredGroup }\r\n          { nonFeaturedGroup }\r\n        </FocusZone>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _handleKeyDownCapture(e: KeyboardEvent): void {\r\n    if (isEscape(e)) {\r\n      this.context.store.a11yManager.restoreState();\r\n      this.context.store.closeToolbox();\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n    } else if (isTab(e)) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n    }\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/toolbox/toolbox/Toolbox.tsx\n **/","import * as React from 'react';\r\n\r\nimport { IToolboxGroupProps } from './IToolboxGroup';\r\n\r\nimport './ToolboxGroup.scss';\r\n\r\nexport default function ToolboxGroup(props: IToolboxGroupProps): React.ReactElement<IToolboxGroupProps> {\r\n  const banner: React.ReactElement<{}> = props.hasHeader ?\r\n    <header className='CanvasToolboxItemsGroup-header'>{ props.groupName }</header> :\r\n    <hr className='CanvasToolboxItemsGroup-divider' />;\r\n  return (\r\n    <section aria-label={props.groupName} role='group' className='CanvasToolboxItemsGroup'>\r\n      { banner }\r\n      <div className='CanvasToolboxItemsGroup-items'>\r\n        { props.children }\r\n      </div>\r\n    </section>\r\n  );\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/toolbox/toolboxGroup/ToolboxGroup.tsx\n **/","require('ToolboxGroup.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/toolbox/toolboxGroup/ToolboxGroup.scss.ts\n **/","var content = require(\"!!./../../../../../../../../common/node_modules/css-loader/index.js!./ToolboxGroup.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/appBase/components/sp-canvas/toolbox/toolboxGroup/ToolboxGroup.css\n ** module id = 191\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".CanvasToolboxItemsGroup{clear:both}.CanvasToolboxItemsGroup-header{background-color:\\\"[theme:neutralLighter, default: #f4f4f4]\\\";color:\\\"[theme:neutralPrimary, default: #333333]\\\";font-family:\\\"Segoe UI Semibold WestEuropean\\\",\\\"Segoe UI Semibold\\\",\\\"Segoe WP Semibold\\\",\\\"Segoe UI\\\",\\\"Segoe WP\\\",Tahoma,Arial,sans-serif;font-size:12px;height:32px;letter-spacing:1px;line-height:32px;padding:0 12px}.CanvasToolboxItemsGroup-divider{margin:0;border:0;border-top:1px solid \\\"[theme:neutralLight, default: #eaeaea]\\\";color:\\\"[theme:neutralLight, default: #eaeaea]\\\"}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/appBase/components/sp-canvas/toolbox/toolboxGroup/ToolboxGroup.css\n ** module id = 192\n ** module chunks = 0\n **/","import * as React from 'react';\r\n\r\nimport { IToolboxItemProps } from './IToolboxItem';\r\n\r\nimport './ToolboxItem.scss';\r\n\r\nexport default function ToolboxItem(props: IToolboxItemProps): React.ReactElement<IToolboxItemProps> {\r\n  return (\r\n    <button\r\n      role='option'\r\n      className='CanvasToolboxItem'\r\n      title={ props.description }\r\n      onClick={() => props.onClick(JSON.parse(JSON.stringify(props.itemProps)))}\r\n    >\r\n      <span className={`CanvasToolboxItem-icon ms-Icon ms-Icon--${props.msIconName}`}/>\r\n        <span className='CanvasToolboxItem-title'>\r\n          { props.displayName }\r\n        </span>\r\n    </button>\r\n   );\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/toolbox/toolboxItem/ToolboxItem.tsx\n **/","require('ToolboxItem.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/toolbox/toolboxItem/ToolboxItem.scss.ts\n **/","var content = require(\"!!./../../../../../../../../common/node_modules/css-loader/index.js!./ToolboxItem.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/appBase/components/sp-canvas/toolbox/toolboxItem/ToolboxItem.css\n ** module id = 195\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".CanvasToolboxItem{background-color:transparent;border:1px solid transparent;float:left;height:88px;overflow:hidden;padding:0;width:33.333%}.CanvasToolboxItem:hover{background-color:\\\"[theme:themeLighterAlt, default:#eff6fc]\\\";cursor:pointer}.CanvasToolboxItem:hover .CanvasToolboxItem-icon,.CanvasToolboxItem:hover .CanvasToolboxItem-title{color:\\\"[theme:themeDarkAlt, default:#106ebe]\\\"}.CanvasToolboxItem-icon{color:\\\"[theme:neutralPrimary, default: #333333]\\\";display:block;font-size:28px;line-height:48px}.CanvasToolboxItem-title{color:\\\"[theme:neutralSecondary, default: #666666]\\\";display:block;font-family:\\\"Segoe UI Regular WestEuropean\\\",\\\"Segoe UI\\\",\\\"Segoe WP\\\",Tahoma,Arial,sans-serif;font-size:13px;padding:0 8px;text-align:center}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/appBase/components/sp-canvas/toolbox/toolboxItem/ToolboxItem.css\n ** module id = 196\n ** module chunks = 0\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Classifies ToolBox items into Featured and NonFeatured items\r\n */\r\n\r\nimport { IToolboxItemProps } from './IToolboxItem';\r\n\r\nconst FEATURED_ITEM_IDS: Array<string> = [\r\n    'd1d91016-032f-456d-98a4-721247c305e8', // Image\r\n    'b7dd04e1-19ce-4b24-9132-b60a1c2b910d', // Document\r\n    '275c0095-a77e-4f6d-a2a0-6a7626911518', // Office 365 video\r\n    '490d7c76-1824-45b2-9de3-676421c997fa', // Embed\r\n    'daf0b71c-6de8-4ef7-b511-faae7c388708'  // Highlighted content\r\n];\r\n\r\nconst GENERIC_ITEM_ID: string = '00000000-0000-0000-0000-000000000000';\r\n\r\n/**\r\n * ToolBoxItemClassifier classifies tool box items into Featured and non-featured\r\n */\r\nexport default class ToolBoxItemClassifier {\r\n  private _toolBoxItemIdToPropsMap: Map<string, IToolboxItemProps[]>;\r\n\r\n  /**\r\n   * Initializes a new instance of the ToolBoxItemClassifier\r\n   */\r\n  constructor() {\r\n    this._toolBoxItemIdToPropsMap = new Map<string, IToolboxItemProps[]>();\r\n    FEATURED_ITEM_IDS.forEach((id: string) => {\r\n      this._toolBoxItemIdToPropsMap.set(id, []);\r\n    });\r\n\r\n    this._toolBoxItemIdToPropsMap.set(GENERIC_ITEM_ID, []);\r\n  }\r\n\r\n  /**\r\n   * Registers a new item with the Classifier\r\n   * @param itemId represents the item Id\r\n   * @param itemProps represents the item properties\r\n   */\r\n  public registerItem(itemId: string, itemProps: IToolboxItemProps): void {\r\n    const registeredItemProps: Array<IToolboxItemProps> = this._toolBoxItemIdToPropsMap.get(itemId);\r\n    if (Array.isArray(registeredItemProps)) {\r\n      registeredItemProps.push(itemProps);\r\n    } else {\r\n      // If not registered, then place item in generic item bucket\r\n      this._toolBoxItemIdToPropsMap.get(GENERIC_ITEM_ID).push(itemProps);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets items classified by a specific type\r\n   * @param isFeatured determines the classification type\r\n   * @param sortPredicate is optional sorting predicate\r\n   * @returns items classified by a particular type\r\n   */\r\n  public classify(\r\n    isFeatured: boolean,\r\n    sortPredicate?: (x: IToolboxItemProps, y: IToolboxItemProps) => number): Array<IToolboxItemProps> {\r\n\r\n    let toolBoxItemProps: Array<IToolboxItemProps> = [];\r\n    if (isFeatured) {\r\n      this._toolBoxItemIdToPropsMap.forEach((items: IToolboxItemProps[], id: string) => {\r\n        if (id !== GENERIC_ITEM_ID && items.length > 0) {\r\n          toolBoxItemProps.push(items[0]);\r\n        }\r\n      });\r\n    } else {\r\n      toolBoxItemProps = this._toolBoxItemIdToPropsMap.get(GENERIC_ITEM_ID);\r\n    }\r\n\r\n    if (Boolean(sortPredicate)) {\r\n      toolBoxItemProps = toolBoxItemProps.sort(sortPredicate);\r\n    }\r\n\r\n    return toolBoxItemProps;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/toolbox/toolboxItem/ToolBoxItemClassifier.ts\n **/","require('Toolbox.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/toolbox/toolbox/Toolbox.scss.ts\n **/","var content = require(\"!!./../../../../../../../../common/node_modules/css-loader/index.js!./Toolbox.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/appBase/components/sp-canvas/toolbox/toolbox/Toolbox.css\n ** module id = 199\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".CanvasToolbox{background:\\\"[theme:white, default: #ffffff]\\\";border:1px solid #d6d6d6;box-shadow:0 0 8px 0 rgba(0,0,0,.2);box-sizing:border-box;left:50%;margin-left:-146px;margin-top:26px;max-height:330px;overflow-y:auto;position:absolute;width:292px;z-index:10}.CanvasToolbox .ms-Icon{font-family:sp-MDL2}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/appBase/components/sp-canvas/toolbox/toolbox/Toolbox.css\n ** module id = 200\n ** module chunks = 0\n **/","import { DisplayMode, Guid, ServiceScope, Validate } from '@microsoft/sp-client-base';\r\nimport { IClientSideWebPartManifest } from '@microsoft/sp-module-interfaces';\r\n\r\nimport CanvasWebPartHost from '../../../canvas/canvas/CanvasWebPartHost';\r\nimport CanvasControlType from '../../../canvas/canvas/CanvasControlType';\r\nimport ClientSideWebPartManager from '../../../../../clientSideWebParts/core/ClientSideWebPartManager';\r\nimport { ISerializedCanvasControl } from '../canvasControl/ISerializedCanvasControl';\r\nimport { IToolboxItem } from '../../toolbox/toolboxItem/IToolboxItem';\r\nimport { IToolboxProps } from '../../toolbox/toolbox/IToolbox';\r\nimport { PropertyPaneState } from '../../../../../common/webParts/PropertyPaneDefinitions';\r\nimport SPRte, { ISPRteProps } from '../../../sp-rte/rte/SPRte';\r\nimport WebPartZone, { IWebPartZoneProps } from '../../../canvas/sampleCanvasControls/WebPartZone';\r\nimport { CanvasA11yManager } from '../../a11y/CanvasA11y';\r\n\r\nexport default class CanvasStore {\r\n  private _a11yManager: CanvasA11yManager;\r\n  private _canvasElement: HTMLElement;\r\n  private _controls: Map<string, SPRte | WebPartZone>;\r\n  private _controlsProps: ISerializedCanvasControl[];\r\n  private _deletedRow: number;\r\n  private _displayMode: DisplayMode;\r\n  private _handleCanvasChanged: () => void;\r\n  private _hoveredControlId: string;\r\n  private _isDeleteDialogOpen: boolean;\r\n  private _oldActiveElement: Element;\r\n  private _pollId: number;\r\n  private _render: () => void;\r\n  private _scrollableParentElement: HTMLElement;\r\n  private _scrollThreshold: number;\r\n  private _selectedControlId: string;\r\n  private _rowToBeDeleted: number;\r\n  private _toolboxProps: IToolboxProps;\r\n  private _webPartManager: ClientSideWebPartManager;\r\n\r\n  constructor(\r\n    serviceScope: ServiceScope,\r\n    render: () => void,\r\n    mode: DisplayMode,\r\n    serializedCanvas?: string,\r\n    handleCanvasChanged?: () => void,\r\n    scrollThreshold?: number\r\n  ) {\r\n    Validate.isNotNullOrUndefined(serviceScope, 'serviceScope');\r\n    Validate.isNotNullOrUndefined(render, 'render');\r\n    Validate.isNotNullOrUndefined(mode, 'mode');\r\n\r\n    this._addReference = this._addReference.bind(this);\r\n    this._notifyChanged = this._notifyChanged.bind(this);\r\n    this.addControl = this.addControl.bind(this);\r\n    this.closeToolbox = this.closeToolbox.bind(this);\r\n    this.deleteControl = this.deleteControl.bind(this);\r\n    this.handleConfigureButtonClicked = this.handleConfigureButtonClicked.bind(this);\r\n    this.handleDeleteButtonClicked = this.handleDeleteButtonClicked.bind(this);\r\n    this.handleDeleteDialogConfirmation = this.handleDeleteDialogConfirmation.bind(this);\r\n    this.handleDeleteDialogDismiss = this.handleDeleteDialogDismiss.bind(this);\r\n    this.handleWindowBlur = this.handleWindowBlur.bind(this);\r\n    this.reclaimFocus = this.reclaimFocus.bind(this);\r\n    this.scrollIntoView = this.scrollIntoView.bind(this);\r\n    this.openToolbox = this.openToolbox.bind(this);\r\n\r\n    this._render = render;\r\n    this._controls = new Map<string, SPRte | WebPartZone>();\r\n    this._controlsProps = [];\r\n    this._displayMode = mode;\r\n    this._handleCanvasChanged = handleCanvasChanged;\r\n    this._isDeleteDialogOpen = false;\r\n    this._pollActiveElement = this._pollActiveElement.bind(this);\r\n    this._scrollThreshold = scrollThreshold || 0;\r\n    this._webPartManager = new ClientSideWebPartManager(\r\n      new CanvasWebPartHost(\r\n        serviceScope,\r\n        this.scrollIntoView.bind(this, 'full'),\r\n        handleCanvasChanged,\r\n        this.reclaimFocus)\r\n    );\r\n\r\n    this._toolboxProps = {\r\n      isOpen: false,\r\n      onItemClick: this.addControl.bind(this, 0),\r\n      row: undefined,\r\n      toolboxItems: [],\r\n      verticalPosition: undefined\r\n    };\r\n\r\n    if (this._displayMode === DisplayMode.Edit) {\r\n      this.webPartManager.fetchWebParts();\r\n    }\r\n  }\r\n\r\n  public get addReference(): (ref: SPRte | WebPartZone) => void {\r\n    return this._addReference;\r\n  }\r\n\r\n  public get a11yManager(): CanvasA11yManager {\r\n    return this._a11yManager;\r\n  }\r\n\r\n  public set a11yManager(elem: CanvasA11yManager) {\r\n    this._a11yManager = elem;\r\n  }\r\n\r\n  public get canvasElement(): HTMLElement {\r\n    return this._canvasElement;\r\n  }\r\n\r\n  public set canvasElement(elem: HTMLElement) {\r\n    this._canvasElement = elem;\r\n  }\r\n\r\n  public get controlsProps(): ISerializedCanvasControl[] {\r\n    return this._controlsProps;\r\n  }\r\n\r\n  public get deletedRow(): number {\r\n    return this._deletedRow;\r\n  }\r\n\r\n  public set deletedRow(row: number) {\r\n    this._deletedRow = row;\r\n  }\r\n\r\n  public get displayMode(): DisplayMode {\r\n    return this._displayMode;\r\n  }\r\n\r\n  public set displayMode(newMode: DisplayMode) {\r\n    if (this._displayMode !== newMode) {\r\n      this._displayMode = newMode;\r\n      for (const props of this.controlsProps) {\r\n        this._controls.get(props.id).setDisplayMode(newMode);\r\n      }\r\n\r\n      if (this._displayMode === DisplayMode.Read) {\r\n        this._selectedControlId = undefined;\r\n        this.webPartManager.configureStart(undefined, PropertyPaneState.Close);\r\n      }\r\n\r\n      if (this._displayMode === DisplayMode.Edit) {\r\n        this.webPartManager.fetchWebParts();\r\n      }\r\n\r\n      this._render();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The hoveredControlId keeps track of which control the pointer is currently over.\r\n   * It is used as a workaround to track pointer events on web parts that have IFrames.\r\n   */\r\n  public set hoveredControlId(id: string) {\r\n    this._hoveredControlId = id;\r\n  }\r\n\r\n  public get isDeleteDialogOpen(): boolean {\r\n    return this._isDeleteDialogOpen;\r\n  }\r\n\r\n  public get notifyChanged(): () => void {\r\n    return this._notifyChanged;\r\n  }\r\n\r\n  public get scrollableParent(): HTMLElement {\r\n    return this._scrollableParentElement;\r\n  }\r\n\r\n  public set scrollableParent(elem: HTMLElement) {\r\n    this._scrollableParentElement = elem;\r\n  }\r\n\r\n  public get scrollThreshold(): number {\r\n    return this._scrollThreshold;\r\n  }\r\n\r\n  public get selectedControlId(): string {\r\n    return this._selectedControlId;\r\n  }\r\n\r\n  public set selectedControlId(id: string) {\r\n    if (this._selectedControlId !== id) {\r\n      this._selectedControlId = id;\r\n\r\n      /**\r\n       * If open, change the Property Pane to reflect the new selection. If the new selection is not a web part,\r\n       * change the Property Pane to the empty state.\r\n       */\r\n      const control: SPRte | WebPartZone = this._controls.get(id);\r\n      if (control && control.props.controlType !== CanvasControlType.WebPartZone) {\r\n        this._webPartManager.configureStart(undefined);\r\n      } else {\r\n        this._webPartManager.configureStart(id);\r\n      }\r\n\r\n      this._render();\r\n    }\r\n  }\r\n\r\n  public get toolboxProps(): IToolboxProps {\r\n    this._toolboxProps.toolboxItems = [];\r\n\r\n    /* tslint:disable:no-any */\r\n    this._getManifestMap().forEach((manifest: IClientSideWebPartManifest<any>, cid: string) => {\r\n    /* tslint:enable:no-any */\r\n      const itemProps: IWebPartZoneProps = {\r\n        controlType: CanvasControlType.WebPartZone,\r\n        displayMode: DisplayMode.Edit,\r\n        id: undefined,\r\n        webPartId: cid,\r\n        webPartData: undefined,\r\n        webPartManifest: manifest\r\n      };\r\n\r\n      const toolboxItem: IToolboxItem = {\r\n        itemProps,\r\n        description: manifest.preconfiguredEntries[0].description.default,\r\n        displayName: manifest.preconfiguredEntries[0].title.default,\r\n        msIconName: manifest.preconfiguredEntries[0].officeFabricIconFontName\r\n      };\r\n\r\n      this._toolboxProps.toolboxItems.push(toolboxItem);\r\n    });\r\n\r\n    return this._toolboxProps;\r\n  }\r\n\r\n  public get webPartManager(): ClientSideWebPartManager {\r\n    return this._webPartManager;\r\n  }\r\n\r\n  public addControl(\r\n    row: number,\r\n    itemProps: ISerializedCanvasControl\r\n  ): void {\r\n    this._selectedControlId = itemProps.id = Guid.newGuid().toString();\r\n    this._addControl(row, itemProps);\r\n\r\n    this._render();\r\n    this._notifyChanged();\r\n  }\r\n\r\n  public deleteControl(row: number): void {\r\n    this._deletedRow = row;\r\n    this._controlsProps.splice(row, 1);\r\n\r\n    if (this._controlsProps.length === 0) {\r\n      this._webPartManager.configureStart(undefined, PropertyPaneState.Close);\r\n    }\r\n\r\n    this._render();\r\n    this._notifyChanged();\r\n  }\r\n\r\n  public getControl(id: string): SPRte | WebPartZone {\r\n    return this._controls.get(id);\r\n  }\r\n\r\n  public openToolbox(row: number, verticalPosition: number): void {\r\n    if (this._toolboxProps.isOpen) {\r\n      this.closeToolbox();\r\n    }\r\n\r\n    this._toolboxProps.isOpen = true;\r\n    this._toolboxProps.onItemClick = this.addControl.bind(this, row);\r\n    this._toolboxProps.row = row;\r\n    this._toolboxProps.verticalPosition = verticalPosition;\r\n    document.addEventListener('click', this.closeToolbox);\r\n\r\n    this._render();\r\n  }\r\n\r\n  public closeToolbox(): void {\r\n    this._toolboxProps.isOpen = false;\r\n    this._toolboxProps.row = undefined;\r\n    document.removeEventListener('click', this.closeToolbox);\r\n\r\n    this._render();\r\n  }\r\n\r\n  public handleConfigureButtonClicked(id: string): void {\r\n    const isCurrentlySelected: boolean = this.selectedControlId === id;\r\n\r\n    // Only toggle the Property Pane if the currently selected control's configure button is clicked.\r\n    (this._controls.get(id) as WebPartZone).handleConfigureButtonClicked(isCurrentlySelected);\r\n\r\n    // Set private member so we don't call configureStart twice.\r\n    this._selectedControlId = id;\r\n    this._render();\r\n  }\r\n\r\n  public handleDeleteButtonClicked(row: number): void {\r\n    this._rowToBeDeleted = row;\r\n\r\n    const control: ISerializedCanvasControl = this._controlsProps[this._rowToBeDeleted];\r\n    this._selectedControlId = control.id;\r\n    this._webPartManager.configureStart(\r\n      control.controlType === CanvasControlType.WebPartZone ? this._selectedControlId : undefined\r\n    );\r\n    this._isDeleteDialogOpen = true;\r\n\r\n    this._render();\r\n  }\r\n\r\n  public handleDeleteDialogConfirmation(): void {\r\n    const controlProps: ISerializedCanvasControl = this._controlsProps[this._rowToBeDeleted];\r\n\r\n    if (controlProps.controlType === CanvasControlType.WebPartZone) {\r\n      (this._controls.get(controlProps.id) as WebPartZone).handleDeleteButtonClicked();\r\n    }\r\n\r\n    this._isDeleteDialogOpen = false;\r\n    this.deleteControl(this._rowToBeDeleted);\r\n  }\r\n\r\n  public handleDeleteDialogDismiss(): void {\r\n    this._rowToBeDeleted = undefined;\r\n    this._isDeleteDialogOpen = false;\r\n\r\n    this._render();\r\n  }\r\n\r\n  /**\r\n   * IFrame's swallow pointer events, so this is a workaround to detect when focus has shifted to\r\n   * an IFrame. Additionally, to compensate for IFrame to IFrame interactions we poll for the document.activeElement.\r\n   * If document.activeElement is not the same as it was in the last poll then the focus has shifted from the IFrame.\r\n   * If the new document.activeElement is an IFrame continue polling, otherwise we can stop polling because focus\r\n   * is back inside of the current document.\r\n   */\r\n  public handleWindowBlur(e: MouseEvent): void {\r\n    if (this._hoveredControlId && document.activeElement.tagName === 'IFRAME') {\r\n      this.selectedControlId = this._hoveredControlId;\r\n      this._oldActiveElement = document.activeElement;\r\n\r\n      // Before setting a new interval clear the last one, this prevents more than one poll to be active.\r\n      window.clearInterval(this._pollId);\r\n      this._pollId = window.setInterval(this._pollActiveElement, 250);\r\n    }\r\n  }\r\n\r\n  public deserialize(serializedCanvas: string): void {\r\n    this._controlsProps = [];\r\n    this._controls = new Map<string, SPRte | WebPartZone>();\r\n\r\n    if (serializedCanvas) {\r\n      const wrapper: HTMLElement = document.createElement('div');\r\n      wrapper.innerHTML = serializedCanvas;\r\n\r\n      const rows: NodeListOf<Element> = wrapper.querySelectorAll('[data-sp-canvascontrol]');\r\n      const rowLength: number = rows.length;\r\n      for (let i: number = 0; i < rowLength; ++i) {\r\n        const row: Element = rows[i];\r\n        const controlProps: ISerializedCanvasControl = JSON.parse(decodeURI(row.getAttribute('data-sp-controldata')));\r\n        controlProps.displayMode = this._displayMode;\r\n        this._addControl(i, controlProps);\r\n      }\r\n    }\r\n  }\r\n\r\n  public reclaimFocus(): void {\r\n    this._controls.get(this._selectedControlId).focus();\r\n  }\r\n\r\n  /**\r\n   * If needed, scrolls element into view after the element is added to the Canvas.\r\n   * Note: Javascript scrollIntoView is not consistent cross-browser\r\n   *\r\n   * @param type - Specifies whether to scroll if the 'full' web part is visible or a 'partial' part of the web part\r\n   *   is visible\r\n   * @param element - A rendered element inside the Canvas to scroll to\r\n   * @param duration - The length of time the animation should take. Frames are calculated by duration / delta time.\r\n   * @param margin - Optional. Margin to be scrolled into view. If not provided, margin is not scrolled into view\r\n   */\r\n  public scrollIntoView(type: 'full' | 'partial', element: HTMLElement, duration: number, margin: number = 0): void {\r\n    if (!this.scrollableParent || !element) {\r\n      return;\r\n    }\r\n\r\n    const viewportHeight: number = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\r\n    const frameBottom: number = Math.min(viewportHeight, this.scrollableParent.getBoundingClientRect().bottom);\r\n\r\n    const elementClientRect: ClientRect = element.getBoundingClientRect();\r\n\r\n    // 'partial' checks bottom to see if the element is partially hidden after adding, if it is scroll into view\r\n    // 'full checks if the entire web part is hidden, if it is scroll into view\r\n    if ((type === 'partial' ? elementClientRect.bottom : elementClientRect.top) > frameBottom) {\r\n      this._scrollElementIntoView(frameBottom, element, duration, margin);\r\n    }\r\n  }\r\n\r\n  public serialize(): string {\r\n    const body: HTMLElement = document.createElement('div');\r\n    const controlRow: HTMLElement = document.createElement('div');\r\n    controlRow.setAttribute('data-sp-canvascontrol', '');\r\n    const componentIdElement: HTMLElement = document.createElement('div');\r\n    componentIdElement.setAttribute('data-sp-componentId', '');\r\n    const htmlPropertiesElement: HTMLElement = document.createElement('div');\r\n    htmlPropertiesElement.setAttribute('data-sp-htmlproperties', '');\r\n\r\n    for (const control of this._controlsProps) {\r\n      const row: HTMLElement = controlRow.cloneNode() as HTMLElement;\r\n      const controlData: ISerializedCanvasControl = this._controls.get(control.id).serialize();\r\n\r\n      if (control.controlType === CanvasControlType.RTE) {\r\n        row.innerHTML = (controlData as ISPRteProps).innerHTML;\r\n      } else if (control.controlType === CanvasControlType.WebPartZone) {\r\n        const componentId: HTMLElement = componentIdElement.cloneNode() as HTMLElement;\r\n        componentId.textContent = (controlData as IWebPartZoneProps).webPartId;\r\n\r\n        const htmlProperties: HTMLElement = htmlPropertiesElement.cloneNode() as HTMLElement;\r\n        htmlProperties.innerHTML = (controlData as IWebPartZoneProps).webPartData.htmlProperties;\r\n\r\n        row.appendChild(componentId);\r\n        row.appendChild(htmlProperties);\r\n      }\r\n\r\n      row.setAttribute('data-sp-controldata', encodeURI(JSON.stringify(controlData)));\r\n      body.appendChild(row);\r\n    }\r\n\r\n    const wrapper: HTMLElement = document.createElement('div');\r\n    wrapper.appendChild(body);\r\n\r\n    return wrapper.innerHTML;\r\n  }\r\n\r\n  public tryGeneratePreviewImageUrl(): string {\r\n    const webpartIds: string[] = [];\r\n\r\n    for (const control of this._controlsProps) {\r\n      if (control.controlType === CanvasControlType.WebPartZone) {\r\n        webpartIds.push(control.id);\r\n      }\r\n    }\r\n\r\n    return this.webPartManager.tryGeneratePreviewImageUrl(webpartIds);\r\n  }\r\n\r\n  private _addControl(row: number, itemProps: ISerializedCanvasControl): void {\r\n    if (!itemProps.id) {\r\n      itemProps.id = Guid.newGuid().toString();\r\n    }\r\n\r\n    if (\r\n      itemProps.controlType === CanvasControlType.WebPartZone &&\r\n      !(itemProps as IWebPartZoneProps).webPartManifest\r\n    ) {\r\n      const webPartProps: IWebPartZoneProps = itemProps as IWebPartZoneProps;\r\n      webPartProps.webPartManifest = this._getManifestMap().get(webPartProps.webPartId);\r\n    }\r\n\r\n    this._controlsProps.splice(row, 0, itemProps);\r\n  }\r\n\r\n  private _addReference(ref: SPRte | WebPartZone): void {\r\n    if (ref) {\r\n      this._controls.set(ref.props.id, ref);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculates the easing number using the quadratic in-out formula\r\n   */\r\n  private _calculateEasing(time: number, start: number, diff: number, duration: number): number {\r\n    time /= duration / 2;\r\n    if (time < 1) {\r\n      return diff / 2 * time * time + start;\r\n    } else {\r\n      --time;\r\n      return -diff / 2 * (time * (time - 2) - 1) + start;\r\n    }\r\n  }\r\n\r\n  /* tslint:disable:no-any */\r\n  private _getManifestMap(): Map < string, IClientSideWebPartManifest < any >> {\r\n    const tempMap: Map<string, IClientSideWebPartManifest <any>> = new Map<string, IClientSideWebPartManifest<any>>();\r\n    const manifests: IClientSideWebPartManifest < any > [] = this._webPartManager.getWebParts();\r\n  /* tslint:enable:no-any */\r\n\r\n    for (const manifest of manifests) {\r\n      tempMap.set(manifest.id, manifest);\r\n    }\r\n\r\n    return tempMap;\r\n  }\r\n\r\n  private _pollActiveElement(): void {\r\n    const activeElement: Element = document.activeElement;\r\n    if (activeElement.tagName !== 'IFRAME') {\r\n      window.clearInterval(this._pollId);\r\n    } else if (this._oldActiveElement !== activeElement && this._hoveredControlId) {\r\n      this._oldActiveElement = activeElement;\r\n      this.selectedControlId = this._hoveredControlId;\r\n    }\r\n  }\r\n\r\n  private _scroll(start: number, end: number, duration: number, time: number = 0): void {\r\n    const diff: number = end - start;\r\n    const deltaTime: number = 20;\r\n\r\n    if (time < duration) {\r\n      requestAnimationFrame(() => {\r\n        time += deltaTime;\r\n        this.scrollableParent.scrollTop = this._calculateEasing(time, start, diff, duration);\r\n        this._scroll(start, end, duration, time);\r\n      });\r\n    }\r\n  }\r\n\r\n  private _scrollElementIntoView(frameBottom: number, element: HTMLElement, duration: number, margin: number): void {\r\n    const elementClientRect: ClientRect = element.getBoundingClientRect();\r\n    const scrollPosition: number = elementClientRect.bottom - this.canvasElement.getBoundingClientRect().top;\r\n\r\n    const frameTop: number = Math.max(0, this.scrollableParent.getBoundingClientRect().top);\r\n    const offset: number = frameTop - frameBottom + this._scrollThreshold + margin;\r\n\r\n    const newScrollTop: number = scrollPosition + offset + this._scrollThreshold;\r\n\r\n    this._scroll(this.scrollableParent.scrollTop, newScrollTop, duration);\r\n  }\r\n\r\n  private _notifyChanged(): void {\r\n    if (this._handleCanvasChanged) {\r\n      this._handleCanvasChanged();\r\n    }\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/canvas/canvasComponent/CanvasStore.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Web part host for the SP Canvas.\r\n */\r\n\r\nimport {\r\n  ServiceScope,\r\n  Environment,\r\n  environmentServiceKey\r\n} from '@microsoft/sp-client-base';\r\n\r\nimport IWebPartHost from '../../../../common/webParts/IWebPartHost';\r\nimport { WebPartConfigurationEvent } from '../../../../common/webParts/PropertyPaneDefinitions';\r\n\r\n/**\r\n * CanvasWebPartHost is the IWebPartHost implementation used by the Canvas. Each Canvas\r\n * will instantiate their own CanvasWebPartHost, which means the web parts are scoped by\r\n * Canvas.\r\n */\r\nexport default class CanvasWebPartHost implements IWebPartHost {\r\n  private _handleCanvasChanged: () => void;\r\n  private _handleResize: (element: HTMLElement, duration: number, margin?: number) => void;\r\n  private _reclaimFocus: () => void;\r\n  private _serviceScope: ServiceScope;\r\n  private _environment: Environment;\r\n\r\n  /**\r\n   * @param handleCanvasChanged - Optional. Callback invoked when web parts are interacted with.\r\n   */\r\n  constructor(\r\n    serviceScope: ServiceScope,\r\n    handleResize: (element: HTMLElement, duration: number, margin?: number) => void,\r\n    handleCanvasChanged?: () => void,\r\n    reclaimFocus?: () => void) {\r\n    this._handleCanvasChanged = handleCanvasChanged;\r\n    this._handleResize = handleResize;\r\n    this._reclaimFocus = reclaimFocus;\r\n    this._serviceScope = serviceScope;\r\n\r\n    this.webPartConfigurationEventCallback = this.webPartConfigurationEventCallback.bind(this);\r\n\r\n    serviceScope.whenFinished(() => {\r\n      this._environment = serviceScope.consume(environmentServiceKey) as Environment;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @see IWebPartHost\r\n   */\r\n  public get serviceScope(): ServiceScope {\r\n    return this._serviceScope;\r\n  }\r\n\r\n  /**\r\n   * @see IWebPartHost\r\n   */\r\n  public setDirty(wpInstanceId: string): void {\r\n    if (this._handleCanvasChanged) {\r\n      this._handleCanvasChanged();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @see IWebPartHost\r\n   */\r\n  public webPartConfigurationEventCallback(event: WebPartConfigurationEvent): void {\r\n    if (event === WebPartConfigurationEvent.OpenComplete) {\r\n      /*\r\n       * Scroll web part back into with a 500ms animation and\r\n       * 44px additional margin (2 * the _VERTICAL_MARGIN property in CanvasZone)\r\n       */\r\n      this._handleResize(document.querySelector('.CanvasZone--selected') as HTMLElement, 500, 44);\r\n    } else if (event === WebPartConfigurationEvent.CloseComplete || event === WebPartConfigurationEvent.LostFocus) {\r\n      this._reclaimFocus();\r\n    }\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/canvas/canvas/CanvasWebPartHost.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * This file contains code for the ClientSideWebPartManager. The webart host is expected to\r\n * load and manage webparts through the webpart manager APIs.\r\n */\r\n'use strict';\r\n\r\nimport * as lodash from '@microsoft/sp-lodash-subset';\r\nimport spModuleLoader from '@microsoft/sp-module-loader';\r\nimport {\r\n  httpClientServiceKey,\r\n  DisplayMode,\r\n  HttpClient,\r\n  PageContext,\r\n  pageContextServiceKey,\r\n  Validate,\r\n  _ILogSource,\r\n  _LogSource,\r\n  _TraceLogger,\r\n  _PerformanceLogger\r\n} from '@microsoft/sp-client-base';\r\nimport {\r\n  IClientSideComponentManifest,\r\n  IClientSideWebPartManifest,\r\n  IClientSideWebPartManifestInstance } from '@microsoft/sp-module-interfaces';\r\nimport { StringHelper } from '@ms/odsp-utilities-bundle';\r\n\r\nimport BaseClientSideWebPart from './BaseClientSideWebPart';\r\nimport ClientSideWebStatusRenderer from './ClientSideWebPartStatusRenderer';\r\nimport EventAggregator from '../../common/events/EventAggregator';\r\nimport { executeWithoutFailing } from '../../utilities/misc/Utils';\r\nimport { IClientSideWebPartInternal  } from './IClientSideWebPartInternal';\r\nimport IClientSideWebPartStatusRenderer from './../../common/webParts/IClientSideWebPartStatusRenderer';\r\nimport { IEventAggregator } from '../../common/events/IEvent';\r\nimport IWebPartContext from './IWebPartContext';\r\nimport IWebPartData from './IWebPartData';\r\nimport IWebPartEvent from './IWebPartEvent';\r\nimport IWebPartHost from '../../common/webParts/IWebPartHost';\r\nimport IWebPartManagerContext from './IWebPartManagerContext';\r\nimport { PropertyPaneState } from '../../common/webParts/PropertyPaneDefinitions';\r\nimport PropertyPaneController from '../propertyPane/propertyPaneController/propertyPaneController';\r\nimport { _QosMonitor } from '@microsoft/sp-client-base';\r\nimport strings from './loc/Strings.resx';\r\nimport WebPartContext from './WebPartContext';\r\n\r\n/**\r\n * The ClientSideWebPartManager is expected to be the external world interface to client side webparts. Each\r\n * host is expected to create an instance of this class and manage loading of all webparts in that host\r\n * through that one instance. e.g. On one page, if there are multiple Canvas objects, each one could have\r\n * one instance of this class. If the page hosts webparts without the Canvas, then the page can have an\r\n * instance of this class. Overall this class is expected to provide the following purpose:\r\n *\r\n *    - Orchestrates loading of one or more webparts in a host.\r\n *    - It takes care of loading webpart dependencies asynchronously. Each webpart loads completely\r\n *      independently of the other webparts in the host.\r\n *    - Keep a reference to all the loaded webparts and help provide bulk operations on the webparts.\r\n *    - Help manage memory leak type issues in one place.\r\n *    - Integrate the webparts with the PropertyPane and other external entities.\r\n *    - Help troubleshoot webparts during escalations.\r\n *\r\n *     loadWebPart   Load webpart in the provided host container. The host container can be a classic sharepoint page,\r\n *                   modern authoring canvas, or a custom sharepoint page.\r\n *     setDisplayMode    Switch mode of all webparts\r\n *     serialize     Return a serialized context of all webparts\r\n *     raiseEvent    Raise an event to the associated event aggregator\r\n *\r\n */\r\nexport default class ClientSideWebPartManager {\r\n\r\n  /**\r\n   * Dictionary of all the webparts\r\n   */\r\n  private _webparts: Map<string, IClientSideWebPartInternal> = new Map<string, IClientSideWebPartInternal>();\r\n\r\n  /**\r\n   * Host that contains this instance.\r\n   * Note, at the current time there is no support for multiple hostsand the host not is expected to change.\r\n   */\r\n  private _host: IWebPartHost;\r\n\r\n  /*\r\n   * WebPart manager log source\r\n   */\r\n  private _logSource: _ILogSource = _LogSource.create('ClientSideWebPartManager');\r\n\r\n  /**\r\n   * GUID validation regex\r\n   */\r\n  private _guidRegex: RegExp = new RegExp('^[a-z0-9]{8}(-([0-9a-fA-F]){4}){3}-[a-z0-9]{12}$', 'i');\r\n\r\n  /**\r\n   * Reference to the propertypane controller.\r\n   */\r\n  private _propertyPaneController: PropertyPaneController;\r\n\r\n  /**\r\n   * Timer to mark the canvas dirty.\r\n   */\r\n  private _dirtyBitTimer: number;\r\n\r\n  /**\r\n   * If true, webparts have already been fetched.\r\n   */\r\n  private _webpartsHaveBeenFetched: boolean = false;\r\n\r\n  /**\r\n   * Event aggregator instance scoped to this web part manager instance.\r\n   */\r\n  private _eventAggregator: IEventAggregator = new EventAggregator();\r\n\r\n  /**\r\n   * Web part status renderer instance scoped to this web part manager instance.\r\n   */\r\n  private _statusRenderer: IClientSideWebPartStatusRenderer = new ClientSideWebStatusRenderer();\r\n\r\n  /**\r\n   * Page context reference.\r\n   */\r\n  private _pageContext: PageContext;\r\n\r\n  /**\r\n   * Initialize the ClientSideWebPartManager.\r\n   *\r\n   * @param host - Reference to the host object. The host parameter is expetected to contain external\r\n   *        world references. e.g. preloadedPageData, eventAggregator, etc...\r\n   */\r\n  constructor(host: IWebPartHost) {\r\n    Validate.isNotNullOrUndefined(host, 'host');\r\n\r\n    this._host = host;\r\n    this._pageContext = host.serviceScope.consume(pageContextServiceKey);\r\n    this.configureStart = this.configureStart.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Load a webpart in the provided dom element. Does the following steps\r\n   *\r\n   *    - Validate params\r\n   *    - Perform an async import of the bootstrapModule and preLoadModules from the provided manifest\r\n   *    - Instantiate the webpart\r\n   *    - Call the render method on the webpart object\r\n   *\r\n   * @param context - Web part manager context.\r\n   */\r\n  public loadWebPart(context: IWebPartManagerContext): Promise<void> {\r\n    return new Promise<void>((resolve, reject) => {\r\n      this._validateInput(context);\r\n\r\n      // If manifest is null, we should display an error. This can be a legitimate case when the manifest has\r\n      // been deleted or webpart removed from the tenant level repository or the webpart is not being shipped\r\n      // anymore but some page still contains\r\n      // a reference to an instance of that webpart.\r\n      if (!this._validateManifest(context.manifest, context.displayMode)) {\r\n        this.renderError(\r\n          context.domElement,\r\n          new Error(StringHelper.format(strings.ManifestNullError, context.instanceId))\r\n        );\r\n\r\n        return;\r\n      }\r\n\r\n      /* tslint:disable:no-any */\r\n      const manifest: IClientSideWebPartManifest<any> = context.manifest;\r\n      /* tslint:enable:no-any */\r\n      const instanceId: string = context.instanceId;\r\n      const domElement: HTMLElement = context.domElement;\r\n\r\n      // Performance and QOS markers\r\n      const performanceTag: string = this._createWebPartTag(manifest, instanceId);\r\n      const qosMonitor: _QosMonitor = this._createQosMonitor(manifest);\r\n      _PerformanceLogger.addComponent(performanceTag);\r\n      _PerformanceLogger.startMarkForComponent(performanceTag);\r\n\r\n      // Start the loading indicator\r\n      this._statusRenderer.displayLoadingIndicator(\r\n        domElement,\r\n        manifest.preconfiguredEntries[0].title.default.toString());\r\n\r\n      /* tslint:disable:no-any */\r\n      const modulePromise: Promise<any> = spModuleLoader.loadManifestModules(manifest.id);\r\n      /* tslint:enable:no-any */\r\n      if (modulePromise) {\r\n        modulePromise.then(\r\n          /* tslint:disable:no-any */\r\n          (moduleLibrary: any) => {\r\n            _PerformanceLogger.markComponent(performanceTag, 'modulesLoaded');\r\n            /* tslint:enable:no-any */\r\n            this._statusRenderer.clearLoadingIndicator(context.domElement);\r\n\r\n            _TraceLogger.logVerbose(this._logSource, `Successfully loaded modules for webpart ${manifest.id}`);\r\n\r\n            if (!moduleLibrary) {\r\n              throw new Error(strings.UndefinedModule);\r\n            }\r\n\r\n            try {\r\n              /* tslint:disable:no-any */\r\n              let wp: any = moduleLibrary;\r\n              /* tslint:enable:no-any */\r\n\r\n              // If the webpart has a default export, use that.\r\n              if (wp && wp.default) {\r\n                wp = wp.default;\r\n              }\r\n\r\n              if (!wp) {\r\n                const message: string = StringHelper.format(\r\n                  strings.ModuleNotLoaded,\r\n                  manifest.id,\r\n                  manifest.id,\r\n                  this._getLoadedModuleList(moduleLibrary)\r\n                );\r\n\r\n                throw new Error(message);\r\n              }\r\n\r\n              if (typeof (wp) !== 'function' && wp.default) {\r\n                wp = wp.default;\r\n              }\r\n\r\n              if (typeof (wp) !== 'function') {\r\n                throw new Error(StringHelper.format(strings.IncorrectBoostrapModule, manifest.id));\r\n              }\r\n\r\n              const typedWp: IClientSideWebPartInternal = wp as IClientSideWebPartInternal;\r\n\r\n              // @todo: add a mechanism to detect webpart DOM node removal such that if the app\r\n              // is switching between SPA pages, we can make sure webparts are consistently and\r\n              // appropriately disposed. VSO#144986.\r\n              const wpi: IClientSideWebPartInternal = new typedWp(this._getWebPartContext(context));\r\n              this._webparts.set(instanceId, wpi);\r\n\r\n              // Start the dirty bit timer if required\r\n              this._startDirtyBitTimer(context.displayMode);\r\n\r\n              // If the webpart is derived from the base class, we want to enforce a stricter call flow\r\n              // which will lead to simpler webpart code.\r\n              if (this._instanceOfBase(wpi)) {\r\n                // internal render will write out specific failures\r\n                return wpi._internalFirstTimeRender(context.displayMode, qosMonitor, context.webPartData).then(\r\n                  () => {\r\n                    qosMonitor.writeSuccess();\r\n                    _PerformanceLogger.endMarkForComponent(performanceTag);\r\n                    resolve();\r\n                  });\r\n\r\n              } else {\r\n                throw new Error(strings.NonBaseWebPart);\r\n              }\r\n              /* tslint:disable: max-line-length */\r\n            } catch (ex) {\r\n\r\n              const wpi: IClientSideWebPartInternal = this._webparts.get(instanceId);\r\n              if (wpi) {\r\n                executeWithoutFailing(() => { this._statusRenderer.clearLoadingIndicator(domElement); }, this._logSource);\r\n                executeWithoutFailing(() => { wpi._internalDispose(); }, this._logSource);\r\n                executeWithoutFailing(() => { this._webparts.delete(instanceId); }, this._logSource);\r\n              }\r\n\r\n              executeWithoutFailing(() => {\r\n                  qosMonitor.writeUnexpectedFailure('UnhandledLoadError', ex, {'instanceId': instanceId});\r\n                },\r\n                this._logSource);\r\n              this.renderError(domElement, ex);\r\n              reject();\r\n            }\r\n          }).catch(\r\n          (errorMsg: string) => {\r\n            const err: Error = new Error(StringHelper.format(strings.ScriptLoadErrorTemplate, errorMsg));\r\n            executeWithoutFailing(() => {\r\n                qosMonitor.writeUnexpectedFailure('ScriptLoad', err, {'instanceId': instanceId});\r\n              },\r\n              this._logSource);\r\n            this.renderError(domElement, err);\r\n            reject();\r\n          });\r\n        /* tslint:enable: max-line-length */\r\n      } else {\r\n        const error: Error = new Error(`No loader could be found, unable to load webpart ${manifest.id}.`);\r\n        this.renderError(domElement, error);\r\n        reject();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This makes a REST call to load the current site's webparts into the module loader.\r\n   */\r\n  public fetchWebParts(): void {\r\n    interface IResponse {\r\n      value: IResponseValue[];\r\n    }\r\n\r\n    interface IResponseValue {\r\n      Manifest: string;\r\n    }\r\n\r\n    // If the webServerRelativeUrl is missing, or if webparts have already been fetched\r\n    //  we don't have anything to do here.\r\n    if (this._pageContext.web &&\r\n     this._pageContext.web.serverRelativeUrl &&\r\n     !this._webpartsHaveBeenFetched) {\r\n      this._webpartsHaveBeenFetched = true;\r\n      const requestUrl: string = `${this._pageContext.web.serverRelativeUrl}/_api/web/GetClientSideWebParts`;\r\n      this._host.serviceScope.whenFinished(() => {\r\n        const httpClient: HttpClient = this._host.serviceScope.consume(httpClientServiceKey);\r\n        httpClient.get(requestUrl)\r\n              .then((response: Response) => {\r\n                return response.json();\r\n              })\r\n              .then((value: IResponse) => {\r\n                const manifests: IClientSideComponentManifest[] = value.value.map((manifestObject: IResponseValue) =>\r\n                  JSON.parse(manifestObject.Manifest));\r\n                spModuleLoader.importManifests(manifests, /* overwriteExisting */ false);\r\n              })\r\n              .catch((error: Error) => {\r\n                console.error(`Error loading webparts: ${error}`);\r\n                this._webpartsHaveBeenFetched = false;\r\n              });\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get list of active webparts\r\n   *\r\n   * @return {IClientSideWebPartManifest[]}: returns array of manifests\r\n   */\r\n  /* tslint:disable:no-any */\r\n  public getWebParts(): IClientSideWebPartManifest<any>[] {\r\n  /* tslint:enable:no-any */\r\n    const manifests: IClientSideComponentManifest[] = spModuleLoader.getManifests();\r\n\r\n    /* tslint:disable:no-any */\r\n    const result: IClientSideWebPartManifest<any>[] = [];\r\n    /* tslint:enable:no-any */\r\n    if (manifests) {\r\n      for (const manifest of manifests) {\r\n        if (manifest &&\r\n            manifest.componentType === 'WebPart') {\r\n          /* tslint:disable:no-any */\r\n          result.push(manifest as IClientSideWebPartManifest<any>);\r\n          /* tslint:enable:no-any */\r\n        }\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Set the display mode of the specified web part. If no web part id is specified, switch mode of all web parts.\r\n   * If the display mode passed is same as the current mode, no change is applied.\r\n   *\r\n   * @param {DisplayMode} mode: the new DisplayMode\r\n   * @param {string} id: id of the webpart\r\n   */\r\n  public setDisplayMode(mode: DisplayMode, id?: string): void {\r\n    const cb: (wp: IClientSideWebPartInternal) => void = (wp: IClientSideWebPartInternal): void => {\r\n      if (wp) {\r\n        wp._internalSetDisplayMode(mode);\r\n      }\r\n    };\r\n\r\n    if (id) {\r\n      const wp: IClientSideWebPartInternal = this._webparts.get(id);\r\n      if (wp) {\r\n        wp._internalSetDisplayMode(mode);\r\n      }\r\n    } else {\r\n      this._executeForIdsOrAll(undefined, cb);\r\n    }\r\n\r\n    // Start the dirty bit timer if required\r\n    this._startDirtyBitTimer(mode);\r\n  }\r\n\r\n  /**\r\n   * Serialize the specified webparts. If no webparts are specified, serialize all webparts.\r\n   *\r\n   * @param {string[]} ids: Ids of the webparts\r\n   */\r\n  public serialize(ids: string[]): Map<string, IWebPartData> {\r\n    const sd: Map<string, IWebPartData> = new Map<string, IWebPartData>();\r\n    const cb: (wp: IClientSideWebPartInternal, id: string) => void =\r\n      (wp: IClientSideWebPartInternal, id: string): void => {\r\n        if (wp) {\r\n          sd.set(id, wp._internalSerialize());\r\n        }\r\n      };\r\n\r\n    this._executeForIdsOrAll(ids, cb);\r\n    return sd;\r\n  }\r\n\r\n  /**\r\n   * Dispose the specified webparts. If no webparts are specified, dispose all webparts.\r\n   *\r\n   * @param {string[]} ids: Ids of the webparts\r\n   */\r\n  public dispose(ids?: string[]): void {\r\n    const cb: (wp: IClientSideWebPartInternal, id: string) => void =\r\n      (wp: IClientSideWebPartInternal, id: string): void => {\r\n        if (wp) {\r\n          wp._internalDispose();\r\n          this._deleteWebPart(id);\r\n        }\r\n      };\r\n\r\n    this._executeForIdsOrAll(ids, cb);\r\n  }\r\n\r\n  /**\r\n   * Start the web part configuration process.\r\n   *\r\n   * @param id - web part id.\r\n   * @param propertyPaneState - indicates in what state the PropertyPane should be.\r\n   */\r\n  public configureStart(id: string, propertyPaneState: PropertyPaneState = PropertyPaneState.Default): void {\r\n    if (!this._propertyPaneController) {\r\n      this._propertyPaneController =\r\n        new PropertyPaneController(\r\n          (wpId: string) => {\r\n            return this._webparts.get(wpId);\r\n          },\r\n          this._host.webPartConfigurationEventCallback);\r\n    }\r\n\r\n    this._propertyPaneController.configureStart(id, propertyPaneState);\r\n  }\r\n\r\n /**\r\n   * Method to handle the webpart delete action.\r\n   * @param id - id of the webpart which is deleted.\r\n   */\r\n  public onWebPartDelete(id: string): void {\r\n    this._deleteWebPart(id);\r\n  }\r\n\r\n  /**\r\n   * Raise an event to the associated event aggregator\r\n   *\r\n   * @param {string} eventName: Event name, such as 'configure:start'.\r\n   * @param {Event} eventObject: object containing event properties.\r\n   */\r\n  public raiseEvent<T>(eventName: string, event: IWebPartEvent<T>): void {\r\n    this._eventAggregator.raiseEvent<T>(eventName, event);\r\n  }\r\n\r\n  /**\r\n   * Render an error message in the web part container div.  Also logs the error message to the IWebPartHost logger.\r\n   *\r\n   * @param {domElement} domElement: Container div for the webpart\r\n   * @param {Error} error: An error object containing the error message to render.\r\n   * @return {void}\r\n   */\r\n  public renderError(domElement: HTMLElement, error: Error): void {\r\n    executeWithoutFailing(\r\n      () => {\r\n        this._statusRenderer.renderError(domElement, error);\r\n        _TraceLogger.logError(this._logSource, error);\r\n      },\r\n      this._logSource);\r\n  }\r\n\r\n  /*\r\n   * Get the first webpart with preview image url specified\r\n   *\r\n   * @param {string[]} ids: Ids of the webparts\r\n   */\r\n  public tryGeneratePreviewImageUrl(ids: string[]): string {\r\n    let previewImageUrl: string = undefined;\r\n    const cb: (wp: IClientSideWebPartInternal, id: string) => void =\r\n      (wp: IClientSideWebPartInternal, id: string): void => {\r\n        // workaround for typescript targeting es5 only support for...of for array and string\r\n        // also Map does not support some or every\r\n        // @todo: Bug 222340 when switching to es6, use for...of and return after first match\r\n        if (!previewImageUrl) {\r\n          previewImageUrl = wp.previewImageUrl;\r\n        }\r\n      };\r\n    this._executeForIdsOrAll(ids, cb);\r\n\r\n    return previewImageUrl;\r\n  }\r\n\r\n  /**\r\n   * Internal method to validate and process input parameters\r\n   *\r\n   * @param context - provided webpart context\r\n   */\r\n  private _validateInput(context: IWebPartManagerContext): void {\r\n    Validate.isNotNullOrUndefined(context, 'webpart manager context');\r\n    Validate.isNotNullOrUndefined(context.domElement, 'webpart element');\r\n    Validate.isNotNullOrUndefined(context.instanceId, 'webpart instanceId');\r\n    Validate.isTrue(!this._webparts.get(context.instanceId), 'Duplicate webpart id not allowed');\r\n  }\r\n\r\n  /**\r\n   * Validate the manifest\r\n   *\r\n   * @param {IClientSideWebPartManifest} manifest: webpart manifest\r\n   * @param {DisplayMode} mode: display mode\r\n   * @return true if the manifest is valid\r\n   */\r\n  /* tslint:disable:no-any */\r\n  private _validateManifest(manifest: IClientSideWebPartManifest<any>, mode: DisplayMode): boolean {\r\n  /* tslint:enable:no-any */\r\n    // If the manifest is null, then\r\n    //    In read mode, we throw as the host should never attempt to load the webpart without the manifest.\r\n    //    In edit mode, we should display an error\r\n    if (!manifest) {\r\n      if (mode === DisplayMode.Read) {\r\n        // Note: not localizing this expception on purpose. This is an internal error that users should never see.\r\n        throw new Error('Null manifest. Code should never reach here in Read mode. The host should not attempt to ' +\r\n                        'display the webpart if the manifest is null.');\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // Clone the manifest and then validate the clone. This way we make sure there are no functions and other\r\n    // non-field based types in the manifest\r\n    /* tslint:disable:no-any */\r\n    const cm: IClientSideWebPartManifest<any> = lodash.cloneDeep(manifest);\r\n    /* tslint:enable:no-any */\r\n    /* tslint:disable:triple-equals */\r\n    Validate.isTrue(cm.manifestVersion == 1 || cm.manifestVersion == 2,\r\n                          'Only version 1 manifests are currently supported');\r\n    /* tslint:enable:triple-equals */\r\n    Validate.isTrue(!!cm.id, 'webpart id cannot be null or undefined');\r\n    Validate.isTrue(this._guidRegex.test(cm.id), 'webpart id has to be a GUID');\r\n    Validate.isTrue(!!cm.version, 'webpart version cannot be null or undefined');\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Execute the provided callback for the list of provided webpart ids. If no list if provided,\r\n   * execute the callback on all webparts.\r\n   */\r\n  private _executeForIdsOrAll(ids: string[], cb: (wp: IClientSideWebPartInternal, id: string) => void): void {\r\n    if (ids) {\r\n      ids.forEach((id: string) => {\r\n        const wp: IClientSideWebPartInternal = this._webparts.get(id);\r\n        cb(wp, id);\r\n      });\r\n    } else {\r\n      this._webparts.forEach((wp: IClientSideWebPartInternal, id: string) => {\r\n        cb(wp, id);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate webpart context\r\n   */\r\n  private _getWebPartContext(context: IWebPartManagerContext): IWebPartContext {\r\n\r\n    return new WebPartContext(\r\n      context,\r\n      this._getManifestInstance(context),\r\n      this._host,\r\n      this._statusRenderer,\r\n      this._eventAggregator,\r\n      this.configureStart,\r\n      this._createWebPartTag(context.manifest, context.instanceId));\r\n  }\r\n\r\n  /* tslint:disable:no-any */\r\n  private _instanceOfBase(wpi: any): boolean {\r\n  /* tslint:enable:no-any */\r\n    /* tslint:disable:no-string-literal */\r\n    return wpi instanceof BaseClientSideWebPart || wpi['__type'] === 'BaseClientSideWebPart';\r\n    /* tslint:enable:no-string-literal */\r\n  }\r\n\r\n  private _getLoadedModuleList(moduleLibrary: Object): string {\r\n    let loadedModulesString: string = '';\r\n    for (const m in moduleLibrary) {\r\n      if (moduleLibrary.hasOwnProperty(m)) {\r\n        if (loadedModulesString) {\r\n          loadedModulesString += ',';\r\n        }\r\n        loadedModulesString += `${m}`;\r\n      }\r\n    }\r\n\r\n    return loadedModulesString;\r\n  }\r\n\r\n  /**\r\n   * This is a temporary implementation of updating the host that a webpart has updated properties.\r\n   * Currently we run a timer that regularly checks for updated properties and raises the dirty bit\r\n   * handler to the host. @todo (VSO SPPPLAT#200728) tracks fixing this scenario in a better way.\r\n   */\r\n  private _startDirtyBitTimer(mode: DisplayMode): void {\r\n\r\n    // Clear the timer in read mode\r\n    if (mode === DisplayMode.Read) {\r\n      if (this._dirtyBitTimer) {\r\n        window.clearInterval(this._dirtyBitTimer);\r\n        this._dirtyBitTimer = undefined;\r\n      }\r\n      // If required start the timer in edit mode\r\n    } else if (!this._dirtyBitTimer) {\r\n      const cb: (wp: IClientSideWebPartInternal) => void = (wp: IClientSideWebPartInternal): void => {\r\n        if (wp) {\r\n          wp._internalSetDirtyBit();\r\n        }\r\n      };\r\n\r\n      this._dirtyBitTimer = window.setInterval(() => {\r\n        this._executeForIdsOrAll(undefined, cb);\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Creates a new QosMonitor with a scenario name specific to the web part type.\r\n   */\r\n  /* tslint:disable:no-any */\r\n  private _createQosMonitor(manifest: IClientSideWebPartManifest<any>): _QosMonitor {\r\n  /* tslint:enable:no-any */\r\n    return new _QosMonitor(`WebPart.${manifest.id}`);\r\n  }\r\n\r\n  /**\r\n   * Web part tag is unique per every web part instance.\r\n   */\r\n  /* tslint:disable:no-any */\r\n  private _createWebPartTag(manifest: IClientSideWebPartManifest<any>, instanceId: string): string {\r\n  /* tslint:enable:no-any */\r\n    return `WebPart.${manifest.id}.${instanceId}`;\r\n  }\r\n\r\n  private _deleteWebPart(id: string): void {\r\n    Validate.isNotNullOrUndefined(id, 'id');\r\n\r\n    // Adding this condition because, this method can be called before instantiating\r\n    // propertypanecontroller. Instantiation happens only when user clicks 'ConfigureStart'.\r\n    if (this._propertyPaneController) {\r\n      this._propertyPaneController.onWebPartDelete(id);\r\n    }\r\n    this._webparts.delete(id);\r\n  }\r\n\r\n  /**\r\n   * Temporary fix till we have actual support for the multiple pre-configured entries feature.\r\n   * (SPPPLAT VSO#232724)\r\n   */\r\n  /* tslint:disable:no-any */\r\n  private _getManifestInstance(context: IWebPartManagerContext): IClientSideWebPartManifestInstance<any> {\r\n    const manifest: IClientSideWebPartManifest<any> = context.manifest;\r\n    const manifestClone: IClientSideWebPartManifest<any> = lodash.cloneDeep(manifest);\r\n    delete manifestClone.preconfiguredEntries;\r\n    const manifestInstance: IClientSideWebPartManifestInstance<any> =\r\n      manifestClone as any as IClientSideWebPartManifestInstance<any>;\r\n    /* tslint:enable:no-any */\r\n    lodash.merge(manifestInstance, manifest.preconfiguredEntries[0]);\r\n    return manifestInstance;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/ClientSideWebPartManager.ts\n **/","import * as Combokeys from 'combokeys';\r\nimport { ISPModuleLoader } from './SPModuleLoader';\r\nimport { IClientSideComponentManifest } from '@microsoft/sp-module-interfaces';\r\n\r\n/* tslint:disable:no-any */\r\nlet importableSpModuleLoader: ISPModuleLoader = (window as any).spModuleLoader as ISPModuleLoader;\r\n/* tslint:enable:no-any */\r\n\r\n// Return a dummy module loader if the module loader isn't present on the page. This occurs during unit tests.\r\nif (!importableSpModuleLoader) {\r\n  importableSpModuleLoader = {\r\n    combokeys: undefined,\r\n\r\n    loadScript: (): Promise<void> => Promise.reject(new Error('Module loader not present')),\r\n\r\n    loadStandardLibraryModule: (): Promise<void> => Promise.reject(new Error('Module loader not present')),\r\n\r\n    loadManifestModules: (): Promise<void> => Promise.reject(new Error('Module loader not present')),\r\n\r\n    importManifests: (): void => { throw new Error('Module loader not present'); },\r\n\r\n    forceLoadDebugManifests: (): Promise<void> => { throw new Error('Module loader not present'); },\r\n\r\n    getManifests: (): IClientSideComponentManifest[] => [],\r\n\r\n    loadCss: (): void => { throw new Error('Module loader not present'); }\r\n  };\r\n}\r\n\r\nexport const combokeys: typeof Combokeys = importableSpModuleLoader ? importableSpModuleLoader.combokeys : undefined;\r\n\r\nexport default importableSpModuleLoader;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/importableSpModuleLoader.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n */\r\n'use strict';\r\n\r\nimport { StringHelper } from '@ms/odsp-utilities-bundle';\r\nimport { Validate } from '@microsoft/sp-client-base';\r\n\r\nimport IClientSideWebPartStatusRenderer from '../../common/webParts/IClientSideWebPartStatusRenderer';\r\nimport strings from './loc/Strings.resx';\r\nimport styles from './styles/cswp-base.module.scss';\r\n\r\n/**\r\n * This class provides the default implementation for displaying loading indicator and error messages\r\n * for webparts. The webpart host can decide to provide custom implemenation of how webparts display\r\n * loading indicators and error messages.\r\n */\r\nexport default class ClientSideWebPartStatusRenderer implements IClientSideWebPartStatusRenderer {\r\n\r\n  private _loadingIndicatorId: string = 'cswp-loading-indicator';\r\n  private _loadingIndicatorHtml: string;\r\n  private _errorId: string = 'cswp-error';\r\n  private _errorHtml: string;\r\n\r\n  /**\r\n   * Display a loading spinner.\r\n   * @param domElement - the webpart container div.\r\n   * @param loadingMessage - the message to be displayed when the loading spinner id displayed.\r\n   */\r\n  public displayLoadingIndicator(domElement: HTMLElement, loadingMessage: string): void {\r\n    Validate.isNotNullOrUndefined(domElement, 'domElement');\r\n\r\n    domElement.classList.add('cswp-loading');\r\n\r\n    if (!this._loadingIndicatorHtml) {\r\n\r\n      let html: string =\r\n        `<div data-sp-id='${this._loadingIndicatorId}' class='cswp-loading-spinner'>` +\r\n        `<div dir='ltr' class='cswp-loading-spinner-container cswp-small-spinner'>` +\r\n        `<div class='cswp-loading-spinner cswp-loading-spinner-animation'>`;\r\n\r\n      for (let i: number = 0; i < 8; i++) {\r\n        html += `<div class='cswp-loading-ball cswp-loading-ball-color'></div>`;\r\n      }\r\n\r\n      html +=\r\n        `</div></div><div class='cswp-spinner-message'>` + StringHelper.format(strings.LoadingStatus, '') +\r\n        `</div><div class='cswp-loading-screenReaderOnly' role='alert' aria-live='polite'>` +\r\n        StringHelper.format(strings.LoadingStatus, loadingMessage) +\r\n        `</div></div>`;\r\n\r\n      this._loadingIndicatorHtml = html;\r\n    }\r\n\r\n    domElement.innerHTML = this._loadingIndicatorHtml;\r\n  }\r\n\r\n  /**\r\n   * Clear the loading indicator.\r\n   * @param domElement - the webpart container div.\r\n   */\r\n  public clearLoadingIndicator(domElement: HTMLElement): void {\r\n    Validate.isNotNullOrUndefined(domElement, 'domElement');\r\n\r\n    const divMsg: HTMLDivElement =\r\n      domElement.querySelector(`div[data-sp-id='${this._loadingIndicatorId}']`) as HTMLDivElement;\r\n\r\n    if (divMsg) {\r\n      domElement.removeChild(divMsg);\r\n    }\r\n\r\n    domElement.classList.remove('cswp-loading');\r\n    domElement.classList.add('cswp');\r\n  }\r\n\r\n  /**\r\n   * Render the provided error message in the webpart container div.\r\n   * @param domElement - the webpart container div.\r\n   * @param error - the error message.\r\n   */\r\n  public renderError(domElement: HTMLElement, error: Error | string): void {\r\n    Validate.isNotNullOrUndefined(domElement, 'domElement');\r\n    Validate.isNotNullOrUndefined(error, 'error');\r\n\r\n    let divErr: HTMLDivElement =\r\n      domElement.querySelector(`div[data-sp-id='${this._errorId}']`) as HTMLDivElement;\r\n\r\n    if (divErr) {\r\n      divErr.style.display = 'block';\r\n    } else {\r\n\r\n      if (!this._errorHtml) {\r\n        this._errorHtml =\r\n          `<div class='${styles.errorBox}' role='alert' aria-live='assertive'>` +\r\n          `<span class='${styles.errorBoxText}'></span>` +\r\n          `</div>`;\r\n      }\r\n\r\n      divErr = document.createElement('div') as HTMLDivElement;\r\n      divErr.setAttribute('data-sp-id', this._errorId);\r\n      divErr.innerHTML = this._errorHtml;\r\n      domElement.appendChild(divErr);\r\n    }\r\n\r\n    const text: HTMLSpanElement = divErr.getElementsByTagName('span')[0] as HTMLSpanElement;\r\n    text.textContent = (DEBUG && (error as Error).stack)\r\n      ? (error as Error).stack\r\n      : (error as Error).message || error as string;\r\n  }\r\n\r\n  /**\r\n   * Clear the webpart error message.\r\n   * @param domElement - the webpart container div.\r\n   */\r\n  public clearError(domElement: HTMLElement): void {\r\n    Validate.isNotNullOrUndefined(domElement, 'domElement');\r\n\r\n    const divErr: HTMLDivElement =\r\n      domElement.querySelector(`div[data-sp-id='${this._errorId}']`) as HTMLDivElement;\r\n\r\n    if (divErr) {\r\n      divErr.style.display = 'none';\r\n    }\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/ClientSideWebPartStatusRenderer.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * Utility code that does not fit in any other bucket.\r\n */\r\n\r\nimport { Validate, _ILogSource, _TraceLogger } from '@microsoft/sp-client-base';\r\n\r\n/**\r\n * Execute the passed in delegate with a guarantee that no exception will leak out.\r\n * Do not use this normally. Only in error handling scenarios where you would like\r\n * to be defesive.\r\n * @param {method} method to execute\r\n * @apram {logSource} log source\r\n */\r\n/* tslint:disable:export-name */\r\nexport function executeWithoutFailing(method: () => void, logSource: _ILogSource): void {\r\n  /* tslint:enable:export-name */\r\n  Validate.isNotNullOrUndefined(method, 'method');\r\n\r\n  try {\r\n    method();\r\n  } catch (e) {\r\n    // Defensive code as this method should never ever throw\r\n    if (logSource) {\r\n      _TraceLogger.logError(logSource, new Error('Error: ' + e));\r\n    }\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/utilities/misc/Utils.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file  This file contains code to help control the web part PropertyPane\r\n */\r\n'use strict';\r\n\r\nimport ReactDOM = require('react-dom');\r\nimport React = require('react');\r\nimport { Validate } from '@microsoft/sp-client-base';\r\n\r\nimport {\r\n  PropertyPaneState,\r\n  WebPartConfigurationEvent,\r\n  IWebPartConfigurationEventCallback } from '../../../common/webParts/PropertyPaneDefinitions';\r\nimport { IClientSideWebPartInternal }from '../../core/IClientSideWebPartInternal';\r\nimport { IPropertyPaneData } from '../propertyPane/IPropertyPane';\r\nimport PropertyPane from '../propertyPane/PropertyPane';\r\nimport styles from './PropertyPaneController.module.scss';\r\n\r\n/**\r\n * This is to ensure we get the Strings as part of our bundle. As the webpack's require.ensure is not\r\n * recognizing the external module, referenced in the Strings. Hence, loading this module in the\r\n * base module which will internally load the external module, and make it available before the\r\n * require.ensure is called. Potential bug in webpack(VSO# 205556).\r\n */\r\nrequire('../loc/Strings.resx');\r\n\r\n/**\r\n * @todo: (SPPPLAT VSO#186293) After adding require.ensure for creating the PropertyPane async bundle,\r\n * this line is required because the PropertyPane depends on office-ui-react-fabric. This is a known\r\n * problem and will be investigated as a part of the bug mentioned above.\r\n */\r\nrequire('office-ui-fabric-react');\r\n\r\n/**\r\n * Type definition of the web part getter delegate.\r\n */\r\nexport interface IWebPartGetter { (id: string): IClientSideWebPartInternal; }\r\n\r\n/*\r\n * This class helps control the web part configuration PropertyPane. The web part framework comes with an inbuilt\r\n * PropertyPane. The web part developer should be able to use this PropertyPane with ease. Alternatively, the web part\r\n * developer can also create their own configuration pane if they do not like the functionality provided by the inbuilt\r\n * PropertyPane.\r\n */\r\nexport default class PropertyPaneController {\r\n\r\n  /**\r\n   * PropertyPane animation timeout (in milliseconds).\r\n   */\r\n  private static ANIMATION_TIMEOUT: number = 400;\r\n\r\n  /**\r\n   * PropertyPane configuration complete timeout for Reactive webparts (in milliseconds).\r\n   */\r\n  private static CONFIGURATION_COMPLETE_TIMEOUT: number = 5000;\r\n\r\n  /**\r\n   * PropertyPane container id.\r\n   */\r\n  private static PROPERTY_PANE_CONTAINER_ID: string = 'spPropertyPaneContainer';\r\n\r\n  /**\r\n   * PropertyPane data of the web part currently being configured.\r\n   */\r\n  private _currentPropertyPaneData: IPropertyPaneData;\r\n\r\n  /**\r\n   * Indicating whether the PropertyPane is open or not.\r\n   */\r\n  private _isOpen: boolean;\r\n\r\n  /**\r\n   * Id of the web part being configured.\r\n   */\r\n  private _currentlyConfiguredWebPartId: string;\r\n\r\n  /**\r\n   * Page content DOM element, which is the sibling of the PropertyPane container element. If available, this element\r\n   * will be animated in and out as the PropertyPane opens and closes.\r\n   */\r\n  private _pageContentElement: HTMLElement;\r\n\r\n  /**\r\n   * PropertyPane container DOM element on the host page.\r\n   */\r\n  private _propertyPaneContainer: HTMLElement;\r\n\r\n  /**\r\n   * The root DOM element (div) of the PropertyPane component.\r\n   */\r\n  private _propertyPaneElement: HTMLDivElement;\r\n\r\n  /**\r\n   * Method to get a web part instance.\r\n   */\r\n  private _webPartGetter: IWebPartGetter;\r\n\r\n  /**\r\n   * Configuration completion timeout\r\n   */\r\n  private _configurationCompletionTimeout: number;\r\n\r\n  /**\r\n   * PropertyPane lifecycle event callback (e.g. OpenComplete, CloseComplete, etc...).\r\n   */\r\n  private _configurationEventCallback: IWebPartConfigurationEventCallback;\r\n\r\n  /**\r\n   * @todo: This should be removed once the task (SPPPLAT VSO#222337) is completed.\r\n   */\r\n  private _workbenchCommandBarElement: HTMLDivElement;\r\n\r\n  /**\r\n   * Instantiates the PropertyPaneController object.\r\n   *\r\n   * @param webPartGetter - delegate to get the web part.\r\n   * @param callback - callback to be called when a configuration event happens.\r\n   */\r\n  constructor(webPartGetter: IWebPartGetter, callback?: IWebPartConfigurationEventCallback) {\r\n    Validate.isNotNullOrUndefined(webPartGetter, 'webPartGetter');\r\n\r\n    this._webPartGetter = webPartGetter;\r\n    this._configurationEventCallback = callback;\r\n\r\n    // method bindings\r\n    this._onPropertyChange = this._onPropertyChange.bind(this);\r\n    this._onPropertyPaneSave = this._onPropertyPaneSave.bind(this);\r\n    this._onPropertyPaneClose = this._onPropertyPaneClose.bind(this);\r\n    this._onPropertyPaneLostFocus = this._onPropertyPaneLostFocus.bind(this);\r\n    this._fireConfigurationCompleteEvent = this._fireConfigurationCompleteEvent.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Start configuring a web part. If the web part implements the configureStart API, this implies that the\r\n   * web part wants to own its configuration experience.  If the web part does not implenent that API,\r\n   * the inbuilt PropertyPane is used and there are the following conditions:\r\n   *\r\n   *   - propertyPaneState is Open and then open the PropertyPane.\r\n   *   - propertyPaneState is Close and then close the PropertyPane.\r\n   *   - propertyPaneState is Toggle and the PropertyPane is closed: in this case we open the PropertyPane and\r\n   *       start the configuration process. This should happen on web part configure button being clicked.\r\n   *   - propertyPaneState is Toggle and the PropertyPane is opened: in this case, if the web part id\r\n   *       is that of a different web part than being currently configured, we keep the PropertyPane open\r\n   *       and change the web part being configured.\r\n   *   - propertyPaneState is Default and the PropertyPane is closed: do nothing\r\n   *   - propertyPaneState is Default and the PropertyPane is opened: change the PropertyPane to display the\r\n   *       settings of the newly selected web part. This should happen when the user navigates between web parts.\r\n   *\r\n   * @param id - instance id of the web part.\r\n   * @param propertyPaneState - indicates in what state the PropertyPane should be.\r\n   */\r\n  public configureStart(\r\n    id: string,\r\n    propertyPaneState?: PropertyPaneState): void {\r\n\r\n    if (id !== this._currentlyConfiguredWebPartId && this._isCurrentlyConfiguredPropertyPaneReactive()) {\r\n      this._fireConfigurationCompleteEvent();\r\n    }\r\n\r\n    if (propertyPaneState === PropertyPaneState.Close) {\r\n      if (this._isOpen) {\r\n        this._toggleProperyPanePosition();\r\n      }\r\n    } else {\r\n      // 'id' can be 'undefined'. It happens when user selects RTE.\r\n      // When 'id' is 'undefined' then 'wp' will be 'undefined'. In that case we render empty PropertyPane.\r\n      if (id) {\r\n        const toBeConfiguredWebPart: IClientSideWebPartInternal = this._webPartGetter(id);\r\n        this._resolvePropertyPaneElements();\r\n        this._configureStart(toBeConfiguredWebPart, id, propertyPaneState);\r\n      } else {\r\n        this._configureStart(undefined, id, propertyPaneState);\r\n      }\r\n    }\r\n\r\n    this._currentlyConfiguredWebPartId = id;\r\n  }\r\n\r\n  /**\r\n   * Make the PropertyPane disappear when the web part being configured is deleted from the page.\r\n   *\r\n   * @param id - Instance id of the web part.\r\n   */\r\n  public onWebPartDelete(id: string): void {\r\n    Validate.isNonemptyString(id, 'id');\r\n\r\n    if (id === this._currentlyConfiguredWebPartId) {\r\n      if (this._isOpen) {\r\n        this._renderPropertyPane(undefined, true);\r\n      }\r\n\r\n      this._currentlyConfiguredWebPartId = undefined;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Method to render the PropertyPane.\r\n   *\r\n   * @param currentWebpart - Current web part for which the PropertyPane is to be displayed.\r\n   * @param shouldRecreatePropertyPaneElement - Indicating whether PropertyPane should be recreated or not.\r\n   * @param resetPropertyPaneState - Indicating whether PropertyPane state should be reset.\r\n   */\r\n  private _renderPropertyPane(\r\n    currentWebpart: IClientSideWebPartInternal,\r\n    shouldRecreatePropertyPaneElement?: boolean,\r\n    resetPropertyPaneState?: boolean): void {\r\n\r\n    // @todo: (SPPPLAT VSO#188120) Disabling for now due to webpack async loading bugs.\r\n    // Load the PropertyPane asynchronously in a separate bundle.\r\n    require.ensure([], (require: <T>(path: string) => T) => {\r\n      const propertyPane: typeof PropertyPane =\r\n        require('../propertyPane/PropertyPane')['default'];\r\n\r\n      this._currentPropertyPaneData = currentWebpart ?\r\n        currentWebpart._internalGetPropertyPaneSettings() : this._getEmptyPropertyPaneData();\r\n\r\n      // PropertyPane is rendered only when the web part supplies the settings for the\r\n      // PropertyPane. If there are no settings to be displayed, we empty the PropertyPane\r\n      // container and toggle back if the pane is already open.\r\n      // We will re-visit this logic, once the decission is made, as to what to needs to be done.\r\n      if (this._currentPropertyPaneData) {\r\n        // Only if this flag is true, re-insert the PropertyPane element into the DOM.\r\n        let insertIntoDom: boolean = false;\r\n\r\n        if (shouldRecreatePropertyPaneElement) {\r\n          // Recreating the PropertyPane. This will enable the PropertyPane to be in a valid state.\r\n          if (!this._propertyPaneElement) {\r\n            this._propertyPaneElement = document.createElement('div');\r\n            insertIntoDom = true;\r\n          }\r\n        }\r\n\r\n        if (currentWebpart) {\r\n          this._propertyPaneElement.className = this._currentPropertyPaneData.webPartId;\r\n          this._currentPropertyPaneData.onPropertyChange = this._onPropertyChange;\r\n          this._currentPropertyPaneData.onSave = this._onPropertyPaneSave;\r\n          this._currentPropertyPaneData.onClose = this._onPropertyPaneClose;\r\n          this._currentPropertyPaneData.onLostFocus = this._onPropertyPaneLostFocus;\r\n          this._currentPropertyPaneData.render = () => { this._render(); };\r\n          this._currentPropertyPaneData.shouldResetState = resetPropertyPaneState;\r\n        }\r\n\r\n        const el: React.ReactElement<{}> = React.createElement(propertyPane, { data: this._currentPropertyPaneData });\r\n        ReactDOM.render(el, this._propertyPaneElement);\r\n\r\n        // If the consumer app provides a container div, the PropertyPane will slide-in/out.\r\n        // Else, the PropertyPane will be a popup and overlay over the content area.\r\n        // Further, if not required, do not re-insert the element into dom.\r\n        if (this._propertyPaneContainer) {\r\n          if (insertIntoDom) {\r\n            this._clearPropertyPaneContainer();\r\n            this._propertyPaneContainer.appendChild(this._propertyPaneElement);\r\n          }\r\n\r\n          if (!this._isOpen) {\r\n            this._toggleProperyPanePosition();\r\n          }\r\n        } else {\r\n          if (insertIntoDom) {\r\n            document.body.insertBefore(this._propertyPaneElement, document.body.lastChild.nextSibling);\r\n          }\r\n        }\r\n      }\r\n    }, 'sp-client-preview-propertypane');\r\n  }\r\n\r\n  /**\r\n   * Internal configure start.\r\n   * @param wp - Web part to be configured.\r\n   * @param id - Instance id of the web part to be configured.\r\n   * @param propertyPaneState - State of the PropertyPane.\r\n   */\r\n  private _configureStart(\r\n    wp: IClientSideWebPartInternal,\r\n    id: string,\r\n    propertyPaneState?: PropertyPaneState): void {\r\n\r\n    switch (propertyPaneState) {\r\n      case PropertyPaneState.Open:\r\n        this._renderPropertyPane(wp, true, true);\r\n        break;\r\n\r\n      case PropertyPaneState.Close:\r\n        if (this._isOpen) {\r\n          this._renderPropertyPane(undefined);\r\n          this._toggleProperyPanePosition();\r\n        }\r\n        break;\r\n\r\n      case PropertyPaneState.Toggle:\r\n        if (!this._isOpen) {\r\n          this._renderPropertyPane(wp, true, true);\r\n        } else {\r\n          this._renderPropertyPane(undefined);\r\n          this._toggleProperyPanePosition();\r\n        }\r\n        break;\r\n\r\n      case PropertyPaneState.Default:\r\n        if (this._isOpen) {\r\n          this._renderPropertyPane(wp, true, true);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Allow the PropertyPane to re-render itself. Used when navigating pages.\r\n   */\r\n  private _render(): void {\r\n    const wp: IClientSideWebPartInternal = this._webPartGetter(this._currentPropertyPaneData.webPartId);\r\n\r\n    if (wp) {\r\n      this._renderPropertyPane(wp);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * PropertyPane field change event handler.\r\n   *\r\n   * @param propertyName - Name of the PropertyPane field changed.\r\n   * @param newValue - New value.\r\n   */\r\n  /* tslint:disable:no-any */\r\n  private _onPropertyChange(propertyName: string, newValue: any): void {\r\n    /* tslint:enable:no-any */\r\n    Validate.isNonemptyString(propertyName, 'propertyName');\r\n    Validate.isNotNullOrUndefined(newValue, 'newValue');\r\n\r\n    if (!this._currentPropertyPaneData.webPartId) {\r\n      throw new Error('onPropertyChange event is not expected when no web part is being configured');\r\n    }\r\n\r\n    const wp: IClientSideWebPartInternal = this._webPartGetter(this._currentPropertyPaneData.webPartId);\r\n\r\n    if (wp) {\r\n      /* tslint:disable:no-any */\r\n      (wp as any).onPropertyChange(propertyName, newValue);\r\n      /* tslint:enable:no-any */\r\n      this._renderPropertyPane(wp);\r\n    }\r\n\r\n    if (this._isCurrentlyConfiguredPropertyPaneReactive()) {\r\n      this._resetConfigurationCompleteTimeout();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Method to handle PropertyPane close.\r\n   */\r\n  private _onPropertyPaneClose(): void {\r\n    this._toggleProperyPanePosition();\r\n\r\n    if (this._isCurrentlyConfiguredPropertyPaneReactive()) {\r\n      this._fireConfigurationCompleteEvent();\r\n    }\r\n  }\r\n\r\n  private _onPropertyPaneLostFocus(): void {\r\n    if (this._configurationEventCallback) {\r\n      this._configurationEventCallback(WebPartConfigurationEvent.LostFocus);\r\n    }\r\n\r\n    if (this._isCurrentlyConfiguredPropertyPaneReactive()) {\r\n      this._fireConfigurationCompleteEvent();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Method to handle PropertyPane save.\r\n   */\r\n  private _onPropertyPaneSave(): void {\r\n    const wp: IClientSideWebPartInternal = this._webPartGetter(this._currentPropertyPaneData.webPartId);\r\n\r\n    if (wp) {\r\n      // @todo: (SPPPLAT VSO#200681) This is a temporary fix, as we do not have 'intenal' scope identifier.\r\n      /* tslint:disable:no-any */\r\n      (wp as any).onPropertyPaneSave();\r\n      (wp as any).onPropertyConfigurationComplete();\r\n      /* tslint:enable:no-any */\r\n\r\n      // Firing configurationcompleteevent for host awareness.\r\n      this._fireConfigurationCompleteEvent();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Slide-in/out the PropertyPane\r\n   * @param shouldPaneOpen - indicates whether the proeprty pane should open or not.\r\n   */\r\n  private _toggleProperyPanePosition(): void {\r\n\r\n    if (this._isOpen) {\r\n      if (this._pageContentElement) {\r\n        this._pageContentElement.classList.remove(styles.shrinkContent);\r\n      } else {\r\n        /**\r\n         * If there is no page content element, then it means that it is classic page. So unmounting\r\n         * the PropertyPane node, because for some reason PropertyPane is not respecting PropertyPaneContainer\r\n         * styles.\r\n         *\r\n         *  This is a temporary fix, to unblock public preview. Permanent fix will be checked in soon.\r\n         * TODO: (SPPPLAT VSO: Bug 237945:Fix the PropertyPane rendering on the classic page)\r\n         */\r\n        ReactDOM.unmountComponentAtNode(this._propertyPaneElement);\r\n      }\r\n\r\n      if (this._workbenchCommandBarElement) {\r\n        this._workbenchCommandBarElement.classList.remove(styles.shrinkContent);\r\n      }\r\n\r\n      this._propertyPaneContainer.classList.remove(styles.showPane);\r\n    } else {\r\n      if (this._pageContentElement) {\r\n        this._pageContentElement.classList.add(styles.shrinkContent);\r\n      } else {\r\n        /**\r\n         * If there is no page content element, then it means that it is classic page. So unmounting\r\n         * the PropertyPane node, because for some reason PropertyPane is not respecting PropertyPaneContainer\r\n         * styles.\r\n         *\r\n         *  This is a temporary fix, to unblock public preview. Permanent fix will be checked in soon.\r\n         * TODO: (SPPPLAT VSO: Bug 237945:Fix the PropertyPane rendering on the classic page)\r\n         */\r\n        this._propertyPaneContainer.style.top = '50px';\r\n        this._propertyPaneContainer.style.zIndex = '999';\r\n      }\r\n\r\n      if (this._workbenchCommandBarElement) {\r\n        this._workbenchCommandBarElement.classList.add(styles.shrinkContent);\r\n      }\r\n\r\n      this._propertyPaneContainer.classList.add(styles.showPane);\r\n    }\r\n\r\n    this._isOpen = !this._isOpen;\r\n\r\n    if (this._configurationEventCallback) {\r\n      // @todo: this is a temporary fix to let the host (e.g. Canvas) know that the PropertyPane has completed\r\n      // animating. The current PropertyPane animation is 367ms and hence the 400ms timeout. The correct fix is\r\n      // to hookup to the animation end event.\r\n      window.setTimeout(() => {\r\n        this._configurationEventCallback(\r\n          this._isOpen\r\n            ? WebPartConfigurationEvent.OpenComplete\r\n            : WebPartConfigurationEvent.CloseComplete);\r\n      },\r\n        PropertyPaneController.ANIMATION_TIMEOUT);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Private method to resolve the elements, which are used in slide in slide out effect.\r\n   */\r\n  private _resolvePropertyPaneElements(): void {\r\n    const workbenchElement: HTMLDivElement = document.getElementById('workbenchPageContent') as HTMLDivElement;\r\n\r\n    // TODO: (SPPPLAT VSO#222337) - Refactor Workbench page layout\r\n    if (workbenchElement) {\r\n      this._pageContentElement = workbenchElement;\r\n      this._workbenchCommandBarElement = document.getElementById('workbenchCommandBar') as HTMLDivElement;\r\n    } else {\r\n      this._pageContentElement = document.getElementById('spPageChromeAppDiv') as HTMLDivElement;\r\n    }\r\n\r\n    // All modern apps should have the spPageChromeAppDiv. If not, then we should treat like the Classic page scenario.\r\n    // i.e.the container div should be hanging off the root node. And we should create it only the first time.\r\n    if (!this._pageContentElement) {\r\n      if (!this._propertyPaneContainer) {\r\n        this._propertyPaneContainer = document.createElement('div');\r\n        this._propertyPaneContainer.id = PropertyPaneController.PROPERTY_PANE_CONTAINER_ID;\r\n        this._propertyPaneContainer.className = PropertyPaneController.PROPERTY_PANE_CONTAINER_ID;\r\n        document.body.appendChild(this._propertyPaneContainer);\r\n      }\r\n    } else {\r\n      this._propertyPaneContainer = document.getElementById(PropertyPaneController.PROPERTY_PANE_CONTAINER_ID);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Removes all the children of the PropertyPane container.\r\n   */\r\n  private _clearPropertyPaneContainer(): void {\r\n    while (this._propertyPaneContainer && this._propertyPaneContainer.firstChild) {\r\n      this._propertyPaneContainer.removeChild(this._propertyPaneContainer.firstChild);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Reset configuration completion timeout.\r\n   */\r\n  private _resetConfigurationCompleteTimeout(): void {\r\n    this._clearConfigurationCompleteTimeout();\r\n    this._configurationCompletionTimeout = window.setTimeout(\r\n      this._fireConfigurationCompleteEvent,\r\n      PropertyPaneController.CONFIGURATION_COMPLETE_TIMEOUT);\r\n  }\r\n\r\n  /**\r\n   * Fire configuration completion timeout.\r\n   */\r\n  private _fireConfigurationCompleteEvent(): void {\r\n    this._clearConfigurationCompleteTimeout();\r\n\r\n    // Do this only if there is a web part currently being configured\r\n    if (this._currentlyConfiguredWebPartId) {\r\n\r\n      // Raise an event to the host with the webpart data. This is required by the Classic page scenario\r\n      // in order to serialize the configuration data.\r\n      const wp: IClientSideWebPartInternal = this._webPartGetter(this._currentlyConfiguredWebPartId);\r\n\r\n      if (this._configurationEventCallback) {\r\n        this._configurationEventCallback(\r\n          WebPartConfigurationEvent.ConfigurationComplete,\r\n          wp._internalSerialize());\r\n      }\r\n\r\n      // Raise the configuration complete event to webpart,\r\n      // If there is a web part already configured.\r\n      if (this._currentPropertyPaneData && this._currentPropertyPaneData.onConfigurationComplete) {\r\n        this._currentPropertyPaneData.onConfigurationComplete();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear configuration completion timeout.\r\n   */\r\n  private _clearConfigurationCompleteTimeout(): void {\r\n    if (this._configurationCompletionTimeout) {\r\n      window.clearTimeout(this._configurationCompletionTimeout);\r\n      this._configurationCompletionTimeout = undefined;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Method to check whether the currently configured PropertyPane is reactive or not.\r\n   */\r\n  private _isCurrentlyConfiguredPropertyPaneReactive(): boolean {\r\n    if (this._currentlyConfiguredWebPartId) {\r\n      const currentlyConfiguredWebPart: IClientSideWebPartInternal =\r\n        this._webPartGetter(this._currentlyConfiguredWebPartId);\r\n\r\n      return currentlyConfiguredWebPart._internalGetPropertyPaneSettings().isReactive;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Returns the PropertyPane data which has only 'onClose' defined. This is used when we have to display\r\n   * empty property pane, when there is nothing to configure.\r\n   */\r\n  private _getEmptyPropertyPaneData(): IPropertyPaneData {\r\n    return {\r\n      webPartId: undefined,\r\n      title: undefined,\r\n      shouldResetState: true,\r\n      onPropertyChange: undefined,\r\n      onSave: undefined,\r\n      onClose: this._onPropertyPaneClose,\r\n      onConfigurationComplete: undefined,\r\n      onRendered: undefined,\r\n      onLostFocus: undefined,\r\n      properties: undefined,\r\n      settings: undefined\r\n    };\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneController/PropertyPaneController.ts\n **/","require('PropertyPaneController.module.css');\r\n\r\n/* tslint:disable */\r\nconst styles = {\r\n  propertyPaneContainer: 'propertyPaneContainer_57da50e4',\r\n  showPane: 'showPane_03d1433f',\r\n  shrinkContent: 'shrinkContent_938313ca',\r\n};\r\n\r\nexport default styles;\r\n/* tslint:enable */\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneController/PropertyPaneController.module.scss.ts\n **/","var content = require(\"!!./../../../../../../common/node_modules/css-loader/index.js!./PropertyPaneController.module.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/clientSideWebParts/propertyPane/propertyPaneController/PropertyPaneController.module.css\n ** module id = 209\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"[id^=spPropertyPaneContainer].propertyPaneContainer_57da50e4{position:absolute;top:50px;bottom:0}html[dir=ltr] [id^=spPropertyPaneContainer].propertyPaneContainer_57da50e4{right:-340px}html[dir=rtl] [id^=spPropertyPaneContainer].propertyPaneContainer_57da50e4{left:-340px}html[dir=ltr] [id^=spPropertyPaneContainer].showPane_03d1433f{right:0}html[dir=rtl] [id^=spPropertyPaneContainer].showPane_03d1433f{left:0}html[dir=ltr] [id^=spPageChromeAppDiv].shrinkContent_938313ca{right:340px}html[dir=rtl] [id^=spPageChromeAppDiv].shrinkContent_938313ca{left:340px}html[dir=ltr] [id^=workbenchPageContent].shrinkContent_938313ca{right:340px}html[dir=rtl] [id^=workbenchPageContent].shrinkContent_938313ca{left:340px}html[dir=ltr] [id^=workbenchCommandBar].shrinkContent_938313ca{padding-right:340px}html[dir=rtl] [id^=workbenchCommandBar].shrinkContent_938313ca{padding-left:340px}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/clientSideWebParts/propertyPane/propertyPaneController/PropertyPaneController.module.css\n ** module id = 210\n ** module chunks = 0\n **/"," /* This file was generated by a tool. Modifying it will produce unexpected behavior. */\r\n/* tslint:disable */\r\n\r\nconst strings = UNIT_TEST\r\n                 ? require('../../../../resx-strings/en-us.json')\r\n                 : require('resx-strings');\r\nexport interface IStrings {\r\n  Save: string;\r\n  Close: string;\r\n  SaveConfirmation: string;\r\n  PropertyPaneBackPage: string;\r\n  PropertyPaneNextPage: string;\r\n  PropertyPanePageOfPages: string;\r\n  PropertyPaneTitle: string;\r\n  PropertyPaneEmptyStateDescription: string;\r\n}\r\n\r\nexport default strings['_K8RuMFp89V7G6GfKxZQtOg'] || {} as IStrings;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/loc/Strings.resx.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneField related interfaces.\r\n */\r\n\r\n/**\r\n * PropertyPane field.\r\n */\r\nexport interface IPropertyPaneField<TProperties> {\r\n  /**\r\n   * Type of the PropertyPane field.\r\n   */\r\n  type: IPropertyPaneFieldType;\r\n\r\n  /**\r\n   * Target property from the web part's property bag.\r\n   */\r\n  targetProperty: string;\r\n\r\n  /**\r\n   * Strongly typed properties object. Specific to each field type.\r\n   * Example: Checkbox has ICheckboxProps, TextField has ITextField props.\r\n   *\r\n    * @internalremarks - These props are from the office-ui-fabric-react.\r\n    *   These props may not be extensive as the fabric-react ones. This is intentional.\r\n    *     - We are not including any callbacks as part of the props, as this might end up breaking\r\n    *       the internal flow and cause unwanted problems.\r\n    *     - Currently discussions are going on whether to include styling elements or not. Based on\r\n    *       the output of the discussions, changes to the styling related props will take place.\r\n    *\r\n    *   We are including only those which are supported by the web part framework.\r\n   */\r\n  properties: TProperties;\r\n}\r\n\r\n/**\r\n * Enum for all the supported PropertyPane field types.\r\n *\r\n * Names should be consistent with those in office-ui-fabric-react, be careful to get letter casing correct.\r\n */\r\nexport enum IPropertyPaneFieldType {\r\n  /**\r\n   * Custom field.\r\n   */\r\n  Custom = 1,\r\n\r\n  /**\r\n   * Checkbox field.\r\n   */\r\n  CheckBox = 2,\r\n\r\n  /**\r\n   * TextField field.\r\n   */\r\n  TextField = 3,\r\n\r\n  /**\r\n   * Toggle field.\r\n   */\r\n  Toggle = 5,\r\n\r\n  /**\r\n   * Dropdown field.\r\n   */\r\n  Dropdown = 6,\r\n\r\n  /**\r\n   * Label field.\r\n   */\r\n  Label = 7,\r\n\r\n  /**\r\n   * Slider field.\r\n   */\r\n  Slider = 8,\r\n\r\n  /**\r\n   * Heading field.\r\n   */\r\n  Heading = 9,\r\n\r\n  /**\r\n   * Choice Group field.\r\n   */\r\n  ChoiceGroup = 10,\r\n\r\n  /**\r\n   * Button field.\r\n   */\r\n  Button = 11,\r\n\r\n  /**\r\n   * Horizontal Rule field.\r\n   */\r\n  HorizontalRule = 12,\r\n\r\n  /**\r\n   * Link field.\r\n   */\r\n  Link = 13\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneField/IPropertyPaneField.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * Web part context.\r\n */\r\n'use strict';\r\n\r\nimport { IClientSideWebPartManifestInstance } from '@microsoft/sp-module-interfaces';\r\nimport {\r\n  basicHttpClientServiceKey,\r\n  httpClientServiceKey,\r\n  _logSourceServiceKey,\r\n  pageContextServiceKey,\r\n  HttpClient,\r\n  BasicHttpClient,\r\n  PageContext,\r\n  ServiceScope,\r\n  _LogSource,\r\n  Environment,\r\n  environmentServiceKey\r\n} from '@microsoft/sp-client-base';\r\n\r\nimport ClientSideComponentContext from './ClientSideComponentContext';\r\nimport IClientSideWebPartStatusRenderer from './../../common/webParts/IClientSideWebPartStatusRenderer';\r\nimport { IEventAggregator } from '../../common/events/IEvent';\r\nimport IWebPartContext from './IWebPartContext';\r\nimport IWebPartHost from '../../common/webParts/IWebPartHost';\r\nimport IWebPartManagerContext from './IWebPartManagerContext';\r\nimport { PropertyPaneState } from '../../common/webParts/PropertyPaneDefinitions';\r\n\r\n/**\r\n * Web part context object. This object contains the contextual services available to a web part. e.g.\r\n * a contextual instance to the http client.\r\n */\r\n/* tslint:disable:no-any */\r\nexport default class WebPartContext\r\n  extends ClientSideComponentContext<IClientSideWebPartManifestInstance<any>>\r\n  implements IWebPartContext {\r\n/* tslint:enable:no-any */\r\n\r\n  private _instanceId: string;\r\n  private _webPartTag: string;\r\n  private _httpClient: HttpClient;\r\n  private _basicHttpClient: BasicHttpClient;\r\n  private _pageContext: PageContext;\r\n  private _statusRenderer: IClientSideWebPartStatusRenderer;\r\n  private _eventAggregator: IEventAggregator;\r\n  private _configureStart: (id: string, propertyPaneState?: PropertyPaneState) => void;\r\n  private _serviceScope: ServiceScope;\r\n  private _host: IWebPartHost;\r\n  private _environment: Environment;\r\n\r\n  constructor(\r\n    context: IWebPartManagerContext,\r\n    /* tslint:disable:no-any */\r\n    manifestInstance: IClientSideWebPartManifestInstance<any>,\r\n    /* tslint:enable:no-any */\r\n    host: IWebPartHost,\r\n    statusRenderer: IClientSideWebPartStatusRenderer,\r\n    eventAggregator: IEventAggregator,\r\n    configureStart: (id: string, propertyPaneState?: PropertyPaneState) => void,\r\n    webPartTag: string) {\r\n\r\n    super(context.domElement, manifestInstance);\r\n\r\n    this._instanceId = context.instanceId;\r\n    this._webPartTag = webPartTag;\r\n\r\n    this._host = host;\r\n    this._serviceScope = this._createWebPartServiceScope(host.serviceScope);\r\n    this._httpClient = this._serviceScope.consume(httpClientServiceKey);\r\n    this._basicHttpClient = this._serviceScope.consume(basicHttpClientServiceKey);\r\n    this._pageContext = this._serviceScope.consume(pageContextServiceKey);\r\n    this._environment = this._serviceScope.consume(environmentServiceKey);\r\n\r\n    this._statusRenderer = statusRenderer;\r\n    this._eventAggregator = eventAggregator;\r\n    this._configureStart = configureStart;\r\n  }\r\n\r\n  /**\r\n   * @see IWebPartContext\r\n   */\r\n  public get instanceId(): string { return this._instanceId; }\r\n\r\n  /**\r\n   * @see IWebPartContext\r\n   */\r\n  public get webPartTag(): string { return this._webPartTag; }\r\n\r\n  /**\r\n   * @see IWebPartContext\r\n   */\r\n  public get httpClient(): HttpClient { return this._httpClient; }\r\n\r\n  /**\r\n   * @see IWebPartContext\r\n   */\r\n  public get basicHttpClient(): BasicHttpClient { return this._basicHttpClient; }\r\n\r\n  /**\r\n   * @see IWebPartContext\r\n   */\r\n  public get pageContext(): PageContext { return this._pageContext; }\r\n\r\n  /**\r\n   * @see IWebPartContext\r\n   */\r\n  public get statusRenderer(): IClientSideWebPartStatusRenderer { return this._statusRenderer; }\r\n\r\n  /**\r\n   * @see IWebPartContext\r\n   */\r\n  public get eventAggregator(): IEventAggregator { return this._eventAggregator; }\r\n\r\n  /**\r\n   * @see IWebPartContext\r\n   */\r\n  public get configureStart(): (id: string, propertyPaneState?: PropertyPaneState) => void {\r\n    return this._configureStart;\r\n  }\r\n\r\n  /**\r\n   * @see IWebPartContext\r\n   */\r\n  public get host(): IWebPartHost { return this._host; }\r\n\r\n  /**\r\n   * @see IWebPartContext\r\n   */\r\n  public get serviceScope(): ServiceScope { return this._serviceScope; }\r\n\r\n  /**\r\n   * @see IWebPartContext\r\n   */\r\n  public get environment(): Environment { return this._environment; }\r\n\r\n  /**\r\n   * Create a web part specific service scope.\r\n   *\r\n   * @param context - Web part manager context\r\n   */\r\n  private _createWebPartServiceScope(parentScope: ServiceScope): ServiceScope {\r\n    const webPartScope: ServiceScope = parentScope.startNewChild();\r\n    webPartScope.createDefaultAndProvide(basicHttpClientServiceKey);\r\n    webPartScope.createDefaultAndProvide(httpClientServiceKey);\r\n    webPartScope.provide(_logSourceServiceKey, _LogSource.create(this._webPartTag));\r\n    webPartScope.finish();\r\n    return webPartScope;\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/WebPartContext.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * Client side component context.\r\n */\r\n'use strict';\r\n\r\nimport { Validate } from '@microsoft/sp-client-base';\r\n\r\n/**\r\n * Context for all client side components\r\n */\r\nexport default class ClientSideComponentContext<TManifest> {\r\n\r\n  private _domElement: HTMLElement;\r\n  private _manifest: TManifest;\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  constructor(\r\n    domElement: HTMLElement,\r\n    manifest: TManifest) {\r\n\r\n    Validate.isNotNullOrUndefined(domElement, 'domElement');\r\n    Validate.isNotNullOrUndefined(manifest, 'manifest');\r\n\r\n    this._domElement = domElement;\r\n    this._manifest = manifest;\r\n  }\r\n\r\n  /**\r\n   * Reference to the DOM element that hosts this client side component.\r\n   */\r\n  public get domElement(): HTMLElement { return this._domElement; }\r\n\r\n  /**\r\n   * Client side component manifest\r\n   */\r\n  public get manifest(): TManifest { return this._manifest; }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/ClientSideComponentContext.ts\n **/","require('Canvas.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/appBase/components/sp-canvas/canvas/canvas/Canvas.scss.ts\n **/","var content = require(\"!!./../../../../../../../../common/node_modules/css-loader/index.js!./Canvas.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/appBase/components/sp-canvas/canvas/canvas/Canvas.css\n ** module id = 233\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".Canvas{padding:0 12px;position:relative}@media screen and (min-width:640px){.Canvas{padding:8px 48px}}@media screen and (max-width:640px){.Canvas--edit{padding:8px 48px}}.Canvas-screenReaderOnly{position:absolute;text-indent:-9999px;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;border:0}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/appBase/components/sp-canvas/canvas/canvas/Canvas.css\n ** module id = 234\n ** module chunks = 0\n **/","import Shell, { IShell } from './Shell';\r\n\r\n// This is the global instance that we export from our NPM package\r\nconst _spShell: IShell = Shell.getInstance();\r\nexport default _spShell;\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/shell/_spShell.ts\n **/","import {\r\n  BasicHttpClient,\r\n  HttpClient,\r\n  IServiceScopeProvider,\r\n  _LogSource,\r\n  ServiceScope,\r\n  _TraceLogger,\r\n  basicHttpClientServiceKey,\r\n  httpClientServiceKey,\r\n  _PerformanceLogger,\r\n  PageContext,\r\n  pageContextServiceKey,\r\n  Environment,\r\n  EnvironmentType,\r\n  environmentServiceKey\r\n} from '@microsoft/sp-client-base';\r\n\r\nimport ClientSideApplication from './ClientSideApplication';\r\nimport IComponentVisible from '../../common/spPageChrome/IComponentVisible';\r\nimport SuiteNavManager from '../../common/suiteNav/SuiteNavManager';\r\nimport ISPPageChrome from '../../common/spPageChrome/ISPPageChrome';\r\nimport SPPageChrome from '../../common/spPageChrome/SPPageChrome';\r\nimport PreloadedDataReader, { IPreloadedData } from './PreloadedDataReader';\r\nimport AppPageContext, { appPageContextServiceKey } from '../pageContext/AppPageContext';\r\n\r\n/**\r\n * The system shell manages the initial loading of the scripts for a client-side application,\r\n * as well as constructin the ClientSideApplication object, and initializing key services such\r\n * as the page chrome, page context, HTTP client, etc.\r\n *\r\n * @alpha\r\n */\r\nexport interface IShell extends IServiceScopeProvider {\r\n  /**\r\n   * Describes the type of environment that the framework is being hosted on.\r\n   */\r\n  environment: Environment;\r\n\r\n  /**\r\n   * Returns the current page context object for webparts.\r\n   */\r\n  pageContext: PageContext;\r\n\r\n  /**\r\n   * Returns the current page context object for the applcation.\r\n   * Will be phased out soon.\r\n   */\r\n  appPageContext: AppPageContext;\r\n\r\n  /**\r\n   * BasicHttpClient is used to perform REST calls with general internet services.\r\n   * For communicating with SharePoint services, use HttpClient instead.\r\n   */\r\n  basicHttpClient: BasicHttpClient;\r\n\r\n  /**\r\n   * HttpClient is used to perform REST calls with SharePoint services.\r\n   * It implements special enhancements such as configuring default headers, adding\r\n   * an \"X-RequestDigest\" header for write operations, and collecting telemetry\r\n   * to help the service monitor the performance and reliability of the application.\r\n   *\r\n   * For communicating with non-SharePoint services, use BasicHttpClient instead.\r\n   */\r\n  httpClient: HttpClient;\r\n\r\n  /**\r\n   * This object allows the application to manage the suite navigation of\r\n   * the standard page chrome.  For more information about Suite Navigation,\r\n   * see this article:\r\n   * https://msdn.microsoft.com/en-us/library/office/dn614990.aspx\r\n   */\r\n  suiteNav: IComponentVisible;\r\n}\r\n\r\nexport interface IClientSideApplicationWrapper {\r\n  default: ClientSideApplication;\r\n}\r\n\r\n/**\r\n * RESERVED FOR INTERNAL USAGE.  Applications interact with the shell via\r\n * the IShell interface.\r\n *\r\n * @internal\r\n */\r\nexport default class Shell implements IShell {\r\n  private static _logSource: _LogSource = _LogSource.create('Shell');\r\n  private static _instance: IShell = undefined;\r\n\r\n  private _rootServiceScope: ServiceScope;\r\n  private _spPageChrome: ISPPageChrome;\r\n  private _application: ClientSideApplication;\r\n  private _suiteNav: SuiteNavManager;\r\n  private _preloadedDataReader: PreloadedDataReader;\r\n  private _appPageContext: AppPageContext;\r\n  private _pageContext: PageContext;\r\n  private _basicHttpClient: BasicHttpClient;\r\n  private _httpClient: HttpClient;\r\n  private _environment: Environment;\r\n\r\n  public static getInstance(): IShell {\r\n    if (Shell._instance === undefined) {\r\n      Shell._instance = new Shell();\r\n    }\r\n    return Shell._instance;\r\n  }\r\n\r\n  public get serviceScope(): ServiceScope {\r\n    return this._rootServiceScope;\r\n  }\r\n\r\n  public get pageContext(): PageContext {\r\n    return this._pageContext;\r\n  }\r\n\r\n  public get appPageContext(): AppPageContext {\r\n    return this._appPageContext;\r\n  }\r\n\r\n  public get basicHttpClient(): BasicHttpClient {\r\n    return this._basicHttpClient;\r\n  }\r\n\r\n  public get httpClient(): HttpClient {\r\n    return this._httpClient;\r\n  }\r\n\r\n  public get suiteNav(): IComponentVisible {\r\n    return this._suiteNav;\r\n  }\r\n\r\n  public get environment(): Environment {\r\n    return this._environment;\r\n  }\r\n\r\n  public start(module: IClientSideApplicationWrapper | ClientSideApplication,\r\n                     preloadedData: IPreloadedData): void {\r\n    this._initializePreload(preloadedData);\r\n    _PerformanceLogger.markApplicationStart();\r\n    this._startApplication((module as IClientSideApplicationWrapper).default || module as ClientSideApplication);\r\n  }\r\n\r\n  private _startApplication(application: ClientSideApplication): void {\r\n    /* tslint:disable:no-string-literal */\r\n    if (application['__type'] !== 'ClientSideApplication') {\r\n      /* tslint:enable:no-string-literal */\r\n      throw new Error('The application is not a subclass of ClientSideApplication');\r\n    }\r\n\r\n    this._application = application;\r\n    this._application.load(this);\r\n\r\n    // Checks if the page is being served by localhost, which doesn't provide SuiteNav Services\r\n    // @todo Bug 190509 Implement Mock SuiteNav\r\n    this._suiteNav = new SuiteNavManager(\r\n      this._application.suiteNavConfiguration(),\r\n      this._spPageChrome.suiteNavDiv,\r\n      this.serviceScope);\r\n\r\n    this._suiteNav.loadSuiteNav();\r\n    this._application.render(this._spPageChrome.appDiv);\r\n  }\r\n\r\n  private _initializePreload(preloadedData: IPreloadedData): void {\r\n    // We encountered IE compatibility errors when trying to access the window variable\r\n    // without using the [] notation\r\n    /* tslint:disable:no-string-literal */\r\n    window['_spClientSidePageContext'] = preloadedData;\r\n\r\n    // HACK (VSO#221483): Setting the _spPageContextInfo on the window to workaround Manifest v2 issues\r\n    window['_spPageContextInfo'] = preloadedData.spPageContextInfo;\r\n    /* tslint:enable:no-string-literal */\r\n\r\n    _TraceLogger.logVerbose(Shell._logSource, 'Starting sp-client-preview');\r\n\r\n    this._rootServiceScope = ServiceScope.startNewRoot();\r\n    this._environment = this._rootServiceScope\r\n      .createDefaultAndProvide(environmentServiceKey) as Environment;\r\n    this._pageContext = this._rootServiceScope\r\n      .createDefaultAndProvide(pageContextServiceKey) as PageContext;\r\n    this._appPageContext = this._rootServiceScope\r\n      .createDefaultAndProvide(appPageContextServiceKey) as AppPageContext;\r\n    this._basicHttpClient = this._rootServiceScope.createAndProvide(basicHttpClientServiceKey,\r\n      BasicHttpClient);\r\n    this._httpClient = this._rootServiceScope.createAndProvide(httpClientServiceKey, HttpClient);\r\n    this._rootServiceScope.finish();\r\n\r\n    this._preloadedDataReader = new PreloadedDataReader(preloadedData);\r\n\r\n    this._initializeEnvironment(this._environment);\r\n    this._preloadedDataReader.initializeDigestCache(this._rootServiceScope);\r\n    this._preloadedDataReader.initializePageContext(this._appPageContext);\r\n    this._initializePageContextFromAppContext(this._pageContext, this._appPageContext);\r\n    this._spPageChrome = SPPageChrome.getInstance(this._rootServiceScope);\r\n  }\r\n\r\n  /**\r\n   * Populates the webPart pageContext using the data from the app Page Context. AppPageContext\r\n   * must be populated already.\r\n   */\r\n  private _initializePageContextFromAppContext(pageContext: PageContext, appPageContext: AppPageContext): void {\r\n    pageContext.initialize({\r\n      cultureInfo: {\r\n        currentCultureName: appPageContext.core.currentCultureName,\r\n        currentUICultureName: appPageContext.core.currentUICultureName\r\n      },\r\n      site: {\r\n        id: appPageContext.core.siteId\r\n      },\r\n      user: {\r\n        displayName: appPageContext.core.userDisplayName,\r\n        loginName: appPageContext.core.userLoginName\r\n      },\r\n      web: {\r\n        absoluteUrl: appPageContext.core.webAbsoluteUrl,\r\n        id: appPageContext.core.webId,\r\n        serverRelativeUrl: appPageContext.core.webServerRelativeUrl,\r\n        title: appPageContext.core.webTitle\r\n      }\r\n    });\r\n  }\r\n\r\n  private _initializeEnvironment(environment: Environment): void {\r\n    let type: EnvironmentType;\r\n    /* tslint:disable:no-string-literal */\r\n    if (\r\n      window.location.hostname === 'localhost' ||\r\n      window['ENVIRONMENTTYPE'] &&\r\n      window['ENVIRONMENTTYPE'] === 'Local') {\r\n    /* tslint:enable:no-string-literal */\r\n      type = EnvironmentType.Local;\r\n    } else {\r\n      type = EnvironmentType.SharePoint;\r\n    }\r\n    environment._initialize(type);\r\n  }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/shell/Shell.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Data source for the suite nav.\r\n */\r\n\r\nimport {\r\nServiceScope,\r\nhttpClientServiceKey,\r\nHttpClient,\r\n_LogSource,\r\n_TraceLogger\r\n} from '@microsoft/sp-client-base';\r\nimport spModuleLoader from '@microsoft/sp-module-loader';\r\nimport { DataStore, DataStoreCachingType } from '@ms/odsp-utilities-bundle';\r\n\r\nimport ISuiteNavManagerConfiguration from './ISuiteNavManagerConfiguration';\r\nimport ISuiteNavModel from './models/ISuiteNavModel';\r\nimport IO365Shell from './IO365Shell';\r\nimport { ISuiteNavDataSource, SuiteNavSource } from './dataAccess/ISuiteNavDataSource';\r\nimport SPOSuiteNavDataSource from './dataAccess/SPOSuiteNavDataSource';\r\nimport OnPremSuiteNavDataSource from './dataAccess/OnPremSuiteNavDataSource';\r\nimport O365ShellWrapper from './O365ShellWrapper';\r\nimport SPPageChrome from '../spPageChrome/SPPageChrome';\r\nimport IComponentVisible from '../spPageChrome/IComponentVisible';\r\n\r\nexport default class SuiteNavManager implements IComponentVisible {\r\n  public static _defaultSuiteNavHeight: string = '50px';\r\n  private static CACHE_PREFIX: string = 'SPPPLATSuiteNav';\r\n  private static SERVICE_KEY: string = 'SuiteNavService';\r\n  private static DATA_KEY: string = 'Data';\r\n  private static DATE_KEY: string = 'CacheDate';\r\n  private static VERSION_KEY: string = 'CacheVersion';\r\n  private static SESSION_KEY: string = 'CachedThisSession';\r\n  // This constant can be used to invalidate the cache if we make incompatible changes\r\n  private static CACHE_VERSION: number = 1;\r\n  private static _cache: DataStore = new DataStore(SuiteNavManager.CACHE_PREFIX, DataStoreCachingType.local);\r\n  private static _logSource: _LogSource = _LogSource.create('SuiteNavManager');\r\n\r\n  private _o365Shell: IO365Shell;\r\n  private _suiteNavManagerConfiguration: ISuiteNavManagerConfiguration;\r\n  private _httpClient: HttpClient;\r\n  private _suiteNavDataSource: ISuiteNavDataSource;\r\n  private _suiteNavDiv: HTMLDivElement;\r\n  private _suiteNavModel: Promise<ISuiteNavModel>;\r\n  private _serviceScope: ServiceScope;\r\n\r\n  private static _updateCache(model: ISuiteNavModel, service: SuiteNavSource): void {\r\n    SuiteNavManager._cache.setValue(SuiteNavManager.DATA_KEY, model);\r\n    SuiteNavManager._cache.setValue(SuiteNavManager.DATE_KEY, new Date());\r\n    SuiteNavManager._cache.setValue(SuiteNavManager.VERSION_KEY, SuiteNavManager.CACHE_VERSION);\r\n    SuiteNavManager._cache.setValue(SuiteNavManager.SESSION_KEY, true, DataStoreCachingType.session);\r\n    SuiteNavManager._cache.setValue(SuiteNavManager.SERVICE_KEY, service);\r\n  }\r\n\r\n  private static _clearCache(): void {\r\n    SuiteNavManager._cache.remove(SuiteNavManager.DATA_KEY);\r\n    SuiteNavManager._cache.remove(SuiteNavManager.DATE_KEY);\r\n    SuiteNavManager._cache.remove(SuiteNavManager.VERSION_KEY);\r\n    SuiteNavManager._cache.remove(SuiteNavManager.SERVICE_KEY);\r\n  }\r\n\r\n  constructor(\r\n    suiteNavManagerConfiguration: ISuiteNavManagerConfiguration,\r\n    suiteNavDiv: HTMLDivElement,\r\n    serviceScope: ServiceScope) {\r\n\r\n    this._suiteNavManagerConfiguration = suiteNavManagerConfiguration;\r\n    this._suiteNavDataSource = undefined;\r\n    this._o365Shell = undefined;\r\n    this._suiteNavManagerConfiguration.o365ShellRenderSettings.top = suiteNavDiv.id;\r\n    this._suiteNavDiv = suiteNavDiv;\r\n    this._serviceScope = serviceScope;\r\n\r\n    serviceScope.whenFinished(() => {\r\n      this._httpClient = serviceScope.consume(httpClientServiceKey);\r\n    });\r\n\r\n    if (!suiteNavManagerConfiguration.isSuiteNavDisabled()) {\r\n      SPPageChrome.getInstance(this._serviceScope).changeSuiteNavHeight(SuiteNavManager._defaultSuiteNavHeight);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets the SuiteNav to be visible or not.\r\n   * @param setVisible Set the visibility to be on or off.\r\n   */\r\n  public setComponentVisibility(setVisible: boolean): void {\r\n    this._suiteNavDiv.hidden = !setVisible;\r\n    if (this._suiteNavModel) {\r\n      this._suiteNavModel.then((model: ISuiteNavModel) => {\r\n        SPPageChrome.getInstance(this._serviceScope).changeSuiteNavHeight(\r\n          setVisible ?\r\n            model.NavBarData.Dimensions.Top :\r\n            '0px');\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Loads the SuiteNav into the page by obtaining the data, building the model, getting the shell wrapper\r\n   * and rendering it onto the page.\r\n   */\r\n  public loadSuiteNav(): void {\r\n    if (!this._suiteNavManagerConfiguration.isSuiteNavDisabled()) {\r\n      this._suiteNavModel = this._getSuiteNavModel();\r\n      this._suiteNavModel\r\n        .then(\r\n        (suiteNavModel: ISuiteNavModel) => this._modifySuiteNavModel(suiteNavModel))\r\n        .then(\r\n        (suiteNavModel: ISuiteNavModel) => this._getSuiteNavShell(suiteNavModel))\r\n        .then(\r\n        (o365ShellWrapper: IO365Shell) => this._renderSuiteNav(o365ShellWrapper));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the suite nav data. Tries to grab SPO and OnPrem version in parallel and if SPO fails then\r\n   * the onPrem version is loaded.\r\n   * @param webServerRelativeUrl represents the SharePoint web server relative URL\r\n   * @param cultureName represents the name of the culture (e.g. 'en-us')\r\n   * @returns a promise that resolves to a string containing the response from the Suite Nav service.\r\n   */\r\n  private _getSuiteNavModel(): Promise<ISuiteNavModel> {\r\n    if (this._isCacheValid() && !this._isCacheOutdated()) {\r\n      return this._loadSuiteNavFromCache();\r\n    } else {\r\n      SuiteNavManager._clearCache();\r\n      return this._loadSuiteNavFromServer();\r\n    }\r\n  }\r\n\r\n  private _loadSuiteNavFromCache(): Promise<ISuiteNavModel> {\r\n    return new Promise<ISuiteNavModel>((complete?: (result: ISuiteNavModel) => void) => {\r\n      SuiteNavManager._cache.getValue<SuiteNavSource>(SuiteNavManager.SERVICE_KEY) ===\r\n        SuiteNavSource.SPO ?\r\n        this._suiteNavDataSource = this._createSPODataSource() :\r\n        this._suiteNavDataSource = this._createOnPremDataSource();\r\n      complete(SuiteNavManager._cache.getValue<ISuiteNavModel>(SuiteNavManager.DATA_KEY));\r\n    });\r\n  }\r\n\r\n  private _loadSuiteNavFromServer(): Promise<ISuiteNavModel> {\r\n    this._suiteNavDataSource = this._createSPODataSource();\r\n\r\n    const onPremDataSource: OnPremSuiteNavDataSource = this._createOnPremDataSource();\r\n\r\n    const onPremSuiteNavResponse: Promise<ISuiteNavModel> = onPremDataSource.loadData();\r\n    onPremSuiteNavResponse.catch(() => {\r\n      this._createSuiteNavErrorLogEntry('loadData', 'Failed to retrieve Hybrid SuiteNavData');\r\n    });\r\n\r\n    return this._suiteNavDataSource.loadData().then((response: ISuiteNavModel) => {\r\n      return response;\r\n    }).catch(() => {\r\n      this._createSuiteNavErrorLogEntry('loadData', 'Failed to retrieve SPO SuiteNavData');\r\n      this._suiteNavDataSource = onPremDataSource;\r\n      return onPremSuiteNavResponse;\r\n    });\r\n  }\r\n\r\n  /**\r\n  * Alters the server response with the suite nav data.\r\n  */\r\n  private _modifySuiteNavModel(suiteNavResponse: ISuiteNavModel): ISuiteNavModel {\r\n    suiteNavResponse.NavBarData =\r\n      this._suiteNavManagerConfiguration.modifySuiteNavData(suiteNavResponse.NavBarData);\r\n    return suiteNavResponse;\r\n  }\r\n\r\n  /**\r\n   * Gets the O365Shell object, once it's loaded. This will also load the shell CSS\r\n   */\r\n  private _getSuiteNavShell(suiteNavModel: ISuiteNavModel): Promise<IO365Shell> {\r\n    if (!suiteNavModel) {\r\n      this._createSuiteNavErrorLogEntry(\r\n        'getO365Shell', 'SuiteNavModel is undefined');\r\n    }\r\n\r\n    // update the cache\r\n    suiteNavModel.CacheToken = this._suiteNavManagerConfiguration.cacheToken;\r\n    suiteNavModel.UserIdentifier = this._suiteNavManagerConfiguration.systemUserKey;\r\n    SuiteNavManager._updateCache(suiteNavModel, this._suiteNavDataSource.suiteNavService);\r\n    SPPageChrome.getInstance(this._serviceScope).changeSuiteNavHeight(suiteNavModel.NavBarData.Dimensions.Top);\r\n\r\n    const element: HTMLLinkElement = document.createElement('link');\r\n    element.rel = 'stylesheet';\r\n    element.type = 'text/css';\r\n    element.href = suiteNavModel.CssUrl;\r\n    document.head.appendChild(element);\r\n\r\n    const promise: Promise<IO365Shell> = new Promise<IO365Shell>(\r\n      (complete?: (result: IO365Shell) => void) => {\r\n        const loadShell: () => void = () => {\r\n          const o365Shell: IO365Shell = new O365ShellWrapper();\r\n          o365Shell.SetData(suiteNavModel.NavBarData);\r\n          complete(o365Shell);\r\n        };\r\n\r\n        if (spModuleLoader && spModuleLoader.loadScript) {\r\n          spModuleLoader.loadScript(suiteNavModel.JsUrl, '_o365su').then(loadShell);\r\n        } else if (System && System.config && System.import) {\r\n          System.config({\r\n            map: {\r\n              suiteNavJs: suiteNavModel.JsUrl\r\n            },\r\n            meta: {\r\n              suiteNavJs: {\r\n                format: 'global',\r\n                exports: '_o365su'\r\n              }\r\n            }\r\n          });\r\n\r\n          System.import('suiteNavJs').then(loadShell);\r\n        } else {\r\n          throw new Error('No loader could be found, unable to load the shell.');\r\n        }\r\n      });\r\n    return promise;\r\n  }\r\n\r\n  /**\r\n   * Renders the Suite Nav.\r\n   * @param o365Shell represents the Suite Nav shell wrapper.\r\n   * @param suiteNavData repsents the Suite Nav data that will be used for rendering.\r\n   */\r\n  private _renderSuiteNav(o365Shell: IO365Shell): void {\r\n\r\n    this._o365Shell = o365Shell;\r\n    this._o365Shell.RenderAsync(\r\n      this._suiteNavManagerConfiguration.o365ShellRenderSettings,\r\n      () => {\r\n        this._onRender(o365Shell);\r\n      },\r\n      () => {\r\n        this._onPostRender();\r\n      });\r\n    this._o365Shell.OnHasMember('LoadShellPlus', () => {\r\n      this._loadShellPlus(this._o365Shell);\r\n    });\r\n  }\r\n\r\n  private _onRender(o365Shell: IO365Shell): void {\r\n    if (this._suiteNavManagerConfiguration.hamburgerCallback) {\r\n      if (o365Shell.Navigation.OnHamburgerButtonClick) {\r\n        o365Shell.Navigation.OnHamburgerButtonClick(this._suiteNavManagerConfiguration.hamburgerCallback);\r\n      }\r\n    }\r\n  }\r\n\r\n  private _onPostRender(): void {\r\n    if (this._suiteNavManagerConfiguration.suiteNavPostRenderCallback) {\r\n      this._suiteNavManagerConfiguration.suiteNavPostRenderCallback();\r\n    }\r\n  }\r\n\r\n  /**\r\n    * LoadShellPlus will start downloading additional files required for notifications\r\n    * and such. Once ShellPlus is ready, postRenderActions will be called.\r\n    */\r\n  private _loadShellPlus(o365Shell: IO365Shell): Promise<void> {\r\n    return new Promise<void>(() => {\r\n      o365Shell.LoadShellPlus();\r\n    }).catch((errorMessage?: string) => {\r\n      this._createSuiteNavErrorLogEntry(\r\n        'loadShellPlus', errorMessage);\r\n    });\r\n  }\r\n\r\n  private _isCacheValid(): boolean {\r\n    // Cached data is valid (still usable for rendering) if:\r\n    // - the CSS URL and JS URL are present (if we're trying to load the real suite nav)\r\n    // - the data is for the same user\r\n    // - the cache version is the same\r\n    // - the site client tag is the same (if it's different, the theme has changed)\r\n    const model: ISuiteNavModel = SuiteNavManager._cache.getValue<ISuiteNavModel>(SuiteNavManager.DATA_KEY);\r\n    const oldVersion: number = SuiteNavManager._cache.getValue<number>(SuiteNavManager.VERSION_KEY);\r\n    return (model && model.NavBarData &&\r\n      ((model.JsUrl && model.CssUrl)) &&\r\n      oldVersion === SuiteNavManager.CACHE_VERSION &&\r\n      model.UserIdentifier &&\r\n      model.UserIdentifier === this._suiteNavManagerConfiguration.systemUserKey &&\r\n      model.CacheToken === this._suiteNavManagerConfiguration.cacheToken);\r\n  }\r\n\r\n  private _isCacheOutdated(): boolean {\r\n    // \"Outdated\" means:\r\n    // - it's more than 24 hours old\r\n    // - it was not cached in the current browsing session (only applies if sessionStorage available)\r\n    const cacheDate: number = Date.parse(SuiteNavManager._cache.getValue<string>(SuiteNavManager.DATE_KEY));\r\n    const currentDate: Date = new Date();\r\n    const cachedThisSession: DataStoreCachingType =\r\n      SuiteNavManager._cache.getValue<DataStoreCachingType>(SuiteNavManager.SESSION_KEY, DataStoreCachingType.session);\r\n    return (isNaN(cacheDate) ||\r\n      currentDate.getTime() - cacheDate > 24 * 60 * 60 * 1000 ||\r\n      (DataStore.hasStorageType(DataStoreCachingType.session) && !cachedThisSession));\r\n  }\r\n\r\n  private _createSPODataSource(): SPOSuiteNavDataSource {\r\n    return new SPOSuiteNavDataSource(\r\n      this._httpClient,\r\n      this._suiteNavManagerConfiguration.currentUICultureName,\r\n      this._suiteNavManagerConfiguration.webServerRelativeUrl);\r\n  }\r\n\r\n  private _createOnPremDataSource(): OnPremSuiteNavDataSource {\r\n    return new OnPremSuiteNavDataSource(\r\n      this._httpClient,\r\n      this._suiteNavManagerConfiguration.currentUICultureName,\r\n      this._suiteNavManagerConfiguration.webServerRelativeUrl);\r\n  }\r\n\r\n  /**\r\n  * Create a log entry for logging\r\n  * @param moduleName represents the module that the logger was called in\r\n  * @param errorMessage represents the error string that occured\r\n  */\r\n  private _createSuiteNavErrorLogEntry(moduleName: string, errorMessage: string): void {\r\n    _TraceLogger.logVerbose(SuiteNavManager._logSource, 'SuiteNavManager ' + moduleName + ' ' + errorMessage);\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/suiteNav/SuiteNavManager.ts\n **/","import ISuiteNavModel from '../models/ISuiteNavModel';\r\n\r\nexport enum SuiteNavSource {\r\n  SPO,\r\n  OnPrem\r\n}\r\n\r\nexport interface ISuiteNavDataSource {\r\n  suiteNavService: SuiteNavSource;\r\n  /** Gets data, possibly by calling a server. */\r\n  loadData(): Promise<ISuiteNavModel>;\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/suiteNav/dataAccess/ISuiteNavDataSource.ts\n **/","/**\r\n * @file SPOSuiteNavDataSource.ts\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n */\r\n\r\nimport ISuiteNavModel from '../models/ISuiteNavModel';\r\nimport { ISuiteNavDataSource, SuiteNavSource } from './ISuiteNavDataSource';\r\nimport {\r\n  HttpClient,\r\n  _LogSource,\r\n  _TraceLogger\r\n} from '@microsoft/sp-client-base';\r\n\r\nexport default class SPOSuiteNavDataSource implements ISuiteNavDataSource {\r\n  // @TODO Bug 169685 change to readonly\r\n  private static _logSource: _LogSource = _LogSource.create('SPOSuiteNavDataSource');\r\n  public suiteNavService: SuiteNavSource = SuiteNavSource.SPO;\r\n  private _currentUICultureName: string;\r\n  private _httpClient: HttpClient;\r\n  private _siteRelUrl: string;\r\n\r\n  /**\r\n   * Initializes a new instance of the SPO\r\n   * @TODO Task 161973 Add PageContext and set the\r\n   * webPermissionMask/suiteNavData.UserDisplayName/webServerRelativeUrl/currentUICultureName\r\n   */\r\n  constructor(httpClient: HttpClient, currentUICultureName: string, webServerRelativeUrl: string) {\r\n    this._currentUICultureName = currentUICultureName;\r\n    this._httpClient = httpClient;\r\n    this._siteRelUrl = webServerRelativeUrl === '/' ? '' : webServerRelativeUrl;\r\n  }\r\n\r\n  // Downloads the SPO version of the SuiteNavData\r\n  public loadData(): Promise<ISuiteNavModel> {\r\n    const url: string =\r\n      this._siteRelUrl\r\n      + '/_layouts/15/online/handlers/SpoSuiteLinks.ashx?Locale='\r\n      + this._currentUICultureName\r\n      + '&v=2&mobilereq=0&msajax=1';\r\n\r\n    return this._httpClient.post(url, { })\r\n      .then((response: Response) => {\r\n        if (response.status !== 200 || response.headers.get('SharePointError')) {\r\n          _TraceLogger.logVerbose(SPOSuiteNavDataSource._logSource, 'Failed to retrieve SPO SuiteNavData');\r\n          return Promise.reject('Failed to retrieve SPO SuiteNavData');\r\n        }\r\n        return response.json().then((jsonResponse: ISuiteNavModel) => {\r\n          return jsonResponse;\r\n        });\r\n      });\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/suiteNav/dataAccess/SPOSuiteNavDataSource.ts\n **/","import ISuiteNavModel from '../models/ISuiteNavModel';\r\nimport SuiteNavManager from '../SuiteNavManager';\r\nimport { ISuiteNavDataSource, SuiteNavSource } from './ISuiteNavDataSource';\r\nimport {\r\n  HttpClient,\r\n  _LogSource,\r\n  _TraceLogger\r\n} from '@microsoft/sp-client-base';\r\n\r\n// Interface for the object returned by Response.json()\r\ninterface IResponseJSONStringObject {\r\n  'odata.metadata': string;\r\n  value: string;\r\n}\r\n\r\nexport default class OnPremSuiteNavDataSource implements ISuiteNavDataSource {\r\n  // @TODO Bug 169685 change to readonly\r\n  private static _logSource: _LogSource = _LogSource.create('OnPremSuiteNavDataSource');\r\n  public suiteNavService: SuiteNavSource = SuiteNavSource.OnPrem;\r\n  private _currentUICultureName: string;\r\n  private _httpClient: HttpClient;\r\n  private _siteRelUrl: string;\r\n\r\n  /**\r\n   * Initializes a new instance of the SuiteNavManagerConfiguration\r\n   * @TODO Task 161973 Add PageContext and set the\r\n   * webPermissionMask/suiteNavData.UserDisplayName/webServerRelativeUrl/currentUICultureName\r\n   */\r\n  constructor(httpClient: HttpClient, currentUICultureName: string, webServerRelativeUrl: string) {\r\n    this._currentUICultureName = currentUICultureName;\r\n    this._httpClient = httpClient;\r\n    this._siteRelUrl = webServerRelativeUrl === '/' ? '' : webServerRelativeUrl;\r\n  }\r\n\r\n  // Downloads the OnPrem version of the SuiteNavData\r\n  public loadData(): Promise<ISuiteNavModel> {\r\n    const url: string =\r\n      this._siteRelUrl\r\n      + '/_api/Microsoft.SharePoint.Portal.SuiteNavData.GetSuiteNavData?v=2&Locale='\r\n      + this._currentUICultureName;\r\n\r\n    return this._httpClient.get(url)\r\n      .then((response: Response) => {\r\n        if (response.status !== 200) {\r\n          this._logAndThrowSuiteNavLoadingError();\r\n        }\r\n\r\n        return response.json().then((jsonString: IResponseJSONStringObject) => {\r\n          if (jsonString.value === '') {\r\n            this._logAndThrowSuiteNavLoadingError();\r\n          } else {\r\n            const suiteNavResponse: ISuiteNavModel = <ISuiteNavModel>JSON.parse(jsonString.value);\r\n            // If the height of the suiteNav is not provided, assume that it is 50px\r\n            if (!suiteNavResponse.NavBarData.Dimensions) {\r\n              suiteNavResponse.NavBarData.Dimensions = { Top: SuiteNavManager._defaultSuiteNavHeight};\r\n            }\r\n            return suiteNavResponse;\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  private _logAndThrowSuiteNavLoadingError(): void {\r\n    _TraceLogger.logVerbose(OnPremSuiteNavDataSource._logSource, 'Failed to retrieve Hybrid SuiteNavData');\r\n    throw new Error('Failed to retrieve Hybrid SuiteNavData');\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/suiteNav/dataAccess/OnPremSuiteNavDataSource.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Wrapper around the O365Shell global, preventing other files from needing to access the global\r\n */\r\n\r\nimport { IO365Shell, IO365ShellRenderSettings } from './IO365Shell';\r\nimport ISuiteNavData from './models/ISuiteNavData';\r\nimport FlexPaneWrapper from './FlexPaneWrapper';\r\nimport NavigationWrapper from './NavigationWrapper';\r\n\r\ndeclare var O365Shell: O365ShellWrapper;\r\n\r\nexport default class O365ShellWrapper implements IO365Shell {\r\n  /* tslint:disable:variable-name */\r\n  public FlexPane: FlexPaneWrapper;\r\n  public Navigation: NavigationWrapper;\r\n  /* tslint:enable:variable-name */\r\n\r\n  private _postRenderSignal: Promise<void>;\r\n\r\n  constructor() {\r\n    this._postRenderSignal = new Promise<void>(() => {\r\n      return;\r\n    });\r\n    this.FlexPane = new FlexPaneWrapper();\r\n    this.Navigation = new NavigationWrapper();\r\n  }\r\n\r\n  /**\r\n   * Sets the data to be consumed by the O365Shell\r\n   */\r\n  public SetData(shellData: ISuiteNavData): void {\r\n    O365Shell.SetData(shellData);\r\n  }\r\n\r\n  /**\r\n   * Instructs the 0365 shell to render\r\n   */\r\n  public Render(renderSettings: IO365ShellRenderSettings, postRendercallback: () => void): void {\r\n    O365Shell.Render(renderSettings, postRendercallback);\r\n  }\r\n\r\n  /**\r\n   * Instructs the 0365 shell to render async\r\n   */\r\n  public RenderAsync(\r\n    renderSettings: IO365ShellRenderSettings,\r\n    renderCallback: () => void,\r\n    postRenderCallback: () => void): void {\r\n    O365Shell.RenderAsync(renderSettings, renderCallback, postRenderCallback);\r\n  }\r\n\r\n  /**\r\n   * Load shell plus (extra features like notifications). Only functions properly on SPO.\r\n   */\r\n  public LoadShellPlus(): void {\r\n    O365Shell.LoadShellPlus();\r\n  }\r\n\r\n  /**\r\n   * Not provided by O365Shell. Tells whether the O365Shell global exists.\r\n   */\r\n  public DoesShellExist(): boolean {\r\n    return typeof O365Shell !== 'undefined';\r\n  }\r\n\r\n  /**\r\n   * This is not provided by O365Shell. It invokes a given callback when a member/function\r\n   * name is defined. This is useful when a component is trying to access a O365Shell\r\n   * member but is not in charge of loading it.\r\n   *\r\n   * @params member name to be checked for avaliability\r\n   * @parmas callback function to be called if the member is avaliable\r\n   */\r\n  public OnHasMember(memberName: string, callback: () => void): void {\r\n    if (this._hasMember(memberName)) {\r\n      callback();\r\n    } else {\r\n      /** Wait for the next render completition and call this method recursively to check if the member\r\n       * is now available.\r\n       */\r\n      this._postRenderSignal.then(() => this.OnHasMember(memberName, callback));\r\n    }\r\n  }\r\n\r\n  /**\r\n  * This is not provided by O365Shell. It just checks if a given member/function name\r\n  * is defined on the global shell object, as an alternative to if (O365Shell.Whatever) { ... }.\r\n  */\r\n  private _hasMember(memberName: string): boolean {\r\n    return this.DoesShellExist() && Boolean(O365Shell[memberName]);\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/suiteNav/O365ShellWrapper.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Wrapper around the O365Shell.FlexPane global, preventing other files\r\n * from needing to access the global\r\n */\r\n\r\nimport O365ShellWrapper from './O365ShellWrapper';\r\nimport {\r\n  _TraceLogger,\r\n  _LogSource\r\n} from '@microsoft/sp-client-base';\r\n\r\ndeclare var O365Shell: O365ShellWrapper;\r\n\r\nexport default class FlexPaneWrapper {\r\n  public static logSource: _LogSource = _LogSource.create('FlexPaneWrapper');\r\n\r\n  /* tslint:disable:no-any */\r\n  public OnFlexPaneVisibilityChanged(callback: (visible: boolean) => any): number {\r\n  /* tslint:enable:no-any */\r\n    try {\r\n      return O365Shell.FlexPane.OnFlexPaneVisibilityChanged(callback);\r\n    } catch (e) {\r\n      this._createFlexPaneWrapperErrorLogEntry('OnFlexPaneVisibilityChanged', e);\r\n\r\n    }\r\n  }\r\n\r\n  public OpenFlexPaneForProvider(provider: string): void {\r\n    try {\r\n      O365Shell.FlexPane.OpenFlexPaneForProvider(provider);\r\n    } catch (e) {\r\n      this._createFlexPaneWrapperErrorLogEntry('OpenFlexPaneForProvider', e);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a log entry for logging\r\n   * @param moduleName represents the module that the logger was called in\r\n   * @param errorMessage represents the error string that occured\r\n   * @returns a SuiteNav Error Log Entry\r\n   */\r\n  private _createFlexPaneWrapperErrorLogEntry(moduleName: string, errorMessage: string): void {\r\n    _TraceLogger.logVerbose(FlexPaneWrapper.logSource, 'FlexPaneWrapper ' + moduleName + ' ' + errorMessage);\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/suiteNav/FlexPaneWrapper.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Wrapper around the O365Shell.Navigation global, preventing other\r\n * files from needing to access the global\r\n */\r\n\r\nimport O365ShellWrapper from './O365ShellWrapper';\r\n\r\ndeclare var O365Shell: O365ShellWrapper;\r\n\r\nexport default class NavigationWrapper {\r\n\r\n  public OnLinkClick(callback: () => void): void  {\r\n      return O365Shell.Navigation.OnLinkClick(callback);\r\n  }\r\n\r\n  public OnHamburgerButtonClick(callback: () => void): void  {\r\n      return O365Shell.Navigation.OnHamburgerButtonClick(callback);\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/suiteNav/NavigationWrapper.ts\n **/","require('office-ui-fabric-react');\r\n\r\nimport ISPPageChrome from './ISPPageChrome';\r\nimport SPThemeProvider from './SPThemeProvider';\r\nimport {\r\n  ServiceScope,\r\n  SPKillSwitch,\r\n  Guid\r\n} from '@microsoft/sp-client-base';\r\n\r\nimport './SPPageChrome.scss';\r\n\r\nexport default class SPPageChrome implements ISPPageChrome {\r\n  private static _instance: SPPageChrome;\r\n\r\n  public suiteNavDiv: HTMLDivElement;\r\n  public appDiv: HTMLDivElement;\r\n  public propertyPaneContainerDiv: HTMLDivElement;\r\n\r\n  private _spThemeProvider: SPThemeProvider;\r\n\r\n  public static getInstance(serviceScope: ServiceScope): ISPPageChrome {\r\n    if (SPPageChrome._instance === undefined) {\r\n      SPPageChrome._instance = new SPPageChrome(serviceScope);\r\n    }\r\n    return SPPageChrome._instance;\r\n  }\r\n\r\n  constructor(serviceScope: ServiceScope) {\r\n    this._createPageChrome();\r\n\r\n    if (!SPKillSwitch.isActivated(Guid.tryParse('48CB5A9D-4E94-40F0-B51F-24480C28E565'),\r\n                                  '7/13/2016', 'EnableTheming')) {\r\n      this._spThemeProvider = new SPThemeProvider(serviceScope);\r\n      this._spThemeProvider.loadThemedStyles();\r\n    }\r\n  }\r\n\r\n  public changeSuiteNavHeight(pixels: string): void {\r\n    const top: string = parseInt(pixels, 10) + 'px';\r\n    this.appDiv.style.top = top;\r\n    this.appDiv.style.height = `calc(100% - ${top})`;\r\n    this.propertyPaneContainerDiv.style.top = top;\r\n    this.suiteNavDiv.style.height = top;\r\n  }\r\n\r\n  /**\r\n   * Creates div elements that are used to render the Standard Page Chrome for\r\n   * Client Side Applications. The structure of the Page Chrome is:\r\n   *\r\n   * SPPageChrome - Parent Div for Client Side Applications\r\n   * -SuiteNav - O365 SuiteNav\r\n   * --App - Div Element where the application will be rendered.\r\n   */\r\n  private _createPageChrome(): void {\r\n    document.body.className = 'ms-font-m';\r\n    const pageChromeDiv: HTMLDivElement = document.createElement('div');\r\n    pageChromeDiv.setAttribute('class', 'SPPageChrome');\r\n\r\n    this.suiteNavDiv = document.createElement('div');\r\n    this.suiteNavDiv.setAttribute('id', 'SuiteNavPlaceHolder');\r\n\r\n    this.appDiv = document.createElement('div');\r\n    this.appDiv.setAttribute('class', 'SPPageChrome-app spPageContentTransition');\r\n    this.appDiv.setAttribute('id', 'spPageChromeAppDiv');\r\n\r\n    this.propertyPaneContainerDiv = document.createElement('div');\r\n    this.propertyPaneContainerDiv.setAttribute('class', 'spPropertyPaneContainer spPageContentTransition');\r\n    this.propertyPaneContainerDiv.setAttribute('id', 'spPropertyPaneContainer');\r\n\r\n    pageChromeDiv.appendChild(this.suiteNavDiv) as HTMLDivElement;\r\n    pageChromeDiv.appendChild(this.appDiv) as HTMLDivElement;\r\n    pageChromeDiv.appendChild(this.propertyPaneContainerDiv) as HTMLDivElement;\r\n\r\n    document.body.appendChild(pageChromeDiv);\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/spPageChrome/SPPageChrome.ts\n **/","// TODO (Bug 223178) Move Theming engine from odsp-utilities to sp-client\\platform\\sp-client-shared\r\nimport { Promise as ODSPPromise } from '@ms/odsp-utilities-bundle';\r\nimport { FabricTheming, RgbaColor } from '@ms/odsp-utilities-bundle';\r\nimport { ThemeProvider, WebTheme, Uri } from '@ms/odsp-utilities-bundle';\r\nimport { IThemeData, IThemeDataRaw } from '@ms/odsp-utilities-bundle';\r\n\r\nimport {\r\n  HttpClient,\r\n  ServiceScope,\r\n  httpClientServiceKey,\r\n  _QosMonitor\r\n} from '@microsoft/sp-client-base';\r\n\r\nimport PageContext, { appPageContextServiceKey } from '../../framework/pageContext/AppPageContext';\r\nimport SPWebTemplateIds from './SPWebTemplateIds';\r\n\r\nimport { loadTheme } from 'load-themed-styles';\r\n\r\n// This is a map of tokenName 'theme:themePrimary' to color value '#0078d7'\r\ninterface IColorPalette {\r\n  [key: string]: string;\r\n}\r\n\r\n/**\r\n * The class controls applying a theme to the current Page.\r\n * The theme is a web level setting, if a theme is applied this class with call loadtheme\r\n * which will update the styles that are registered with load-themed-styles.\r\n *\r\n * The loadData method is called by the ThemeProvider class when it needs to get the IThemeData.\r\n * Once it has theme data it will cache it in local storage using the themedCssFolderUrl as the cache key.\r\n */\r\nexport default class SPThemeProvider {\r\n\r\n  private _pageContext: PageContext;\r\n  private _httpClient: HttpClient;\r\n  private _themeOverride: string;\r\n  private _themeProvider: ThemeProvider;\r\n\r\n  public constructor(serviceScope: ServiceScope) {\r\n\r\n    serviceScope.whenFinished(() => {\r\n      this._pageContext = serviceScope.consume(appPageContextServiceKey);\r\n      this._httpClient = serviceScope.consume(httpClientServiceKey);\r\n      this._themeProvider = new ThemeProvider(this.loadData.bind(this));\r\n\r\n      // Check for a theme override from the URL (as in the theme preview page).\r\n      try {\r\n        const contextUri: Uri = new Uri(window.location.href);\r\n        this._themeOverride = contextUri.getQueryParameter('ThemeOverride');\r\n      } catch (ignoredUrlException) {\r\n        // Just in case location.href throws for some reason.\r\n      }\r\n    });\r\n  }\r\n\r\n  public loadThemedStyles(): void {\r\n    const cacheToken: string = this.getCacheToken();\r\n    this._themeProvider.loadThemeTokenMap(cacheToken)\r\n      .then((palette: IColorPalette) => {\r\n        loadTheme(palette);\r\n      });\r\n  }\r\n\r\n  public loadData(): ODSPPromise<IThemeData> {\r\n    const tagName: string = 'SPThemeProvider.loadData';\r\n    const qosMonitor: _QosMonitor = new _QosMonitor(tagName);\r\n\r\n    if (this._pageContext.core.webTemplate) {\r\n      if (this._pageContext.core.webTemplate === SPWebTemplateIds.teamSite ||\r\n          this._pageContext.core.webTemplate === SPWebTemplateIds.groupSite) {\r\n        // check if the site has a theme applied\r\n        if (this._pageContext.core.themedCssFolderUrl) {\r\n          // Fetch Theme Data from SharePoint\r\n          const getThemeDataUrl: string = WebTheme.makeWebThemeRestUrl(this._pageContext.core.siteServerRelativeUrl,\r\n                                                                       this._pageContext.core.currentUICultureName,\r\n                                                                       this._themeOverride);\r\n          return new ODSPPromise((resolve, reject) => {\r\n            this._httpClient.get(getThemeDataUrl)\r\n            .then((response: Response) => {\r\n              if (response.status === 200) {\r\n                return response.json()\r\n                  /* tslint:disable:no-any */\r\n                  .then((json: any) => {\r\n                  /* tslint:enable:no-any */\r\n                    const themeDataRaw: IThemeDataRaw = JSON.parse(json.value) as IThemeDataRaw;\r\n                    if (themeDataRaw) {\r\n                      const themeData: IThemeData = WebTheme.processRawThemeData(themeDataRaw);\r\n                      themeData.cacheToken = this._pageContext.core.themedCssFolderUrl;\r\n                      qosMonitor.writeSuccess();\r\n                      resolve(themeData);\r\n                    } else {\r\n                      // ThemeProvider will handle undefined themeData as an error\r\n                      qosMonitor.writeUnexpectedFailure();\r\n                      resolve(undefined);\r\n                    }\r\n                });\r\n              } else {\r\n                // ThemeProvider will handle undefined themeData as an error\r\n                qosMonitor.writeUnexpectedFailure(tagName, new Error(response.statusText));\r\n                resolve(undefined);\r\n              }\r\n            });\r\n          });\r\n        } else if (this._pageContext.core.groupColor) {\r\n          // Generate a Fabric theme from the site color\r\n          const htmlThemeColor: string = this._pageContext.core.groupColor;\r\n          const rgbaThemeColor: RgbaColor = RgbaColor.fromHtmlColor(htmlThemeColor);\r\n          if (rgbaThemeColor) {\r\n              const fabTheme: IThemeData = {\r\n                  backgroundImageUri: undefined,\r\n                  cacheToken: this.getCacheToken(),\r\n                  isDefault: false,\r\n                  isInverted: false,\r\n                  palette: FabricTheming.generateFabricColors(rgbaThemeColor),\r\n                  version: '1'\r\n              };\r\n              return ODSPPromise.wrap(fabTheme);\r\n          } else {\r\n              // Return no theme to indicate default theme values should be used.\r\n              return ODSPPromise.wrap();\r\n          }\r\n        } else {\r\n          // Use Default SharePoint Color Palette\r\n          qosMonitor.writeSuccess();\r\n          return ODSPPromise.wrap(this.createDefaultTheme());\r\n        }\r\n      } else {\r\n        // Unknown Web Template, Use Default\r\n        qosMonitor.writeExpectedFailure(`Unsuppted WebTemplate: ${this._pageContext.core.webTemplate}`);\r\n        return ODSPPromise.wrap(this.createDefaultTheme());\r\n      }\r\n    } else {\r\n      qosMonitor.writeUnexpectedFailure(`pageContext.core.webTemplate is undefined`);\r\n      return ODSPPromise.wrap(this.createDefaultTheme());\r\n    }\r\n  }\r\n\r\n  private createDefaultTheme(): IThemeData {\r\n    const themeData: IThemeData = {\r\n      backgroundImageUri: undefined,\r\n      cacheToken: undefined,\r\n      isDefault: undefined,\r\n      isInverted: false,\r\n      palette: undefined,\r\n      version: '1.0'\r\n    };\r\n\r\n    return themeData;\r\n  }\r\n\r\n  private getCacheToken(): string {\r\n    const webTemplate: string = String(this._pageContext.core.webTemplate);\r\n    const groupColor: string =\r\n      webTemplate === SPWebTemplateIds.teamSite ||\r\n      webTemplate === SPWebTemplateIds.groupSite ? this._pageContext.core.groupColor : undefined;\r\n    const groupColorToken: string = groupColor && (groupColor + ';web#' + webTemplate);\r\n    return this._themeOverride || this._pageContext.core.themedCssFolderUrl || groupColorToken;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/spPageChrome/SPThemeProvider.ts\n **/","\r\n/**\r\n * Represents the Web Template Ids\r\n * https://msdn.microsoft.com/en-us/library/microsoft.sharepoint.spweb.webtemplateid.aspx\r\n */\r\nexport default class SPWebTemplateIds {\r\n\r\n  public static teamSite: string = '1';\r\n  public static groupSite: string = '64';\r\n\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/spPageChrome/SPWebTemplateIds.ts\n **/","require('SPPageChrome.css');\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/common/spPageChrome/SPPageChrome.scss.ts\n **/","var content = require(\"!!./../../../../../common/node_modules/css-loader/index.js!./SPPageChrome.css\");\nvar loader = require(\"D:\\\\agent\\\\2\\\\_work\\\\193\\\\s\\\\common\\\\node_modules\\\\load-themed-styles\\\\lib\\\\index.js\");\n\nif(typeof content === \"string\") content = [[module.id, content]];\n\n// add the styles to the DOM\nfor (var i = 0; i < content.length; i++) loader.loadStyles(content[i][1]);\n\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/local/common/spPageChrome/SPPageChrome.css\n ** module id = 248\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../common/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body{overflow:hidden}#SuiteNavPlaceHolder{background-color:#333;position:absolute;width:100%;z-index:5}.SPPageChrome-app{position:absolute;right:0;bottom:0;left:0;overflow:visible}.spPropertyPaneContainer{position:fixed;right:-340px;bottom:0}.spPageContentTransition{transition:right 367ms cubic-bezier(.1,.9,.2,1);-webkit-transition:right 367ms cubic-bezier(.1,.9,.2,1)}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../common/~/css-loader!./lib/local/common/spPageChrome/SPPageChrome.css\n ** module id = 249\n ** module chunks = 0\n **/","import {\r\n  SPFlight,\r\n  SPKillSwitch,\r\n  IClientSideComponentManifest,\r\n  IClientSideApplicationManifest,\r\n  ServiceScope,\r\n  IDigestCache,\r\n  digestCacheServiceKey,\r\n  SPCdnUrlProvider,\r\n  IODataWeb,\r\n  IODataNavigationNode,\r\n  IODataNavigationNodeCollection,\r\n  IODataContextWebInformation\r\n} from '@microsoft/sp-client-base';\r\n\r\nimport IOdataList from '../httpClient/odataTypes/IOdataList';\r\nimport IOdataListItem from '../httpClient/odataTypes/IOdataListItem';\r\nimport IOdataUser from '../httpClient/odataTypes/IOdataUser';\r\nimport { ISPPageContextInfo } from '../httpClient/odataTypes/ISPPageContextInfo';\r\nimport GuidHelpers from '../basicTypes/GuidHelpers';\r\nimport PageContext from '../pageContext/AppPageContext';\r\nimport SPNavigationNode from '../pageContext/SPNavigationNode';\r\nimport SPNavigationNodeCollection from '../pageContext/SPNavigationNodeCollection';\r\n\r\n/**\r\n  * This is a global variable that is embedded on pages rendered by the classic\r\n  * server-side rendering model.  We are relying on it only as a temporary workaround\r\n  * until we've completed the work to host a first party client-side application\r\n  * which will provide the expected preloadedData structure.\r\n  * (SPPPlat VSO task #147515)\r\n  */\r\ndeclare var _spPageContextInfo: {\r\n  siteAbsoluteUrl: string;\r\n  webAbsoluteUrl: string;        // ex. 'http://example.com/sites/PubSite'\r\n  webTitle: string;\r\n  webServerRelativeUrl: string;  // ex. '/sites/PubSite'\r\n  siteServerRelativeUrl: string;\r\n  serverRequestPath: string;     // ex. '/sites/PubSite/Pages/default.aspx'\r\n  pageItemId: number;            // ex. 2\r\n  pageListId: string;            // ex. \"{9fb9199b-65f2-4a4a-b597-11d1a44422c1}\"\r\n  isSiteAdmin: boolean;\r\n\r\n  webLanguage: number;           // ex. 1033\r\n  currentCultureName: string;    // ex. \"en-US\"\r\n  currentLanguage: number;       // ex. 1033\r\n  currentUICultureName: string;  // ex. \"en-US\"\r\n\r\n  navigationInfo: IODataNavigationNodeCollection;\r\n};\r\n\r\nexport default class PreloadedDataReader {\r\n  private _preloadedData: IPreloadedData;\r\n  private _isValid: boolean;\r\n\r\n  private static _toNavNodes(\r\n    srcNodes: IODataNavigationNode[],\r\n    pageContext: PageContext): SPNavigationNode[] {\r\n\r\n    const items: SPNavigationNode[] = new Array<SPNavigationNode>();\r\n\r\n    if (srcNodes) {\r\n      for (let i: number = 0; i < srcNodes.length; i++) {\r\n        const srcItem: IODataNavigationNode = srcNodes[i];\r\n        const item: SPNavigationNode = new SPNavigationNode(pageContext);\r\n        item.load({ id: srcItem.Id });\r\n        item.updateOdataObject(srcItem);\r\n\r\n        items.push(item);\r\n      }\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  constructor(preloadedData: IPreloadedData) {\r\n    this._preloadedData = preloadedData;\r\n    this._isValid = false;\r\n\r\n    if (this._preloadedData === undefined ||\r\n      !GuidHelpers.isValid(this._preloadedData.clientSideApplicationId)) {\r\n      console.log('Warning: PreloadedDataReader: No preloaded data was found');\r\n    } else {\r\n      this._isValid = true;\r\n\r\n      if (this._preloadedData.spPageContextInfo) {\r\n        SPFlight.initialize(this._preloadedData.spPageContextInfo.ExpFeatures);\r\n        SPKillSwitch.initialize(this._preloadedData.spPageContextInfo.killSwitches);\r\n      }\r\n    }\r\n  }\r\n\r\n  public initializeDigestCache(serviceScope: ServiceScope): void {\r\n    if (this._isValid) {\r\n      // @todo: (VSO task #163923) This will need to be updated when PreloadedDataReader\r\n      // is wired up to the final version of HttpClient from sp-client-base.\r\n      if (this._preloadedData.contextWebInfo\r\n        && this._preloadedData.spPageContextInfo\r\n        && this._preloadedData.spPageContextInfo.webServerRelativeUrl) {\r\n\r\n        serviceScope.whenFinished(() => {\r\n          const digestCache: IDigestCache = serviceScope.consume(digestCacheServiceKey);\r\n          console.log('PreloadedDataReader: Added preloaded FormDigestValue to cache');\r\n\r\n          const expirationTimestamp: number = performance.now()\r\n            + 1000 * this._preloadedData.contextWebInfo.FormDigestTimeoutSeconds;\r\n\r\n          digestCache.addDigestToCache(\r\n            this._preloadedData.spPageContextInfo.webServerRelativeUrl,\r\n            this._preloadedData.contextWebInfo.FormDigestValue,\r\n            expirationTimestamp\r\n          );\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  public initializePageContext(pageContext: PageContext): void {\r\n    if (this._isValid) {\r\n      pageContext.application.load({\r\n        clientSideApplicationId: this._preloadedData.clientSideApplicationId,\r\n        hostedByClassicPage: false\r\n      });\r\n\r\n      pageContext.web.updateOdataObject(undefined);\r\n      pageContext.list.updateOdataObject(undefined);\r\n      pageContext.listItem.updateOdataObject(undefined);\r\n      pageContext.core.updateOdataObject(undefined);\r\n\r\n      const web: IODataWeb = this._preloadedData.web;\r\n      if (web) {\r\n        pageContext.web.load({\r\n          id: GuidHelpers.getNormalized(web.Id),\r\n          serverRelativeUrl: web.ServerRelativeUrl,\r\n          title: web.Title\r\n        });\r\n        pageContext.web.updateOdataObject(web);\r\n      }\r\n\r\n      const list: IOdataList = this._preloadedData.list;\r\n      if (list) {\r\n        pageContext.list.load({\r\n          id: GuidHelpers.getNormalized(list.Id),\r\n          title: list.Title,\r\n          description: list.Description\r\n        });\r\n        pageContext.list.updateOdataObject(list);\r\n      }\r\n\r\n      const listItem: IOdataListItem = this._preloadedData.item;\r\n      if (listItem) {\r\n        pageContext.listItem.load({\r\n          id: listItem.ID\r\n        });\r\n        pageContext.listItem.updateOdataObject(listItem);\r\n      }\r\n\r\n      const user: IOdataUser = this._preloadedData.user;\r\n      if (user) {\r\n        pageContext.user.load({\r\n          id: user.Id\r\n        });\r\n        pageContext.user.updateOdataObject(user);\r\n      }\r\n\r\n      const spPageContextInfo: ISPPageContextInfo = this._preloadedData.spPageContextInfo;\r\n      if (spPageContextInfo) {\r\n        pageContext.core.load({\r\n          MenuData: spPageContextInfo.MenuData,\r\n          currentCultureName: spPageContextInfo.currentCultureName,\r\n          currentUICultureName: spPageContextInfo.currentUICultureName,\r\n          correlationId: spPageContextInfo.CorrelationId,\r\n          spoEnvironment: spPageContextInfo.env,\r\n          farmLabel: spPageContextInfo.farmLabel,\r\n          groupColor: spPageContextInfo.groupColor,\r\n          hasManageWebPermission: spPageContextInfo.hasManageWebPermission,\r\n          layoutsUrl: spPageContextInfo.layoutsUrl,\r\n          listPermsMask: spPageContextInfo.listPermsMask,\r\n          siteAbsoluteUrl: spPageContextInfo.siteAbsoluteUrl,\r\n          siteClientTag: spPageContextInfo.siteClientTag,\r\n          siteId: spPageContextInfo.siteId,\r\n          siteServerRelativeUrl: spPageContextInfo.siteServerRelativeUrl,\r\n          siteSubscriptionId: spPageContextInfo.siteSubscriptionId,\r\n          systemUserKey: spPageContextInfo.systemUserKey,\r\n          themedCssFolderUrl: spPageContextInfo.themedCssFolderUrl,\r\n          userDisplayName: spPageContextInfo.userDisplayName,\r\n          userLoginName: spPageContextInfo.userLoginName,\r\n          webAbsoluteUrl: spPageContextInfo.webAbsoluteUrl,\r\n          webId: spPageContextInfo.webId,\r\n          webLogoUrl: spPageContextInfo.webLogoUrl,\r\n          webServerRelativeUrl: spPageContextInfo.webServerRelativeUrl,\r\n          webTitle: spPageContextInfo.webTitle,\r\n          webTemplate: spPageContextInfo.webTemplate,\r\n          webPermMasks: spPageContextInfo.webPermMasks\r\n        });\r\n        pageContext.core.updateOdataObject(spPageContextInfo);\r\n      }\r\n\r\n      if (this._preloadedData.publicCdnOrigin) {\r\n        SPCdnUrlProvider.initialize(this._preloadedData.publicCdnOrigin);\r\n      }\r\n\r\n      // NOTE: We have to access the window using this syntax.  Originally we\r\n      // used the conventional approach, but it caused a compatibility problem\r\n      // for the IE web browser.\r\n      /* tslint:disable:no-string-literal */\r\n    } else if (window['_spPageContextInfo'] !== undefined) {\r\n      // Fallback for classic pages\r\n      pageContext.application.load({\r\n        clientSideApplicationId: '00000000-0000-0000-0000-000000000000',\r\n        hostedByClassicPage: true\r\n      });\r\n\r\n      pageContext.web.load({\r\n        id: '00000000-0000-0000-0000-000000000000',\r\n        serverRelativeUrl: _spPageContextInfo.webServerRelativeUrl,\r\n        title: _spPageContextInfo.webTitle\r\n      });\r\n\r\n      if (_spPageContextInfo.pageListId) {\r\n        pageContext.list.load({\r\n          id: GuidHelpers.getNormalized(_spPageContextInfo.pageListId),\r\n          title: '',\r\n          description: ''\r\n        });\r\n\r\n        if (_spPageContextInfo.pageItemId) {\r\n          pageContext.listItem.load({\r\n            id: _spPageContextInfo.pageItemId\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      // @todo: This breaks unit tests.\r\n      // throw new Error('The _spClientSidePageContext variable is missing');\r\n    }\r\n\r\n    if (this._preloadedData.spPageContextInfo && this._preloadedData.spPageContextInfo.navigationInfo) {\r\n      this._initNav(\r\n        pageContext.quickLaunch,\r\n        this._preloadedData.spPageContextInfo.navigationInfo.quickLaunch,\r\n        pageContext);\r\n      this._initNav(\r\n        pageContext.topNav,\r\n        this._preloadedData.spPageContextInfo.navigationInfo.topNav,\r\n        pageContext);\r\n    }\r\n  }\r\n\r\n  private _initNav(\r\n    target: SPNavigationNodeCollection,\r\n    source: IODataNavigationNode[],\r\n    pageContext: PageContext): void {\r\n    if (!target || !source) {\r\n      return;\r\n    }\r\n\r\n    target.updateOdataObject(source);\r\n\r\n    const items: SPNavigationNode[] = PreloadedDataReader._toNavNodes(source, pageContext);\r\n    target.items = items;\r\n  }\r\n}\r\n\r\nexport interface IPreloadedData {\r\n  clientSideApplicationId: string;\r\n  contextWebInfo?: IODataContextWebInformation;\r\n  spPageContextInfo?: ISPPageContextInfo;\r\n  user?: IOdataUser;\r\n  web?: IODataWeb;\r\n  list?: IOdataList;\r\n  item?: IOdataListItem;\r\n  page?: { DoesUserHaveEditPermission: boolean };\r\n  quickLaunch?: IODataNavigationNodeCollection;\r\n  manifests?: IClientSideComponentManifest[];\r\n  publicCdnOrigin?: string[];\r\n\r\n  // Only in when the application uses manifestVersion=2:\r\n  clientSideApplicationManifest?: IClientSideApplicationManifest;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/framework/shell/PreloadedDataReader.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneCustomField.\r\n */\r\n\r\nimport { IPropertyPaneCustomFieldProps } from './IPropertyPaneCustomField';\r\nimport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType } from '../propertyPaneField/IPropertyPaneField';\r\n\r\n/**\r\n * Helper method to create a Choice Group on the PropertyPane.\r\n * @param targetProperty - Target property the choice group is associated to.\r\n * @param properties - Strongly typed Choice Group properties.\r\n */\r\nexport function PropertyPaneCustomField(\r\n  targetProperty: string,\r\n  properties: IPropertyPaneCustomFieldProps): IPropertyPaneField<IPropertyPaneCustomFieldProps> {\r\n  return {\r\n    type: IPropertyPaneFieldType.Custom,\r\n    targetProperty: undefined,\r\n    properties: properties\r\n  };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneCustomField/PropertyPaneCustomField.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneButton related interfaces.\r\n */\r\n\r\n/**\r\n * PropertyPane button props.\r\n */\r\nexport interface IPropertyPaneButtonProps {\r\n  /**\r\n   * Display text of the element.\r\n   */\r\n  text: string;\r\n\r\n  /**\r\n   * The type of button to render.\r\n   * @defaultvalue ButtonType.normal.\r\n   */\r\n  buttonType?: PropertyPaneButtonType;\r\n\r\n  /**\r\n   * The button icon shown in command or hero type.\r\n   */\r\n  icon?: string;\r\n\r\n  /**\r\n   * Description of the action this button takes.\r\n   * Only used for compound buttons.\r\n   */\r\n  description?: string;\r\n\r\n  /**\r\n   * Whether the button is disabled.\r\n   */\r\n  disabled?: boolean;\r\n\r\n  /**\r\n   * The aria label of the button for the benefit of screen readers.\r\n   */\r\n  ariaLabel?: string;\r\n\r\n  /**\r\n   * Detailed description of the button for the benefit of screen readers.\r\n   *\r\n   * Besides the compound button, other button types will need more information provided to screen reader.\r\n   */\r\n  ariaDescription?: string;\r\n\r\n  /**\r\n   * A callback which is invoked on the button click, which takes in the existing value for the bound property\r\n   * and returns the new value and which is then used to update the properties bag. This update will result in\r\n   * the re-render of the PropertyPane with the new props.\r\n   *\r\n   * @param {value} - Value associated with element's target property in the properties bag.\r\n   * @returns - New value for the target property, which will eventually be updated in the properties bag.\r\n   *\r\n   * @internalremarks: This is the only place where the web part developer's is allowed to pass in the callback\r\n   * for an individual element. This is because, button click does not result in any property change, and hence\r\n   * cannot fire the 'onChange'' event for a property, and ends up becoming a no-op. To avoid this, giving the\r\n   * control back to the web part, so that web part can make act acordingly.\r\n   *\r\n   * todo: VSO# 233578:PropertyPane Button OnClick event api.\r\n   */\r\n  /* tslint:disable-next-line:no-any */\r\n  onClick: (value: any) => any;\r\n}\r\n\r\n/**\r\n * Enum for all the supported button types.\r\n */\r\nexport enum PropertyPaneButtonType {\r\n\r\n  /**\r\n   * Optional completion action.\r\n   * Typically used at the end of a form or task when paired with the Primary button OR\r\n   * as a standalone button to undo an action.\r\n   * Examples: \"Done\" button which closes a container but doesn't make a server call or\r\n   * an \"Undo\" button when a user is uploading a file in OneDrive.\r\n   */\r\n  Normal,\r\n\r\n  /**\r\n   * Preferred completion action when paired with a Standard button.\r\n   * Typically used at the end of a task or form.\r\n   * Examples: \"Create\", \"Save\", \"Send\" which makes a server call.\r\n   */\r\n  Primary,\r\n\r\n  /**\r\n   * Hero button.\r\n   */\r\n  Hero,\r\n\r\n  /**\r\n   * Always used as a set with both Standard and Primary compound buttons.\r\n   * Typically used in a confirmation dialog.\r\n   * Examples: A confirmation dialog when a user discards a form or task with a possible\r\n   * significant time investment such as an email or a complex form\r\n   */\r\n  Compound,\r\n\r\n  /**\r\n   * Optional actions.\r\n   * Typically used in a command bar at the top of a view, panel and inside an inline command bar.\r\n   * Examples: Command bar at the top of OneDrive, Outlook, SharePoint. Inline command bar on the\r\n   * top of SharePoint web parts.\r\n   */\r\n  Command,\r\n\r\n  /**\r\n   * Same usage as Command button, when real estate does not allow for icons + labels or as secondary\r\n   * actions within the command bar.\r\n   * Typically used in Command bar in small and medium responsive web breakpoints. Also used on objects.\r\n   * Examples: OneDrive small and medium responsive web breakpoint Command Bars and view icons within the\r\n   * Command Bar. In SharePoint and OneDrive, Cards with social actions and images which allow users to\r\n   * access the image picker. In SharePoint, formatting experiences such as formatting a story within the\r\n   * Authoring experience. In Calendar, in the bottom of an event creation Callout when clicking inside\r\n   * an empty time range.\r\n   */\r\n  Icon\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneButton/IPropertyPaneButton.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneButton.\r\n */\r\n\r\nimport { IPropertyPaneButtonProps } from './IPropertyPaneButton';\r\nimport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType } from '../propertyPaneField/IPropertyPaneField';\r\n\r\n/**\r\n * Helper method to create a Button on the PropertyPane.\r\n * @param targetProperty - Target property the Button is associated to.\r\n * @param properties - Strongly typed Button properties.\r\n */\r\nexport function PropertyPaneButton(\r\n  targetProperty: string,\r\n  properties: IPropertyPaneButtonProps): IPropertyPaneField<IPropertyPaneButtonProps> {\r\n\r\n  return {\r\n    type: IPropertyPaneFieldType.Button,\r\n    targetProperty: targetProperty,\r\n    properties: properties\r\n  };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneButton/PropertyPaneButton.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneCheckbox.\r\n */\r\n\r\nimport { IPropertyPaneCheckboxProps } from './IPropertyPaneCheckbox';\r\nimport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType } from '../propertyPaneField/IPropertyPaneField';\r\n\r\n/**\r\n * Helper method to create a Checkbox on the PropertyPane.\r\n * @param targetProperty - Target property the checkbox is associated to.\r\n * @param properties - Strongly typed Checkbox properties.\r\n */\r\nexport function PropertyPaneCheckbox(\r\n  targetProperty: string,\r\n  properties: IPropertyPaneCheckboxProps): IPropertyPaneField<IPropertyPaneCheckboxProps> {\r\n\r\n  return {\r\n    type: IPropertyPaneFieldType.CheckBox,\r\n    targetProperty: targetProperty,\r\n    properties: properties\r\n  };\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneCheckBox/PropertyPaneCheckbox.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneChiceGroup.\r\n */\r\n\r\nimport { IPropertyPaneChoiceGroupProps } from './IPropertyPaneChoiceGroup';\r\nimport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType } from '../propertyPaneField/IPropertyPaneField';\r\n\r\n/**\r\n * Helper method to create a Choice Group on the PropertyPane.\r\n * @param targetProperty - Target property the choice group is associated to.\r\n * @param properties - Strongly typed Choice Group properties.\r\n */\r\nexport function PropertyPaneChoiceGroup(\r\n  targetProperty: string,\r\n  properties: IPropertyPaneChoiceGroupProps): IPropertyPaneField<IPropertyPaneChoiceGroupProps> {\r\n  return {\r\n    type: IPropertyPaneFieldType.ChoiceGroup,\r\n    targetProperty: targetProperty,\r\n    properties: properties\r\n  };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneChoiceGroup/PropertyPaneChoiceGroup.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneDropdown.\r\n */\r\n\r\nimport { IPropertyPaneDropdownProps } from './IPropertyPaneDropdown';\r\nimport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType } from '../propertyPaneField/IPropertyPaneField';\r\n\r\n/**\r\n * Helper method to create a Dropdown on the PropertyPane.\r\n * @param targetProperty - Target property the dropdown is associated to.\r\n * @param properties - Strongly typed Dropdown properties.\r\n */\r\nexport function PropertyPaneDropdown(\r\n  targetProperty: string,\r\n  properties: IPropertyPaneDropdownProps): IPropertyPaneField<IPropertyPaneDropdownProps> {\r\n\r\n  return {\r\n    type: IPropertyPaneFieldType.Dropdown,\r\n    targetProperty: targetProperty,\r\n    properties: properties\r\n  };\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneDropdown/PropertyPaneDropdown.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneHorizontalRule.\r\n */\r\n\r\nimport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType } from '../propertyPaneField/IPropertyPaneField';\r\n\r\n/**\r\n * Helper method to create a Horizontal Rule on the PropertyPane.\r\n * @param properties - Strongly typed Horizontal Rule properties.\r\n */\r\nexport function PropertyPaneHorizontalRule(): IPropertyPaneField<void> {\r\n  return {\r\n    type: IPropertyPaneFieldType.HorizontalRule,\r\n    targetProperty: undefined,\r\n    properties: undefined\r\n  };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneHorizontalRule/PropertyPaneHorizontalRule.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneLabel.\r\n */\r\n\r\nimport { IPropertyPaneLabelProps } from './IPropertyPaneLabel';\r\nimport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType } from '../propertyPaneField/IPropertyPaneField';\r\n\r\n/**\r\n * Helper method to create a Label on the PropertyPane.\r\n * @param targetProperty - Target property the label is associated to.\r\n * @param properties - Strongly typed Label properties.\r\n */\r\nexport function PropertyPaneLabel(\r\n  targetProperty: string,\r\n  properties: IPropertyPaneLabelProps): IPropertyPaneField<IPropertyPaneLabelProps> {\r\n\r\n  return {\r\n    type: IPropertyPaneFieldType.Label,\r\n    targetProperty: targetProperty,\r\n    properties: properties\r\n  };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneLabel/PropertyPaneLabel.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneLink.\r\n */\r\n\r\nimport { IPropertyPaneLinkProps } from './IPropertyPaneLink';\r\nimport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType } from '../propertyPaneField/IPropertyPaneField';\r\n\r\n/**\r\n * Helper method to create a Link on the PropertyPane.\r\n * @param targetProperty - Target property the Link is associated to.\r\n * @param properties - Strongly typed Link properties.\r\n */\r\nexport function PropertyPaneLink(\r\n  targetProperty: string,\r\n  properties: IPropertyPaneLinkProps): IPropertyPaneField<IPropertyPaneLinkProps> {\r\n\r\n  return {\r\n    type: IPropertyPaneFieldType.Link,\r\n    targetProperty: undefined,\r\n    properties: properties\r\n  };\r\n}\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneLink/PropertyPaneLink.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneSlider.\r\n */\r\n\r\nimport { IPropertyPaneSliderProps } from './IPropertyPaneSlider';\r\nimport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType } from '../propertyPaneField/IPropertyPaneField';\r\n\r\n/**\r\n * Helper method to create a Slider on the PropertyPane.\r\n * @param targetProperty - Target property the slider is associated to.\r\n * @param properties - Strongly typed Slider properties.\r\n */\r\nexport function PropertyPaneSlider(\r\n  targetProperty: string,\r\n  properties: IPropertyPaneSliderProps): IPropertyPaneField<IPropertyPaneSliderProps> {\r\n\r\n  return {\r\n    type: IPropertyPaneFieldType.Slider,\r\n    targetProperty: targetProperty,\r\n    properties: properties\r\n  };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneSlider/PropertyPaneSlider.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneTextField.\r\n */\r\n\r\nimport { IPropertyPaneTextFieldProps } from './IPropertyPaneTextField';\r\nimport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType } from '../propertyPaneField/IPropertyPaneField';\r\n\r\n/**\r\n * Helper method to create a TextField on the PropertyPane.\r\n * @param targetProperty - Target property the textfield is associated to.\r\n * @param properties - Strongly typed TextField properties.\r\n */\r\nexport function PropertyPaneTextField(\r\n  targetProperty: string,\r\n  properties: IPropertyPaneTextFieldProps): IPropertyPaneField<IPropertyPaneTextFieldProps> {\r\n\r\n  return {\r\n    type: IPropertyPaneFieldType.TextField,\r\n    targetProperty: targetProperty,\r\n    properties: properties\r\n  };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneTextField/PropertyPaneTextField.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file PropertyPaneToggle.\r\n */\r\n\r\nimport { IPropertyPaneToggleProps } from './IPropertyPaneToggle';\r\nimport {\r\n  IPropertyPaneField,\r\n  IPropertyPaneFieldType } from '../propertyPaneField/IPropertyPaneField';\r\n\r\n/**\r\n * Helper method to create a Toggle on the PropertyPane.\r\n * @param targetProperty - Target property the toggle is associated to.\r\n * @param properties - Strongly typed Toggle properties.\r\n */\r\nexport function PropertyPaneToggle(\r\n  targetProperty: string,\r\n  properties: IPropertyPaneToggleProps): IPropertyPaneField<IPropertyPaneToggleProps> {\r\n\r\n  return {\r\n    type: IPropertyPaneFieldType.Toggle,\r\n    targetProperty: targetProperty,\r\n    properties: properties\r\n  };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/propertyPane/propertyPaneFields/propertyPaneToggle/PropertyPaneToggle.ts\n **/","  /**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * Code to help boostrap client side web parts on classic pages.\r\n */\r\n\r\nimport { IClientSideWebPartManifest } from '@microsoft/sp-module-interfaces';\r\nimport { DisplayMode, _TraceLogger, _LogSource } from '@microsoft/sp-client-base';\r\n\r\nimport ClassicPageHost from './ClassicPageHost';\r\nimport ClientSideWebPartManager from '../ClientSideWebPartManager';\r\nimport IWebPartData from '../IWebPartData';\r\nimport IWebPartManagerContext from '../IWebPartManagerContext';\r\nimport { PropertyPaneState } from '../../../common/webParts/PropertyPaneDefinitions';\r\n\r\n/**\r\n * This class helps bootstrap client side web parts onto classic SharePoint pages.\r\n * Ideally client side web parts should be bootstrapped similar to the modern pages.\r\n * @todo (SPPPLAT VSO#228547) tracks fixing that.\r\n *\r\n * @internal\r\n */\r\nexport default class ClassicPageBootstrapper {\r\n\r\n    private _initialized: boolean = false;\r\n    private _manager: ClientSideWebPartManager = undefined;\r\n    private _logSource: _LogSource = _LogSource.create('ClientSideWebPart:ClassicPageBootstrapper');\r\n\r\n    /**\r\n     * Load client side web part on a classic page\r\n     *\r\n     * @param instanceId - Instance id of the webpart.\r\n     * @param manifest - The webp art manifest.\r\n     * @param data - Instance data for the control.\r\n     * @param mode - DisplayMode for the web part.\r\n     */\r\n    /* tslint:disable:no-any */\r\n    public loadClientSideWebPart(\r\n      instanceId: string,\r\n      manifest: IClientSideWebPartManifest<any>,\r\n      data: IWebPartData,\r\n      mode: DisplayMode = DisplayMode.Read): void {\r\n\r\n    /* tslint:enable:no-any */\r\n      this._initialize();\r\n\r\n      const context: IWebPartManagerContext = {\r\n        domElement: this._findWebPartContainer(instanceId),\r\n        instanceId: instanceId,\r\n        manifest: manifest,\r\n        webPartData: data,\r\n        displayMode: mode\r\n      };\r\n\r\n      _TraceLogger.logVerbose(this._logSource, `Loading the web part. manager context = '${JSON.stringify(context)}'.`);\r\n      this._manager.loadWebPart(context);\r\n    }\r\n\r\n    /**\r\n     * Log an error in case of loading failure.\r\n     *\r\n     * @param instanceId - Instance id of the webpart e.g. a GUID.\r\n     * @param error - The error string.\r\n     */\r\n    public logClientSideWebPartLoadError(instanceId: string, error: string): void {\r\n        this._initialize();\r\n\r\n        this._manager.renderError(this._findWebPartContainer(instanceId), new Error(error));\r\n    };\r\n\r\n    /**\r\n     * Global method called by the webpart configure button in the classic page\r\n     *\r\n     * @param instanceId - Instance id of the webpart e.g. a GUID.\r\n     * @param title - The title of the webpart.\r\n     */\r\n    public configureStart (instanceId: string, title: string): void {\r\n      this._initialize();\r\n\r\n      _TraceLogger.logVerbose(this._logSource, `Start configuring web part ${title} with id ${instanceId}.`);\r\n      this._manager.configureStart(instanceId, PropertyPaneState.Toggle);\r\n    };\r\n\r\n    /**\r\n     * Initialize the classic page bootstrapper.\r\n     */\r\n    private _initialize(): void {\r\n      if (!this._initialized) {\r\n        this._manager = new ClientSideWebPartManager(ClassicPageHost.getInstance());\r\n        this._initialized = true;\r\n        _TraceLogger.logVerbose(this._logSource, `Classic page bootstrapper initialized.`);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Find the web part container DOM element.\r\n     *\r\n     * @param instanceId - Instance id of the webpart e.g. a GUID.\r\n     */\r\n    private _findWebPartContainer(instanceId: string): HTMLElement {\r\n      const element: HTMLElement =\r\n        document.querySelector('[data-sp-cs-webpartid=' + instanceId + ']') as HTMLElement;\r\n\r\n      if (!element) {\r\n        _TraceLogger.logError(\r\n          this._logSource,\r\n          new Error(`Unable to find the container DOM element for the web part instanceId ${instanceId}.`));\r\n      }\r\n\r\n      return element;\r\n    }\r\n}\r\n\r\n// Kickoff the initialization\r\n/* tslint:disable:no-any */\r\nif (!(window as any).g_cswp) {\r\n  (window as any).g_cswp = new ClassicPageBootstrapper();\r\n/* tslint:enable:no-any */\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/classicPages/ClassicPageBootstrapper.ts\n **/","/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * @file Web part host for classic SharePoint pages.\r\n */\r\n\r\nimport {\r\n  JsonUtilities,\r\n  ServiceScope,\r\n  PageContext,\r\n  pageContextServiceKey\r\n} from '@microsoft/sp-client-base';\r\nimport IWebPartData from '../IWebPartData';\r\nimport IWebPartHost from '../../../../local/common/webParts/IWebPartHost';\r\nimport { WebPartConfigurationEvent } from '../../../../local/common/webParts/PropertyPaneDefinitions';\r\n\r\n/**\r\n * This class represents the host for client side web parts on classic SharePoint pages.\r\n * @see IWebPartHost for more details on the role of a web part host.\r\n */\r\nexport class ClassicPageHost implements IWebPartHost {\r\n  private static _instance: ClassicPageHost;\r\n  private _serviceScope: ServiceScope;\r\n\r\n  public static getInstance(): ClassicPageHost {\r\n    if (ClassicPageHost._instance === undefined) {\r\n      ClassicPageHost._instance = new ClassicPageHost();\r\n    }\r\n    return ClassicPageHost._instance;\r\n  }\r\n\r\n  /**\r\n   * constructor\r\n   */\r\n  constructor() {\r\n    this.setDirty = this.setDirty.bind(this);\r\n    this.webPartConfigurationEventCallback = this.webPartConfigurationEventCallback.bind(this);\r\n  }\r\n\r\n  /**\r\n   * @see IWebPartHost\r\n   */\r\n  public get serviceScope(): ServiceScope {\r\n    this._ensureInitialized();\r\n    return this._serviceScope;\r\n  }\r\n\r\n  /* tslint:disable:no-any */\r\n  public setDirty(instanceId: string, data?: any): void {\r\n  /* tslint:enable:no-any */\r\n    this._setData(data);\r\n  }\r\n\r\n  /**\r\n   * @see IWebPartHost.ts\r\n   */\r\n  public webPartConfigurationEventCallback(event: WebPartConfigurationEvent, data?: IWebPartData): void {\r\n    if (event === WebPartConfigurationEvent.ConfigurationComplete) {\r\n      this._setData(data);\r\n    }\r\n  }\r\n\r\n  /* tslint:disable:no-any */\r\n  private _setData(data?: any): void {\r\n  /* tslint:enable:no-any */\r\n    if (data) {\r\n      const dataField: Element = document.querySelector('#ClientSideToolPartData');\r\n      const idField: Element = document.querySelector('#ClientSideToolPartId');\r\n      const webPartBeingConfiguredId: string = idField.getAttribute('value');\r\n      if (dataField && webPartBeingConfiguredId === data.id) {\r\n        dataField.setAttribute('value', JsonUtilities.encode(JSON.stringify(data)));\r\n      }\r\n    }\r\n  }\r\n\r\n  private _ensureInitialized(): void {\r\n    const serviceScope: ServiceScope = ServiceScope.startNewRoot();\r\n\r\n    // This bootstrapping code should be reconciled with how applications are loaded by the shell.\r\n\r\n    // Task 228547 should remove this code\r\n    const pageContext: PageContext = serviceScope.createDefaultAndProvide(pageContextServiceKey);\r\n    const pageContextInfoName: string = '_spPageContextInfo';\r\n    pageContext.initialize({\r\n      cultureInfo: {\r\n        currentCultureName: window[pageContextInfoName].currentCultureName,\r\n        currentUICultureName: window[pageContextInfoName].currentUICultureName\r\n      },\r\n      web: {\r\n        absoluteUrl: window[pageContextInfoName].webAbsoluteUrl,\r\n        id: window[pageContextInfoName].webId,\r\n        serverRelativeUrl: window[pageContextInfoName].webServerRelativeUrl,\r\n        title: window[pageContextInfoName].webTitle\r\n      },\r\n      site: {\r\n        id: window[pageContextInfoName].siteId\r\n      },\r\n      user: {\r\n        displayName: window[pageContextInfoName].userDisplayName,\r\n        loginName: window[pageContextInfoName].userLoginName\r\n      }\r\n    });\r\n\r\n    serviceScope.finish();\r\n    this._serviceScope = serviceScope;\r\n  }\r\n}\r\n\r\n/* tslint:disable:export-name */\r\nexport default ClassicPageHost;\r\n/* tslint:enable:export-name */\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/clientSideWebParts/core/classicPages/ClassicPageHost.ts\n **/","\r\n/**\r\n * @Copyright (c) Microsoft Corporation.  All rights reserved.\r\n *\r\n * A collection of helper methods related to url parsing.\r\n */\r\nimport * as lodash from '@microsoft/sp-lodash-subset';\r\n\r\n/**\r\n * Get's the path name from an absolute url.\r\n *\r\n */\r\nexport function getPathNameFromAbsoluteUrl(url: string): string {\r\n  const anchorElement: HTMLAnchorElement = document.createElement('a');\r\n  anchorElement.href = url;\r\n  let pathName: string = anchorElement.pathname;\r\n\r\n  // IE Fix where pathname doesn't return first slash\r\n  if (pathName.charAt(0) !== '/') {\r\n    pathName = '/' + pathName;\r\n  }\r\n  return pathName;\r\n}\r\n\r\n/**\r\n * Combines any number of URL paths.\r\n */\r\nexport function combineURLPaths(...url: string[]): string {\r\n  let fullURLPath: string = '';\r\n  for (let i: number = 0; i < url.length; i++) {\r\n    fullURLPath += lodash.trimEnd(url[i], '/');\r\n  }\r\n  return fullURLPath;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** /src/local/utilities/url/UrlUtilities.ts\n **/"],"sourceRoot":""}