{"version":3,"sources":["utilities/router/Router.tsx"],"names":[],"mappings":";;;;;;AAAA,IAAY,KAAK,WAAM,OAAO,CAAC,CAAA;AAC/B,2BAA2B,0BAA0B,CAAC,CAAA;AAWtD;IAA4B,0BAA2C;IAGrE;QACE,iBAAO,CAAC;QAER,IAAI,CAAC,KAAK,GAAG;YACX,IAAI,EAAE,QAAQ,CAAC,IAAI;SACpB,CAAC;QACF,IAAI,CAAC,OAAO,GAAG,IAAI,uBAAU,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAEM,mCAAkB,GAAzB,UAA0B,SAAuB,EAAE,SAAuB;QACxE,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;YACvC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACxB,CAAC;IACH,CAAC;IAEM,uBAAM,GAAb;QACE,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC7D,CAAC;IAEM,kCAAiB,GAAxB;QAAA,iBAMC;QALC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY,EAAE;YACpC,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,IAAI,KAAK,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;gBACtC,KAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;YACzC,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,qCAAoB,GAA3B;QACE,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;IACzB,CAAC;IACH,aAAC;AAAD,CAjCA,AAiCC,CAjC2B,KAAK,CAAC,SAAS,GAiC1C;AAjCY,cAAM,SAiClB,CAAA;AAED,uBAAuB,SAAS,EAAE,QAAQ;IACxC,EAAE,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;QAClC,QAAQ,GAAG,CAAE,QAAQ,CAAE,CAAC;IAC1B,CAAC;IAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,QAAQ,IAAI,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACrD,IAAI,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAE/B,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;YACpC,IAAI,SAAS,GAAG,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC;YAC7C,IAAI,cAAc,GAAG,aAAa,CAAC,SAAS,EAAE,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAE3E,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,EAAE,IAAI,EAAE,cAAc,CAAC,CAAC;QAC9D,CAAC;IACH,CAAC;IAED,MAAM,CAAC,IAAI,CAAC;AACd,CAAC;AAED,gBAAgB,WAAW,EAAE,KAAK;IAChC,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;QACV,2BAAI,CAAiB;QAE3B,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QAClB,WAAW,GAAG,WAAW,IAAI,EAAE,CAAC;QAEhC,MAAM,CAAC,CACL,CAAC,CAAC,IAAI,CAAC;YACP,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,WAAW,CAAC,WAAW,EAAE,CAAC,CACnD,CAAC;IACJ,CAAC;IAED,MAAM,CAAC,KAAK,CAAC;AACf,CAAC","file":"utilities/router/Router.js","sourcesContent":["import * as React from 'react';\nimport { EventGroup } from '../eventGroup/EventGroup';\n\nexport interface IRouterProps {\n  replaceState?: boolean;\n  children?: React.ReactElement<any>[];\n}\n\nexport interface IRouterState {\n  path: string;\n}\n\nexport class Router extends React.Component<IRouterProps, IRouterState> {\n  private _events: EventGroup;\n\n  constructor() {\n    super();\n\n    this.state = {\n      path: location.hash\n    };\n    this._events = new EventGroup(this);\n  }\n\n  public componentDidUpdate(prevProps: IRouterProps, prevState: IRouterState) {\n    if (this.state.path !== prevState.path) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  public render() {\n    return _getComponent(this.state.path, this.props.children);\n  }\n\n  public componentDidMount() {\n    this._events.on(window, 'hashchange', () => {\n      if (this.state.path !== location.hash) {\n        this.setState({ path: location.hash });\n      }\n    });\n  }\n\n  public componentWillUnmount() {\n    this._events.dispose();\n  }\n}\n\nfunction _getComponent(matchPath, children) {\n  if (children && children.$$typeof) {\n    children = [ children ];\n  }\n\n  for (let i = 0; children && i < children.length; i++) {\n    let currentChild = children[i];\n\n    if (_match(matchPath, currentChild)) {\n      let component = currentChild.props.component;\n      let childComponent = _getComponent(matchPath, currentChild.props.children);\n\n      return React.createElement(component, null, childComponent);\n    }\n  }\n\n  return null;\n}\n\nfunction _match(currentPath, child): boolean {\n  if (child.props) {\n    let { path } = child.props;\n\n    path = path || '';\n    currentPath = currentPath || '';\n\n    return (\n      (!path) ||\n      (path.toLowerCase() === currentPath.toLowerCase())\n    );\n  }\n\n  return false;\n}\n"],"sourceRoot":"/src"}