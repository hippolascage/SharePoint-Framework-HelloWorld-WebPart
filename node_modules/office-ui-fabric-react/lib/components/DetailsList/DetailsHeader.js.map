{"version":3,"sources":["components/DetailsList/DetailsHeader.tsx"],"names":[],"mappings":"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","file":"components/DetailsList/DetailsHeader.js","sourcesContent":["import * as React from 'react';\nimport { BaseComponent } from '../../common/BaseComponent';\nimport { IColumn, DetailsListLayoutMode, ColumnActionsMode } from './DetailsList.Props';\nimport { FocusZone, FocusZoneDirection } from '../../FocusZone';\nimport { Check } from '../Check/Check';\nimport { GroupSpacer } from '../GroupedList/GroupSpacer';\nimport { css } from '../../utilities/css';\nimport { ISelection, SelectionMode, SELECTION_CHANGE } from '../../utilities/selection/interfaces';\nimport { getRTL } from '../../utilities/rtl';\nimport './DetailsHeader.scss';\n\nconst MOUSEDOWN_PRIMARY_BUTTON = 0; // for mouse down event we are using ev.button property, 0 means left button\nconst MOUSEMOVE_PRIMARY_BUTTON = 1; // for mouse move event we are using ev.buttons property, 1 means left button\nconst INNER_PADDING = 16;\n\nexport interface IDetailsHeaderProps extends React.Props<DetailsHeader> {\n  columns: IColumn[];\n  selection: ISelection;\n  selectionMode: SelectionMode;\n  layoutMode: DetailsListLayoutMode;\n  onColumnIsSizingChanged?: (column: IColumn, isSizing: boolean) => void;\n  onColumnResized?: (column: IColumn, newWidth: number) => void;\n  onColumnAutoResized?: (column: IColumn, columnIndex: number) => void;\n  onColumnClick?: (column: IColumn, ev: Event) => void;\n  onColumnContextMenu?: (column: IColumn, ev: Event) => void;\n  groupNestingDepth?: number;\n  isAllCollapsed?: boolean;\n  onToggleCollapseAll?: (isAllCollapsed: boolean) => void;\n  /** ariaLabel for the entire header */\n  ariaLabel?: string;\n  /** ariaLabel for the header checkbox that selects or deselects everything */\n  ariaLabelForSelectAllCheckbox?: string;\n  selectAllVisibility?: SelectAllVisibility;\n}\n\nexport enum SelectAllVisibility {\n  none,\n  hidden,\n  visible\n}\n\nexport interface IDetailsHeaderState {\n  columnResizeDetails?: IColumnResizeDetails;\n  isAllSelected?: boolean;\n  isSizing?: boolean;\n  groupNestingDepth?: number;\n  isAllCollapsed?: boolean;\n}\n\nexport interface IColumnResizeDetails {\n  columnIndex: number;\n  originX: number;\n  columnMinWidth: number;\n}\n\nexport class DetailsHeader extends BaseComponent<IDetailsHeaderProps, IDetailsHeaderState> {\n  public static defaultProps = {\n    isSelectAllVisible: SelectAllVisibility.visible\n  };\n\n  public refs: {\n    [key: string]: React.ReactInstance;\n    root: HTMLElement;\n    focusZone: FocusZone;\n  };\n\n  constructor(props: IDetailsHeaderProps) {\n    super(props);\n\n    this.state = {\n      columnResizeDetails: null,\n      groupNestingDepth: this.props.groupNestingDepth,\n      isAllCollapsed: this.props.isAllCollapsed\n    };\n\n    this._onToggleCollapseAll = this._onToggleCollapseAll.bind(this);\n    this._onSelectAllClicked = this._onSelectAllClicked.bind(this);\n  }\n\n  public componentDidMount() {\n    let { selection } = this.props;\n\n    this._events.on(selection, SELECTION_CHANGE, this._onSelectionChanged);\n    this._events.on(this.refs.root, 'mousedown', this._onSizerDown);\n  }\n\n  public componentWillReceiveProps(newProps) {\n    let { groupNestingDepth } = this.state;\n\n    if (newProps.groupNestingDepth !== groupNestingDepth) {\n      this.setState({ groupNestingDepth: newProps.groupNestingDepth });\n    }\n  }\n\n  public render() {\n    let { columns, ariaLabel, ariaLabelForSelectAllCheckbox, selectAllVisibility } = this.props;\n    let { isAllSelected, columnResizeDetails, isSizing, groupNestingDepth, isAllCollapsed } = this.state;\n\n    return (\n      <div\n        role='row'\n        aria-label= { ariaLabel }\n        className={ css('ms-DetailsHeader', {\n          'is-allSelected': isAllSelected,\n          'is-selectAllHidden': selectAllVisibility === SelectAllVisibility.hidden,\n          'is-resizingColumn': !!columnResizeDetails && isSizing\n        }) }\n        onMouseMove={ this._onMove.bind(this) }\n        onMouseUp={ this._onUp.bind(this) }\n        ref='root'\n        data-automationid='DetailsHeader'>\n        <FocusZone ref='focusZone' direction={ FocusZoneDirection.horizontal }>\n          <div className='ms-DetailsHeader-cellWrapper' role='columnheader'>\n            { (selectAllVisibility === SelectAllVisibility.visible) ? (\n              <button\n                className='ms-DetailsHeader-cell is-check'\n                onClick={ this._onSelectAllClicked }\n                aria-label={ ariaLabelForSelectAllCheckbox }\n                aria-pressed={ isAllSelected }\n                >\n                <Check isChecked={ isAllSelected } />\n              </button>\n            ) : null }\n          </div>\n          { groupNestingDepth > 0 ? (\n          <button className='ms-DetailsHeader-cell' onClick={ this._onToggleCollapseAll }>\n            <i className={ css('ms-DetailsHeader-collapseButton ms-Icon ms-Icon--chevronDown', {\n              'is-collapsed': isAllCollapsed\n            }) } >\n            </i>\n          </button>\n          ) : (null) }\n          { GroupSpacer({ count: groupNestingDepth - 1 }) }\n          { columns.map((column, columnIndex) => (\n            <div key={ column.key } className='ms-DetailsHeader-cellSizeWrapper'>\n              <div className='ms-DetailsHeader-cellWrapper' role='columnheader'>\n                <button\n                  key={ column.fieldName }\n                  disabled={ column.columnActionsMode === ColumnActionsMode.disabled }\n                  className={ css('ms-DetailsHeader-cell', column.headerClassName, {\n                    'is-actionable': column.columnActionsMode !== ColumnActionsMode.disabled,\n                    'is-empty': !column.name,\n                    'is-icon-visible': column.isSorted || column.isGrouped || column.isFiltered\n                  }) }\n                  style={ { width: column.calculatedWidth + INNER_PADDING } }\n                  onClick={ this._onColumnClick.bind(this, column) }\n                  onContextMenu={ this._onColumnContextMenu.bind(this, column) }\n                  aria-haspopup={ column.columnActionsMode === ColumnActionsMode.hasDropdown }\n                  aria-label={ column.ariaLabel || column.name }\n                  aria-sort={ column.isSorted ? (column.isSortedDescending ? 'descending' : 'ascending') : 'none' }\n                  data-automationid='ColumnsHeaderColumn'\n                  >\n\n                  { column.isFiltered && (\n                    <i className='ms-Icon ms-Icon--filter' />\n                  ) }\n\n                  { column.isSorted && (\n                    <i className={ css('ms-Icon', {\n                      'ms-Icon--arrowUp2': !column.isSortedDescending,\n                      'ms-Icon--arrowDown2': column.isSortedDescending\n                    }) } />\n                  ) }\n\n                  { column.isGrouped && (\n                    <i className='ms-Icon ms-Icon--listGroup2' />\n                  ) }\n\n                  { column.iconClassName && (\n                    <i className= {'ms-Icon ' + column.iconClassName} />\n                  ) }\n\n                  { column.name }\n\n                  { column.columnActionsMode === ColumnActionsMode.hasDropdown && (\n                    <i className='ms-DetailsHeader-filterChevron ms-Icon ms-Icon--chevronDown' />\n                  ) }\n                </button>\n              </div>\n              { (column.isResizable) ? (\n                <div\n                  data-sizer-index={ columnIndex }\n                  className={ css('ms-DetailsHeader-cell is-sizer', {\n                    'is-resizing': columnResizeDetails && columnResizeDetails.columnIndex === columnIndex && isSizing\n                  }) }\n                  onDoubleClick={ this._onSizerDoubleClick.bind(this, columnIndex) }\n                  />\n              ) : (null) }\n            </div>\n          )) }\n        </FocusZone>\n      </div>\n    );\n  }\n\n  /** Set focus to the active thing in the focus area. */\n  public focus(): boolean {\n    return this.refs.focusZone.focus();\n  }\n\n  /**\n   * double click on the column sizer will auto ajust column width\n   * to fit the longest content among current rendered rows.\n   *\n   * @private\n   * @param {number} columnIndex (index of the column user double clicked)\n   * @param {React.MouseEvent} ev (mouse double click event)\n   */\n  private _onSizerDoubleClick(columnIndex: number, ev: React.MouseEvent) {\n    let { onColumnAutoResized, columns } = this.props;\n    if (onColumnAutoResized) {\n      onColumnAutoResized(columns[columnIndex], columnIndex);\n    }\n  }\n\n  /**\n   * Called when the select all toggle is clicked.\n   */\n  private _onSelectAllClicked() {\n    let { selection } = this.props;\n\n    selection.toggleAllSelected();\n  }\n\n  /**\n   * mouse move event handler in the header\n   * it will set isSizing state to true when user clicked on the sizer and move the mouse.\n   *\n   * @private\n   * @param {React.MouseEvent} ev (mouse move event)\n   */\n  private _onMove(ev: React.MouseEvent) {\n    let {\n      // use buttons property here since ev.button in some edge case is not upding well during the move.\n      // but firefox doesn't support it, so we set the default value when it is not defined.\n      buttons = MOUSEMOVE_PRIMARY_BUTTON\n    } = ev;\n\n    let { onColumnIsSizingChanged, columns } = this.props;\n    let { columnResizeDetails, isSizing } = this.state;\n\n    if (columnResizeDetails) {\n      if (buttons !== MOUSEMOVE_PRIMARY_BUTTON) {\n        // cancel mouse down event and return early when the primary button is not pressed\n        this._onUp(ev);\n        return;\n      }\n\n      if (!isSizing && ev.clientX !== columnResizeDetails.originX) {\n        isSizing = true;\n\n        this._events.on(window, 'mousemove', this._onSizerMove, true);\n        this._events.on(window, 'mouseup', this._onSizerUp, true);\n\n        this.setState({ isSizing: isSizing });\n\n        if (onColumnIsSizingChanged) {\n          onColumnIsSizingChanged(columns[columnResizeDetails.columnIndex], true);\n        }\n\n      }\n    }\n  }\n\n  /**\n   * mouse up event handler in the header\n   * clear the resize related state.\n   * This is to ensure we can catch double click event\n   *\n   * @private\n   * @param {React.MouseEvent} ev (mouse up event)\n   */\n  private _onUp(ev: React.MouseEvent) {\n    this.setState({\n      columnResizeDetails: null,\n      isSizing: false\n    });\n  }\n\n  private _onSizerDown(ev: MouseEvent) {\n    let columnIndexAttr = (ev.target as HTMLElement).getAttribute('data-sizer-index');\n    let columnIndex = Number(columnIndexAttr);\n    let { columns } = this.props;\n\n    if (columnIndexAttr === null || ev.button !== MOUSEDOWN_PRIMARY_BUTTON) {\n      // Ignore anything except the primary button.\n      return;\n    }\n\n    this.setState({\n      columnResizeDetails: {\n        columnIndex: columnIndex,\n        columnMinWidth: columns[columnIndex].calculatedWidth,\n        originX: ev.clientX\n      }\n    });\n\n    ev.preventDefault();\n    ev.stopPropagation();\n  }\n\n  private _onSelectionChanged() {\n    let isAllSelected = this.props.selection.isAllSelected();\n\n    if (this.state.isAllSelected !== isAllSelected) {\n      this.setState({\n        isAllSelected: isAllSelected\n      });\n    }\n  }\n\n  private _onSizerMove(ev: React.MouseEvent) {\n    let {\n      // use buttons property here since ev.button in some edge case is not upding well during the move.\n      // but firefox doesn't support it, so we set the default value when it is not defined.\n      buttons = MOUSEMOVE_PRIMARY_BUTTON\n    } = ev;\n\n    let { columnResizeDetails } = this.state;\n\n    if (columnResizeDetails) {\n      if (buttons !== MOUSEMOVE_PRIMARY_BUTTON) {\n        // cancel mouse down event and return early when the primary button is not pressed\n        this._onSizerUp();\n        return;\n      }\n\n      let { onColumnResized, columns } = this.props;\n\n      if (onColumnResized) {\n        let movement = ev.clientX - columnResizeDetails.originX;\n\n        if (getRTL()) {\n          movement = -movement;\n        }\n\n        onColumnResized(\n          columns[columnResizeDetails.columnIndex],\n          columnResizeDetails.columnMinWidth + movement\n        );\n      }\n    }\n  }\n\n  private _onSizerUp() {\n    let { columns, onColumnIsSizingChanged } = this.props;\n    let { columnResizeDetails } = this.state;\n\n    this._events.off(window);\n\n    this.setState({\n      columnResizeDetails: null,\n      isSizing: false\n    });\n\n    if (onColumnIsSizingChanged) {\n      onColumnIsSizingChanged(columns[columnResizeDetails.columnIndex], false);\n    }\n  }\n\n  private _onColumnClick(column, ev) {\n    let { onColumnClick } = this.props;\n\n    if (column.onColumnClick) {\n      column.onColumnClick(column, ev);\n    }\n\n    if (onColumnClick) {\n      onColumnClick(column, ev);\n    }\n  }\n\n  private _onColumnContextMenu(column, ev) {\n    let { onColumnContextMenu } = this.props;\n\n    if (column.onContextMenu) {\n      column.onColumnContextMenu(column, ev);\n    }\n\n    if (onColumnContextMenu) {\n      onColumnContextMenu(column, ev);\n    }\n  }\n\n  private _onToggleCollapseAll() {\n    let { onToggleCollapseAll } = this.props;\n    let newCollapsed = !this.state.isAllCollapsed;\n    this.setState({\n      isAllCollapsed: newCollapsed\n    });\n    if (onToggleCollapseAll) {\n      onToggleCollapseAll(newCollapsed);\n    }\n  }\n\n}\n"],"sourceRoot":"/src"}