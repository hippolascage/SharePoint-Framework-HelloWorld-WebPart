{"version":3,"sources":["components/TextField/TextField.tsx"],"names":[],"mappings":"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","file":"components/TextField/TextField.js","sourcesContent":["import * as React from 'react';\nimport { ITextFieldProps } from './TextField.Props';\nimport { Label } from '../../Label';\nimport { css } from '../../utilities/css';\nimport { Async } from '../../utilities/Async/Async';\nimport { getId } from '../../utilities/object';\nimport './TextField.scss';\n\nexport interface ITextFieldState {\n  value?: string;\n\n  /** Is true when the control has focus. */\n  isFocused?: boolean;\n\n  /**\n   * The validation error message.\n   *\n   * - If there is no validation error or we have not validated the input value, errorMessage is an empty string.\n   * - If we have done the validation and there is validation error, errorMessage is the validation error message.\n   */\n  errorMessage?: string;\n}\n\nexport class TextField extends React.Component<ITextFieldProps, ITextFieldState> {\n  public static defaultProps: ITextFieldProps = {\n    multiline: false,\n    resizable: true,\n    underlined: false,\n    onChanged: () => { /* noop */ },\n    onBeforeChange: () => { /* noop */ },\n    onNotifyValidationResult: () => { /* noop */ },\n    onGetErrorMessage: () => undefined,\n    deferredValidationTime: 200,\n    errorMessage: ''\n  };\n\n  private _id: string;\n  private _descriptionId: string;\n  private _async: Async;\n  private _delayedValidate: (value: string) => void;\n  private _isMounted: boolean;\n  private _lastValidation: number;\n  private _latestValidateValue;\n  private _willMountTriggerValidation;\n  private _field;\n\n  public constructor(props: ITextFieldProps) {\n    super(props);\n\n    this._id = getId('TextField');\n    this._descriptionId = getId('TextFieldDescription');\n    this._async = new Async(this);\n\n    this.state = {\n      value: props.value || props.defaultValue,\n      isFocused: false,\n      errorMessage: ''\n    };\n\n    this._onInputChange = this._onInputChange.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n\n    this._delayedValidate = this._async.debounce(this._validate, this.props.deferredValidationTime);\n    this._lastValidation = 0;\n    this._latestValidateValue = '';\n    this._willMountTriggerValidation = false;\n  }\n\n  /**\n   * Gets the current value of the text field.\n   */\n  public get value(): string {\n    return this.state.value;\n  }\n\n  public componentWillMount() {\n    this._willMountTriggerValidation = true;\n    this._validate(this.state.value);\n  }\n\n  public componentDidMount() {\n    this._isMounted = true;\n  }\n\n  public componentWillReceiveProps(newProps: ITextFieldProps) {\n    const { onBeforeChange } = this.props;\n\n    if (newProps.value !== undefined && newProps.value !== this.state.value) {\n      if (onBeforeChange) {\n        onBeforeChange(newProps.value);\n      }\n\n      this.setState({\n        value: newProps.value,\n        errorMessage: ''\n      } as ITextFieldState);\n\n      this._delayedValidate(newProps.value);\n    }\n  }\n\n  public componentWillUnmount() {\n    this._async.dispose();\n    this._isMounted = false;\n  }\n\n  public render() {\n    let { disabled, required, multiline, underlined, label, description, iconClass, className } = this.props;\n    let { isFocused } = this.state;\n    const errorMessage: string = this._errorMessage;\n\n    const textFieldClassName = css('ms-TextField', className, {\n      'is-required': required,\n      'is-disabled': disabled,\n      'is-active': isFocused,\n      'ms-TextField--multiline': multiline,\n      'ms-TextField--underlined': underlined\n    });\n\n    return (\n      <div className={ textFieldClassName }>\n        { label && <Label htmlFor={ this._id }>{ label }</Label> }\n        { iconClass && <i className={ iconClass }></i> }\n        { multiline ? this._renderTextArea() : this._renderInput() }\n        { errorMessage && <div aria-live='assertive' className='ms-u-screenReaderOnly' data-automation-id='error-message'>{ errorMessage }</div> }\n        { (description || errorMessage) &&\n          <span id={ this._descriptionId }>\n            { description && <span className='ms-TextField-description'>{ description }</span> }\n            { errorMessage && <p className='ms-TextField-errorMessage ms-u-slideDownIn20'>{ errorMessage }</p> }\n          </span>\n        }\n      </div>\n    );\n  }\n\n  /**\n   * Sets focus on the text field\n   */\n  public focus() {\n    if (this._field) {\n      this._field.focus();\n    }\n  }\n\n  /**\n   * Selects the text field\n   */\n  public select() {\n    if (this._field) {\n      this._field.select();\n    }\n  }\n\n  /**\n   * Sets the selection start of the text field to a specified value\n   */\n  public setSelectionStart(value: number) {\n    if (this._field) {\n      this._field.selectionStart = value;\n    }\n  }\n\n  /**\n   * Sets the selection end of the text field to a specified value\n   */\n  public setSelectionEnd(value: number) {\n    if (this._field) {\n      this._field.selectionEnd = value;\n    }\n  }\n\n  private _onFocus(ev: React.FocusEvent) {\n    if (this.props.onFocus) {\n      this.props.onFocus(ev);\n    }\n\n    this.setState({ isFocused: true });\n  }\n\n  private _onBlur(ev: React.FocusEvent) {\n    if (this.props.onBlur) {\n      this.props.onBlur(ev);\n    }\n\n    this.setState({ isFocused: false });\n  }\n\n  private get _fieldClassName(): string {\n    const errorMessage: string = this._errorMessage;\n    let textFieldClassName: string;\n\n    if (this.props.multiline && !this.props.resizable) {\n      textFieldClassName = 'ms-TextField-field ms-TextField-field--unresizable';\n    } else {\n      textFieldClassName = 'ms-TextField-field';\n    }\n\n    return css(textFieldClassName, {\n      'ms-TextField-invalid': !!errorMessage\n    });\n  }\n\n  private get _errorMessage(): string {\n    let { errorMessage } = this.state;\n    if (!errorMessage) {\n      errorMessage = this.props.errorMessage;\n    }\n\n    return errorMessage;\n  }\n\n  private _renderTextArea(): React.ReactElement<React.HTMLProps<HTMLAreaElement>> {\n    return (\n      <textarea\n        { ...this.props }\n        id={ this._id }\n        ref={ (c): HTMLTextAreaElement => this._field = c }\n        value={ this.state.value }\n        onChange={ this._onInputChange }\n        className={ this._fieldClassName }\n        aria-label={ this.props.ariaLabel }\n        aria-describedby={ this._descriptionId }\n        aria-invalid={ !!this.state.errorMessage }\n        onFocus={ this._onFocus }\n        onBlur={ this._onBlur }\n        />\n    );\n  }\n\n  private _renderInput(): React.ReactElement<React.HTMLProps<HTMLInputElement>> {\n    return (\n      <input\n        { ...this.props }\n        id={ this._id }\n        type='text'\n        ref={ (c): HTMLInputElement => this._field = c }\n        value={ this.state.value }\n        onChange={ this._onInputChange }\n        className={ this._fieldClassName }\n        aria-label={ this.props.ariaLabel }\n        aria-describedby={ this._descriptionId }\n        aria-invalid={ !!this.state.errorMessage }\n        onFocus={ this._onFocus }\n        onBlur={ this._onBlur }\n        />\n    );\n  }\n\n  private _onInputChange(event: React.KeyboardEvent): void {\n    const element: HTMLInputElement = event.target as HTMLInputElement;\n    const value: string = element.value;\n\n    this.setState({\n      value: value,\n      errorMessage: ''\n    } as ITextFieldState);\n    this._willMountTriggerValidation = false;\n    this._delayedValidate(value);\n    const { onBeforeChange } = this.props;\n    onBeforeChange(value);\n  }\n\n  private _validate(value: string): void {\n    // In case of _validate called multi-times during executing validate logic with promise return.\n    if (this._latestValidateValue === value) {\n      return;\n    }\n\n    this._latestValidateValue = value;\n    let { onGetErrorMessage } = this.props;\n    let result: string | PromiseLike<string> = onGetErrorMessage(value || '');\n\n    if (result !== undefined) {\n      if (typeof result === 'string') {\n        this.setState({\n          errorMessage: result\n        } as ITextFieldState);\n        this._notifyAfterValidate(value, result);\n      } else {\n        let currentValidation: number = ++this._lastValidation;\n\n        result.then((errorMessage: string) => {\n          if (this._isMounted && currentValidation === this._lastValidation) {\n            this.setState({ errorMessage } as ITextFieldState);\n          }\n          this._notifyAfterValidate(value, errorMessage);\n        });\n      }\n    } else {\n      this._notifyAfterValidate(value, '');\n    }\n  }\n\n  private _notifyAfterValidate(value: string, errorMessage: string): void {\n    if (!this._willMountTriggerValidation && value === this.state.value) {\n      const { onNotifyValidationResult } = this.props;\n      onNotifyValidationResult(errorMessage, value);\n      if (!errorMessage) {\n        const { onChanged } = this.props;\n        onChanged(value);\n      }\n    } else {\n      this._willMountTriggerValidation = false;\n    }\n  }\n}\n"],"sourceRoot":"/src"}